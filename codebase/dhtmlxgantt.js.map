{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]/./sources/utils/utils.js","webpack://[name]/./sources/core/ui/utils/dom_helpers.js","webpack://[name]/./sources/utils/helpers.js","webpack://[name]/./sources/utils/extends.js","webpack://[name]/./sources/utils/eventable.js","webpack://[name]/./sources/core/ui/lightbox/controls/base_control.js","webpack://[name]/./sources/core/ui/render/viewport/get_visible_bars_range.js","webpack://[name]/./sources/utils/env.js","webpack://[name]/./sources/core/ui/grid/editors/editors/base.js","webpack://[name]/./sources/core/ui/layout/cell.js","webpack://[name]/./sources/utils/is_headless.js","webpack://[name]/./sources/utils/global.js","webpack://[name]/./sources/core/ui/render/is_legacy_smart_render.js","webpack://[name]/(webpack)/buildin/global.js","webpack://[name]/./sources/ext/auto_scheduling/task_plan.ts","webpack://[name]/./sources/core/ui/utils/html_helpers.js","webpack://[name]/./sources/core/ui/lightbox/controls/select_control.js","webpack://[name]/./sources/core/ui/grid/tasks_grid_dnd_marker_helpers/drop_target.js","webpack://[name]/./sources/core/ui/render/viewport/is_column_visible.js","webpack://[name]/./sources/core/ui/render/viewport/get_visible_cells_range.js","webpack://[name]/./sources/core/ui/render/viewport/get_bg_row_rectangle.js","webpack://[name]/./sources/core/ui/render/task_bar_render.js","webpack://[name]/./sources/core/ui/render/viewport/is_bar_in_viewport.js","webpack://[name]/./sources/core/ui/resource_store_mixin.js","webpack://[name]/./sources/core/ui/render/viewport/get_grid_row_rectangle.js","webpack://[name]/./sources/core/ui/mouse_event_container.js","webpack://[name]/./sources/core/ui/grid/grid.js","webpack://[name]/./sources/ext/auto_scheduling/constraint_types.ts","webpack://[name]/./sources/core/relations/links_builder.js","webpack://[name]/./sources/core/resource_timetable_builder.js","webpack://[name]/./sources/core/ui/timeline/resource_timeline.js","webpack://[name]/./sources/core/ui/timeline/timeline.js","webpack://[name]/./sources/core/ui/layout/layout.js","webpack://[name]/./sources/core/worktime/strategy/work_unit_cache/index.ts","webpack://[name]/./sources/core/worktime/calendar_arguments_helper.js","webpack://[name]/./sources/core/ui/row_position_mixin.js","webpack://[name]/./sources/utils/task_tree_helpers.js","webpack://[name]/./sources/core/ui/timeline/scales.js","webpack://[name]/./sources/core/ui/timeline/scales_ignore.js","webpack://[name]/./sources/core/gantt_data_range.js","webpack://[name]/./sources/core/datastore/treedatastore.js","webpack://[name]/./sources/core/datastore/power_array.js","webpack://[name]/./sources/core/datastore/datastore.js","webpack://[name]/./node_modules/process/browser.js","webpack://[name]/./sources/utils/timeout.js","webpack://[name]/./sources/ext/extension_manager.ts","webpack://[name]/./sources/core/ui/utils/dom_event_scope.js","webpack://[name]/./sources/core/relations/graph_helper.js","webpack://[name]/./sources/core/relations/links_common.js","webpack://[name]/./sources/core/ui/wai_aria.js","webpack://[name]/./sources/core/ui/lightbox/lightbox_optional_time.js","webpack://[name]/./sources/core/ui/lightbox/controls/typeselect_control.js","webpack://[name]/./sources/core/ui/lightbox/controls/constraint_control.js","webpack://[name]/./sources/core/ui/lightbox/controls/resources_control.js","webpack://[name]/./sources/core/ui/lightbox/controls/parent_control.js","webpack://[name]/./sources/core/common/duration_formatter_numeric.ts","webpack://[name]/./sources/core/ui/lightbox/controls/duration_control.js","webpack://[name]/./sources/core/ui/lightbox/controls/radio_control.js","webpack://[name]/./sources/core/ui/lightbox/controls/checkbox_control.js","webpack://[name]/./sources/core/ui/lightbox/controls/time_control.js","webpack://[name]/./sources/core/ui/lightbox/controls/textarea_control.js","webpack://[name]/./sources/core/ui/lightbox/controls/template_control.js","webpack://[name]/./sources/core/ui/lightbox/index.js","webpack://[name]/./sources/core/ui/touch.js","webpack://[name]/./sources/core/ui/plugins/timeline_zoom.ts","webpack://[name]/./sources/core/ui/plugins/dhtmlx_hooks.js","webpack://[name]/./sources/core/ui/plugins/jquery_hooks.js","webpack://[name]/./sources/core/ui/plugins/autoscroll.js","webpack://[name]/./sources/core/ui/plugins/index.js","webpack://[name]/./sources/css/skins/contrast_white.js","webpack://[name]/./sources/css/skins/contrast_black.js","webpack://[name]/./sources/css/skins/material.js","webpack://[name]/./sources/css/skins/broadway.js","webpack://[name]/./sources/css/skins/terrace.js","webpack://[name]/./sources/css/skins/meadow.js","webpack://[name]/./sources/css/skins/skyblue.js","webpack://[name]/./sources/core/ui/skin.js","webpack://[name]/./sources/core/facades/layout.js","webpack://[name]/./sources/core/data_task_layers.js","webpack://[name]/./sources/core/ui/main_layout_initializer.js","webpack://[name]/./sources/core/ui/timeline/links_dnd.js","webpack://[name]/./sources/core/ui/timeline/tasks_dnd.js","webpack://[name]/./sources/core/ui/timeline/main_timeline_initializer.js","webpack://[name]/./sources/core/ui/grid/tasks_grid_dnd_marker_helpers/highlight.js","webpack://[name]/./sources/core/ui/grid/tasks_grid_dnd_marker_helpers/multi_level.js","webpack://[name]/./sources/core/ui/grid/tasks_grid_dnd_marker_helpers/locked_level.js","webpack://[name]/./sources/core/ui/grid/tasks_grid_dnd_marker.js","webpack://[name]/./sources/core/ui/grid/tasks_grid_dnd.js","webpack://[name]/./sources/core/ui/grid/main_grid_initializer.js","webpack://[name]/./sources/core/ui/render/task_grid_row_resize_render.js","webpack://[name]/./sources/core/ui/render/resource_histogram_render.js","webpack://[name]/./sources/core/ui/render/resource_matrix_render.js","webpack://[name]/./sources/core/ui/render/task_grid_line_render.js","webpack://[name]/./sources/core/ui/render/viewport/is_link_in_viewport.js","webpack://[name]/./sources/core/ui/render/link_render.js","webpack://[name]/./sources/core/ui/render/task_bg_render.js","webpack://[name]/./sources/core/ui/render/task_rollup_render.js","webpack://[name]/./sources/core/ui/render/viewport/is_split_task_in_viewport.js","webpack://[name]/./sources/core/ui/render/task_split_render.js","webpack://[name]/./sources/core/ui/render/task_bar_smart_render.js","webpack://[name]/./sources/core/ui/grid/editors/linked_properties.js","webpack://[name]/./sources/core/ui/grid/editors/editors/duration.js","webpack://[name]/./sources/core/ui/grid/editors/editors/predecessor.js","webpack://[name]/./sources/core/ui/grid/editors/editors/date.js","webpack://[name]/./sources/core/ui/grid/editors/editors/select.js","webpack://[name]/./sources/core/ui/grid/editors/editors/number.js","webpack://[name]/./sources/core/ui/grid/editors/editors/text.js","webpack://[name]/./sources/core/ui/grid/editors/keyboard_mappings/keyboard_navigation.js","webpack://[name]/./sources/core/ui/grid/editors/keyboard_mappings/default.js","webpack://[name]/./sources/core/ui/grid/editors/keyboard_mappings.js","webpack://[name]/./sources/core/ui/grid/editors/controller.js","webpack://[name]/./sources/core/ui/timeline/resource_histogram.js","webpack://[name]/./sources/core/ui/grid/resource_grid.js","webpack://[name]/./sources/core/ui/timeline/tasks_canvas_render.js","webpack://[name]/./sources/core/ui/layout/scrollbar_cell.js","webpack://[name]/./sources/core/ui/layout/resizer_cell.js","webpack://[name]/./sources/core/ui/layout/view_cell.js","webpack://[name]/./sources/core/ui/layout/view_layout.js","webpack://[name]/./sources/core/ui/render/viewport/is_in_viewport.js","webpack://[name]/./sources/core/ui/render/render_factory.js","webpack://[name]/./sources/core/ui/render/layer_engine.js","webpack://[name]/./sources/core/ui/gantt_layers.js","webpack://[name]/./sources/core/ui/mouse.js","webpack://[name]/./sources/core/ui/configurable.js","webpack://[name]/./sources/core/ui/ui_factory.js","webpack://[name]/./sources/core/ui/index.js","webpack://[name]/./sources/core/ui/message.js","webpack://[name]/./sources/core/ui_core.js","webpack://[name]/./sources/locale/locale_ua.ts","webpack://[name]/./sources/locale/locale_tr.ts","webpack://[name]/./sources/locale/locale_sv.ts","webpack://[name]/./sources/locale/locale_sk.ts","webpack://[name]/./sources/locale/locale_si.ts","webpack://[name]/./sources/locale/locale_ru.ts","webpack://[name]/./sources/locale/locale_ro.ts","webpack://[name]/./sources/locale/locale_pt.ts","webpack://[name]/./sources/locale/locale_pl.ts","webpack://[name]/./sources/locale/locale_no.ts","webpack://[name]/./sources/locale/locale_nl.ts","webpack://[name]/./sources/locale/locale_nb.ts","webpack://[name]/./sources/locale/locale_manager.ts","webpack://[name]/./sources/locale/locale_kr.ts","webpack://[name]/./sources/locale/locale_jp.ts","webpack://[name]/./sources/locale/locale_it.ts","webpack://[name]/./sources/locale/locale_id.ts","webpack://[name]/./sources/locale/locale_hu.ts","webpack://[name]/./sources/locale/locale_hr.ts","webpack://[name]/./sources/locale/locale_he.ts","webpack://[name]/./sources/locale/locale_fr.ts","webpack://[name]/./sources/locale/locale_fi.ts","webpack://[name]/./sources/locale/locale_fa.ts","webpack://[name]/./sources/locale/locale_es.ts","webpack://[name]/./sources/locale/locale_en.ts","webpack://[name]/./sources/locale/locale_el.ts","webpack://[name]/./sources/locale/locale_de.ts","webpack://[name]/./sources/locale/locale_da.ts","webpack://[name]/./sources/locale/locale_cs.ts","webpack://[name]/./sources/locale/locale_cn.ts","webpack://[name]/./sources/locale/locale_ca.ts","webpack://[name]/./sources/locale/locale_be.ts","webpack://[name]/./sources/locale/locale_ar.ts","webpack://[name]/./sources/locale/index.ts","webpack://[name]/./sources/publish_helpers/void_script_third.ts","webpack://[name]/./sources/core/destructor.js","webpack://[name]/./sources/core/common/assert.js","webpack://[name]/./sources/core/ui/resize_listener.js","webpack://[name]/./sources/core/gantt_core.js","webpack://[name]/./sources/core/cached_functions.js","webpack://[name]/./sources/core/data_task_types.js","webpack://[name]/./sources/publish_helpers/void_script_second.ts","webpack://[name]/./sources/core/data.js","webpack://[name]/./sources/core/facades/worktime_calendars.js","webpack://[name]/./sources/core/worktime/strategy/no_work_time.js","webpack://[name]/./sources/core/worktime/time_calculator.js","webpack://[name]/./sources/core/worktime/dynamic_resource_calendars.js","webpack://[name]/./sources/core/worktime/legacy_resource_config.js","webpack://[name]/./sources/core/worktime/strategy/work_unit_cache/larger_units_helper.ts","webpack://[name]/./sources/core/worktime/strategy/work_unit_cache/workunit_object_cache.ts","webpack://[name]/./sources/core/worktime/strategy/work_unit_cache/workunit_map_cache.ts","webpack://[name]/./sources/core/worktime/strategy/calendar_strategy.js","webpack://[name]/./sources/core/worktime/strategy/work_calendar_merger.js","webpack://[name]/./sources/core/worktime/calendar_manager.js","webpack://[name]/./sources/core/worktime/work_time.js","webpack://[name]/./sources/core/load.js","webpack://[name]/./sources/core/tasks.js","webpack://[name]/./sources/core/grid_column_api.gpl.js","webpack://[name]/./sources/core/ui/plugins/column_grid_dnd/scrollable_grid.ts","webpack://[name]/./sources/core/ui/plugins/column_grid_dnd/column_grid_dnd.ts","webpack://[name]/./sources/core/ui/plugins/column_grid_dnd/index.ts","webpack://[name]/./sources/core/ui/grid/task_grid_row_resize.js","webpack://[name]/./sources/core/ui/row_position_fixed_height.js","webpack://[name]/./sources/core/ui/grid/grid_resize.js","webpack://[name]/./sources/core/grid_column_api.js","webpack://[name]/./sources/core/dynamic_loading.js","webpack://[name]/./sources/core/common/link_formatter_simple.ts","webpack://[name]/./sources/core/common/link_formatter.ts","webpack://[name]/./sources/core/common/duration_formatter.ts","webpack://[name]/./sources/core/plugins/formatters.js","webpack://[name]/./sources/core/plugins/auto_task_types.js","webpack://[name]/./sources/core/plugins/new_task_placeholder.js","webpack://[name]/./sources/core/plugins/resource_assignments.js","webpack://[name]/./sources/core/plugins/resources.js","webpack://[name]/./sources/core/plugins/wbs.js","webpack://[name]/./sources/core/plugins/batch_update.js","webpack://[name]/./sources/core/plugins/index.js","webpack://[name]/./sources/core/dataprocessor/simple_storage.ts","webpack://[name]/./sources/core/dataprocessor/extend_gantt.ts","webpack://[name]/./sources/core/dataprocessor/data_processor_events.ts","webpack://[name]/./sources/core/dataprocessor/data_processor.ts","webpack://[name]/./sources/core/dataprocessor/index.js","webpack://[name]/./sources/core/datastore/datastore_render.js","webpack://[name]/./sources/core/datastore/select.js","webpack://[name]/./sources/core/facades/datastore_links.js","webpack://[name]/./sources/core/facades/datastore_tasks.js","webpack://[name]/./sources/core/facades/datastore.js","webpack://[name]/./sources/core/datastore/datastore_hooks.js","webpack://[name]/./node_modules/setimmediate/setImmediate.js","webpack://[name]/./node_modules/timers-browserify/main.js","webpack://[name]/./node_modules/bluebird/js/browser/bluebird.js","webpack://[name]/./sources/utils/promise.js","webpack://[name]/./sources/core/common/state.js","webpack://[name]/./sources/core/common/templates.js","webpack://[name]/./sources/core/common/dnd.js","webpack://[name]/./sources/core/common/date_parsers/csp_compliant_version.ts","webpack://[name]/./sources/core/common/date_parsers/fast_version.ts","webpack://[name]/./sources/core/common/date.js","webpack://[name]/./sources/core/common/serialize.ts","webpack://[name]/./sources/core/common/ajax.js","webpack://[name]/./sources/core/common/config.ts","webpack://[name]/./sources/core/common/services.js","webpack://[name]/./sources/constants/index.js","webpack://[name]/./sources/factory/make_instance_common.js","webpack://[name]/./sources/factory/make_instance_web.js","webpack://[name]/./sources/factory/gantt_factory.ts","webpack://[name]/./sources/ext/undo/undo.ts","webpack://[name]/./sources/ext/undo/monitor.ts","webpack://[name]/./sources/ext/undo/index.ts","webpack://[name]/./sources/ext/tooltip/tooltip.ts","webpack://[name]/./sources/ext/tooltip/tooltipManager.ts","webpack://[name]/./sources/ext/tooltip/index.ts","webpack://[name]/./sources/ext/quick_info/quickInfo.ts","webpack://[name]/./sources/ext/quick_info/index.ts","webpack://[name]/./sources/ext/overlay.js","webpack://[name]/./sources/ext/multiselect.js","webpack://[name]/./sources/ext/marker.js","webpack://[name]/./sources/ext/keyboard_navigation/core.js","webpack://[name]/./sources/ext/keyboard_navigation/modals.js","webpack://[name]/./sources/ext/keyboard_navigation/elements/task_cell.js","webpack://[name]/./sources/ext/keyboard_navigation/elements/task_row.js","webpack://[name]/./sources/ext/keyboard_navigation/elements/header_cell.js","webpack://[name]/./sources/ext/keyboard_navigation/elements/nav_node.js","webpack://[name]/./sources/ext/keyboard_navigation/elements/gantt_node.js","webpack://[name]/./sources/ext/keyboard_navigation/common/trap_modal_focus.js","webpack://[name]/./sources/ext/keyboard_navigation/common/eventhandler.js","webpack://[name]/./sources/ext/keyboard_navigation/common/keyboard_shortcuts.js","webpack://[name]/./sources/ext/keyboard_navigation.js","webpack://[name]/./sources/ext/grouping.js","webpack://[name]/./sources/ext/fullscreen/index.ts","webpack://[name]/./sources/ext/drag_timeline/eventsManager.ts","webpack://[name]/./sources/ext/drag_timeline/index.ts","webpack://[name]/./sources/ext/critical_path/critical_path.js","webpack://[name]/./sources/ext/critical_path/slack.js","webpack://[name]/./sources/ext/critical_path.js","webpack://[name]/./sources/ext/click_drag/selectedRegion.ts","webpack://[name]/./sources/ext/click_drag/eventsManager.ts","webpack://[name]/./sources/ext/click_drag/index.ts","webpack://[name]/./sources/ext/auto_scheduling/ui_handlers.ts","webpack://[name]/./sources/ext/auto_scheduling/loops_finder.ts","webpack://[name]/./sources/ext/auto_scheduling/connected_groups.ts","webpack://[name]/./sources/ext/auto_scheduling/asap_strategy.ts","webpack://[name]/./sources/ext/auto_scheduling/alap_strategy.ts","webpack://[name]/./sources/ext/auto_scheduling/planner.ts","webpack://[name]/./sources/ext/auto_scheduling/constraints.ts","webpack://[name]/./sources/ext/auto_scheduling.js","webpack://[name]/./sources/ext/extensions_all.ts","webpack://[name]/./sources/dhtmlxgantt.enterprise.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","seed","helpers","copy","result","isDate","Date","isArray","Array","length","isStringObject","String","isNumberObject","Number","isBooleanObject","Boolean","constructor","toString","isCustomType","apply","defined","obj","mixin","target","source","force","f","undefined","uid","valueOf","functor","arguments","event","el","handler","capture","addEventListener","attachEvent","eventRemove","removeEventListener","detachEvent","elementPosition","elem","top","left","right","bottom","getBoundingClientRect","box","body","document","docElem","documentElement","parentNode","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","offsetWidth","offsetHeight","parseInt","offsetTop","offsetLeft","offsetParent","y","Math","round","x","width","height","isVisible","node","display","visibility","getComputedStyle","style","currentStyle","hasNonNegativeTabIndex","isNaN","getAttribute","hasHref","a","area","nodeName","loLowerCase","isEnabled","input","select","textarea","button","toLowerCase","hasAttribute","getClassName","className","baseVal","indexOf","_trimString","_slave","getTargetNode","e","tagName","srcElement","str","trim","this","replace","getNodePosition","getFocusableNodes","nodes","querySelectorAll","join","nodesArray","slice","splice","getScrollSize","div","createElement","cssText","appendChild","clientWidth","removeChild","addClassName","removeClassName","split","regEx","RegExp","insertNode","newone","innerHTML","child","firstChild","removeNode","getChildNodes","css","ch","childNodes","len","out","push","toNode","getElementById","querySelector","locateClassName","classname","strict","trg","ind","charAt","locateAttribute","attribute","getRelativeEventPosition","ev","clientX","clientY","isChildOf","parent","hasClass","element","classList","contains","test","closest","selector","matches","msMatchesSelector","webkitMatchesSelector","parentElement","nodeType","console","error","units","second","minute","hour","day","week","month","quarter","year","getFullYear","getMonth","getDate","arrayFilter","arr","callback","filter","checkZeroId","id","getSecondsInUnit","unit","forEach","workArray","arrayMap","map","resArray","arrayIncludes","item","includes","arrayFind","find","arrayDifference","arraySome","hashToArray","hash","sortArrayOfHash","field","desc","compare","b","sort","throttle","timeout","wait","setTimeout","pop","isValidDate","getTime","Function","delay","timer","$cancelTimeout","$pending","args","clearTimeout","$execute","objectKeys","keys","isEventable","replaceValidZeroId","rootId","findBinary","array","prev","low","high","floor","__","EventHost","_silent_mode","listeners","_silentStart","_silentEnd","createEventStorage","handlers","index","eventStorage","combinedResult","handlerResult","addEvent","settings","handlerId","once","originalHandler","removeEvent","clear","eventHost","eventName","thisObject","attachAll","callEvent","eventArguments","handlerName","concat","checkEvent","list","eventId","detachAllEvents","dummy","log","BaseControl","render","set_value","get_value","focus","gantt","view","config","datastore","viewport","start","getItemIndexByTopPosition","end","y_end","count","max","min","isWindowAwailable","env","isIE","navigator","userAgent","isIE6","XMLHttpRequest","isIE7","isIE8","isOpera","isChrome","isKHTML","isFF","isIPad","search","isEdge","isNode","BaseEditor","show","column","placeholder","hide","get_input","is_changed","currentValue","is_valid","save","utils","eventable","domHelpers","Cell","$container","$parent","$config","headerHeight","$gantt","$domEvents","_createDomEventScope","$id","$name","$factory","destructor","$view","$services","getService","detach","_headerClickHandler","detachAll","cell","scrollTo","html","getNode","padding","resize","final","$preResize","topCont","topSize","getSize","minWidth","maxWidth","minHeight","maxHeight","setSize","_hide","cellIndex","moveView","hidden","$toHTML","content","header","raw","canCollapse","$fill","init","self","toggle","delegate","collapsed","size","gravity","getContentSize","$lastSize","contentX","contentY","_getBorderSizes","borders","horizontal","vertical","_currentBorders","_borders","_sizeHeader","_sizeContent","_setBorders","cssHash","xLayout","transform","$root","globalScope","global","smart_rendering","_smart_render","g","eval","TaskPlan","link","task","start_date","end_date","latestStart","earliestStart","earliestEnd","latestEnd","latestSchedulingStart","earliestSchedulingStart","latestSchedulingEnd","earliestSchedulingEnd","kind","conflict","Create","plan","htmlHelpers","getHtmlSelect","options","attributes","_this","entry","_attributes","getHtmlOption","label","_getHtmlContainer","getHtmlButton","getHtmlDiv","getHtmlLabel","getHtmlInput","_getHtmlAttributes","tag","__extends","_super","SelectControl","sns","_dhx_onchange","onchange","_focus","createDropTargetObject","res","targetParent","targetIndex","targetId","nextSibling","prevSibling","nextSiblingTarget","dndTaskId","targetTaskId","store","getParent","getBranchIndex","prevSiblingTarget","firstChildTarget","lastChildTarget","children","getChildren","isLegacyRender","columnIndex","scale","viewPort","cellLeftCoord","cellRightCoord","x_end","firstCellIndex","lastCellIndex","getItemTop","getItemHeight","Infinity","_task_default_render","_isAllowedUnscheduledTask","_isTaskInTimelineLimits","pos","getItemPosition","cfg","templates","$getTemplates","taskType","getTaskType","type","getBarHeight","types","milestone","controlsMargin","padd","item_attribute","setAttribute","show_progress","done","progress","pr","progressColor","backgroundColor","opacity","progress_text","rtl","position","wrapper","drag_progress","isReadonly","drag","markerPos","_render_task_progress","task_text","_render_task_content","textColor","color","basic","template","itemId","$getConfig","state","getState","getTask","project","isSummaryTask","isSplitTask","open_split_tasks","$open","select_task","isSelectedTask","drag_id","drag_mode","touch_drag","link_source_id","link_target_id","highlight_critical_path","isCriticalTask","link_landing_area","from_id","from_start","link_from_start","to_start","link_to_start","allowDrag","isLinkAllowed","dragClass","_combine_item_class","task_class","styles","side","margin","_get_link_crossing_css","marginStyle","_render_side_content","leftside_text","_render_leftside_content","rightside_text","_render_rightside_content","_waiAria","setTaskBarAttr","drag_resize","_render_pair","drag_links","show_links","outer","inner","showLinkPoints","touch","cssClass","text","abs","cond","leftside","$source","links","start_to_start","$target","finish_to_start","finish_to_finish","_get_conditions","ln","getLink","tp","min_date","marginLeft","max_date","marginRight","renderer","type_renderers","defaultRenderer","startCoord","posFromDate","endCoord","clearTaskStoreHandler","_delayRender","tasks","$data","tasksStore","ownStore","rowStore","handlerIdProperty","$attachedResourceViewHandler","$attachedTaskStoreHandler","initGrid","destroyGrid","_linkToTaskStore","delayRender","lightbox","refresh","_updateNestedTasks","_mark_recompute","resourceStore","getDatastore","resource_store","fetchTasks","resourceProperty","resource_property","silent","toAddArray","toAdd","toDelete","eachItem","resource","$role","getTaskBy","$task_id","$resource_id","$parentProperty","removeItem","parse","events","mouseEvents","h","gridResize","topPositionMixin","rowResize","ColumnDnd","default","Grid","$state","container","gridAriaAttr","gridAttrString","gridDataAriaAttr","gridDataAttrString","_ganttConfig","reorderColumns","reorder_grid_columns","$grid","gridScaleRowAttrString","$grid_scale","$grid_data","attr","layers","_createLayerConfig","resizer","_renderHeaderResizers","doOnRender","_mouseDelegates","_addLayers","_initEvents","_columnDND","_validateColumnWidth","numericWidth","assert","outerWidth","columns","getGridColumns","innerWidth","elasticColumns","grid_elastic_columns","scrollable","_setColumnsWidth","col","min_width","min_grid_column_width","columnsWidth","grid_width","dataHeight","scale_height","contentHeight","getTotalHeight","contentWidth","_getGridWidth","scrollHeight","scrollWidth","_bindStore","_gridCacheAttached","_resetTopPositionHeight","_unbindStore","_resetHeight","_initSmartRenderingPlaceholder","_calculateGridWidth","_renderGridHeader","getViewPort","scrolled","getColumnIndex","excludeHidden","hiddenIndexShift","getColumn","$ui","gridLine","gridTaskRowResizer","append","resize_rows","_taskLayers","taskRenderer","getDataRender","createDataRender","defaultContainer","taskLayers","layer","bar_layer","addLayer","_refreshPlaceholderOnStoreUpdate","scrollY","scroll","getView","getScrollState","scrollSize","$rowsPlaceholder","_staticBgHandler","close","open","_clearLayers","removeLayer","_getColumnWidth","new_width","max_width","_checkGridColumnMinWidthLimits","_getGridWidthLimits","min_limit","max_limit","newWidth","start_index","columns_width","final_width","extra_width","start_width","share","iterator","curExtra","_getColsTotalWidth","cols_width","v","parseFloat","unknown","gridWidth","autofit","diff","delta","changed","_setContentSize","locale","reverse","cells","labels","lineHeigth","last","colWidth","_sort","direction","grid_header_class","gridScaleCellAttrString","lineHeight","ConstraintTypes","getVirtualRoot","getSubtaskDates","root_id","$virtual","getLinkedTasks","includePredecessors","startIds","clearCache","_isLinksCacheEnabled","_startLinksCache","relations","visited","_getLinkedTasks","_endLinksCache","_collectRelations","rootObj","isChild","visitedLinks","linkKey","successors","_getSuccessors","predecessors","_getPredecessors","hashSum","rootTask","visitedTasks","output","from","tasksStack","current","isTaskExists","rel","isSameParent","sourceParent","hasChild","resourceTaskCache","timeline","cacheKey","step","items","assignmentsPassed","timegrid","process_resource_assignments","getResourceAssignments","assignments","scaleUnit","scaleStep","precalculatedTimes","task_id","minDate","maxDate","firstColumn","trace_x","currDate","date","calendar","work_time","getTaskCalendar","cachedTimes","timestamp","add","isWorkTime","calculateResourceLoadFromAssignments","timetable","resource_render_empty_cells","calculateResourceLoad","Timeline","resourceStoreMixin","ResourceTimeline","bindLinks","taskFilter","resourceRow","$task_bars","taskBg","$task_bg","ScaleHelper","canvasRender","$scaleHelper","_posFromDateCache","_timelineDragScroll","$task","$task_scale","$task_data","$task_links","_tasks","col_width","full_width","rendered","linksAttr","link_attribute","linkLayers","_attachLayers","ext","dragTimeline","attach","backgroundImage","data_els","_refreshScales","smart_scales","scales","_scales","_getScaleChunkHtml","expose","taskBar","hide_bar","taskSplitBar","taskRollupBar","_linkLayers","update","_taskRenderer","getLayer","_initStaticBackgroundRender","linkStore","linkRenderer","linkLayer","_linkRenderer","staticRender","static_background","staticBgContainer","$task_bg_static","insertBefore","getScale","destroy","_render_tasks_scales","scales_html","outer_width","_getScales","availWidth","autosize","autosize_min_width","cfgs","prepareConfigs","min_column_width","fromPos","toPos","scale_row_class","tplClass","_prepareScaleHtml","globalConfig","globalTemplates","format","date_to_str","startIndex","endIndex","inherit_scale_class","scale_cell_class","cssclass","getTimelineCellAttr","dateFromPos","summ","part","_getColumnDuration","dateValue","columnIndexByDate","wholeCells","partCell","roundPos","_getNextVisibleColumn","ignores","visibleDateIndex","_getPrevVisibleColumn","_getClosestVisibleColumn","days","trace_x_ascending","ignore_x","dateIndex","visibleIndex","visibleDate","transition","trace_index_transition","xLeft","xRight","rowHeight","taskId","isMilestoneRender","getItem","task_height","bar_height","task_height_offset","sqrt","primaryScale","getSubScales","sortScales","_timelineCacheAttached","Layout","_parseConfig","$cells","_resizeScrollbars","scrollbars","scrollbar","scrollChanged","visibleScrollbars","hiddenSrollbars","showScrollbar","hideScrollbar","shouldHide","shouldShow","visibleGroups","group","j","$scrollbarRepaint","_syncCellSizes","groupName","newSize","groups","_eachChild","_syncGroupSize","_xLayout","getNextSibling","ownSize","resizeSibling","getPrevSibling","siblingSize","totalGravity","totalSize","k","mainGrid","$content","startStage","mainCall","_resizeInProgress","contentViews","getCellsByType","setContentSize","_getAutosizeMode","code","cellId","sub","alert","rows","cols","views","initUI","getCells","cellSize","_cleanElSize","_getBoxStyles","computed","properties","boxSizing","clientHeight","MozBoxSizing","horPaddings","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","vertPaddings","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","borderBox","innerHeight","outerHeight","boxSizes","contentSizes","_sizes","_calcFreeSpace","_free","_gravity","_calcSize","_configureBorders","borderClass","lastVisibleIndex","lastCell","borderColorClass","_updateCellVisibility","oldVisibleCells","_visibleCells","firstCall","visibleCells","cellView","marginSide","dx","dy","workunit_map_cache_1","workunit_object_cache_1","larger_units_helper_1","LargerUnitsCache","createCacheObject","Map","WorkUnitsMapCache","WorkUnitsObjectCache","IsWorkTimeArgument","ClosestWorkTimeArgument","dir","CalculateEndDateArgument","duration","GetDurationArgument","getWorkHoursArguments","Error","setWorkTimeArguments","unsetWorkTimeArguments","isWorkTimeArguments","processedConfig","duration_unit","getClosestWorkTimeArguments","arg","_getStartEndConfig","param","argumentType","duration_step","getDurationArguments","hasDurationArguments","calculateEndDateArguments","quickPositionHelperFactory","getItemTopCache","getRowTopCache","getItemHeightCache","totalHeightCache","getItemHeightCacheState","quickPosition","resetCache","newState","getCacheStateTotalHeight","shouldClearHeightCache","getRowTop","canUseSimpleCalculation","all","getIndexRange","itemIndex","getIndexById","exists","parentId","_fillHeightCache","defaultHeight","row_height","globalHeight","itemHeightCache","sumHeight","oldState","newValue","getHeight","totalHeight","getVisibleItems","countVisible","next","getIdByIndex","copyLinkIdsArray","linkIds","targetHash","isLinkExists","copyLinkIds","getSubtreeLinks","eachTask","getSubtreeTasks","dateHelper","services","getSum","sizes","to","setSumWidth","sum_width","parts","adjustSize","splitSize","full","_isLegacyMode","scaleConfig","scale_unit","date_scale","subscales","_prepareScaleObject","legacyMode","initTemplate","min_coll_width","container_width","heights","configs","main_scale","initScaleConfig","processIgnores","initColSizes","limitVisibleRange","unshift","alineScaleColumns","reverseScale","setPosSettings","indexes","trace_indexes","_ignore_time_config","skip_off_time","skip","probe","display_count","min_col_width","line_height","cont_width","column_count","eachColumn","iterateScales","lower_scale","upper_scale","upper_dates","lower_dates","prevUpper","up","target_index","upper_start","upper_end","lower_start","lower_end","targetWidth","curr","tzOffset","getTimezoneOffset","_correct_dst_change","dates","lastDate","outDate","shared","helper","ignore_time","ignore","ignored_colls","PrimaryScaleHelper","_init_tasks_range","scale_offset_minimal","_scale_range_unit","range","start_interval","resolveConfigRange","calculateEndDate","_min_date","_max_date","fit_tasks","old_min","old_max","_adjust_scales","powerArray","DataStore","TreeDataStore","_branches","pull","$initItem","loadedItem","initItem","existingItem","move","$index","parentProperty","$getRootId","val","$openInitially","openInitially","visibleOrder","$create","fullOrder","_searchVisibleOrder","_indexRangeCache","_eachItemMainRangeCache","_getItemsCache","_skip_refresh","getConfig","splitParents","splitItems","taskOpenState","taskVisibility","haveSplitItems","_attachDataChange","_isSplitItem","canOpenSplitTasks","$split_subtask","$expanded_branch","_buildTree","data","setParent","_add_branch","$level","calculateItemLevel","$local_index","_updateOrder","loaded","_parseInner","_addItemInner","_move_branch","$rendered_parent","_changeIdInner","oldId","newId","_replace_branch_child","_traverseBranches","branch","_removeItemInner","sid","tindex","source_pid","tbranch","tid","_moveInner","childId","pid","getSiblings","siblings","previousSibling","clearAll","level","eachParent","_setParentInner","new_pid","_eachItemCached","cache","_eachItemIterate","startId","itemsStack","useCache","buildCache","startItem","parentsHash","added_already","old_parent","new_parent","old_id","new_id","newbranch","criteria","original_criteria","els","temp","rule","$powerArray","$removeAt","$remove","$find","$insertAt","$each","master","$map","$filter","_filterRule","copyOnParse","updateItem","order","data_size","addItem","changeId","sindex","$destroyed","unselect","arraysEqual","arr1","arr2","quick","skipFilter","_quick_refresh","oldOrder","serialize","filteredOrder","ret","getItems","_getNullIfUndefined","getFirst","getLast","getNext","getPrev","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","run","marker","runClearTimeout","Item","noop","nextTick","title","browser","argv","version","versions","on","addListener","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","binding","cwd","chdir","umask","host","updPerSecond","_on_timeout","ceil","ExtensionsManager","addExtension","_extensions","getExtension","createScope","eventScope","staticArray","extend","getVertices","ids","vertices","topologicalSort","edges","$incoming","successor","S","L","groupAdjacentEdges","edge","tarjanStronglyConnectedComponents","verticesHash","stack","edgesFromTasks","recurse","connectedComponents","getVertex","workStack","lowLink","onStack","w","com","findLoops","cycles","component","_get_linked_task","getTarget","_get_link_target","_get_link_source","caching","formattedLinksStash","inheritedSuccessorsStash","inheritedPredecessorsStash","getPredecessorsCache","_formatLink","_getImplicitLinks","respectTargetOffset","auto_scheduling_move_projects","targetDates","calculateDuration","fromLength","fromTask","toLength","toTask","lag","subtaskLink","_convertToFinishToStartLink","taskParent","_isAutoSchedulable","auto_scheduling","selectOffset","selectSourceLinks","skipChild","linksCollection","siblingLink","siblingId","siblingTask","_getDirectDependencies","selectSuccessors","linksIds","_getInheritedDependencies","cacheCollection","stop","inheritedRelations","parentDependencies","_getDirectSuccessors","_getInheritedSuccessors","_getDirectPredecessors","_getInheritedPredecessors","skipInherited","sourceTask","targetTask","sourceLag","targetLag","trueLag","preferredStart","additionalLag","start_to_finish","htmlTags","extraSpaces","stripHTMLLite","htmlText","singleQuotes","escapeQuotes","getAttributeString","dateString","aria-label","_taskCommonAttr","tooltip_text","$dataprocessor_class","drag_move","taskRowAttr","order_branch","linkAttr","linkTypes","toStart","fromStart","drag_link","gridSeparatorAttr","lightboxHiddenAttr","lightboxVisibleAttr","lightboxAttr","lightboxButtonAttrString","buttonName","role","tabindex","lightboxHeader","headerText","lightboxSelectAttrString","time_option","years","months","hours","minutes","lightboxDurationInputAttrString","section","column_duration","aria-valuemin","multiselect","attrs","new_task","gridCellAttrString","textValue","editor","gridAddButtonAttrString","messageButtonAttrString","buttonLabel","messageInfoAttr","messageModalAttr","quickInfoAttr","quickInfoHeaderAttrString","quickInfoHeader","quickInfoButtonAttrString","tooltipAttr","tooltipVisibleAttr","tooltipHiddenAttr","payload","wai_aria_attributes","_extend_to_optional","lightbox_block","optional_time","mapping","_resolve_default_mapping","disable","enable","disabled","update_block","_lightbox_id","button_text","resizeLightbox","button_click","_get_typed_lightbox_config","form_blocks","duration_optional","time_optional","time","TypeselectControl","typeKey","typeValue","oldOnChange","changeLightboxType","_lightbox_new_type","ConstraintControl","isNonTimedConstraint","constraint_types","ASAP","ALAP","toggleTimeSelect","timeSelects","isNonTimed","getTimePicker","typeSelect","_time_format_order","_eventsInitialized","constraintDate","constraint_date","_fill_lightbox_select","constraintType","constraint_type","getConstraintType","getTimePickerValue","localCache","resources","resourcesValues","eventsInitialized","ResourcesControl","_getInputElementSelector","isChecked","_getResourcesElement","_getFilterCache","checkbox","checked","filterApplied","resourceFilterPlaceholder","resources_filter_placeholder","filter_placeholder","resourceFilterLabel","resources_filter_label","resourcesElement","_setResourcesElement","htmlResourceRow","_setFilterCache","context","_applyFilter","resultSns","query","hideUnsetted","_saveValues","filterCache","_getValue","getLightboxValues","comparison","collection","map_to","resource_id","searchResult","itemIds","_getSnsToHideUnsetted","_resourceChangeListener","row","valueInput","resId","defaultValue","default_value","option","domElement","inputs","unassigned_value","_getDisplayValues","_getAmountInput","zoom","_offsetSizes","_center_lightbox","getLightbox","amountElement","selectorAdd","selectorSub","settedValuesHash","itemsAdd","itemsSub","resourceId","amount","ParentControl","_display","item_id","getTaskByTime","allow_root","root_label","_filter","tmpDom","newOptions","onselect","replaceChild","DurationFormatterNumeric","canParse","DurationControl","getFormatter","formatter","_getStartDate","getElementsByTagName","_getDuration","singleDate","single_date","readonly","ariaAttr","durationInputClass","duration_val","inps","btns","endspan","_calc_date","task_end_date","task_date","_change_duration","onclick","onkeydown","charCode","keyCode","which","constants","KEY_CODES","DOWN","UP","startDate","endDate","RadioControl","radio","CheckboxControl","single_value","checkboxes","TimeControl","auto_end_date","_update_lightbox_select","selects","autofix_end","_get_timepicker_step","_getEndDate","TextareaControl","_get_input","TemplateControl","getHtmlButtons","buttons","floatRight","_migrate_buttons","getHtmlTimePickerOptions","offset","start_year","end_year","tdate","timeFormat","year_range","month_full","first","_time_values","time_picker","setTime","getHours","getMinutes","_lightbox_methods","_lightbox_template","registerProvider","showLightbox","showCover","_fill_lightbox","round_dnd_dates","_is_chart_visible","time_step","getLabel","sections","updateCollection","list_name","serverList","resetLightbox","getLightboxType","_lightbox_type","lightboxDiv","fullWidth","ds","classNames","_lightbox","_is_lightbox_timepicker","wide_form","buttons_left","buttons_right","drag_lightbox","onmousedown","_ready_to_dnd","onselectstart","cursor","_init_dnd_events","_render_sections","backup_overflow","overflow","labelBlock","inputBlock","inputId","bindLabelsToInputs","_init_lightbox_events","block","con","lightbox_additional_height","scroll_top","scroll_left","view_height","_cover","lightbox_events","gantt_save_btn","_save_lightbox","gantt_delete_btn","$click","hideLightbox","gantt_cancel_btn","_cancel_lightbox","src","sec","buttonTarget","SPACE","shiftKey","click","edit_save","edit_cancel","$new","_update_flags","refreshData","addTask","getTaskIndex","refreshTask","updateTask","hideCover","_custom_lightbox","_set_lightbox_values","lightbox_header","task_time","substr","getLightboxSection","getValue","setValue","get_template_control","control","get_select_control","get_textarea_control","get_time_control","_move_while_dnd","_finish_dnd","_dnd_start_lb","gantt_unselectable","lb","now","pageX","pageY","_lb_start","ariaAttrs","date_part","time_format","getTimeFormat","limit_time_select","first_hour","last_hour","setHours","needSetTime","mapOffset","constraint","typeselect","_dhtmlx_confirm","message","ok","opts","confirm","type_value","_silent_redraw_lightbox","oldType","formData","updTask","scrollX","scrollState","visible","getTaskDND","tasksDnD","_tasks_dnd","touch_feedback","touch_feedback_duration","_prevent_touch_scroll","_touch_feedback","vibrate","platform","maxTouchPoints","touchEventsSupported","createEvent","_touch_events","touches","pointerEnabled","pointerType","msPointerEnabled","MSPOINTER_TYPE_MOUSE","touchHandlers","names","accessor","dblclicktime","actionMode","scrollMode","actionStart","longTapTimer","currentDndId","dndNodes","targetView","start_drag","on_mouse_move","preventDefault","cancelBubble","newScrollState","scrollView","block_action","allViews","$layout","findTargetView","_locate_css","locate","on_mouse_down","renders","_getTaskLayers","isTaskVisible","task_attribute","cloneNode","cloneTaskRendered","_start_dnd","_touch_drag","remove","on_mouse_up","onDoubleClick","isHeadless","USE_KEY","_defaultScales","TimelineZoom","zoomIn","getCurrentLevel","setLevel","zoomOut","_levels","_activeLevelIndex","getLevels","zoomLevel","_getZoomIndexByName","_setLevel","levelName","_getVisibleDate","scrollPos","_visibleDate","cursorOffset","nextConfig","chartConfig","cursorDate","newPosition","middleDate","_attachWheelEvent","_domEvents","_useKey","_handler","_defaultHandler","timelineOffset","wheelUp","deltaY","wheelDelta","stopPropagation","_setScaleSettings","_setScaleDates","_initialStartDate","_initialEndDate","activeLevelIndex","_mapScales","levels","_minColumnWidth","minColumnWidth","_maxColumnWidth","maxColumnWidth","_widthStep","widthStep","useKey","_initialized","trigger","_stepUp","_stepDown","nextLevel","newColumnWidth","dhtmlx","attaches","attachGantt","cmp","attachObject","dataType","dataObj","that","vs","av","grid","border","gridId","gridObj","dhtmlXCellObject","jQuery","$","methods","fn","dhx_gantt","each","newgantt","Gantt","getGanttInstance","scrollRange","scrollStep","scrollDelay","scrollSpeed","interval","isMove","delayTimeout","startPos","started","eventPos","isDisplayed","isScrollState","dragMarker","isResize","isLink","isClickDrag","autoscroll","defineDelayTimeout","speed","autoscroll_speed","setInterval","tick","autoscroll_delay","defineScrollInterval","clearInterval","autoscrollInterval","isScroll","targetTouches","posX","posY","need_scroll","currentScrollTop","scrollOuterHeight","inner_height","scrollInnerHeight","currentScrollLeft","scrollOuterWidth","inner_width","scrollInnerWidth","autoscroll_step","boxSize","skins","link_line_width","link_arrow_size","_second_column_width","_third_column_width","material","_redefine_lightbox_buttons","getTaskNode","indx","broadway","_config_buttons_left","_config_buttons_right","terrace","meadow","skyblue","_get_skin","skin","href","match","skinset","_configure","resetSkin","getTimeline","getGrid","getVerticalScrollbar","getHorizontalScrollbar","DEFAULT_VALUE","tryCall","method","fallback","getTaskTop","getTaskPosition","getTaskBarHeight","getTaskHeight","roundTaskDates","domAttr","getLinkNode","oldH","oldV","scrollHorizontal","scrollVertical","verticalViews","_getLinkedViews","horizontalViews","commonViews","viewId","$skipSmartRenderOnScroll","newV","newH","showDate","date_x","scroll_to","task_scroll_offset","showTask","leftPos","_scroll_state","x_pos","y_pos","scroll_size","x_inner","y_inner","scrollVer","scrollHor","horState","verState","initializer","_legacyGridResizerClass","layout","resizers","gridResizer","onCreated","mainTimeline","show_chart","showGrid","show_grid","colsWidth","grid_limits","original_grid_width","skinSettings","_initScrollStateEvents","_getVerticalScrollbar","_getHorizontalScrollbar","oldPos","newPos","$scroll_ver","$scroll_hor","_findGridResizer","gridFirst","_getSiblings","_behind","_front","onInitialized","resizeInfo","initialWidth","prevCellWidth","nextCellWidth","viewCell","limits","newBehindSize","newFrontSize","oldBackSize","oldFrontSize","newBackSize","oldSize","onDestroyed","initLinksDND","_link_landing","_link_target_task","_link_target_task_start","_link_source_task","_link_source_task_start","markerDefaultOffset","scrollDefaultSize","getDndState","DnD","dnd","sensitivity","updates_per_second","mousemoveContainer","getLinePos","shift","isStart","taskPos","xEnd","yEnd","milestoneWidth","origWidth","getVisibleMilestoneWidth","getMilestonePosition","isMilestone","getPosition","markerSize","getMarkerSize","viewportSize","getVieportSize","offsetX","tooltip_offset_x","offsetY","tooltip_offset_y","updateMarkedHtml","drag_link_class","resetDndState","showDirectingLine","s_x","s_y","e_x","e_y","_direction","getDirectionLine","link_direction_class","dist","pow","tan","angle","atan","coordinateCircleQuarter","PI","sin","cos","ieTransform","shiftLeft","shiftTop","sX","eX","sY","eY","_dir_start","dd","advanceMarker","landing","prevTarget","prevLanding","prevToStart","targ","_dir_end","targetChanged","_get_link_type","addLink","createLinkDND","createTaskDND","round_task_dates","dragMultiple","_events","before_start","before_finish","after_finish","_handlers","clear_drag_state","set_actions","drag_from_start","evs","stage","_move","_resize","_resize_progress","start_x","start_y","coords_x","_drag_task_coords","minDurationInUnits","_calculateMinDuration","min_duration","_init_task_timing","diffValue","_find_max_shift","dragItems","correctShift","minX","maxX","maxShift","minShift","new_start","new_end","obj_s_x","obj_e_x","_mouse_position_change","_is_number","isFinite","_update_on_move","_update_item_on_move","original","curr_date","dragHash","_isMultiselect","getSelectedTasks","dragProject","drag_project","initialDrag","childDrag","_bulk_dnd","_update_parents","_get_drag_mode","_fix_dnd_scale_time","fixStart","correct_work_time","roundDate","fixEnd","_fix_working_times","getClosestWorkTime","correctTaskWorkTime","_finalize_mouse_up","_fireEvent","_dhx_changed","finalizingBulkMove","moveCount","doFinalize","batchUpdate","modes","dragProperty","selectedTasksIds","selectedTask","_addSubtasksToDragMultiple","params","drag_state","drag_multiple","summaryId","taskDnD","linkDnD","_linksDnD","_tasksDnD","_attachDomEvents","_attachStateProvider","extendDom","_clearDomEvents","_clearStateProvider","_delete_link_handler","question","link_description","confirm_link_deleting","deleteLink","coll","coll_date","scale_step","unregisterProvider","gridToPageCoordinates","gridPos","removeLineHighlight","markerLine","highlightPosition","ePos","gridHeight","getTaskMarkerPosition","pointerEvents","markerFolder","maxBottom","highlightFolder","linePos","indentNode","indent","itemTop","itemHeight","childCount","getLineMarkerPosition","markerLineTop","highlightRow","dropTarget","relTargetPos","eventTop","findClosesTarget","allowedLevel","targetLevel","findTargetAbove","findTargetBelow","targetAbove","targetBelow","rootLevel","getLockedLevelTarget","getMultiLevelTarget","higlighter","dnd_sensitivity","hideQuickInfo","_hideQuickInfo","initial_open_state","outerHTML","drop_target","$transparent","getDropPosition","$drop_target","minTop","firstVisibleTaskPos","hiddenTaskPart","getTargetTaskId","lockLevel","order_branch_free","getStore","lastTaskOfLevel","last_item","_getGridPos","_getTargetY","_getTaskByY","dropIndex","targetY","over","nextId","prevId","rowDnd","rowDndMarker","extendGantt","inlineEditors","_inlineEditors","createEditors","initEvents","clearEvents","scroll_on_click","_is_icon_open_click","conf","sorting_method","callHandler","createTask","totalWidth","getRowRectangle","getVisibleRange","resize_el","task_grid_row_resizer_attribute","getRectangle","getVisibleCellsRange","isColumnVisible","resourceTimetable","renderBar","renderConnection","prevLevel","getResourceLoad","renderedHistogramCells","renderedHistogramRows","renderedHistogramCapacity","detachRenderedHistogramCell","renderedRow","renderCapacityElement","capacityMatrix","maxCapacity","renderedElement","capacityElement","capacity","colStart","colEnd","bar","connection","renderHistogramLine","renderHistogramCell","histogram_cell_class","histogram_cell_label","fill","histogram_cell_allocated","smartRendering","histogram_cell_capacity","checkedColumns","renderedCell","renderedResourceLines","renderResourceLineCell","resource_cell_class","resource_cell_value","detachRenderedResourceLine","aria","date_grid","tree","grid_indent","grid_blank","grid_file","grid_open","grid_folder","align","justifyContent","center","getGlobalTaskIndex","grid_row_class","css_template","isSelected","onrender","rowNode","cellNode","external_render","adapter","isElement","renderElement","sourceTop","sourceHeight","targetTop","targetHeight","sourceLeft","sourceRight","targetLeft","targetRight","tmp","isInViewPort","drawer","current_pos","dirs","down","path","point","get_lines","dots","line_to","get_path","line","_get_line","get_wrapper_sizes","wrapper_size","link_wrapper_width","get_line_sizes","line_size","marginTop","render_line","innerPos","get_direction","vect","path_builder","point_to","get_points","pt","get_endpoint","xy","shiftX","lineType","get_line_type","forward","sign","milestoneHeight","lines","cssTemplate","link_class","isCriticalLink","endpoint","_render_link_arrow","borderColor","renderedCells","isRendered","detachRenderedCell","getCellTemplate","task_cell_class","warn","timeline_cell_class","renderOneCell","cssTemplateContent","static_background_cells","cellTemplate","show_task_cells","odd","task_row_class","createBaseBarRender","defaultRender","$rollup","isBarInViewport","isProject","resetProjectDates","mapTo","keepDatesOnEdit","keepDurationOnEdit","defaultActionOnEdit","TextEditor","formatters","durationFormatter","PredecessorEditor","linkFormatter","parseInputString","delimiter","formatPredecessors","formatLinkKey","getLinksDiff","predecessorCodes","selectedLinks","getSelectedLinks","existingLinksSearch","linkId","linksToAdd","linksToDelete","linksDiff","autoSchedule","inputPredecessors","taskPredecessors","html5DateFormat","dateToStr","strToDate","DateEditor","str_to_date","minValue","maxValue","parsed","SelectEditor","optionsHtml","NumberEditor","controller","onBlurDelay","keyNav","keyboardNavigation","activeCell","locateCell","columnName","editorState","getEditorConfig","startEdit","command","hasEditor","keyboard","preventKeyNav","ENTER","ctrlKey","metaKey","ESC","LEFT","RIGHT","editorType","DELETE","TAB","editPrevCell","editNextCell","modifiers","anyModifier","alt","ctrl","meta","getCommandHandler","onShow","onHide","isChanged","defaultPrevented","shouldPrevent","defaultMapping","keyNavMappings","setMapping","getMapping","keyboard_navigation_cells","getKeyboardMapping","textEditorFactory","numberEditorFactory","selectEditorFactory","dateEditorFactory","predecessorEditorFactory","durationEditorFactory","linkedPropertiesProcessor","initConfigs","editor_types","number","predecessor","keyboardMapping","eventBus","inlineEditController","_createPlaceholder","_getEditorPosition","findVisibleIndex","updateTaskDateProperties","ganttHandlers","_itemId","_columnName","_editor","_editorType","_placeholder","batch_update","editorConfig","_getItemValue","oldValue","inline_editors_date_processing","_findEditableCell","nextIndex","nextColumn","getNextCell","getFirstCell","getLastCell","canChangeRow","moveRow","moveTask","nextItem","editNextRow","editPrevRow","ResourceHistogram","resourceHistogram","ResourceGrid","createStaticBgHelper","canvasBgCache","staticBgStyleId","parseRgb","rgbCss","exec","getUrlFromCache","getHashKey","cellStyles","bottomBorderColor","rightBorderColor","cacheUrl","url","generateBgUrl","canvas","getContext","image","createImageData","imageSmoothingEnabled","verticalLineWidth","rightBorderWidth","verticalLineColor","drawDot","horizontalLineWidth","bottomBorderWidth","horizontalLineColor","putImageData","drawGrid","toDataURL","matrix","getCssClass","createProbeElement","targetNode","bgDivs","bgTiles","tile","prevCell","divs","prevWidth","widths","maxTileSize","appVersion","currentTop","tileWidth","currentHeight","whiteSpace","createBgDivs","differentWidths","getColumnWidths","styleHTML","cachedUrl","bgImage","getStyleElement","createBackgroundTiles","firstRow","secondRow","firstRowCell","rowStyles","getPropertyValue","getCellStyles","fragment","createDocumentFragment","ScrollbarCell","SCROLL_MODIFIER_KEYS","_scrollHorizontalHandler","_scrollVerticalHandler","_outerScrollVerticalHandler","_outerScrollHorizontalHandler","_mouseWheelHandler","_isHorizontal","scrollPosition","_isVertical","_initVertical","_initHorizontal","_initMouseWheel","_initLinkedViews","_getRootParent","_eachView","eachCell","_updateLinkedViews","scrollHorizontally","_scrolling","codeScrollLeft","scrollVertically","_wheel_time","_oldLeft","_getScrollSize","outerSize","isHorizontal","linked","scrollProperty","innerSizeProperty","outerProperty","_getScrollOffset","cellScrollSize","nonScrollableSize","outerScroll","innerScroll","scrollSizes","_setScrollSize","toggleVisibility","_getScaleOffset","parentLayout","_oldTop","_checkWheelTarget","connectedViews","wheelSpeed","wheelSpeedConfig","wheel_scroll_sensitivity","ff","wx","deltaX","wheelDeltaX","wy","horizontalScrollModifier","horizontal_scroll_key","oldLeft","detail","oldTop","ResizerCell","startBackSize","startFrontSize","getPageCoordinates","_moveHandler","_moveResizer","_resizer","_upHandler","newSizes","_getNewSizes","back","front","_setSizes","_setBackground","_clearResizer","_clearListeneres","_startOnMove","_cancelDND","_downHandler","_callStartDNDEvent","_xMode","_startDND","_eachGroupItem","_isPosChanged","_setResizer","_positions","classes","_getDirection","_getResizePosition","behindSide","behindMin","frontSide","frontMin","newBehindSide","newFrontSide","_getGroupName","_getGroupResizePosition","minMax","positions","nextX","nextY","_setGravity","frontSize","behindSize","newFrontG","newBehindG","_assignNewSizes","ViewCell","childConfig","createView","$initialized","unload","outerX","outerY","childSize","ViewLayout","$cell","byMaxSize","otherCell","genericViewPortChecker","basicGetRectangle","basicGetRange","task_area_pulls","task_area_renderers","getRenderer","renderMethod","updateMethod","renderCallbackMethod","specializedViewPortChecker","layer_attribute","render_item","layerView","viewConfig","rendererViewPort","dom","useBuffer","remove_item","clear_container","get_visible_range","render_items","buffer","vis","itemsSearch","renderedItems","newElements","update_items","nodesToRemove","itemNode","restore","replace_item","newNode","change_id","oldid","newid","clearRenderers","renderFactoryProvider","mergeFilters","filter_methods","filter_method","renderFactory","createGroup","getContainer","relativeRoot","defaultFilters","initLayer","renderGroup","tempCollection","renderers","filters","getLayers","_add","pending","topmost","requestUpdate","onUpdateRequest","eachLayer","createLayerFactory","previusSiblingContainer","defaultContainerSibling","setService","addTaskLayer","removeTaskLayer","_clearTaskLayers","addLinkLayer","_getLinkLayers","removeLinkLayer","_clearLinkLayers","createMouseHandler","eventHandlers","doubleclick","contextMenu","addEventTarget","onClick","findEventHandlers","callEventHandlers","_multiselect","selectTask","onContextMenu","returnValue","delegateHandlers","details_on_dblclick","onMouseMove","_last_move_event","domEvents","reset","elementHandlers","ViewSettings","extendSettings","parentSettings","own","parentView","parentConfig","parentTemplates","configurable","createFactory","createdViews","creator","configure","registerView","viewConstructor","uiFactory","createLayers","Resizer","Scrollbar","gridEditorsFactory","renderTaskBar","renderSplitTaskBar","renderRollupTaskBar","renderTaskBg","renderLink","gridRenderer","resourceMatrixRenderer","resourceHistogramRenderer","gridTaskRowResizerRenderer","mainGridInitializer","mainTimelineInitializer","mainLayoutInitializer","attachInitializer","layersEngine","layersApi","layersService","boxAttribute","_dhx_msg_cfg","usercall","modalBox","modal_key","messageBox","modality","cover","buttonAriaAttrs","getFirstDefined","values","_createBox","cancel","contentId","message_ok","message_cancel","btn","_boxStructure","alertPopup","confirmPopup","boxPopup","box_params","focusable","expire","timers","info","hideAll","popups","modalbox","codeHelpers","_eventRemoveAll","uiApi","$mouseEvents","createLayoutFacade","targetAttribute","_locateHTML","initial_scroll","firstTask","getTaskByIndex","attachedScrollbar","month_short","day_full","day_short","icon_save","icon_cancel","icon_details","icon_edit","icon_delete","confirm_closing","confirm_deleting","section_description","section_time","section_type","column_wbs","column_text","column_start_date","column_add","link_start","link_end","type_task","type_project","type_milestone","weeks","section_constraint","asap","alap","snet","snlt","fnet","fnlt","mso","mfo","LocaleManager","addLocale","_locales","getLocale","locale_ar_1","locale_be_1","locale_ca_1","locale_cn_1","locale_cs_1","locale_da_1","locale_de_1","locale_el_1","locale_en_1","locale_es_1","locale_fa_1","locale_fi_1","locale_fr_1","locale_he_1","locale_hr_1","locale_hu_1","locale_id_1","locale_it_1","locale_jp_1","locale_kr_1","locale_manager_1","locale_nb_1","locale_nl_1","locale_no_1","locale_pl_1","locale_pt_1","locale_ro_1","locale_ru_1","locale_si_1","locale_sk_1","locale_sv_1","locale_tr_1","locale_ua_1","en","ar","be","ca","cn","cs","da","de","es","fa","fi","fr","he","hr","hu","it","jp","kr","nb","nl","no","pl","ro","ru","si","sk","sv","tr","ua","_dp","check","show_errors","listenWindowResize","resizeDelay","resizeTimeout","container_resize_timeout","container_resize_method","lowlevelResizeWatcher","repaintGantt","previousHeight","previousWidth","resizeWatcher","tabIndex","contentWindow","addResizeListener","calculateScaleRange","invalidContainerMessage","validateNode","isHTMLElement","_reinit","_quickRefresh","stores","_getDatastores","dropLayout","rebuildLayout","storeNames","resetLayout","initTemplates","edit","delete","confirm_deleting_title","deleteTask","preserveScroll","preserve_scroll","new_pos","setSizes","getTaskRowNode","prevOffset","time_unit","offsetChanged","activate","_cached_functions","update_if_changed","active","critical_path_mode","wrap_methods","_prefetch_originals","prefetch","methodname","optimizer","argumentsArray","get_arguments_hash","cached_values","has_cached_value","get_cached_value","cache_value","arguments_hash","is_date","getUTCDate","stringify_argument","deactivate","setup","override_gantt","gantt_methods","optimize_render","deactivTimeout","checkType","isUnscheduledTask","unscheduled","show_unscheduled","taskStart","taskEnd","_getProjectEnd","project_end","_getProjectStart","project_start","getDefaultTaskDate","parent_id","schedule_from_end","_set_default_task_timing","details_on_create","parseDate","getSelectedId","getTaskTimingMode","task_type","$no_start","$no_end","$rendered_type","updateTaskTiming","$effective_calendar","getSubtaskInfo","rollup","task_mode","dirty","$calculate_duration","effectiveCalendar","inherit_calendar","taskMode","taskTiming","getSubtaskDuration","updateAll","has_changed","oldStart","oldEnd","upper","lower","colIndex","steps","calendarManager","timeCalculator","getWorkHours","setWorkTime","unsetWorkTime","_hasDuration","hasDuration","mergeCalendars","createCalendar","addCalendar","getCalendar","getCalendars","getResourceCalendar","deleteCalendar","CalendarDisabledTimeStrategy","argumentsHelper","_calculateDuration","fixedUnits","hasWorkTime","equals","createArgumentsHelper","NoWorkTimeCalendar","TimeCalculator","$disabledCalendar","_getCalendar","manager","dynamicCalendars","getCalendarIdFromMultipleResources","resourceAssignments","getResourcesCalendarKey","tempCalendar","assignment","mergeResourceCalendars","isLegacyResourceCalendarFormat","resourceCalendarsProperty","getResourceProperty","resourceCalendarsConfig","resource_calendars","propertyName","getCalendarIdFromLegacyConfig","calendarId","getMinutesPerWeek","weekStart","_weekCache","has","_calendar","minutesPerWeek","week_start","getHoursPerDay","set","getMinutesPerMonth","monthStart","_monthCache","minutesPerMonth","nextMonth","_cache","subCache","setItem","rawValue","unitCache","yearCache","CalendarWorkTimeStrategy","_workingUnitsCache","_largeUnitsCache","_worktime","_cached_timestamps","_cached_timestamps_count","_getUnitOrder","_resetTimestampCache","_timestamp","UTC","_checkIfWorkingUnit","_is_work_day","_getWorkHours","_is_work_hour","startHour","endHour","_getTimeOfDayStamp","dayEnd","_is_work_minute","checkTime","_nextDate","_getWorkUnitsBetweenGeneric","stepStart","stepEnd","checkFirst","checkLast","isLastStep","_isWorkTime","unitOrder","biggerTimeUnit","_getClosestWorkTimeFuture","_getMinutesPerHour","hourStart","hourEnd","worktimes","_getMinutesPerDay","durationMinutes","durationHours","_getWorkUnitsForRange","getUnitsPerDay","total","_getMinutesBetweenSingleDay","_getIntervalTimestamp","minuteFrom","minuteTo","_getMinutesBetween","firstDayStart","firstDayEnd","day_start","lastDayStart","lastDayEnd","startPart","endPart","_getHoursBetween","_setConfig","_parseSettings","haveCustomWeeks","customWeeks","customWeeksRangeStart","customWeeksRangeEnd","customWeeksBoundaries","_parseHours","minCustomRangeStart","maxCustomRangeEnd","customTime","rangeStart","rangeEnd","fromReadable","toReadable","currentWeek","_tryChangeCalendarSettings","backup","JSON","stringify","_arraysEqual","_compareSettings","mySettings","thatSettings","myDays","otherDates","myHours","otherHours","myWeek","thatWeek","getDay","getSeconds","endHours","timestampRanges","timerangeConfig","startMinute","endMinute","durationSeconds","calendarConfig","reset_calendar","isWorkUnit","dateKey","mult","_calculateEndDate","_calculateMinuteEndDate","_subtractMinuteDate","_calculateHourEndDate","_addInterval","stopAction","added","previous","timezoneDifferenceWithPrevious","timezoneDifference","_addHoursUntilDayEnd","rangeHours","addHours","intervalEnd","durationLeft","setMinutes","setSeconds","hoursPerDay","_addMinutesUntilHourEnd","hour_start","rangeMinutes","addMinutes","_subtractMinutesUntilHourStart","hourStartTimestamp","initialDateTimestamp","addedInterval","calculatedDay","daySchedule","minutesInDay","dayStart","iterateFromDayEnd","isWorkHour","workInterval","minutesInHour","_getClosestWorkTimePast","times","lastInterval","_getClosestWorkTime","inputDate","closestFuture","closestPast","_getClosestWorkTimeGeneric","_findClosestTimeInDay","resultDate","fromDayEnd","_getClosestWorkMinute","increment","worktime","exceptions","hasRegularHours","_checkWorkHours","dayConfig","hoursArray","WorkTimeCalendarMerger","_getIntervals","_toHoursArray","intervalsArray","formatHHMM","secondsValue","minutePart","toFixed","_intersectHourRanges","baseArray","overridesArray","base","_mergeAdjacentIntervals","_mergeHoursConfig","firstHours","secondHours","merge","firstConfig","secondConfig","mergedSettings","firstDate","secondDate","CalendarMergeHelper","legacyResourceCalendarConfig","dynamicResourceCalendars","CalendarManager","_calendars","_legacyConfig","_isLegacyConfig","_convertWorkTimeSettings","calendars","mergeHelper","_createCalendarFromConfig","apiCore","preparedConfig","parentCalendar","defaults","fulltime","createDefaultCalendars","_getOwnCalendar","calendar_property","dynamic_resource_calendars","calendarsConfig","taskObject","isCalendar","restoreConfigCalendars","possibleCalendar","every","worktimeFacadeFactory","facade","jsonParseError","load","_load_url","cl","_load_type","ajax","on_load","xmlDoc","responseText","resp","status","responseURL","_process_loading","collections","_load_collections","linksStore","collections_loaded","option_key","$ignore","json","dhx_security","security_key","serializeTask","_copyObject","serializeLink","_copyLink","xml_format","format_date","rawLinks","getLinks","xml","_xmlNodeToJSON","attrs_only","nodeValue","_getCollections","loader","xpath","itms","_getXML","toptag","getXMLTopNode","xmltop","xmlParseError","skey","oldxml","startdate","est","enddate","predecessortasks","editable_property","readonly_property","getGridColumn","ScrollableGrid","_scrollOrder","getCurrentX","_dnd","_scrollView","attachEvents","isScrollable","gridBoundingRect","maxLeft","minLeft","currentX","autoscrollRight","autoscrollStart","autoscrollLeft","autoscrollStop","getCorrection","scrollable_grid_1","ColumnsGridDnd","_targetMarker","calculateCurrentPosition","eventX","DND","_scrollableGrid","_draggedCell","draggedColumn","draggedIndex","_gridConfig","_originAutoscroll","_dragX","columnIndexes","findColumnsIndexes","targetColumn","cleanTargetMarker","setMarkerPosition","drawTargetMarker","_a","xBefore","xAfter","columnRelativePos","draggedId","currentColumn","startX","endX","relativeX","gridOffset","_obj","nextPosition","column_grid_dnd_1","_task_grid_row_resize","row_before_start","row_id","row_after_start","row_drag_move","pointerPosition","markerStartPosition","marker_height","minPointerPosition","min_task_grid_row_height","row_drag_end","oldItemHeight","finalHeight","cachedRowHeight","canUseSimpleCalc","_getRowHeight","_refreshState","globalRowHeight","_grid_resize","column_before_start","grid_resizer_column_attribute","column_index","column_after_start","drag_index","column_drag_move","target_column","maxPointerPosition","marker_width","keep_grid_width","limit_max","rightColumnsWidth","parentWidth","column_drag_end","visibleColumns","loadedBranches","oldHasChildren","branch_loading","branch_loading_property","needLoading","requestData","encodeURIComponent","LinkFormatterSimple","_getWBSCode","_linkReg","linkPart","_findSource","_gantt","pred","getWBSCode","reqTemplate","wbs","getTaskByWBSCode","LinkFormatter","formattedType","_getFormattedLinkType","_getLinkTypeName","_getLagString","lagPart","typeFormat","_findTypeFormat","typeNumber","_getLinkTypeNumber","_parseLag","linkName","_config","formatted","_defaultSettings","preparedSettings","DurationFormatter","labelName","plural","short","durationUnit","formatUnits","useShortLabels","totalMinutes","transferUnits","toMinutes","_selectFormatForValue","countedValue","_getValueFromMinutes","_getValueInMinutes","_getLabelForConvert","isPartReady","needToParse","isNumber","symbol","_getNumericValue","fromMinutes","_isUnitName","_getUnitName","isUnit","enter","minutesPerHour","hoursPerWeek","daysPerMonth","daysPerYear","numericValue","unitName","callIfEnabled","auto_types","updateParents","checkParent","targetType","getTaskTypeToUpdate","updateTaskType","setTaskType","delTaskParent","group_mode","allTypes","hasChildren","originalRowDndParent","originalMoveTaskParent","isParsingDone","updateAfterRemoveChild","placeholder_task","insertPlaceholder","placeholders","afterEdit","newTask","dataProcessor","_silencedPlaceholder","setUpdated","ready","isPlaceholderTask","isPlaceholderLink","action","commands","entity","resourceAssignmentsProperty","resource_assignment_store","resourceAssignmentFormats","auto","singleValue","valueArray","resourceValueArray","assignmentsArray","resourceAssignmentFormat","assignmentModes","fixedDates","fixedDuration","initAssignmentFields","initDelay","timing","_assignmentTimeFromTask","resourceAssignmentsStore","createDatastore","_makeAssignmentsFromTask","detectFormat","usedIds","defaultMode","_updateTaskBack","_assignAssignments","getTaskAssignments","_loadAssignmentsFromTask","taskAssignments","_syncAssignments","storeAssignments","taskValues","assignmentsStoreValues","inBoth","inTaskNotInStore","inStoreNotInTask","taskOwner","ownerId","foundOwnerAssignment","taskSearch","storeSearch","processedIds","inTask","inStore","diffAssignments","ignoreFields","assignmentHasChanged","updateAssignment","_syncOnTaskUpdate","totalAssignments","needUpdate","needUpdateFor","assignmentsHash","deleteIds","idsSearch","_syncOnTaskDelete","resourceAssignmentsCache","resourceTaskAssignmentsCache","taskAssignmentsCache","searchTaskId","resourceTaskCacheKey","updateTaskAssignments","createResourceMethods","singleResourceCacheBuilt","falsyValuePrefix","random","resourceHashFunction","getCacheKey","resourceIds","getResourceTasks","matchingResources","resourceValue","selectAssignments","owners","propertyValue","filterResourceTasks","_needRecalc","_isRecalcNeeded","_isGroupSort","_calcWBS","$wbs","_setWBSCode","getByWBSCode","currentNode","_isFirst","_prevSibling","_wbs","_parent","createWbs","createMethod","isActive","disableMethod","methodName","dummyMethod","restoreMethod","restoreMethods","batchUpdatePayload","noRedraw","dp_mode","call_dp","updateMode","setUpdateMode","resetProjects","refreshLink","methodsHash","setGanttMode","sendData","SimpleStorage","_storage","storeItem","getStoredItem","dp","getUserData","userdata","setUserData","_change_id","_ganttMode","changeLinkId","changeTaskId","_row_style","rowId","_delete_task","_sendTaskOrder","setDp","DataProcessorEvents","$dp","_dataProcessorHandlers","treeHelper","cascadeDelete","clientSideDelete","updated","updatedRows","clientOnly","_in_progress","cascade_delete","dpMode","cascade","sendAllData","_tSend","_waitMode","itemLinks","_links","getTaskLinks","updateLink","_tMode","_serverProcessor","substring","serverProcessor","pluralizedMode","urlSeparator","upd","isExist","objData","xml_date","parse_date","data_processor_events_1","extend_gantt_1","simple_storage_1","createDataProcessor","router","tMode","DataProcessor","setTransactionMode","serverProcessorURL","action_param","autoUpdate","_headers","_payload","_postDelim","_routerParametersFormat","_invalid","messages","inserted","deleted","invalid","invalid_cell","enableUTFencoding","headers","_serializeAsJson","_router","escape","_utf","getSyncState","findRow","existing","set_invalid","is_invalid","markRow","_methods","details","getActionByState","checkBeforeUpdate","editStop","_beforeSendData","_getRowData","_serializeAsJSON","serialize_one","pref","serialized","valid","_forEachUpdatedRow","_sendData","_getAllData","pattern","defineAction","_uActions","afterUpdateCallback","btag","ganttMode","correct","originalSid","afterUpdate","_xml","getGanttMode","reqUrl","filePath","finalizeUpdate","cleanUpdate","atag","_dp_init","_setDefaultTransactionMode","dataProcessorEvents","setOnAfterUpdate","setOnBeforeUpdateHandler","setAutoUpdate","user","_user","_needUpdate","_updateBusy","afterAutoUpdate","fullSync","loadUpdate","xml_node","getUpdates","vers","_getXmlNodeValue","updates","status_1","parent_1","_applyPayload","_cleanupArgumentsBeforeSend","dataToSend","processedData","_cleanupItemBeforeSend","updatedItem","queryParams","urlParams","preprocessedData","taskState_1","taskAction","ganttMode_1","_onResolvedCreateUpdate_1","actionPromise","then","catch","hasOne","_prepareDate","_prepareArray","traversedObjects","_prepareObject","rawItem","processedItem","_prepareDataItem","dataItem","DEPRECATED_api","server","getDataProcessorModes","getAvailableModes","bindDataStore","itemRepainter","allData","loadedRanges","layerData","skipRepaint","refreshId","selectedId","deleteItem","subItem","getLinkCount","getTaskCount","getVisibleTaskCount","startTask","calculateTaskLevel","createTasksFacade","createLinksFacade","createDatastoreSelect","datastoreRender","getDatastores","createDatastoreFacade","$StoreType","open_tree_initially","deepcopy_on_parse","dropService","storeList","refresh_links","refreshLinks","hasSplitParent","_clear_data","unselectTask","facadeFactory","originalTask","checkLinkedTaskVisibility","sync_link","sync_link_delete","sync_links","mapEvents","mapFrom","sourceEvent","targetEvent","taskLinks","existingLink","sourceMatch","targetMatch","typeMatch","show_tasks_outside_timescale","sourceVisible","targetVisible","deletedLinks","onItemLoading","onBeforeAdd","onAfterAdd","onBeforeUpdate","onAfterUpdate","onBeforeDelete","onAfterDelete","onIdChange","onBeforeItemMove","onAfterItemMove","onFilterItem","onItemOpen","onItemClose","onBeforeSelect","onAfterSelect","onAfterUnselect","setImmediate","registerImmediate","nextHandle","tasksByHandle","currentlyRunningATask","doc","attachTo","getPrototypeOf","handle","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","messagePrefix","onGlobalMessage","installPostMessageImplementation","MessageChannel","channel","port1","port2","installMessageChannelImplementation","script","onreadystatechange","installReadyStateChangeImplementation","clearImmediate","scope","Timeout","clearFn","_id","_clearFn","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","_onTimeout","u","_dereq_","1","Promise","SomePromiseArray","_SomePromiseArray","any","promises","promise","setHowMany","setUnwrap","2","firstLineError","schedule","Queue","util","Async","_customScheduler","_isTickUsed","_lateQueue","_normalQueue","_haveDrainedQueues","_trampolineEnabled","drainQueues","_drainQueues","_schedule","AsyncInvokeLater","receiver","_queueTick","AsyncInvoke","AsyncSettlePromises","_pushOne","_drainQueue","_drainQueueStep","_settlePromises","setScheduler","hasCustomScheduler","enableTrampoline","disableTrampolineIfNecessary","hasDevTools","haveItemsQueued","fatalError","stderr","write","exit","throwLater","invokeLater","invoke","settlePromises","_reset","./queue","./schedule","./util","3","INTERNAL","tryConvertToPromise","debug","calledBind","rejectThis","_","_reject","targetRejected","promiseRejectionQueued","bindingPromise","_then","bindingResolved","thisArg","_bitField","_resolveCallback","bindingRejected","_propagateFrom","propagateFromFunction","_boundValue","boundValueFunction","maybePromise","_target","_setBoundTo","_setOnCancel","_boundTo","_isBound","resolve","4","old","bluebird","noConflict","./promise","5","cr","callerCache","getterCache","canEvaluate","caller","classString","TypeError","ensureMethod","namedGetter","indexedGetter","isIdentifier","isIndex","maybeGetter","getGetter","6","PromiseArray","apiRejection","tryCatch","errorObj","async","_async","cancellation","_warn","_isCancellable","_cancelBy","_isFollowing","_followee","_cancelBranched","_cancellationParent","_setWillBeCancelled","_branchHasCancelled","_branchesRemainingToCancel","_enoughBranchesHaveCancelled","canceller","_invokeOnCancel","_cancel","_setCancelled","_cancelPromises","_length","_unsetOnCancel","_onCancelField","isPending","_isCancelled","isCancellable","isCancelled","_doInvokeOnCancel","onCancelCallback","internalOnly","_attachExtraTrace","_resultCancelled","_onCancel","_invokeInternalOnCancel","7","NEXT_FILTER","getKeys","instances","cb","boundTo","predicateLoop","matchesPredicate","isObject","./es5","8","longStackTraces","contextStack","Context","_trace","CapturedTrace","peekContext","lastIndex","_promiseCreated","_pushContext","_popContext","_peekContext","trace","deactivateLongStackTraces","activateLongStackTraces","Promise_pushContext","Promise_popContext","Promise_PeekContext","Promise_peekContext","Promise_promiseCreated","ctx","9","unhandledRejectionHandled","possiblyUnhandledRejection","printWarning","getDomain","_getDomain","Warning","es5","canAttachTrace","bluebirdFramePattern","nodeFramePattern","parseLinePattern","stackFramePattern","formatStack","indentStackFrames","debugging","warnings","wForgottenReturn","suppressUnhandledRejections","_ensurePossibleRejectionHandled","_setRejectionIsUnhandled","_notifyUnhandledRejection","_notifyUnhandledRejectionIsHandled","fireRejectionEvent","_setReturnedNonUndefined","_returnedNonUndefined","_isRejectionUnhandled","reason","_settledValue","_setUnhandledRejectionIsNotified","_unsetUnhandledRejectionIsNotified","_isUnhandledRejectionNotified","_unsetRejectionIsUnhandled","shouldUseOwnTrace","onPossiblyUnhandledRejection","domain","domainBind","onUnhandledRejectionHandled","disableLongStackTraces","longStackTracesIsSupported","Promise_captureStackTrace","_captureStackTrace","Promise_attachExtraTrace","Promise_dereferenceTrace","_dereferenceTrace","longStackTracesCaptureStackTrace","longStackTracesAttachExtraTrace","longStackTracesDereferenceTrace","hasLongStackTraces","fireDomEvent","CustomEvent","dispatchEvent","eventData","cancelable","domEvent","Event","initCustomEvent","fireGlobalEvent","generatePromiseLifecycleEventObject","eventToObjectGenerator","promiseCreated","promiseFulfilled","promiseRejected","promiseResolved","promiseCancelled","promiseChained","warning","unhandledRejection","rejectionHandled","activeFireEvent","globalEventFired","domEventFired","defaultFireEvent","cancellationExecute","executor","reject","onCancel","_attachCancellationCallback","cancellationAttachCancellationCallback","previousOnCancel","cancellationOnCancel","cancellationSetOnCancel","cancellationClearCancellationData","cancellationPropagateFrom","flags","branchesRemainingToCancel","warningsOption","_clearCancellationData","_execute","monitoring","isFulfilled","ignoreSelf","attachExtraTrace","__stackCleaned__","parseStackAndMessage","notEnumerableProp","formatAndLogError","cleanStack","isTraceLine","isInternalFrame","shouldIgnore","stackFramesAsArray","isSoft","localHandler","localEventFired","formatNonError","newStr","maxChars","snip","captureStackTrace","parseLineInfoRegex","parseLineInfo","fileName","_promisesCreated","uncycle","inherits","stackToIndex","currentStack","cycleEdgeNode","currentChildLength","stacks","currentLastIndex","currentLastLine","commonRootMeetPoint","removeCommonRoots","removeDuplicateOrEmptyJumps","reconstructStack","v8stackFramePattern","v8stackFormatter","stackTraceLimit","ignoreUntil","hasStackAfterThrow","err","isTTY","checkForgottenReturns","handlerLine","creatorLine","traceLines","lineMatches","firstUserLine","msg","setBounds","lastLineError","firstFileName","lastFileName","firstStackLines","lastStackLines","firstIndex","deprecated","replacement","./errors","10","returner","thrower","thenReturn","thenThrow","catchThrow","_reason","caught","catchReturn","_value","11","PromiseReduce","reduce","PromiseAll","promiseAllThis","mapSeries","12","_TypeError","_RangeError","Objectfreeze","freeze","subError","nameProperty","defaultMessage","SubError","CancellationError","TimeoutError","AggregateError","RangeError","writable","OperationalError","cause","errorTypes","RejectionError","13","isES5","getDescriptor","getOwnPropertyDescriptor","getOwnPropertyNames","propertyIsWritable","prop","descriptor","proto","ObjectKeys","14","PromiseMap","15","catchFilter","PassThroughHandlerContext","called","cancelPromise","FinallyHandlerCancelReaction","finallyHandler","checkCancel","succeed","fail","reasonOrValue","isFinallyHandler","isRejected","_passThrough","success","lastly","tap","tapCatch","handlerOrPredicate","catchInstances","./catch_filter","16","Proxyable","errors","yieldHandlers","PromiseSpawn","generatorFunction","yieldHandler","internal","_finallyPromise","_promise","_stack","_generatorFunction","_receiver","_generator","_yieldHandlers","_yieldedPromise","_cancellationPhase","_isResolved","_cleanup","_fulfill","_promiseCancelled","implementsReturn","coroutine","returnSentinel","_continue","_promiseFulfilled","_promiseRejected","_run","_rejectCallback","traceParent","promiseFromYieldHandler","bitField","_proxy","PromiseSpawn$","generator","spawn","addYieldHandler","17","spread","18","MappingPromiseArray","limit","constructor$","_callback","_preservedValues","_limit","_inFlight","_queue","_asyncInit","concurrency","_init$","_init","_values","preservedValues","totalResolved","_totalResolved","_resolve","booleans","19","_resolveFromSyncValue","attempt","20","maybeWrapAsError","rErrorKey","wrapAsOperationalError","isUntypedError","markAsOriginatingFromRejection","multiArgs","wrapped","21","spreadAdapter","nodeback","successAdapter","errorAdapter","newReason","asCallback","nodeify","22","makeSelfResolutionError","reflectHandler","PromiseInspection","UNDEFINED_BINDING","APPLY","createContext","nodebackForPromise","_fulfillmentHandler0","_rejectionHandler0","_promise0","_receiver0","_resolveFromExecutor","deferResolve","deferReject","fillTypes","reflect","didFulfill","didReject","_setIsFinal","toJSON","fulfillmentValue","rejectionReason","originatesFromRejection","getNewLibraryCopy","is","fromNode","fromCallback","_isFateSealed","_setAsyncGuaranteed","cast","_setFulfilled","fulfilled","rejected","internalData","haveInternalData","settler","_settlePromiseCtx","_settlePromiseLateCancellationObserver","_addCallbacks","_setLength","_setRejected","_setFollowing","_isFinal","_unsetCancelled","_receiverAt","_promiseAt","_fulfillmentHandlerAt","_rejectionHandlerAt","_migrateCallback0","follower","fulfill","_migrateCallbackAt","proxyable","shouldBind","_setFollowee","synchronous","ignoreNonErrorWarnings","ensureErrorObject","hasStack","_settlePromiseFromHandler","_settlePromise","isPromise","asyncGuaranteed","_settlePromise0","_clearCallbackDataAtIndex","_fulfillPromises","_rejectPromises","defer","toFastProperties","./any.js","./async","./bind","./call_get.js","./cancel","./context","./debuggability","./direct_resolve","./each.js","./filter.js","./finally","./generators.js","./join","./map.js","./method","./nodeback","./nodeify.js","./promise_array","./promisify.js","./props.js","./race.js","./reduce.js","./settle.js","./some.js","./synchronous_inspection","./thenables","./timers.js","./using.js","23","resolveValueIfEmpty","asArray","_iterate","_resolveEmptyArray","toResolutionValue","getActualLength","shouldCopyValues","isResolved","24","THIS","withAppended","defaultPromisified","__isPromisified__","noCopyPropsPattern","defaultFilter","propsFilter","isPromisified","hasPromisified","suffix","getDataPropertyOrDefault","promisifiableMethods","suffixRegexp","inheritedDataKeys","passesDefaultFilter","keyWithoutAsyncSuffix","checkValid","escapeIdentRegex","makeNodePromisified","makeNodePromisifiedEval","defaultThis","promisified","promisifyAll","promisifier","promisifiedKey","promisify","copyDescriptors","isClass","25","Es6Map","mapToEntries","extractEntry","PropertiesPromiseArray","entries","isMap","_isMap","props","castValue","entriesToMap","keyOffset","26","_capacity","_willBeOverCapacity","_checkCapacity","wrapMask","_resizeTo","oldCapacity","moveItemsCount","srcIndex","dst","dstIndex","arrayMove","27","raceLater","race","28","ReductionPromiseArray","initialValue","_each","_fn","_initialValue","_currentCancellable","_eachValues","completed","valueOrReason","gotAccum","accum","_gotAccum","gotValue","_eachComplete","sender","_resultCancelled$","29","NativePromise","getNativePromise","MutationObserver","GlobalSetImmediate","ProcessNextTick","isRecentNode","nativePromise","standalone","cordova","toggleScheduled","div2","o2","observe","disconnect","30","SettledPromiseArray","_promiseResolved","inspection","_settledValueField","settle","31","CANCELLATION","_howMany","_unwrap","some","howMany","isArrayResolved","_canPossiblyFulfill","_getRangeError","_addFulfilled","_fulfilled","_addRejected","_checkOutcome","_rejected","32","__isCancelled","33","hasProp","doGetThen","getThen","isAnyBluebirdPromise","doThenable","34","HandleWrapper","afterValue","ms","successClear","failureClear","handleWrapper","afterTimeout","35","NULL","dispose","thenable","_isDisposable","_getDisposer","_setDisposable","castPreservingDisposable","tryDispose","Disposer","_data","_context","FunctionDisposer","maybeUnwrapDisposer","isDisposer","ResourceList","doDispose","_unsetDisposable","using","spreadArgs","disposer","reflectedResources","resultPromise","inspections","_disposer","36","tryCatchTarget","globalObject","tryCatcher","Child","Parent","T","isPrimitive","maybeError","safeToString","appendee","excludedPrototypes","isExcludedProto","visitedKeys","enumeration","thisAssignmentPattern","hasMethods","hasMethodsOtherThanConstructor","hasThisAssignmentAndStaticMethods","FakeConstructor","ic","foo","rident","filledRange","prefix","isError","ArrayFrom","itResult","hasEnvVariables","chrome","loadTimes","P","stateProviders","provider","regTemplates","initial","template_name","date_format","server_utc","task_unscheduled_time","grid_date_format","tooltip_date_format","dom_helpers","copyDomEvent","altKey","_settings","inputMethods","getInputMethods","_drag_start_timer","clearDragTimer","eventParams","passive","timeStamp","original_target","dragStart","traceDragEvents","inputMethod","mousemove","dragMove","dragScroll","limited_mousemove","dndActive","mouseup","dragEnd","checkPositionChange","diff_x","diff_y","initDnDMarker","backupEventTarget","getEvent","backup_element","elementFromPoint","cspVersion","utc","to_fixed","getUTCMonth","getUTCFullYear","getUTCDay","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCISOWeek","getISOWeek","mask","month_short_hash","month_full_hash","fastVersion","dateToStrFn","getWeek","splt","strToDateFn","cspCompliantVersion","canUseCsp","useCsp","csp","time_part","start_on_monday","month_start","setDate","quarter_start","res_month","setMonth","year_start","minute_start","getMilliseconds","setMilliseconds","_add_days","modifiedDate","inc","originalDate","incCondition","getHoursCondition","getDateCondition","ndate","setYear","add_quarter","num","_getWeekNumber","isoWeek","nday","first_thursday","year_number","ordinal_date","convert_to_utc","createConfig","DOMParser","ActiveXObject","loadXML","parseFromString","tagname","xhr","responseXML","xpathExp","docObj","selectNodes","ownerDocument","evaluate","XPathResult","ANY_TYPE","iterateNext","_call","onLoad","getSync","put","postData","del","post","postSync","isQt","readyState","setRequestHeader","toUpperCase","send","show_loading","dhx_save_btn","dhx_cancel_btn","dhx_delete_btn","project_sections","milestone_sections","grid_resize","prevent_default_scroll","drag_timeline","service","supportedExtensions","license","extensionManager","ExtensionManager","activePlugins","plugins","plugin","templatesLoader","stateService","selected_task","i18n","setLocale","localeObject","extension_manager_1","GanttFactory","factoryMethod","_bundledExtensions","_ganttPlugin","initConfig","_factoryMethod","_internal_id","_seed","_initFromConfig","_extensionsManager","event_1","MAX_UNDO_STEPS","Undo","maxSteps","undoEnabled","redoEnabled","invert","revert","inverseCommands","_undoStack","_redoStack","getUndoStack","getRedoStack","clearUndoStack","clearRedoStack","updateConfigs","undo_steps","undo_types","undo_actions","undo","redo","_pop","_reorderCommands","_applyAction","_push","logAction","weights","actionWeights","weightA","entities","actions","isExists","getMethod","startsWith","noTrack","onBeforeUndo","onBeforeRedo","batchActions","Monitor","_batchAction","_batchMode","_ignore","_ignoreMoveEvents","_initialTasks","_initialLinks","_nestedTasks","_nestedLinks","_undo","_attachEvents","overwrite","_storeTask","_storeLink","isMoveEventsIgnored","toggleIgnoreMoveEvents","startIgnore","stopIgnore","startBatchAction","_timeout","stopBatchAction","onTaskAdded","_storeTaskCommand","onTaskUpdated","onTaskMoved","getInitialTask","_storeEntityCommand","onTaskDeleted","childrenLinks","_storeLinkCommand","onLinkAdded","onLinkUpdated","onLinkDeleted","setNestedTasks","taskIds","_getLinks","setInitialTask","uniqueLinks","setInitialLink","setInitialTaskObject","clearInitialTasks","getInitialLink","clearInitialLinks","deleteCacheCooldown","saveInitialAll","getMoveObjectByTaskId","nested","_storeCommand","actionType","entityType","monitor_1","undo_1","monitor","changeTaskCommandId","updLink","oldTaskId","newTaskId","changeLinkCommandId","updateTasksIds","updateLinksIds","saveState","Tooltip","_tooltipNode","setViewport","_root","_isLikeMouseEvent","_calculateTooltipPosition","setContent","_getViewPort","_getViewPortSize","tooltipNode","tooltip","mouse","containerPos","domEventsScope","tooltip_1","TooltipManager","_listeners","_initDelayedFunctions","hideTooltip","delayHide","watchableTarget","eventTarget","doOnMouseEnter","onmouseenter","onmousemove","onmouseleave","listener","tooltipFor","cloneDomEvent","clone","delayShow","tooltip_timeout","tooltip_hide_timeout","tooltipManager_1","tooltipManager","tooltips","touch_tooltip","QuickInfo","_showForTask","_showAtCoordinates","forced","qi","_quickInfoBox","_quickInfoBoxId","_quickInfoTask","quick_info_detached","setContainer","_container","defaultContent","quickinfo_buttons","_createQuickInfoElement","titleBox","titleContent","titleDate","main","controls","_qiButtonClickHandler","_qiKeyPressHandler","_qi_button_click","_appendAtCoordinates","show_quick_info","_getContainer","_get_event_counter_part","xViewport","yViewport","_init_quick_info","_prepare_quick_info_classname","_fill_quick_data","_show_quick_info","domEv","_quickInfoReadonly","quick_info_class","allowedButtons","isEditor","quick_info_title","quick_info_date","quick_info_content","popupHeight","scrolls","screenWidth","relativePopupBottom","top_1","quickInfo_1","quickInfo","hidingFunction","clearQuickInfo","overlay","overlays","initOverlayArea","$overlay_area","overlayArea","attachUnnattached","isAttached","attachOverlay","showOverlayArea","hideIfNoVisibleLayers","addOverlay","createOverlay","deleteOverlay","getOverlaysIds","refreshOverlay","showOverlay","hideOverlay","isOverlayVisible","multiselect_one_level","_selected","_one_level","_active","_first_selected_when_shift","getDefaultSelected","selected","getSelected","setFirstSelected","getFirstSelected","updateState","setLastSelected","getLastSelected","afterSelect","forSelected","isSameLevel","doSelection","target_ev","defaultLast","isLast","multiSelect","singleSelection","blockSelection","first_indx","target_indx","last_indx","old_selectTask","old_unselectTask","toggleTaskSelection","eachSelectedTask","getLastSelectedTask","old_isSelected","render_marker","show_markers","marker_class","initMarkerArea","markerArea","$marker_area","_markers","renderMarkers","getMarker","addMarker","deleteMarker","updateMarker","_getMarkers","$keyboardNavigation","dispatcher","activeNode","globalNode","GanttNode","setActiveNode","getActiveNode","getDefaultNode","TaskCell","TaskRow","isValid","setDefaultNode","fromDomElement","HeaderCell","focusGlobalNode","blurNode","focusNode","focusChanged","compareTo","keptFocus","blur","keyDownHandler","isModal","ganttNode","shortcuts","getCommandFromEvent","activeElement","findHandler","doAction","awaitsFocus","clearDelay","modalsStack","afterPopup","startModal","trapFocus","endModal","currentTarget","isTopModal","traceLightbox","focusElement","_compose","cellElement","nextElement","prevTask","moveTo","nextTask","home","pagedown","pageup","bindAll","KeyNavNode","viewWidth","viewHeight","scrollPositionX","scrollPositionY","attachedScrollbarHorizontal","scrollbarHorizontal","attachedScrollbarVertical","scrollbarVertical","scrollGrid","shift+down","shift+up","shift+right","shift+left","space","ctrl+left","ctrl+right","ctrl+enter","taskRow","enter, space","EventHandler","canStringifyThis","canStringifyThat","eventFacade","$eventAttached","alt+left","alt+right","alt+up","alt+down","ctrl+z","ctrl+r","currentFocus","currentIndex","lastItem","firstItem","getHash","shortcut","unbind","initKeys","createCommand","expr","getExpressions","words","getWords","commandKeys","specialKeys","charCodeAt","printableKey","fromCharCode","getHashFromEvent","junctionChar","term","combinationChar","backspace","tab","esc","insert","plus","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","keyboard_navigation","isTaskFocused","isInlineEditorCell","focusHandler","$preventDefault","reFocusActiveNode","mousedownHandler","locateTask","removeAttribute","onReady","updateRender","_redrawTasks","focusedItemVisible","nodeConstructor","getScope","scopes","headerCell","taskCell","findVisibleColumnIndex","keyNavFacade","addShortcut","scopeObject","getShortcutHandler","removeShortcut","getScopeName","setupKeyNav","setRelationValueForAssignmentsArray","newGroupValues","oldRelationProperty","newRelationProperty","new_value","setRelationValueForPrimitivesArray","_getResourcesIds","_getEntryId","_initBeforeDataRender","_listenerToDrop","delayedFunction","_groups","dynamicGroups","regroup","relation_property","relation_id_property","group_id","group_text","loading","set_relation_value","_searchCache","originalGetParent","invalidParent","noRelationValueFunction","is_active","get_parent","originalSetParent","groupIds","_clearCache","_buildCache","relationProperty","_getGroupId","_groups_pull","generate_sections","groups_type","clear_temp_tasks","generate_data","categories","update_settings","relation","group_tasks","groups_array","schedulingOnParse","auto_scheduling_initial","groupBy","relationInfo","arrays","haveArrays","haveResourceAssignments","inspectRelationProperty","selectRelationFunction","default_group_label","default_group","groupOpenCloseState","restoreOpenCloseState","resultObj","itemsByKey","hasDefaultGroup","defaultGroupId","taskGroupValue","_getGroupForMultiItems","_initGroups","isExpanded","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","fullscreen","backupBodyPadding","backupElementSizes","zIndex","modified","backupPositioning","updateSizes","expandGantt","onFullScreenChange","getFullscreenElement","originalPositioning","resetParentPositioning","setFullScreenSizes","record","restoreParentPositioning","restoreSizes","cantFullscreen","fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","expand","requestArguments","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","collapse","requestExitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","exitFullscreen","EventsManager","_mouseDown","_calculateDirectionVector","vectors","resultVector_1","vector","magnitude","angleDegrees","atan2","_applyDndReadyStyles","_timeline","_clearDndReadyStyles","_getScrollPosition","_countNewScrollPosition","coords","_startPoint","shiftY","_scrollState","_setScrollPosition","requestAnimationFrame","_stopDrag","_originalReadonly","_startDrag","enabled","filterTargets","eventsManager_1","linksBuilder","graphHelper","_isProjectEnd","_calculateBranch","criticalTasks","adjacentLinks","_getSlack","_calculateSummaryTasks","summaryHash","criticalHash","_calculate","summaryTasks","handleTaskIdChange","criticalPathHandler","_private","_freeSlack","_totalSlack","_slackNeedCalculate","_linkedTasksById","_calculateTotalSlack","linksByTaskId","slack","getFreeSlack","minSlack","totalSlackByTaskId","_chainSlackCount","_slacksChanged","additional","targetWithMinimalSlack","_getTargetWithMinimalSlack","_calculateTaskSlack","_calculateRelationSlack","_calculateHierarchySlack","_calculateLinkSlack","getSlack","_resetTotalSlackCache","_shouldCalculateTotalSlack","getTotalSlack","dropCachedFreeSlack","slackHandler","criticalPath","task1","task2","common","newSlack","next_task","helpers_1","SelectedRegion","_el","relative","_singleRow","_getTaskPositionByTop","_view","_viewPort","_endPoint","draw","singleRow","_useRequestAnimationFrame","useRequestAnimationFrame","getElement","setStart","startPoint","_startDate","setEnd","endPoint","_endDate","_positionPoint","absolute","setPosition","positionPoint","tasksByTime","tasksByIndex","_getTasksByTop","getInBounds","startValue","endValue","selectedRegion","_originPosition","_restoreOriginPosition","scheduledDndCoordinates","_getCoordinates","coordinates","viewPortBounds","selectedRegion_1","defaultConfig","eventsManager","clickDrag","__assign","click_drag","attachUIHandlers","loopsFinder","connectedGroupsHelper","_attachAutoSchedulingHandlers","movedTask","_scheduleAfterBatchUpdate","_autoScheduleAfterLinkChange","_autoscheduling_in_progress","_preventCircularLink","isCircularLink","getLoopContainingLink","_preventDescendantLink","auto_scheduling_descendant_links","_datesNotEqual","dateA","dateB","taskA","taskB","_notEqualTaskDates","getRelations","auto_scheduling_compatibility","getConnectedGroupRelations","updateTaskConstraints","FNLT","SNET","finalizeTaskConstraints","changedConstraint","_autoScheduleAfterDND","relationsArray","skipped","originalLink","presentLinks","updatedLinks","resetToStartLinksLags","_autoSchedule","modifiedTaskId","autoscheduleColumns_1","oldTask","LoopsFinder","_graphHelper","_linksBuilder","allRelations","findCycles","breadthFirstSearch","currentVertex","groupTasks","groupLinksInternal","groupLinksPublic","linksArray","linksObjects","processedLinks","ConnectedGroupsHelper","getConnectedGroup","length_1","findGroups","task_plan_1","AsapStrategy","instance","resolveRelationDate","plansHash","minStart","defaultStart","minRelationDate","getEarliestStartDate","isSmallerOrDefault","maxEnd","masterPlan","currentPlan","isEqual","isFirstSmaller","small","big","smallDate","bigDate","getPredecessorEndDate","successorStart","predecessorEnd","AlapStrategy","maxStart","maxRelationDate","getLatestEndDate","constraintStartDate","isGreaterOrDefault","getSuccessorStartDate","alap_strategy_1","asap_strategy_1","constraint_types_1","AutoSchedulingPlanner","constraintsHelper","_constraintsHelper","_asapStrategy","_alapStrategy","generatePlan","constraints","alapStrategy","asapStrategy","buildWorkCollections","orderedIds","reversedIds","relationsMap","processConstraints","iterateTasks","isAlapTask","isAsapTask","applyProjectPlan","projectPlan","updateTasks","newDate","mainSequence","secondarySequence","isMainSequence","mainSequenceStrategy","secondarySequenceStrategy","currentId","limitPlanDates","processResolvedDate","effectiveStart","processConstraint","ConstraintsHelper","hasConstraint","newPlan","SNLT","FNET","MSO","MFO","getConstraints","planner","connectedGroups","getConstraintLimitations","auto_scheduling_strict","updatedTasks","preferInitialTaskDates","updateParentsAndCallEvents","inclusive","auto_scheduling_compatible","click_drag_1","critical_path","drag_timeline_1","fullscreen_1","grouping","quick_info_1","quick_info","extensions_all_1","gantt_factory_1"],"mappings":"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","file":"dhtmlxgantt.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"dhtmlxgantt\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"dhtmlxgantt\"] = factory();\n\telse\n\t\troot[\"dhtmlxgantt\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/codebase/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 277);\n","var helpers = require(\"./helpers\");\n\nfunction isCustomType(object){\n\tvar constructorString = object.constructor.toString();\n\tvar plainObjectConstructor = ({}).constructor.toString();\n\n\treturn constructorString !== plainObjectConstructor;\n}\n\nfunction copy(object) {\n\tvar i, result; // iterator, types array, result\n\n\tif (object && typeof object == \"object\") {\n\n\t\tswitch (true){\n\t\t\tcase (helpers.isDate(object)):\n\t\t\t\tresult = new Date(object);\n\t\t\t\tbreak;\n\t\t\tcase (helpers.isArray(object)):\n\t\t\t\tresult = new Array(object.length);\n\t\t\t\tfor(i = 0; i < object.length; i++){\n\t\t\t\t\tresult[i] = copy(object[i]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase (helpers.isStringObject(object)):\n\t\t\t\tresult = new String(object);\n\t\t\t\tbreak;\n\t\t\tcase (helpers.isNumberObject(object)):\n\t\t\t\tresult = new Number(object);\n\t\t\t\tbreak;\n\t\t\tcase (helpers.isBooleanObject(object)):\n\t\t\t\tresult = new Boolean(object);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tif(isCustomType(object)){\n\t\t\t\t\tresult = Object.create(object);\n\t\t\t\t}else{\n\t\t\t\t\tresult = {};\n\t\t\t\t}\n\n\t\t\t\tfor (i in object) {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.apply(object, [i]))\n\t\t\t\t\t\tresult[i] = copy(object[i]);\n\t\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn result || object;\n}\n\nfunction mixin (target, source, force){\n\tfor (var f in source)\n\t\tif (((target[f] === undefined) || force)) target[f]=source[f];\n\treturn target;\n}\n\nfunction defined(obj) {\n\treturn typeof(obj) != \"undefined\";\n}\n\nvar seed;\nfunction uid() {\n\tif (!seed)\n\t\tseed = (new Date()).valueOf();\n\n\tseed++;\n\treturn seed;\n}\n\n//creates function with specified \"this\" pointer\nfunction bind(functor, object){\n\tif(functor.bind)\n\t\treturn functor.bind(object);\n\telse\n\t\treturn function(){ return functor.apply(object,arguments); };\n}\n\nfunction event(el, event, handler, capture){\n\tif (el.addEventListener)\n\t\tel.addEventListener(event, handler, capture === undefined ? false : capture);\n\n\telse if (el.attachEvent)\n\t\tel.attachEvent(\"on\"+event, handler);\n}\n\nfunction eventRemove(el, event, handler, capture){\n\tif (el.removeEventListener)\n\t\tel.removeEventListener(event, handler, capture === undefined ? false : capture);\n\n\telse if (el.detachEvent)\n\t\tel.detachEvent(\"on\"+event, handler);\n}\n\nmodule.exports = {\n\tcopy: copy,\n\tdefined: defined,\n\tmixin: mixin,\n\tuid: uid,\n\tbind: bind,\n\tevent: event,\n\teventRemove: eventRemove\n};","//returns position of html element on the page\nfunction elementPosition(elem) {\n\tvar top=0, left=0, right=0, bottom=0;\n\tif (elem.getBoundingClientRect) { //HTML5 method\n\t\tvar box = elem.getBoundingClientRect();\n\t\tvar body = document.body;\n\t\tvar docElem = (document.documentElement ||\n\t\t\tdocument.body.parentNode ||\n\t\t\tdocument.body);\n\n\t\tvar scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop;\n\t\tvar scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft;\n\t\tvar clientTop = docElem.clientTop || body.clientTop || 0;\n\t\tvar clientLeft = docElem.clientLeft || body.clientLeft || 0;\n\t\ttop  = box.top +  scrollTop - clientTop;\n\t\tleft = box.left + scrollLeft - clientLeft;\n\n\t\tright = document.body.offsetWidth - box.right;\n\t\tbottom = document.body.offsetHeight - box.bottom;\n\t} else { //fallback to naive approach\n\t\twhile(elem) {\n\t\t\ttop = top + parseInt(elem.offsetTop,10);\n\t\t\tleft = left + parseInt(elem.offsetLeft,10);\n\t\t\telem = elem.offsetParent;\n\t\t}\n\n\t\tright = document.body.offsetWidth - elem.offsetWidth - left;\n\t\tbottom = document.body.offsetHeight - elem.offsetHeight - top;\n\t}\n\treturn { y: Math.round(top), x: Math.round(left), width:elem.offsetWidth, height:elem.offsetHeight, right: Math.round(right), bottom: Math.round(bottom) };\n}\n\nfunction isVisible(node){\n\tvar display = false,\n\t\tvisibility = false;\n\tif(window.getComputedStyle){\n\t\tvar style = window.getComputedStyle(node, null);\n\t\tdisplay = style[\"display\"];\n\t\tvisibility = style[\"visibility\"];\n\t}else if(node.currentStyle){\n\t\tdisplay = node.currentStyle[\"display\"];\n\t\tvisibility = node.currentStyle[\"visibility\"];\n\t}\n\treturn (display != \"none\" && visibility != \"hidden\");\n}\n\nfunction hasNonNegativeTabIndex(node){\n\treturn !isNaN(node.getAttribute(\"tabindex\")) && (node.getAttribute(\"tabindex\")*1 >= 0);\n}\n\nfunction hasHref(node){\n\tvar canHaveHref = {\"a\": true, \"area\": true};\n\tif(canHaveHref[node.nodeName.loLowerCase()]){\n\t\treturn !!node.getAttribute(\"href\");\n\t}\n\treturn true;\n}\n\nfunction isEnabled(node){\n\tvar canDisable = {\"input\":true, \"select\":true, \"textarea\":true, \"button\":true, \"object\":true};\n\tif(canDisable[node.nodeName.toLowerCase()]){\n\t\treturn !node.hasAttribute(\"disabled\");\n\t}\n\n\treturn true;\n}\n\nfunction getFocusableNodes(root){\n\tvar nodes = root.querySelectorAll([\n\t\t\"a[href]\",\n\t\t\"area[href]\",\n\t\t\"input\",\n\t\t\"select\",\n\t\t\"textarea\",\n\t\t\"button\",\n\t\t\"iframe\",\n\t\t\"object\",\n\t\t\"embed\",\n\t\t\"[tabindex]\",\n\t\t\"[contenteditable]\"\n\t].join(\", \"));\n\n\tvar nodesArray = Array.prototype.slice.call(nodes, 0);\n\tfor(var i = 0; i < nodesArray.length; i++){\n\t\tvar node = nodesArray[i];\n\t\tvar isValid = (hasNonNegativeTabIndex(node)  || isEnabled(node) || hasHref(node)) && isVisible(node);\n\t\tif(!isValid){\n\t\t\tnodesArray.splice(i, 1);\n\t\t\ti--;\n\t\t}\n\t}\n\treturn nodesArray;\n}\n\nfunction getScrollSize(){\n\tvar div = document.createElement(\"div\");\n\tdiv.style.cssText=\"visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;\";\n\n\tdocument.body.appendChild(div);\n\tvar width = div.offsetWidth-div.clientWidth;\n\tdocument.body.removeChild(div);\n\n\treturn width;\n}\n\nfunction getClassName(node){\n\tif(!node) return \"\";\n\n\tvar className = node.className || \"\";\n\tif(className.baseVal)//'className' exist but not a string - IE svg element in DOM\n\t\tclassName = className.baseVal;\n\n\tif(!className.indexOf)\n\t\tclassName = \"\";\n\n\treturn _trimString(className);\n}\n\nfunction addClassName(node, className){\n\tif (className && node.className.indexOf(className) === -1) {\n\t\tnode.className += \" \" + className;\n\t}\n}\n\nfunction removeClassName(node, name) {\n\tname = name.split(\" \");\n\tfor (var i = 0; i < name.length; i++) {\n\t\tvar regEx = new RegExp(\"\\\\s?\\\\b\" + name[i] + \"\\\\b(?![-_.])\", \"\");\n\t\tnode.className = node.className.replace(regEx, \"\");\n\t}\n}\n\nfunction hasClass(element, className){\n\tif ('classList' in element) {\n\t\treturn element.classList.contains(className);\n\t} else { \n\t\treturn new RegExp(\"\\\\b\" + className + \"\\\\b\").test(element.className);\n\t}\n}\n\nfunction toNode(node) {\n\tif (typeof node === \"string\") {\n\t\treturn (document.getElementById(node) || document.querySelector(node) || document.body);\n\t}\n\treturn node || document.body;\n}\n\nvar _slave;\nfunction insert(node, newone) {\n\tif(!_slave){\n\t\t_slave = document.createElement(\"div\");\n\t}\n\t_slave.innerHTML = newone;\n\tvar child = _slave.firstChild;\n\tnode.appendChild(child);\n\treturn child;\n}\n\nfunction remove(node) {\n\tif (node && node.parentNode) {\n\t\tnode.parentNode.removeChild(node);\n\t}\n}\n\nfunction getChildren(node, css) {\n\tvar ch = node.childNodes;\n\tvar len = ch.length;\n\tvar out = [];\n\tfor (var i = 0; i < len; i++) {\n\t\tvar obj = ch[i];\n\t\tif (obj.className && obj.className.indexOf(css) !== -1) {\n\t\t\tout.push(obj);\n\t\t}\n\t}\n\treturn out;\n}\n\nfunction getTargetNode(e){\n\tvar trg;\n\tif (e.tagName)\n\t\ttrg = e;\n\telse {\n\t\te=e||window.event;\n\t\ttrg=e.target||e.srcElement;\n\t}\n\treturn trg;\n}\n\nfunction locateAttribute(e, attribute) {\n\tif(!attribute) return;\n\n\tvar trg = getTargetNode(e);\n\n\twhile (trg){\n\t\tif (trg.getAttribute){\t//text nodes has not getAttribute\n\t\t\tvar test = trg.getAttribute(attribute);\n\t\t\tif (test) return trg;\n\t\t}\n\t\ttrg=trg.parentNode;\n\t}\n\treturn null;\n}\n\nfunction _trimString(str){\n\tvar func = String.prototype.trim || function(){ return this.replace(/^\\s+|\\s+$/g, \"\"); };\n\treturn func.apply(str);\n}\n\nfunction locateClassName(e, classname, strict){\n\tvar trg = getTargetNode(e);\n\tvar css = \"\";\n\n\tif(strict === undefined)\n\t\tstrict = true;\n\n\twhile (trg){\n\t\tcss = getClassName(trg);\n\t\tif(css){\n\t\t\tvar ind = css.indexOf(classname);\n\t\t\tif (ind >= 0){\n\t\t\t\tif (!strict)\n\t\t\t\t\treturn trg;\n\n\t\t\t\t//check that we have exact match\n\t\t\t\tvar left = (ind === 0) || (!_trimString(css.charAt(ind - 1)));\n\t\t\t\tvar right = ((ind + classname.length >= css.length)) || (!_trimString(css.charAt(ind + classname.length)));\n\n\t\t\t\tif (left && right)\n\t\t\t\t\treturn trg;\n\t\t\t}\n\t\t}\n\t\ttrg=trg.parentNode;\n\t}\n\treturn null;\n}\n\n/*\nevent position relatively to DOM element\n */\nfunction getRelativeEventPosition(ev, node){\n\tvar d = document.documentElement;\n\tvar box = elementPosition(node);\n\n\treturn {\n\t\tx: ev.clientX + d.scrollLeft - d.clientLeft - box.x + node.scrollLeft,\n\t\ty: ev.clientY + d.scrollTop - d.clientTop - box.y + node.scrollTop\n\t};\n}\n\nfunction isChildOf(child, parent){\n\tif(!child || !parent){\n\t\treturn false;\n\t}\n\n\twhile(child && child != parent) {\n\t\tchild = child.parentNode;\n\t}\n\n\treturn child === parent;\n}\n\nfunction closest(element, selector){\n\tif(element.closest){\n\t\treturn element.closest(selector);\n\t}else if(element.matches || element.msMatchesSelector || element.webkitMatchesSelector){\n\t\tvar el = element;\n\t\tif (!document.documentElement.contains(el)) return null;\n\t\tdo {\n\t\t\tvar method = el.matches || el.msMatchesSelector || el.webkitMatchesSelector;\n\n\t\t\tif (method.call(el, selector)) return el;\n\t\t\tel = el.parentElement || el.parentNode;\n\t\t} while (el !== null && el.nodeType === 1); \n\t\treturn null;\n\t}else{\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error(\"Your browser is not supported\");\n\t\treturn null;\n\t}\n}\n\nmodule.exports = {\n\tgetNodePosition: elementPosition,\n\tgetFocusableNodes: getFocusableNodes,\n\tgetScrollSize: getScrollSize,\n\tgetClassName: getClassName,\n\taddClassName: addClassName,\n\tremoveClassName: removeClassName,\n\tinsertNode: insert,\n\tremoveNode: remove,\n\tgetChildNodes: getChildren,\n\ttoNode: toNode,\n\tlocateClassName:locateClassName,\n\tlocateAttribute: locateAttribute,\n\tgetTargetNode: getTargetNode,\n\tgetRelativeEventPosition: getRelativeEventPosition,\n\tisChildOf: isChildOf,\n\thasClass: hasClass,\n\tclosest: closest\n};","var units = {\n\t\"second\": 1,\n\t\"minute\": 60,\n\t\"hour\": 60 * 60,\n\t\"day\": 60 * 60 * 24,\n\t\"week\": 60 * 60 * 24 * 7,\n\t\"month\": 60 * 60 * 24 * 30,\n\t\"quarter\": 60 * 60 * 24 * 30 * 3,\n\t\"year\": 60 * 60 * 24 * 365\n};\nfunction getSecondsInUnit(unit){\n\treturn units[unit] || units.hour;\n}\n\nfunction forEach(arr, callback) {\n\tif (arr.forEach) {\n\t\tarr.forEach(callback);\n\t} else {\n\t\tvar workArray = arr.slice();\n\t\tfor (var i = 0; i < workArray.length; i++) {\n\t\t\tcallback(workArray[i], i);\n\t\t}\n\t}\n}\n\nfunction arrayMap(arr, callback) {\n\tif (arr.map) {\n\t\treturn arr.map(callback);\n\t} else {\n\t\tvar workArray = arr.slice();\n\t\tvar resArray = [];\n\n\t\tfor (var i = 0; i < workArray.length; i++) {\n\t\t\tresArray.push(callback(workArray[i], i));\n\t\t}\n\t\treturn resArray;\n\t}\n}\n\n\nfunction arrayFind(arr, callback) {\n\tif (arr.find) {\n\t\treturn arr.find(callback);\n\t} else {\n\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\tif (callback(arr[i], i)) {\n\t\t\t\treturn arr[i];\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction arrayIncludes(arr, item) {\n\tif(arr.includes){\n\t\treturn arr.includes(item);\n\t}else{\n\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\tif (arr[i] === item) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n}\n\n// iframe-safe array type check instead of using instanceof\nfunction isArray(obj){\n\tif(Array.isArray){\n\t\treturn Array.isArray(obj);\n\t}else{\n\t\t// close enough\n\t\treturn (obj && obj.length !== undefined && obj.pop && obj.push);\n\t}\n}\n\n// non-primitive string object, e.g. new String(\"abc\")\nfunction isStringObject(obj){\n\treturn obj && typeof obj === \"object\"\n\t\t&& Function.prototype.toString.call(obj.constructor) === \"function String() { [native code] }\";\n}\n\n// non-primitive number object, e.g. new Number(5)\nfunction isNumberObject(obj){\n\treturn obj && typeof obj === \"object\"\n\t\t&& Function.prototype.toString.call(obj.constructor) === \"function Number() { [native code] }\";\n}\n\n// non-primitive number object, e.g. new Boolean(true)\nfunction isBooleanObject(obj){\n\treturn obj && typeof obj === \"object\"\n\t\t&& Function.prototype.toString.call(obj.constructor) === \"function Boolean() { [native code] }\";\n}\n\nfunction isDate(obj) {\n\tif (obj && typeof obj === \"object\") {\n\t\treturn !!(obj.getFullYear && obj.getMonth && obj.getDate);\n\t} else {\n\t\treturn false;\n\t}\n}\n\nfunction isValidDate(obj){\n\treturn isDate(obj) && !isNaN(obj.getTime());\n}\n\nfunction arrayFilter(arr, callback) {\n\tvar result = [];\n\n\tif (arr.filter) {\n\t\treturn arr.filter(callback);\n\t} else {\n\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\tif (callback(arr[i], i)) {\n\t\t\t\tresult[result.length] = arr[i];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n}\n\nfunction hashToArray(hash) {\n\tvar result = [];\n\n\tfor (var key in hash) {\n\t\tif (hash.hasOwnProperty(key)) {\n\t\t\tresult.push(hash[key]);\n\t\t}\n\t}\n\n\treturn result;\n}\n\nfunction arraySome(arr, callback) {\n\tif (arr.length === 0) return false;\n\n\tfor (var i = 0; i < arr.length; i++) {\n\t\tif (callback(arr[i], i, arr)) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nfunction arrayDifference(arr, callback) {\n\treturn arrayFilter(arr, function(item, i) {\n\t\treturn !callback(item, i);\n\t});\n}\n\nfunction throttle (callback, timeout) {\n\tvar wait = false;\n\n\treturn function () {\n\t\tif (!wait) {\n\t\t\tcallback.apply(null, arguments);\n\t\t\twait = true;\n\t\t\tsetTimeout(function () {\n\t\t\t\twait = false;\n\t\t\t}, timeout);\n\t\t}\n\t};\n}\n\nfunction delay (callback, timeout){\n\tvar timer;\n\n\tvar result = function() {\n\t\tresult.$cancelTimeout();\n\t\tresult.$pending = true;\n\t\tvar args = Array.prototype.slice.call(arguments);\n\t\ttimer = setTimeout(function(){\n\t\t\tcallback.apply(this, args);\n\t\t\tresult.$pending = false;\n\t\t}, timeout);\n\t};\n\n\tresult.$pending = false;\n\tresult.$cancelTimeout = function(){\n\t\tclearTimeout(timer);\n\t\tresult.$pending = false;\n\t};\n\tresult.$execute = function(){\n\t\tvar args = Array.prototype.slice.call(arguments);\n\t\tcallback.apply(this, args);\n\t\tresult.$cancelTimeout();\n\t};\n\n\treturn result;\n}\n\nfunction sortArrayOfHash(arr, field, desc) {\n\tvar compare = function(a, b) {\n\t\treturn a < b;\n\t};\n\n\tarr.sort(function(a, b) {\n\t\tif (a[field] === b[field]) return 0;\n\n\t\treturn desc ? compare(a[field], b[field]) : compare(b[field], a[field]);\n\t});\n}\n\nfunction objectKeys(obj) {\n\tif (Object.keys) {\n\t\treturn Object.keys(obj);\n\t}\n\tvar result = [];\n\tvar key;\n\tfor (key in obj) {\n\t\tif (Object.prototype.hasOwnProperty.call(obj, key)) {\n\t\t\tresult.push(key);\n\t\t}\n\t}\n\treturn result;\n}\n\nfunction isEventable(obj) {\n\treturn obj.attachEvent && obj.detachEvent;\n}\n\n//GS-1090: A task should be able to have the id = 0\nfunction replaceValidZeroId(id, rootId) {\n\tif (checkZeroId(id) && !checkZeroId(rootId)){\n\t\tid = \"0\";\n\t}\n\treturn id;\n}\n\nfunction checkZeroId(id) {\n\tif (id === 0){\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nfunction findBinary(array, target) {\n\t// modified binary search, target value not exactly match array elements, looking for closest one\n\n\tvar low = 0, high = array.length - 1, i, item, prev;\n\twhile (low <= high) {\n\n\t\ti = Math.floor((low + high) / 2);\n\t\titem = +array[i];\n\t\tprev = +array[i - 1];\n\t\tif (item < target) {\n\t\t\tlow = i + 1;\n\t\t\tcontinue;\n\t\t}\n\t\tif (item > target) {\n\t\t\tif (!(!isNaN(prev) && prev < target)) {\n\t\t\t\thigh = i - 1;\n\t\t\t\tcontinue;\n\t\t\t} else {\n\t\t\t\t// if target is between 'i' and 'i-1' return 'i - 1'\n\t\t\t\treturn i - 1;\n\t\t\t}\n\n\t\t}\n\t\twhile (+array[i] == +array[i + 1]) i++;\n\n\t\treturn i;\n\t}\n\treturn array.length - 1;\n}\n\nmodule.exports = {\n\tgetSecondsInUnit: getSecondsInUnit,\n\tforEach: forEach,\n\tarrayMap: arrayMap,\n\tarrayIncludes: arrayIncludes,\n\tarrayFind: arrayFind,\n\tarrayFilter: arrayFilter,\n\tarrayDifference: arrayDifference,\n\tarraySome: arraySome,\n\thashToArray: hashToArray,\n\tsortArrayOfHash: sortArrayOfHash,\n\tthrottle: throttle,\n\tisArray: isArray,\n\tisDate: isDate,\n\tisValidDate: isValidDate,\n\tisStringObject: isStringObject,\n\tisNumberObject: isNumberObject,\n\tisBooleanObject: isBooleanObject,\n\tdelay: delay,\n\tobjectKeys: objectKeys,\n\tisEventable: isEventable,\n\treplaceValidZeroId: replaceValidZeroId,\n\tcheckZeroId: checkZeroId,\n\tfindBinary: findBinary\n};","module.exports = function (d, b) {\n\tfor (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\tfunction __() { this.constructor = d; }\n\td.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};","var EventHost = function(){\n\tthis._silent_mode = false;\n\tthis.listeners = {};\n};\n\nEventHost.prototype = {\n\t_silentStart: function() {\n\t\tthis._silent_mode = true;\n\t},\n\t_silentEnd: function() {\n\t\tthis._silent_mode = false;\n\t}\n};\n\nvar\tcreateEventStorage = function(obj) {\n\tvar handlers = {};\n\tvar index = 0;\n\tvar eventStorage = function(){\n\t\tvar combinedResult = true;\n\t\tfor(var i in handlers){\n\t\t\tvar handlerResult = handlers[i].apply(obj, arguments);\n\t\t\tcombinedResult=combinedResult && handlerResult;\n\t\t}\n\t\treturn combinedResult;\n\t};\n\teventStorage.addEvent=function(handler, settings){\n\t\tif (typeof (handler) == \"function\"){\n\t\t\tvar handlerId;\n\t\t\tif(settings && settings.id){\n\t\t\t\thandlerId = settings.id;\n\t\t\t}else{\n\t\t\t\thandlerId = index;\n\t\t\t\tindex++;\n\t\t\t}\n\n\t\t\tif(settings && settings.once){\n\t\t\t\tvar originalHandler = handler;\n\t\t\t\thandler = function(){\n\t\t\t\t\toriginalHandler();\n\t\t\t\t\teventStorage.removeEvent(handlerId);\n\t\t\t\t};\n\t\t\t}\n\n\t\t\thandlers[handlerId] = handler;\n\t\t\treturn handlerId;\n\t\t}\n\t\treturn false;\n\t};\n\teventStorage.removeEvent=function(id){\n\t\tdelete handlers[id];\n\t};\n\n\teventStorage.clear = function(){\n\t\thandlers = {};\n\t};\n\n\treturn eventStorage;\n};\n\nfunction makeEventable(obj){\n\n\tvar eventHost = new EventHost();\n\tobj.attachEvent=function(eventName, handler, settings){\n\t\teventName = 'ev_'+eventName.toLowerCase();\n\t\tif (!eventHost.listeners[eventName]){\n\t\t\teventHost.listeners[eventName] = createEventStorage(this);\n\t\t}\n\n\t\tif(settings && settings.thisObject){\n\t\t\thandler = handler.bind(settings.thisObject);\n\t\t}\n\n\t\tvar innerId = eventHost.listeners[eventName].addEvent(handler, settings);\n\n\t\tvar handlerId = (eventName+':'+innerId); //return ID (ev_eventname:1)\n\t\tif(settings && settings.id){\n\t\t\thandlerId = settings.id;\n\t\t}\n\t\treturn handlerId;\n\t};\n\n\tobj.attachAll = function(callback){\n\t\tthis.attachEvent('listen_all', callback);\n\t};\n\n\tobj.callEvent=function(name, eventArguments){\n\t\tif (eventHost._silent_mode) return true;\n\n\t\tvar handlerName = 'ev_'+name.toLowerCase();\n\n\t\tvar listeners = eventHost.listeners;\n\t\tif (listeners['ev_listen_all']){\n\t\t\tlisteners['ev_listen_all'].apply(this, [name].concat(eventArguments));\n\t\t}\n\n\t\tif (listeners[handlerName])\n\t\t\treturn listeners[handlerName].apply(this, eventArguments);\n\t\treturn true;\n\t};\n\n\tobj.checkEvent=function(name){\n\t\tvar listeners = eventHost.listeners;\n\t\treturn (!!listeners['ev_'+name.toLowerCase()]);\n\t};\n\n\tobj.detachEvent=function(id){\n\t\tif (id){\n\t\t\tvar listeners = eventHost.listeners;\n\t\t\tfor(var i in listeners){\n\t\t\t\tlisteners[i].removeEvent(id); //remove event\n\t\t\t}\n\n\t\t\tvar list = id.split(':');//get EventName and ID\n\t\t\tvar listeners = eventHost.listeners;\n\t\t\tif(list.length === 2){\n\t\t\t\tvar eventName = list[0];\n\t\t\t\tvar eventId = list[1];\n\t\t\t\tif(listeners[eventName]){\n\t\t\t\t\tlisteners[eventName].removeEvent(eventId); //remove event\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\tobj.detachAllEvents = function(){\n\t\tfor (var name in eventHost.listeners) {\n\t\t\teventHost.listeners[name].clear();\n\t\t}\n\t};\n\n}\n\nmodule.exports = makeEventable;","function dummy() {\n\t// eslint-disable-next-line\n\tconsole.log(\"Method is not implemented.\"); \n}\nfunction BaseControl() {\n}\n\n// base methods will be runned in gantt context\nBaseControl.prototype.render = dummy; // arguments: sns\nBaseControl.prototype.set_value = dummy; // arguments: node, value, ev, sns(config)\nBaseControl.prototype.get_value = dummy; // arguments node, ev, sns(config)\nBaseControl.prototype.focus = dummy; // arguments: node\n\nmodule.exports = function(gantt) { // we could send current instance of gantt to module\n\treturn BaseControl;\n};","module.exports = function getVisibleTasksRange(gantt, view, config, datastore, viewport){\n\tvar buffer = 1;\n\tvar start = view.getItemIndexByTopPosition(viewport.y) || 0;\n\tvar end = view.getItemIndexByTopPosition(viewport.y_end) || datastore.count();\n\tvar indexStart = Math.max(0, start - buffer);\n\tvar indexEnd =  Math.min(datastore.count(), end + buffer);\n\treturn {\n\t\tstart: indexStart,\n\t\tend: indexEnd\n\t};\n};","/* eslint-disable no-restricted-globals */\nvar isWindowAwailable = typeof window !== \"undefined\";\n\n/* eslint-enable no-restricted-globals */\n\nvar env = {\n\tisIE: isWindowAwailable && (navigator.userAgent.indexOf(\"MSIE\") >= 0 || navigator.userAgent.indexOf(\"Trident\") >= 0),\n\tisIE6: isWindowAwailable && (!XMLHttpRequest && navigator.userAgent.indexOf(\"MSIE\") >= 0),\n\tisIE7: isWindowAwailable && (navigator.userAgent.indexOf(\"MSIE 7.0\") >= 0 && navigator.userAgent.indexOf(\"Trident\") < 0),\n\tisIE8: isWindowAwailable && (navigator.userAgent.indexOf(\"MSIE 8.0\") >= 0 && navigator.userAgent.indexOf(\"Trident\") >= 0),\n\tisOpera: isWindowAwailable && (navigator.userAgent.indexOf(\"Opera\") >= 0),\n\tisChrome: isWindowAwailable && (navigator.userAgent.indexOf(\"Chrome\") >= 0),\n\tisKHTML: isWindowAwailable && (navigator.userAgent.indexOf(\"Safari\") >= 0 || navigator.userAgent.indexOf(\"Konqueror\") >= 0),\n\tisFF: isWindowAwailable && (navigator.userAgent.indexOf(\"Firefox\") >= 0),\n\tisIPad: isWindowAwailable && (navigator.userAgent.search(/iPad/gi) >= 0),\n\tisEdge: isWindowAwailable && (navigator.userAgent.indexOf(\"Edge\")!=-1),\n\tisNode: (!isWindowAwailable || typeof navigator == \"undefined\")\n};\n\nmodule.exports = env;","module.exports = function (gantt) {\n\n\tvar BaseEditor = function () {\n\t};\n\n\tBaseEditor.prototype = {\n\t\tshow: function (id, column, config, placeholder) {\n\t\t},\n\t\thide: function () {\n\t\t},\n\t\tset_value: function (value, id, column, node) {\n\t\t\tthis.get_input(node).value = value;\n\t\t},\n\t\tget_value: function (id, column, node) {\n\t\t\treturn this.get_input(node).value || \"\";\n\t\t},\n\t\tis_changed: function (value, id, column, node) {\n\t\t\tvar currentValue = this.get_value(id, column, node);\n\t\t\tif (currentValue && value && currentValue.valueOf && value.valueOf) {\n\t\t\t\treturn currentValue.valueOf() != value.valueOf();\n\t\t\t} else {\n\t\t\t\treturn currentValue != value;\n\t\t\t}\n\t\t},\n\t\tis_valid: function (value, id, column, node) {\n\t\t\treturn true;\n\t\t},\n\n\t\tsave: function (id, column, node) {\n\n\t\t},\n\t\tget_input: function (node) {\n\t\t\treturn node.querySelector(\"input\");\n\t\t},\n\t\tfocus: function (node) {\n\t\t\tvar input = this.get_input(node);\n\t\t\tif (!input) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (input.focus) {\n\t\t\t\tinput.focus();\n\t\t\t}\n\n\t\t\tif (input.select) {\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t};\n\treturn BaseEditor;\n};","var utils = require(\"../../../utils/utils\"),\n\teventable = require(\"../../../utils/eventable\"),\n\tdomHelpers = require(\"../utils/dom_helpers\");\n\nvar Cell = (function () {\n\t\"use strict\";\n\n\tfunction Cell(parent, config, factory, gantt) {\n\t\tif (parent) {\n\t\t\tthis.$container = domHelpers.toNode(parent);\n\t\t\tthis.$parent = parent;\n\t\t}\n\t\t// save config\n\t\tthis.$config = utils.mixin(config, {\n\t\t\theaderHeight: 33\n\t\t});\n\t\tthis.$gantt = gantt;\n\t\tthis.$domEvents = gantt._createDomEventScope();\n\t\t// set id\n\t\tthis.$id = config.id || \"c\" + utils.uid();\n\n\t\tthis.$name = \"cell\";\n\t\tthis.$factory = factory;\n\n\t\teventable(this);\n\n\t}\n\n\tCell.prototype.destructor = function () {\n\t\tthis.$parent = this.$container = this.$view = null;\n\t\tvar mouse = this.$gantt.$services.getService(\"mouseEvents\");\n\t\tmouse.detach(\"click\", \"gantt_header_arrow\", this._headerClickHandler);\n\t\tthis.$domEvents.detachAll();\n\t\tthis.callEvent(\"onDestroy\", []);\n\t\tthis.detachAllEvents();\n\t};\n\tCell.prototype.cell = function (id) {\n\t\treturn null;\n\t};\n\n\tCell.prototype.scrollTo = function(left, top){\n\n\t\t//GS-333 Add a way to scroll the HTML views:\n\t\tvar cell = this.$view;\n\t\tif (this.$config.html) cell = this.$view.firstChild;\n\n\t\tif (left*1 == left){\n\t\t\tcell.scrollLeft = left;\n\t\t}\n\t\tif(top*1 == top){\n\t\t\tcell.scrollTop = top;\n\t\t}\n\t};\n\n\tCell.prototype.clear = function(){\n\t\tthis.getNode().innerHTML = \"\";\n\t\tthis.getNode().className = \"gantt_layout_content\";\n\t\tthis.getNode().style.padding = \"0\";\n\t};\n\n\tCell.prototype.resize = function (final) {\n\t\tif (this.$parent) {\n\t\t\treturn this.$parent.resize(final);\n\t\t}\n\n\t\tif(final === false){\n\t\t\tthis.$preResize = true;\n\t\t}\n\n\t\tvar topCont = this.$container;\n\t\tvar x = topCont.offsetWidth;\n\t\tvar y = topCont.offsetHeight;\n\t\tvar topSize = this.getSize();\n\t\tif (topCont === document.body) {\n\t\t\tx = document.body.offsetWidth;\n\t\t\ty = document.body.offsetHeight;\n\t\t}\n\t\tif (x < topSize.minWidth) {\n\t\t\tx = topSize.minWidth;\n\t\t}\n\t\tif (x > topSize.maxWidth) {\n\t\t\tx = topSize.maxWidth;\n\t\t}\n\t\tif (y < topSize.minHeight) {\n\t\t\ty = topSize.minHeight;\n\t\t}\n\t\tif (y > topSize.maxHeight) {\n\t\t\ty = topSize.maxHeight;\n\t\t}\n\t\tthis.setSize(x, y);\n\n\t\tif(!this.$preResize){\n\t\t//\tself.callEvent(\"onResize\", [x, y]);\n\t\t}\n\t\tthis.$preResize = false;\n\t};\n\n\tCell.prototype.hide = function () {\n\t\tthis._hide(true);\n\t\tthis.resize();\n\t};\n\tCell.prototype.show = function (force) {\n\t\tthis._hide(false);\n\t\tif (force && this.$parent) {\n\t\t\tthis.$parent.show();\n\t\t}\n\t\tthis.resize();\n\t};\n\tCell.prototype._hide = function (mode) {\n\t\tif (mode === true && this.$view.parentNode) {\n\t\t\tthis.$view.parentNode.removeChild(this.$view);\n\t\t}\n\t\telse if (mode === false && !this.$view.parentNode) {\n\t\t\tvar index = this.$parent.cellIndex(this.$id);\n\t\t\tthis.$parent.moveView(this, index);\n\t\t}\n\t\tthis.$config.hidden = mode;\n\t};\n\tCell.prototype.$toHTML = function (content, css) {\n\t\tif (content === void 0) { content = \"\"; }\n\t\tcss = [(css || \"\"), (this.$config.css || \"\")].join(\" \");\n\t\tvar obj = this.$config;\n\t\tvar header = \"\";\n\t\tif (obj.raw) {\n\t\t\tcontent = typeof obj.raw === \"string\" ? obj.raw : \"\";\n\t\t}\n\t\telse {\n\t\t\tif (!content) {\n\t\t\t\tcontent = \"<div class='gantt_layout_content' \"+(css ? \" class='\"+css+\"' \" : \"\")+\" >\" + (obj.html || \"\") + \"</div>\";\n\t\t\t}\n\t\t\tif (obj.header) {\n\t\t\t\tvar collapseIcon = obj.canCollapse ? \"<div class='gantt_layout_header_arrow'></div>\" : \"\";\n\t\t\t\theader = \"<div class='gantt_layout_header'>\" + collapseIcon + \"<div class='gantt_layout_header_content'>\" + obj.header + \"</div></div>\";\n\t\t\t}\n\t\t}\n\t\treturn \"<div class='gantt_layout_cell \" + css + \"' data-cell-id='\" + this.$id + \"'>\" + header + content + \"</div>\";\n\t};\n\tCell.prototype.$fill = function (node, parent) {\n\t\tthis.$view = node;\n\t\tthis.$parent = parent;\n\t\tthis.init();\n\t};\n\tCell.prototype.getNode = function () {\n\t\treturn (this.$view.querySelector(\"gantt_layout_cell\") || this.$view);\n\t};\n\tCell.prototype.init = function () {\n\t\t// [NOT-GOOD] code is executed for each component, while it still has only one handler, it is no good\n\n\t\tvar self = this;\n\n\t\tthis._headerClickHandler = function(e){\n\t\t\tvar cellId = domHelpers.locateAttribute(e, \"data-cell-id\");\n\t\t\tif(cellId == self.$id){\n\t\t\t\tself.toggle();\n\t\t\t}\n\t\t};\n\n\t\tvar mouse = this.$gantt.$services.getService(\"mouseEvents\");\n\t\tmouse.delegate(\"click\", \"gantt_header_arrow\", this._headerClickHandler);\n\n\t\tthis.callEvent(\"onReady\", []);\n\t};\n\tCell.prototype.toggle = function () {\n\t\tthis.$config.collapsed = !this.$config.collapsed;\n\t\tthis.resize();\n\t};\n\tCell.prototype.getSize = function () {\n\t\tvar size = {\n\t\t\theight: this.$config.height || 0,\n\t\t\twidth: this.$config.width || 0,\n\t\t\tgravity: this.$config.gravity || 1,\n\t\t\tminHeight: this.$config.minHeight || 0,\n\t\t\tminWidth: this.$config.minWidth || 0,\n\t\t\tmaxHeight: this.$config.maxHeight || 100000000000,\n\t\t\tmaxWidth: this.$config.maxWidth || 100000000000\n\t\t};\n\t\tif (this.$config.collapsed) {\n\t\t\tvar mode = this.$config.mode === \"x\";\n\t\t\tsize[mode ? \"width\" : \"height\"] = size[mode ? \"maxWidth\" : \"maxHeight\"] = this.$config.headerHeight;\n\t\t}\n\t\treturn size;\n\t};\n\n\tCell.prototype.getContentSize = function(){\n\n\t\tvar width = this.$lastSize.contentX;\n\t\tif(width !== width*1){\n\t\t\twidth = this.$lastSize.width;\n\t\t}\n\n\t\tvar height = this.$lastSize.contentY;\n\t\tif(height !== height*1){\n\t\t\theight = this.$lastSize.height;\n\t\t}\n\n\t\treturn {\n\t\t\twidth: width,\n\t\t\theight: height\n\t\t};\n\t};\n\n\tCell.prototype._getBorderSizes = function(){\n\t\tvar borders = {\n\t\t\ttop: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\thorizontal: 0,\n\t\t\tvertical: 0\n\t\t};\n\t\tif(this._currentBorders){\n\t\t\tif(this._currentBorders[this._borders.left]){\n\t\t\t\tborders.left = 1;\n\t\t\t\tborders.horizontal++;\n\t\t\t}\n\n\t\t\tif(this._currentBorders[this._borders.right]){\n\t\t\t\tborders.right = 1;\n\t\t\t\tborders.horizontal++;\n\t\t\t}\n\n\t\t\tif(this._currentBorders[this._borders.top]){\n\t\t\t\tborders.top = 1;\n\t\t\t\tborders.vertical++;\n\t\t\t}\n\n\t\t\tif(this._currentBorders[this._borders.bottom]){\n\t\t\t\tborders.bottom = 1;\n\t\t\t\tborders.vertical++;\n\t\t\t}\n\t\t}\n\n\t\treturn borders;\n\n\t};\n\n\tCell.prototype.setSize = function (x, y) {\n\t\tthis.$view.style.width = x + \"px\";\n\t\tthis.$view.style.height = y + \"px\";\n\n\t\tvar borders = this._getBorderSizes();\n\t\tvar contentY = y - borders.vertical;\n\t\tvar contentX = x - borders.horizontal;\n\n\t\tthis.$lastSize = { x: x, y: y, contentX: contentX, contentY: contentY };\n\t\tif (this.$config.header) {\n\t\t\tthis._sizeHeader();\n\t\t}else{\n\t\t\tthis._sizeContent();\n\t\t}\n\t};\n\n\tCell.prototype._borders = {\n\t\t\"left\":\"gantt_layout_cell_border_left\",\n\t\t\"right\":\"gantt_layout_cell_border_right\",\n\t\t\"top\":\"gantt_layout_cell_border_top\",\n\t\t\"bottom\":\"gantt_layout_cell_border_bottom\"\n\t};\n\n\tCell.prototype._setBorders = function(css, view){\n\t\tif(!view) {\n\t\t\tview = this;\n\t\t}\n\t\tvar node = view.$view;\n\n\t\tfor( var i in this._borders){\n\t\t\tdomHelpers.removeClassName(node, this._borders[i]);\n\t\t}\n\n\t\tif(typeof css == \"string\"){\n\t\t\tcss = [css];\n\t\t}\n\n\t\tvar cssHash = {};\n\n\t\tfor(var i = 0; i < css.length; i++){\n\t\t\tdomHelpers.addClassName(node, css[i]);\n\t\t\tcssHash[css[i]] = true;\n\t\t}\n\n\t\tview._currentBorders = cssHash;\n\t};\n\n\n\tCell.prototype._sizeContent = function(){\n\t\tvar content = this.$view.childNodes[0];\n\t\tif(content && content.className == \"gantt_layout_content\"){\n\t\t\tcontent.style.height = this.$lastSize.contentY + \"px\";\n\t\t}\n\t};\n\n\tCell.prototype._sizeHeader = function () {\n\t\tvar size = this.$lastSize;\n\t\tsize.contentY -= this.$config.headerHeight;\n\t\tvar header = this.$view.childNodes[0];\n\t\tvar content = this.$view.childNodes[1];\n\t\tvar xLayout = this.$config.mode === \"x\";\n\t\tif (this.$config.collapsed) {\n\t\t\tcontent.style.display = \"none\";\n\t\t\tif (xLayout) {\n\t\t\t\theader.className = \"gantt_layout_header collapsed_x\";\n\t\t\t\theader.style.width = size.y + \"px\";\n\t\t\t\tvar d = Math.floor(size.y / 2 - size.x / 2);\n\t\t\t\theader.style.transform = \"rotate(90deg) translate(\" + d + \"px, \" + d + \"px)\";\n\t\t\t\tcontent.style.display = \"none\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\theader.className = \"gantt_layout_header collapsed_y\";\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (xLayout) {\n\t\t\t\theader.className = \"gantt_layout_header\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\theader.className = \"gantt_layout_header vertical\";\n\t\t\t}\n\t\t\theader.style.width = 'auto';\n\t\t\theader.style.transform = '';\n\t\t\tcontent.style.display = \"\";\n\t\t\tcontent.style.height = size.contentY + \"px\";\n\t\t}\n\t\theader.style.height = this.$config.headerHeight + \"px\";\n\t};\n\treturn Cell;\n}());\n\nmodule.exports = Cell;\n","var utils = require(\"./env\");\n\nmodule.exports = function(gantt){\n\treturn utils.isNode || !gantt.$root;\n};","\n/* eslint-disable no-restricted-globals */\nvar globalScope;\nif(typeof window !== \"undefined\"){\n\tglobalScope = window;\n}else{\n\tglobalScope = global;\n}\n/* eslint-enable no-restricted-globals */\n\nmodule.exports = globalScope;","module.exports = function(gantt){\n\treturn gantt.config.smart_rendering && gantt._smart_render;\n};","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\r\n} catch (e) {\r\n\t// This works if the window reference is available\r\n\tif (typeof window === \"object\") g = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n","export class TaskPlan implements ITaskPlan {\n\tstatic Create(parent?: TaskPlan): TaskPlan {\n\t\tconst plan = new TaskPlan();\n\t\tif (parent) {\n\t\t\tfor (const i in plan) {\n\t\t\t\tif (parent[i] !== undefined) {\n\t\t\t\t\tplan[i] = parent[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn plan;\n\t}\n\n\tpublic link: string | number;\n\tpublic task: string | number;\n\t// tslint:disable-next-line variable-name\n\tpublic start_date: Date | null;\n\t// tslint:disable-next-line variable-name\n\tpublic end_date: Date | null;\n\n\tpublic latestStart: Date;\n\tpublic earliestStart: Date;\n\tpublic earliestEnd: Date;\n\tpublic latestEnd: Date;\n\n\tpublic latestSchedulingStart: Date;\n\tpublic earliestSchedulingStart: Date;\n\tpublic latestSchedulingEnd: Date;\n\tpublic earliestSchedulingEnd: Date;\n\n\tpublic kind: string;\n\tpublic conflict: boolean;\n\n\tconstructor() {\n\t\tthis.link = null;\n\t\tthis.task = null;\n\t\tthis.start_date = null;\n\t\tthis.end_date = null;\n\t\tthis.latestStart = null;\n\t\tthis.earliestStart = null;\n\t\tthis.earliestEnd = null;\n\t\tthis.latestEnd = null;\n\t\tthis.latestSchedulingStart = null;\n\t\tthis.earliestSchedulingStart = null;\n\t\tthis.latestSchedulingEnd = null;\n\t\tthis.earliestSchedulingEnd = null;\n\t\tthis.kind = \"asap\";\n\t\tthis.conflict = false;\n\t}\n}","var helpers = require(\"../../../utils/helpers\");\n\nvar htmlHelpers = {\n\tgetHtmlSelect: function(options, attributes, value) {\n\t\tvar innerHTML = \"\";\n\t\tvar _this = this;\n\n\t\toptions = options || [];\n\t\t\n\t\thelpers.forEach(options, function(entry) {\n\t\t\tvar _attributes = [{ key: \"value\", value: entry.key }];\n\n\t\t\tif (value == entry.key) {\n\t\t\t\t_attributes[_attributes.length] = { key: \"selected\", value: \"selected\" };\n\t\t\t}\n\t\t\tif (entry.attributes) {\n\t\t\t\t_attributes = _attributes.concat(entry.attributes);\n\t\t\t}\n\t\t\tinnerHTML += _this.getHtmlOption({ innerHTML: entry.label }, _attributes);\n\t\t});\n\n\t\treturn _getHtmlContainer(\"select\", { innerHTML: innerHTML }, attributes);\n\t},\n\tgetHtmlOption: function(options, attributes) { return _getHtmlContainer(\"option\", options, attributes); },\n\tgetHtmlButton: function(options, attributes) { return _getHtmlContainer(\"button\", options, attributes); },\n\tgetHtmlDiv: function(options, attributes) { return _getHtmlContainer(\"div\", options, attributes); },\n\tgetHtmlLabel: function(options, attributes) { return _getHtmlContainer(\"label\", options, attributes); },\n\tgetHtmlInput: function(attributes) {\n\t\treturn \"<input\" + _getHtmlAttributes(attributes || []) + \">\";\n\t}\n};\n\nfunction _getHtmlContainer(tag, options, attributes) {\n\tvar html;\n\n\toptions = options || [];\n\t\n\thtml = \"<\" + tag + _getHtmlAttributes(attributes || []) + \">\" + (options.innerHTML || \"\") + \"</\" + tag +\">\";\n\treturn html;\n\n}\n\nfunction _getHtmlAttributes(attributes) {\n\tvar html = \"\";\n\n\thelpers.forEach(attributes, function(entry) {\n\t\thtml += \" \" + entry.key + \"='\" + entry.value + \"'\";\n\t});\n\treturn html;\n}\n\nmodule.exports = htmlHelpers;","var __extends = require(\"../../../../utils/extends\");\nvar htmlHelpers = require(\"../../utils/html_helpers\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction SelectControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\t\n\t\treturn self; \n\t}\n\t\n\t__extends(SelectControl, _super);\n\t\n\tSelectControl.prototype.render = function(sns) {\n\t\tvar height = (sns.height || \"23\") + \"px\";\n\t\tvar html = \"<div class='gantt_cal_ltext' style='height:\" + height + \";'>\";\n\n\t\thtml += htmlHelpers.getHtmlSelect(sns.options, [{ key: \"style\", value: \"width:100%;\" }]);\n\t\thtml += \"</div>\";\n\t\treturn html;\n\t};\n\n\tSelectControl.prototype.set_value = function(node, value, ev, sns) {\n\t\tvar select = node.firstChild;\n\t\tif (!select._dhx_onchange && sns.onchange) {\n\t\t\tselect.onchange = sns.onchange;\n\t\t\tselect._dhx_onchange = true;\n\t\t}\n\t\tif (typeof value === \"undefined\")\n\t\t\tvalue = (select.options[0] || {}).value;\n\t\tselect.value = value || \"\";\n\t};\n\t\n\tSelectControl.prototype.get_value = function(node) {\n\t\treturn node.firstChild.value;\n\t};\n\t\n\tSelectControl.prototype.focus = function(node) {\n\t\tvar a = node.firstChild;\n\t\tgantt._focus(a, true);\n\t};\n\t\n\treturn SelectControl;\n};","/**\n * The state object for order branch drag and drop\n */\n\nvar utils = require(\"../../../../utils/utils\");\n\nmodule.exports = {\n\tcreateDropTargetObject: function createDropTargetObject(parent) {\n\t\tvar res = {\n\t\t\ttargetParent: null,\n\t\t\ttargetIndex: 0,\n\t\t\ttargetId: null,\n\t\t\tchild: false,\n\t\t\tnextSibling: false,\n\t\t\tprevSibling: false\n\t\t};\n\n\t\tif (parent) {\n\t\t\tutils.mixin(res, parent, true);\n\t\t}\n\t\treturn res;\n\t},\n\tnextSiblingTarget: function nextSiblingTarget(dndTaskId, targetTaskId, store) {\n\t\tvar result = this.createDropTargetObject();\n\t\tresult.targetId = targetTaskId;\n\t\tresult.nextSibling = true;\n\t\tresult.targetParent = store.getParent(result.targetId);\n\t\tresult.targetIndex = store.getBranchIndex(result.targetId);\n\t\tif(store.getParent(dndTaskId) != result.targetParent || result.targetIndex < store.getBranchIndex(dndTaskId)){\n\t\t\tresult.targetIndex += 1;\n\t\t}\n\t\treturn result;\n\t},\n\tprevSiblingTarget: function prevSiblingTarget(dndTaskId, targetTaskId, store) {\n\t\tvar result = this.createDropTargetObject();\n\t\tresult.targetId = targetTaskId;\n\t\tresult.prevSibling = true;\n\t\tresult.targetParent = store.getParent(result.targetId);\n\t\tresult.targetIndex = store.getBranchIndex(result.targetId);\n\t\tif(store.getParent(dndTaskId) == result.targetParent && result.targetIndex > store.getBranchIndex(dndTaskId)){\n\t\t\tresult.targetIndex -= 1;\n\t\t}\n\t\treturn result;\n\t},\n\tfirstChildTarget: function firstChildTarget(dndTaskId, targetTaskId, store) {\n\t\tvar result = this.createDropTargetObject();\n\t\tresult.targetId = targetTaskId;\n\t\tresult.targetParent = result.targetId;\n\t\tresult.targetIndex = 0;\n\t\tresult.child = true;\n\t\treturn result;\n\t},\n\tlastChildTarget: function lastChildTarget(dndTaskId, targetTaskId, store) {\n\t\tvar children = store.getChildren(targetTaskId);\n\t\tvar result = this.createDropTargetObject();\n\t\tresult.targetId = children[children.length - 1];\n\t\tresult.targetParent = targetTaskId;\n\t\tresult.targetIndex = children.length;\n\t\tresult.nextSibling = true;\n\t\treturn result;\n\t}\n};","var isLegacyRender = require(\"../is_legacy_smart_render\");\n\nmodule.exports = function isColumnVisible(columnIndex, scale, viewPort, gantt){\n\tvar width = scale.width[columnIndex];\n\tif(width <= 0){\n\t\treturn false;\n\t}\n\tif(!gantt.config.smart_rendering || isLegacyRender(gantt)){\n\t\treturn true;\n\t}\n\tvar cellLeftCoord = scale.left[columnIndex] - width;\n\tvar cellRightCoord = scale.left[columnIndex] + width;\n\treturn (cellLeftCoord <= viewPort.x_end && cellRightCoord >= viewPort.x);//do not render skipped columns\n};","module.exports = function getVisibleCellsRange(scale, viewport){\n\tvar firstCellIndex = 0;\n\tvar lastCellIndex = scale.left.length - 1;\n\tif(viewport){\n\t\tfor(var i = 0; i < scale.left.length; i++){\n\t\t\tvar left = scale.left[i];\n\t\t\tif(left < viewport.x){\n\t\t\t\tfirstCellIndex = i;\n\t\t\t}\n\t\t\tif(left > viewport.x_end){\n\t\t\t\tlastCellIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tstart: firstCellIndex,\n\t\tend: lastCellIndex\n\t};\n};","module.exports = function(item, view, config){\n\treturn {\n\t\ttop: view.getItemTop(item.id),\n\t\theight: view.getItemHeight(item.id),\n\t\tleft: 0,\n\t\tright: Infinity\n\t};\n};","function createTaskRenderer(gantt) {\n\n\tfunction _render_task_element(task, view, config) {\n\t\tvar config = view.$getConfig();\n\t\tvar painters = config.type_renderers;\n\t\tvar renderer = painters[gantt.getTaskType(task.type)],\n\t\t\tdefaultRenderer = _task_default_render;\n\n\t\tif (!renderer) {\n\t\t\treturn defaultRenderer.call(gantt, task, view, config);\n\t\t}else{\n\t\t\treturn renderer.call(gantt, task, function(task){ return defaultRenderer.call(gantt, task, view, config);}, view);\n\t\t}\n\t}\n\n\tfunction _task_default_render(task, view, config) {\n\t\tif (gantt._isAllowedUnscheduledTask(task))\n\t\t\treturn;\n\n\t\tif (!gantt._isTaskInTimelineLimits(task)) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar pos = view.getItemPosition(task);\n\n\t\tvar cfg = config,\n\t\t\ttemplates = view.$getTemplates();\n\n\t\tvar taskType = gantt.getTaskType(task.type);\n\t\tvar height = view.getBarHeight(task.id, taskType == cfg.types.milestone);\n\n\t\tvar controlsMargin = 0;\n\t\tif (taskType == cfg.types.milestone) {\n\t\t\tcontrolsMargin = (height - pos.height)/2;\n\t\t}\n\n\t\tvar padd = Math.floor((view.getItemHeight(task.id) - height) / 2);\n\t//\tif(task.type == cfg.types.milestone){\n\t//\t\tpadd -= 1;\n\t//\t}\n\t//\tif (taskType == cfg.types.milestone && cfg.link_line_width > 1) {\n\t//\t\t//little adjust milestone position, so horisontal corners would match link arrow when thickness of link line is more than 1px\n\t//\t\tpadd += 1;\n\t//\t}\n\n\t\tif (taskType == cfg.types.milestone) {\n\t\t\tpos.left -= Math.round(height / 2);\n\t\t\tpos.width = height;\n\t\t}\n\n\t\tvar div = document.createElement(\"div\");\n\n\t\tvar width = Math.round(pos.width);\n\n\t\tif(view.$config.item_attribute) {\n\t\t\tdiv.setAttribute(view.$config.item_attribute, task.id);\n\t\t\tdiv.setAttribute(view.$config.bind + \"_id\", task.id); // 'task_id'/'resource_id' for backward compatibility\n\t\t}\n\n\t\tif (cfg.show_progress && taskType != cfg.types.milestone) {\n\t\t\t_render_task_progress(task, div, width, cfg, templates);\n\t\t}\n\n\t\t//use separate div to display content above progress bar\n\t\tvar content = _render_task_content(task, width, templates);\n\t\tif (task.textColor) {\n\t\t\tcontent.style.color = task.textColor;\n\t\t}\n\t\tdiv.appendChild(content);\n\n\t\tvar css = _combine_item_class(\"gantt_task_line\",\n\t\t\ttemplates.task_class(task.start_date, task.end_date, task),\n\t\t\ttask.id,\n\t\t\tview);\n\t\tif (task.color || task.progressColor || task.textColor) {\n\t\t\tcss += \" gantt_task_inline_color\";\n\t\t}\n\t\tif (pos.width < 20){\n\t\t\tcss += \" gantt_thin_task\";\n\t\t}\n\t\tdiv.className = css;\n\n\t\tvar styles = [\n\t\t\t\"left:\" + pos.left + \"px\",\n\t\t\t\"top:\" + (padd + pos.top) + 'px',\n\t\t\t\"height:\" + (taskType == cfg.types.milestone ? pos.height : height) + 'px',\n\t\t\t\"line-height:\" + (Math.max(height < 30 ? height - 2 : height, 0)) + 'px',\n\t\t\t\"width:\" + width + 'px'\n\t\t];\n\t\tif (task.color) {\n\t\t\tstyles.push(\"background-color:\" + task.color);\n\t\t}\n\t\tif (task.textColor) {\n\t\t\tstyles.push(\"color:\" + task.textColor);\n\t\t}\n\n\t\tdiv.style.cssText = styles.join(\";\");\n\t\tvar side = _render_leftside_content(task, cfg, templates, controlsMargin);\n\t\tif (side) div.appendChild(side);\n\n\t\tside = _render_rightside_content(task, cfg, templates, controlsMargin);\n\t\tif (side) div.appendChild(side);\n\n\t\tgantt._waiAria.setTaskBarAttr(task, div);\n\n\t\tvar state = gantt.getState();\n\n\t\tif (!gantt.isReadonly(task)) {\n\t\t\tif (cfg.drag_resize && !gantt.isSummaryTask(task) && taskType != cfg.types.milestone) {\n\t\t\t\t_render_pair(div, \"gantt_task_drag\", task, function (css) {\n\t\t\t\t\tvar el = document.createElement(\"div\");\n\t\t\t\t\tel.className = css;\n\t\t\t\t\treturn el;\n\t\t\t\t}, cfg);\n\t\t\t}\n\t\t\tif (cfg.drag_links && cfg.show_links) {\n\t\t\t\t_render_pair(div, \"gantt_link_control\", task, function (css) {\n\t\t\t\t\tvar outer = document.createElement(\"div\");\n\t\t\t\t\touter.className = css;\n\t\t\t\t\touter.style.cssText = [\n\t\t\t\t\t\t\"height:\" + height + 'px',\n\t\t\t\t\t\t\"line-height:\" + height + 'px'\n\t\t\t\t\t].join(\";\");\n\t\t\t\t\tvar inner = document.createElement(\"div\");\n\t\t\t\t\tinner.className = \"gantt_link_point\";\n\n\t\t\t\t\tvar showLinkPoints = false;\n\t\t\t\t\tif(state.link_source_id && cfg.touch){\n\t\t\t\t\t\tshowLinkPoints = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tinner.style.display = showLinkPoints ? \"block\" : \"\";\n\t\t\t\t\touter.appendChild(inner);\n\t\t\t\t\treturn outer;\n\t\t\t\t}, cfg, controlsMargin);\n\t\t\t}\n\t\t}\n\t\treturn div;\n\t}\n\n\tfunction _render_side_content(task, template, cssClass, marginStyle) {\n\t\tif (!template) return null;\n\n\t\tvar text = template(task.start_date, task.end_date, task);\n\t\tif (!text) return null;\n\t\tvar content = document.createElement(\"div\");\n\t\tcontent.className = \"gantt_side_content \" + cssClass;\n\t\tcontent.innerHTML = text;\n\t\tif(marginStyle){\n\t\t\tcontent.style[marginStyle.type] = Math.abs(marginStyle.value) + \"px\";\n\t\t}\n\t\treturn content;\n\t}\n\n\tfunction _render_leftside_content(task, cfg, templates, margin) {\n\t\tvar css = \"gantt_left \" + _get_link_crossing_css(!cfg.rtl ? true : false, task, cfg);\n\t\tvar marginStyle = null;\n\t\tif(margin){\n\t\t\tmarginStyle = { type: \"marginRight\", value: margin };\n\t\t}\n\t\treturn _render_side_content(task, templates.leftside_text, css, marginStyle);\n\t}\n\n\tfunction _render_rightside_content(task, cfg, templates, margin) {\n\t\tvar css = \"gantt_right \" + _get_link_crossing_css(!cfg.rtl ? false : true, task, cfg);\n\t\tvar marginStyle = null;\n\t\tif(margin){\n\t\t\tmarginStyle = { type: \"marginLeft\", value: margin };\n\t\t}\n\t\treturn _render_side_content(task, templates.rightside_text, css, marginStyle);\n\t}\n\n\tfunction _get_link_crossing_css(left, task) {\n\t\tvar cond = _get_conditions(left);\n\n\t\tfor (var i in cond) {\n\t\t\tvar links = task[i];\n\t\t\tfor (var ln = 0; ln < links.length; ln++) {\n\t\t\t\tvar link = gantt.getLink(links[ln]);\n\n\t\t\t\tfor (var tp = 0; tp < cond[i].length; tp++) {\n\t\t\t\t\tif (link.type == cond[i][tp]) {\n\t\t\t\t\t\treturn \"gantt_link_crossing\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn \"\";\n\t}\n\n\n\tfunction _render_task_content(task, width, templates) {\n\t\tvar content = document.createElement(\"div\");\n\t\tif (gantt.getTaskType(task.type) != gantt.config.types.milestone){\n\t\t\tcontent.innerHTML = templates.task_text(task.start_date, task.end_date, task);\n\t\t} else if(gantt.getTaskType(task.type) == gantt.config.types.milestone && width) {\n\t\t\tcontent.style.height = content.style.width = width + \"px\";\n\t\t}\n\t\tcontent.className = \"gantt_task_content\";\n\t\t//content.style.width = width + 'px';\n\t\treturn content;\n\t}\n\n\tfunction _render_task_progress(task, element, maxWidth, cfg, templates) {\n\t\tvar done = task.progress * 1 || 0;\n\n\t\tmaxWidth = Math.max(maxWidth - 2, 0);//2px for borders\n\t\tvar pr = document.createElement(\"div\");\n\t\tvar width = Math.round(maxWidth * done);\n\n\t\twidth = Math.min(maxWidth, width);\n\t\tif (task.progressColor) {\n\t\t\tpr.style.backgroundColor = task.progressColor;\n\t\t\tpr.style.opacity = 1;\n\t\t}\n\t\tpr.style.width = width + 'px';\n\t\tpr.className = \"gantt_task_progress\";\n\t\tpr.innerHTML = templates.progress_text(task.start_date, task.end_date, task);\n\n\t\tif(cfg.rtl){\n\t\t\tpr.style.position = \"absolute\";\n\t\t\tpr.style.right = \"0px\";\n\t\t}\n\n\t\tvar wrapper = document.createElement(\"div\");\n\t\twrapper.className = \"gantt_task_progress_wrapper\";\n\t\twrapper.appendChild(pr);\n\t\telement.appendChild(wrapper);\n\n\t\tif (gantt.config.drag_progress && !gantt.isReadonly(task)) {\n\t\t\tvar drag = document.createElement(\"div\");\n\n\t\t\tvar markerPos = width;\n\t\t\tif(cfg.rtl){\n\t\t\t\tmarkerPos = maxWidth - width;\n\t\t\t}\n\n\t\t\tdrag.style.left = markerPos + 'px';\n\t\t\tdrag.className = \"gantt_task_progress_drag\";\n\t\t\tpr.appendChild(drag);\n\t\t\telement.appendChild(drag);\n\t\t}\n\t}\n\n\tfunction _get_conditions(leftside) {\n\t\tif (leftside) {\n\t\t\treturn {\n\t\t\t\t$source: [\n\t\t\t\t\tgantt.config.links.start_to_start\n\t\t\t\t],\n\t\t\t\t$target: [\n\t\t\t\t\tgantt.config.links.start_to_start,\n\t\t\t\t\tgantt.config.links.finish_to_start\n\t\t\t\t]\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\t$source: [\n\t\t\t\t\tgantt.config.links.finish_to_start,\n\t\t\t\t\tgantt.config.links.finish_to_finish\n\t\t\t\t],\n\t\t\t\t$target: [\n\t\t\t\t\tgantt.config.links.finish_to_finish\n\t\t\t\t]\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction _combine_item_class(basic, template, itemId, view) {\n\t\tvar cfg = view.$getConfig();\n\t\tvar css = [basic];\n\t\tif (template)\n\t\t\tcss.push(template);\n\n\t\tvar state = gantt.getState();\n\n\t\tvar task = gantt.getTask(itemId);\n\n\t\tif (gantt.getTaskType(task.type) == cfg.types.milestone) {\n\t\t\tcss.push(\"gantt_milestone\");\n\t\t}else if (gantt.getTaskType(task.type) == cfg.types.project) {\n\t\t\tcss.push(\"gantt_project\");\n\t\t}\n\n\t\tcss.push(\"gantt_bar_\" + gantt.getTaskType(task.type));\n\n\n\t\tif (gantt.isSummaryTask(task))\n\t\t\tcss.push(\"gantt_dependent_task\");\n\n\t\tif (gantt.isSplitTask(task) && ((cfg.open_split_tasks && !task.$open) || !cfg.open_split_tasks)) {\n\t\t\tcss.push(\"gantt_split_parent\");\n\t\t}\n\n\t\tif (cfg.select_task && gantt.isSelectedTask(itemId)) {\n\t\t\tcss.push(\"gantt_selected\");\n\t\t}\n\n\t\tif (itemId == state.drag_id) {\n\t\t\tcss.push(\"gantt_drag_\" + state.drag_mode);\n\t\t\tif (state.touch_drag) {\n\t\t\t\tcss.push(\"gantt_touch_\" + state.drag_mode);\n\t\t\t}\n\t\t}\n\n\t\tif (state.link_source_id == itemId)\n\t\t\tcss.push(\"gantt_link_source\");\n\n\t\tif (state.link_target_id == itemId)\n\t\t\tcss.push(\"gantt_link_target\");\n\n\n\t\tif (cfg.highlight_critical_path && gantt.isCriticalTask) {\n\t\t\tif (gantt.isCriticalTask(task))\n\t\t\t\tcss.push(\"gantt_critical_task\");\n\t\t}\n\n\t\tif (state.link_landing_area &&\n\t\t\t(state.link_target_id && state.link_source_id) &&\n\t\t\t(state.link_target_id != state.link_source_id) &&\n\t\t\t(state.link_target_id == itemId || state.link_source_id == itemId)) {\n\n\t\t\tvar from_id = state.link_source_id;\n\t\t\tvar from_start = state.link_from_start;\n\t\t\tvar to_start = state.link_to_start;\n\n\t\t\tvar allowDrag = gantt.isLinkAllowed(from_id, itemId, from_start, to_start);\n\n\t\t\tvar dragClass = \"\";\n\t\t\tif (allowDrag) {\n\t\t\t\tif (to_start)\n\t\t\t\t\tdragClass = \"link_start_allow\";\n\t\t\t\telse\n\t\t\t\t\tdragClass = \"link_finish_allow\";\n\t\t\t} else {\n\t\t\t\tif (to_start)\n\t\t\t\t\tdragClass = \"link_start_deny\";\n\t\t\t\telse\n\t\t\t\t\tdragClass = \"link_finish_deny\";\n\t\t\t}\n\t\t\tcss.push(dragClass);\n\t\t}\n\t\treturn css.join(\" \");\n\t}\n\n\tfunction _render_pair(parent, css, task, content, config, margin) {\n\t\tvar state = gantt.getState();\n\t\tvar className, element;\n\t\tif (+task.start_date >= +state.min_date) {\n\t\t\tclassName = [css, config.rtl ? \"task_right\" : \"task_left\", \"task_start_date\"];\n\t\t\telement = content(className.join(\" \"));\n\t\t\telement.setAttribute(\"data-bind-property\", \"start_date\");\n\t\t\tif(margin){\n\t\t\t\telement.style.marginLeft = margin + \"px\";\n\t\t\t}\n\t\t\tparent.appendChild(element);\n\t\t}\n\n\t\tif (+task.end_date <= +state.max_date){\n\t\t\tclassName = [css, config.rtl ? \"task_left\" : \"task_right\", \"task_end_date\"];\n\t\t\telement = content(className.join(\" \"));\n\t\t\telement.setAttribute(\"data-bind-property\", \"end_date\");\n\t\t\tif(margin){\n\t\t\t\telement.style.marginRight = margin + \"px\";\n\t\t\t}\n\t\t\tparent.appendChild(element);\n\t\t}\n\n\t}\n\n\treturn _render_task_element;\n}\n\nmodule.exports = createTaskRenderer;","// optimized checker for task bars smart rendering\n\n// first check the vertical position since it's easier to calculate\nmodule.exports = function isBarInViewport(item, viewport, view, config, gantt){\n\tif(!item.start_date || !item.end_date){\n\t\treturn null;\n\t}\n\n\tvar top = view.getItemTop(item.id);\n\tvar height = view.getItemHeight(item.id);\n\n\tif(top > viewport.y_end || top + height < viewport.y){\n\t\treturn false;\n\t}\n\n\tvar padding = 200;\n\tvar startCoord = view.posFromDate(item.start_date);\n\tvar endCoord = view.posFromDate(item.end_date);\n\tvar left = Math.min(startCoord, endCoord) - padding;\n\tvar right = Math.max(startCoord, endCoord) + padding;\n\n\tif(left > viewport.x_end || right < viewport.x){\n\t\treturn false;\n\t}\n\n\treturn true;\n};","var helpers = require(\"../../utils/helpers\");\n\nfunction clearTaskStoreHandler(self) {\n\tif (self._delayRender) {\n\t\tself._delayRender.$cancelTimeout();\n\t}\n\n\tif (!self.$gantt) {\n\t\treturn;\n\t}\n\n\tvar tasks = self.$gantt.$data.tasksStore;\n\tvar ownStore = self.$config.rowStore;\n\n\tvar handlerIdProperty = \"_attached_\" + ownStore.$config.name;\n\tif (self[handlerIdProperty]) {\n\t\ttasks.detachEvent(self[handlerIdProperty]);\n\t\tself[handlerIdProperty] = null;\n\t}\n\n\tif (ownStore.$attachedResourceViewHandler) {\n\t\townStore.detachEvent(ownStore.$attachedResourceViewHandler);\n\t\townStore.$attachedResourceViewHandler = null;\n\n\t\ttasks.detachEvent(ownStore.$attachedTaskStoreHandler);\n\t\townStore.$attachedTaskStoreHandler = null;\n\t}\n}\n\nfunction createMixin(_super){\n\n\tvar initGrid = _super.prototype.init,\n\t\tdestroyGrid = _super.prototype.destructor;\n\n\treturn {\n\t\tinit: function() {\n\t\t\tinitGrid.apply(this, arguments);\n\t\t\tthis._linkToTaskStore();\n\t\t},\n\n\t\tdestructor: function() {\n\t\t\tclearTaskStoreHandler(this);\n\t\t\tdestroyGrid.apply(this, arguments);\n\t\t},\n\n\t\t_linkToTaskStore: function () {\n\t\t\tif (this.$config.rowStore && this.$gantt.$data.tasksStore) {\n\t\t\t\tvar tasks = this.$gantt.$data.tasksStore;\n\t\t\t\tvar ownStore = this.$config.rowStore;\n\t\t\t\tclearTaskStoreHandler(this);\n\n\t\t\t\tvar self = this;\n\t\t\t\tvar delayRender = helpers.delay(function() {\n\t\t\t\t\tif (self.$gantt.getState().lightbox) {\n\t\t\t\t\t\tdelayRender();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// because rowstore could be changed during timeout\n\t\t\t\t\t\tself.$config.rowStore.refresh();\n\t\t\t\t\t}\n\t\t\t\t}, 300);\n\t\t\t\tthis._delayRender = delayRender;\n\t\t\t\tvar handlerIdProperty = \"_attached_\" + ownStore.$config.name;\n\n\t\t\t\tif (!self[handlerIdProperty]) {\n\t\t\t\t\tself[handlerIdProperty] = tasks.attachEvent(\"onStoreUpdated\", function(){\n\t\t\t\t\t\tif(!delayRender.$pending){\n\t\t\t\t\t\t\tdelayRender();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tthis.$gantt.attachEvent(\"onDestroy\", function() {\n\t\t\t\t\t// detach events to don't call delayed tasks\n\t\t\t\t\tclearTaskStoreHandler(self);\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\n\t\t\t\tif (!ownStore.$attachedResourceViewHandler) {\n\t\t\t\t\townStore.$attachedResourceViewHandler = ownStore.attachEvent(\"onBeforeFilter\", function() {\n\t\t\t\t\t\tif (self.$gantt.getState().lightbox) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (delayRender.$pending) {\n\t\t\t\t\t\t\tdelayRender.$cancelTimeout();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself._updateNestedTasks();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t});\n\n\t\t\t\t\townStore.$attachedTaskStoreHandler = tasks.attachEvent(\"onAfterDelete\", function(){\n\t\t\t\t\t\townStore._mark_recompute = true;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_updateNestedTasks: function(){\n\t\t\tvar gantt = this.$gantt;\n\t\t\tvar resourceStore = gantt.getDatastore(gantt.config.resource_store);\n\t\t\tif (!resourceStore.$config.fetchTasks) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar resourceProperty = gantt.config.resource_property;\n\n\t\t\tresourceStore.silent(function(){\n\t\t\t\tvar toAddArray = [];\n\t\t\t\tvar toAdd = {};\n\t\t\t\tvar toDelete = {};\n\n\t\t\t\tresourceStore.eachItem(function(resource){\n\t\t\t\t\tif (resource.$role == \"task\") {\n\t\t\t\t\t\ttoDelete[resource.id] = true;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar tasks = gantt.getTaskBy(resourceProperty, resource.id);\n\t\t\t\t\ttasks.forEach(function(task) {\n\t\t\t\t\t\tvar copy = gantt.copy(task);\n\t\t\t\t\t\tcopy.id = task.id + '_' + resource.id;\n\n\t\t\t\t\t\tcopy.$task_id = task.id;\n\t\t\t\t\t\tcopy.$resource_id = resource.id;\n\t\t\t\t\t\tcopy[resourceStore.$parentProperty] = resource.id;\n\t\t\t\t\t\tcopy.$role = \"task\";\n\t\t\t\t\t\ttoAddArray.push(copy);\n\t\t\t\t\t\ttoAdd[copy.id] = true;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tfor (var id in toDelete) {\n\t\t\t\t\tif (!toAdd[id]) {\n\t\t\t\t\t\tresourceStore.removeItem(id);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(toAddArray.length){\n\t\t\t\t\tresourceStore.parse(toAddArray);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n}\n\nmodule.exports = createMixin;","module.exports = function(item, view, config){\n\treturn {\n\t\ttop: view.getItemTop(item.id),\n\t\theight: view.getItemHeight(item.id),\n\t\tleft: 0,\n\t\tright: Infinity\n\t};\n};","function create(gantt){\n\tvar events = [];\n\n\treturn {\n\t\tdelegate:function(event, className, handler, root) {\n\t\t\tevents.push([event, className, handler, root]);\n\n\t\t\tvar helper = gantt.$services.getService(\"mouseEvents\");\n\t\t\thelper.delegate(event, className, handler, root);\n\t\t},\n\t\tdestructor: function(){\n\t\t\tvar mouseEvents = gantt.$services.getService(\"mouseEvents\");\n\t\t\tfor(var i = 0; i < events.length; i++){\n\t\t\t\tvar h = events[i];\n\t\t\t\tmouseEvents.detach(h[0], h[1], h[2], h[3]);\n\t\t\t}\n\t\t\tevents = [];\n\t\t}\n\t};\n}\n\nmodule.exports = create;","var domHelpers = require(\"../utils/dom_helpers\"),\n\tutils = require(\"../../../utils/utils\"),\n\teventable = require(\"../../../utils/eventable\"),\n\tgridResize = require(\"./grid_resize\"),\n\ttopPositionMixin = require(\"../row_position_mixin\"),\n\trowResize = require(\"./task_grid_row_resize\");\n\nvar ColumnDnd = require(\"../plugins/column_grid_dnd\").default;\n\nvar Grid = function (parent, config, factory, gantt) {\n\tthis.$config = utils.mixin({}, config || {});\n\tthis.$gantt = gantt;\n\tthis.$parent = parent;\n\teventable(this);\n\tthis.$state = {};\n\tutils.mixin(this, topPositionMixin(this));\n};\n\n\nGrid.prototype = {\n\tinit: function(container) {\n\t\tvar gantt = this.$gantt;\n\t\tvar gridAriaAttr = gantt._waiAria.gridAttrString();\n\t\tvar gridDataAriaAttr = gantt._waiAria.gridDataAttrString();\n\t\tvar _ganttConfig = this.$getConfig();\n\t\tvar reorderColumns = _ganttConfig.reorder_grid_columns || false;\n\t\tif (this.$config.reorder_grid_columns !== undefined) {\n\t\t\treorderColumns = this.$config.reorder_grid_columns;\n\t\t}\n\n\n\t\tcontainer.innerHTML = \"<div class='gantt_grid' style='height:inherit;width:inherit;' \" + gridAriaAttr + \"></div>\";\n\t\tthis.$grid = container.childNodes[0];\n\n\t\tthis.$grid.innerHTML = \"<div class='gantt_grid_scale' \" +\n\t\t\tgantt._waiAria.gridScaleRowAttrString() + \"></div><div class='gantt_grid_data' \" + gridDataAriaAttr + \"></div>\";\n\n\t\tthis.$grid_scale = this.$grid.childNodes[0];\n\t\tthis.$grid_data = this.$grid.childNodes[1];\n\n\t\tvar attr = _ganttConfig[this.$config.bind + \"_attribute\"];\n\t\tif (!attr && this.$config.bind) {\n\t\t\tattr = \"data-\" + this.$config.bind + \"-id\";\n\t\t}\n\t\tthis.$config.item_attribute = attr || null;\n\n\t\tif (!this.$config.layers) {\n\t\t\tvar layers = this._createLayerConfig();\n\t\t\tthis.$config.layers = layers;\n\t\t}\n\n\t\tvar resizer = gridResize(gantt, this);\n\t\tresizer.init();\n\t\tthis._renderHeaderResizers = resizer.doOnRender;\n\t\tthis._mouseDelegates = require(\"../mouse_event_container\")(gantt);\n\n\t\tvar resizerrow = rowResize(gantt, this);\n\t\tresizerrow.init();\n\n\t\tthis._addLayers(this.$gantt);\n\t\tthis._initEvents();\n\n\t\tif (reorderColumns) {\n\t\t\tthis._columnDND = new ColumnDnd(gantt, this);\n\t\t\tthis._columnDND.init();\n\t\t}\n\n\t\tthis.callEvent(\"onReady\", []);\n\t\t//this.refresh();\n\t},\n\n\t_validateColumnWidth: function (column, property) {\n\t\t// user can set {name:\"text\", width:\"200\",...} for some reason,\n\t\t// check and convert it to number when possible\n\t\tvar value = column[property];\n\t\tif (value && value != \"*\") {\n\t\t\tvar gantt = this.$gantt;\n\t\t\tvar numericWidth = value * 1;\n\t\t\tif (isNaN(numericWidth)) {\n\t\t\t\tgantt.assert(false, \"Wrong \" + property + \" value of column \" + column.name);\n\t\t\t} else {\n\t\t\t\tcolumn[property] = numericWidth;\n\t\t\t}\n\t\t}\n\t},\n\n\tsetSize: function (width, height) {\n\t\tthis.$config.width = this.$state.width = width;\n\t\tthis.$config.height = this.$state.height = height;\n\n\t\t// TODO: maybe inherit and override in a subclass instead of extending here\n\n\t\tvar columns = this.getGridColumns(),\n\t\t\tinnerWidth = 0;\n\n\t\tvar config = this.$getConfig();\n\t\tvar elasticColumns = config.grid_elastic_columns;\n\n\t\tfor (var i = 0, l = columns.length; i < l; i++) {\n\t\t\tthis._validateColumnWidth(columns[i], \"min_width\");\n\t\t\tthis._validateColumnWidth(columns[i], \"max_width\");\n\t\t\tthis._validateColumnWidth(columns[i], \"width\");\n\n\t\t\tinnerWidth += columns[i].width * 1;\n\t\t}\n\n\t\tvar outerWidth;\n\t\tif (isNaN(innerWidth) || !this.$config.scrollable) {\n\t\t\touterWidth = this._setColumnsWidth(width + 1);\n\t\t\tinnerWidth = outerWidth;\n\t\t}\n\n\t\tif(this.$config.scrollable && elasticColumns && !isNaN(innerWidth)){\n\n\t\t\tvar minWidth = 0;\n\t\t\tcolumns.forEach(function(col){\n\t\t\t\tminWidth += col.min_width || config.min_grid_column_width;\n\t\t\t});\n\n\t\t\tvar columnsWidth = Math.max(minWidth, width);\n\t\t\tinnerWidth = this._setColumnsWidth(columnsWidth);\n\t\t\touterWidth = width;\n\t\t}\n\n\t\tif (this.$config.scrollable) {\n\t\t\tthis.$grid_scale.style.width = innerWidth + \"px\";\n\t\t\tthis.$grid_data.style.width = innerWidth + \"px\";\n\t\t} else {\n\t\t\tthis.$grid_scale.style.width = \"inherit\";\n\t\t\tthis.$grid_data.style.width = \"inherit\";\n\t\t}\n\t\tthis.$config.width -= 1;\n\n\t\tvar config = this.$getConfig();\n\t\tif (outerWidth !== width) {\n\t\t\tif(outerWidth !== undefined){\n\t\t\t\tconfig.grid_width = outerWidth;\n\t\t\t\tthis.$config.width = outerWidth - 1;\n\t\t\t}else{\n\t\t\t\tif(!isNaN(innerWidth)){\n\t\t\t\t\tthis._setColumnsWidth(innerWidth);\n\t\t\t\t\tconfig.grid_width = innerWidth;\n\t\t\t\t\tthis.$config.width = innerWidth - 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar dataHeight = Math.max(this.$state.height - config.scale_height, 0);\n\t\tthis.$grid_data.style.height = dataHeight + \"px\";\n\t\tthis.refresh();\n\t},\n\tgetSize: function () {\n\n\t\tvar config = this.$getConfig();\n\n\t\tvar store = this.$config.rowStore;\n\n\t\tvar contentHeight = store ? this.getTotalHeight() : 0,\n\t\t\tcontentWidth = this._getGridWidth();\n\n\t\tvar size = {\n\t\t\tx: this.$state.width,\n\t\t\ty: this.$state.height,\n\t\t\tcontentX: this.isVisible() ? contentWidth : 0,\n\t\t\tcontentY: this.isVisible() ? (config.scale_height + contentHeight) : 0,\n\t\t\tscrollHeight: this.isVisible() ? contentHeight : 0,\n\t\t\tscrollWidth: this.isVisible() ? contentWidth : 0\n\t\t};\n\n\t\treturn size;\n\t},\n\n\t_bindStore: function () {\n\t\tif (this.$config.bind){\n\t\t\tvar rowStore = this.$gantt.getDatastore(this.$config.bind);\n\t\t\tthis.$config.rowStore = rowStore;\n\t\t\tif(rowStore && !rowStore._gridCacheAttached){\n\t\t\t\tvar self = this;\n\t\t\t\trowStore._gridCacheAttached = rowStore.attachEvent(\"onBeforeFilter\", function(){\n\t\t\t\t\tself._resetTopPositionHeight();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\t_unbindStore: function(){\n\t\tif (this.$config.bind){\n\t\t\tvar rowStore = this.$gantt.getDatastore(this.$config.bind);\n\t\t\tif(rowStore._gridCacheAttached){\n\t\t\t\trowStore.detachEvent(rowStore._gridCacheAttached);\n\t\t\t\trowStore._gridCacheAttached = false;\n\t\t\t}\n\t\t}\n\t},\n\n\trefresh: function () {\n\t\tthis._bindStore();\n\n\t\tthis._resetTopPositionHeight();\n\t\tthis._resetHeight();\n\t\tthis._initSmartRenderingPlaceholder();\n\n\t\tthis._calculateGridWidth();\n\t\tthis._renderGridHeader();\n\t},\n\n\tgetViewPort: function(){\n\t\tvar scrollLeft = this.$config.scrollLeft || 0;\n\t\tvar scrollTop = this.$config.scrollTop || 0;\n\t\tvar height = this.$config.height || 0;\n\t\tvar width = this.$config.width || 0;\n\t\treturn {\n\t\t\ty: scrollTop,\n\t\t\ty_end: scrollTop + height,\n\t\t\tx: scrollLeft,\n\t\t\tx_end: scrollLeft + width,\n\t\t\theight: height,\n\t\t\twidth: width\n\t\t};\n\t},\n\n\tscrollTo: function (left, top) {\n\t\tif (!this.isVisible())\n\t\t\treturn;\n\n\t\tvar scrolled = false;\n\n\t\tthis.$config.scrollTop = this.$config.scrollTop || 0;\n\t\tthis.$config.scrollLeft = this.$config.scrollLeft || 0;\n\n\t\tif (left * 1 == left) {\n\t\t\tthis.$config.scrollLeft = this.$state.scrollLeft = this.$grid.scrollLeft = left;\n\t\t\tscrolled = true;\n\t\t}\n\n\t\t// var config = this.$getConfig();\n\t\tif (top * 1 == top) {\n\t\t\tthis.$config.scrollTop = this.$state.scrollTop = this.$grid_data.scrollTop = top;\n\t\t\tscrolled = true;\n\t\t}\n\n\t\tif(scrolled){\n\t\t\tthis.callEvent(\"onScroll\", [this.$config.scrollLeft, this.$config.scrollTop]);\n\t\t}\n\t},\n\n\tgetColumnIndex: function (name, excludeHidden) {\n\t\tvar columns = this.$getConfig().columns;\n\t\tvar hiddenIndexShift = 0;\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\t// GS-1257. If the cell is hidden, the target column index should be correct\n\t\t\tif (excludeHidden && columns[i].hide){\n\t\t\t\thiddenIndexShift++;\n\t\t\t}\n\t\t\tif (columns[i].name == name) {\n\t\t\t\treturn i - hiddenIndexShift;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetColumn: function (name) {\n\t\tvar index = this.getColumnIndex(name);\n\t\tif (index === null) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this.$getConfig().columns[index];\n\t},\n\n\tgetGridColumns: function () {\n\t\tvar config = this.$getConfig();\n\t\treturn config.columns.slice();\n\t},\n\tisVisible: function () {\n\t\tif (this.$parent && this.$parent.$config) {\n\t\t\treturn !this.$parent.$config.hidden;\n\t\t} else {\n\t\t\treturn this.$grid.offsetWidth;\n\t\t}\n\t},\n\n\t// getItemHeight: function () {\n\t// \tvar config = this.$getConfig();\n\t// \treturn config.row_height;\n\t// },\n\n\t_createLayerConfig: function () {\n\t\tvar gantt = this.$gantt;\n\t\tvar self = this;\n\t\tvar layers = [\n\t\t\t{\n\t\t\t\trenderer: gantt.$ui.layers.gridLine(),\n\t\t\t\tcontainer: this.$grid_data,\n\t\t\t\tfilter: [function () {\n\t\t\t\t\treturn self.isVisible();\n\t\t\t\t}]\n\t\t\t},\n\t\t\t{\n\t\t\t\trenderer: gantt.$ui.layers.gridTaskRowResizer(),\n\t\t\t\tcontainer: this.$grid_data,\n\t\t\t\tappend: true,\n\t\t\t\tfilter: [function () {\n\t\t\t\t\treturn gantt.config.resize_rows;\n\t\t\t\t}]\n\t\t\t}\n\t\t];\n\t\treturn layers;\n\t},\n\n\t_addLayers: function (gantt) {\n\t\tif (!this.$config.bind)\n\t\t\treturn;\n\n\t\tthis._taskLayers = [];\n\n\t\tvar self = this;\n\n\t\tvar layers = this.$gantt.$services.getService(\"layers\");\n\t\tvar taskRenderer = layers.getDataRender(this.$config.bind);\n\n\t\tif (!taskRenderer) {\n\t\t\ttaskRenderer = layers.createDataRender({\n\t\t\t\tname: this.$config.bind,\n\t\t\t\tdefaultContainer: function () { return self.$grid_data; }\n\t\t\t});\n\t\t}\n\n\t\tvar taskLayers = this.$config.layers;\n\t\tfor (var i = 0; taskLayers && i < taskLayers.length; i++) {\n\t\t\tvar layer = taskLayers[i];\n\t\t\tlayer.view = this;\n\n\t\t\tvar bar_layer = taskRenderer.addLayer(layer);\n\t\t\tthis._taskLayers.push(bar_layer);\n\t\t}\n\n\t\tthis._bindStore();\n\n\t\tthis._initSmartRenderingPlaceholder();\n\t},\n\n\t_refreshPlaceholderOnStoreUpdate: function (id) {\n\t\tvar config = this.$getConfig(),\n\t\t\tstore = this.$config.rowStore;\n\n\t\tif (!store || id !== null || !this.isVisible() || !config.smart_rendering) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar contentHeight;\n\t\tif (this.$config.scrollY) {\n\t\t\tvar scroll = this.$gantt.$ui.getView(this.$config.scrollY);\n\t\t\tif (scroll)\n\t\t\t\tcontentHeight = scroll.getScrollState().scrollSize;\n\t\t}\n\n\t\tif (!contentHeight) {\n\t\t\tcontentHeight = store ? this.getTotalHeight() : 0;\n\t\t}\n\n\t\tif (contentHeight) {\n\t\t\tif (this.$rowsPlaceholder && this.$rowsPlaceholder.parentNode) {\n\t\t\t\tthis.$rowsPlaceholder.parentNode.removeChild(this.$rowsPlaceholder);\n\t\t\t}\n\n\t\t\tvar placeholder = this.$rowsPlaceholder = document.createElement(\"div\");\n\t\t\tplaceholder.style.visibility = \"hidden\";\n\t\t\tplaceholder.style.height = contentHeight + \"px\";\n\t\t\tplaceholder.style.width = \"1px\";\n\t\t\tthis.$grid_data.appendChild(placeholder);\n\t\t}\n\t},\n\n\t_initSmartRenderingPlaceholder: function () {\n\t\tvar store = this.$config.rowStore;\n\t\tif (!store) {\n\t\t\treturn;\n\t\t} else {\n\t\t\tthis._initSmartRenderingPlaceholder = function () { };\n\t\t}\n\t\tthis._staticBgHandler = store.attachEvent(\"onStoreUpdated\", utils.bind(this._refreshPlaceholderOnStoreUpdate, this));\n\t},\n\n\t_initEvents: function () {\n\t\tvar gantt = this.$gantt;\n\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_close\", gantt.bind(function (e, id, trg) {\n\t\t\tvar store = this.$config.rowStore;\n\t\t\tif (!store) return true;\n\n\t\t\tvar target = domHelpers.locateAttribute(e, this.$config.item_attribute);\n\t\t\tif (target) {\n\t\t\t\tstore.close(target.getAttribute(this.$config.item_attribute));\n\n\t\t\t}\n\t\t\treturn false;\n\t\t}, this), this.$grid);\n\n\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_open\", gantt.bind(function (e, id, trg) {\n\t\t\tvar store = this.$config.rowStore;\n\t\t\tif (!store) return true;\n\n\t\t\tvar target = domHelpers.locateAttribute(e, this.$config.item_attribute);\n\t\t\tif (target) {\n\t\t\t\tstore.open(target.getAttribute(this.$config.item_attribute));\n\n\t\t\t}\n\t\t\treturn false;\n\t\t}, this), this.$grid);\n\t},\n\n\t_clearLayers: function (gantt) {\n\t\tvar layers = this.$gantt.$services.getService(\"layers\");\n\t\tvar taskRenderer = layers.getDataRender(this.$config.bind);\n\n\t\tif (this._taskLayers) {\n\t\t\tfor (var i = 0; i < this._taskLayers.length; i++) {\n\t\t\t\ttaskRenderer.removeLayer(this._taskLayers[i]);\n\t\t\t}\n\t\t}\n\n\t\tthis._taskLayers = [];\n\t},\n\n\t_getColumnWidth: function (column, config, width) {\n\t\tvar min_width = column.min_width || config.min_grid_column_width;\n\t\tvar new_width = Math.max(width, min_width || 10);\n\t\tif (column.max_width)\n\t\t\tnew_width = Math.min(new_width, column.max_width);\n\t\treturn new_width;\n\t},\n\t// set min width only if width < than config.min_grid_column_width\n\t_checkGridColumnMinWidthLimits: function (columns, config) {\n\t\tfor (var i = 0, l = columns.length; i < l; i++) {\n\t\t\tvar width = columns[i].width * 1;\n\t\t\tif (!columns[i].min_width && width < config.min_grid_column_width){\n\t\t\t\tcolumns[i].min_width = width;\n\t\t\t}\n\t\t}\n\t},\n\t// return min and max possible grid width according to restricts\n\t_getGridWidthLimits: function () {\n\t\tvar config = this.$getConfig(),\n\t\t\tcolumns = this.getGridColumns(),\n\t\t\tmin_limit = 0,\n\t\t\tmax_limit = 0;\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tmin_limit += columns[i].min_width ? columns[i].min_width : config.min_grid_column_width;\n\t\t\tif (max_limit !== undefined) {\n\t\t\t\tmax_limit = columns[i].max_width ? (max_limit + columns[i].max_width) : undefined;\n\t\t\t}\n\t\t}\n\t\tthis._checkGridColumnMinWidthLimits(columns, config); // FIX ME: should it be before calculating limits?\n\t\treturn [min_limit, max_limit];\n\t},\n\t// resize columns to get total newWidth, starting from columns[start_index]\n\t_setColumnsWidth: function (newWidth, start_index) {\n\t\tvar config = this.$getConfig();\n\t\tvar columns = this.getGridColumns(),\n\t\t\tcolumns_width = 0,\n\t\t\tfinal_width = newWidth;\n\n\t\tstart_index = !window.isNaN(start_index) ? start_index : -1;\n\n\t\tfor (var i = 0, l = columns.length; i < l; i++) {\n\t\t\tcolumns_width += columns[i].width * 1;\n\t\t}\n\n\t\tif (window.isNaN(columns_width)) {\n\t\t\tthis._calculateGridWidth();\n\t\t\tcolumns_width = 0;\n\t\t\tfor (var i = 0, l = columns.length; i < l; i++) {\n\t\t\t\tcolumns_width += columns[i].width * 1;\n\t\t\t}\n\t\t}\n\n\t\tvar extra_width = final_width - columns_width;\n\n\t\tvar start_width = 0;\n\t\tfor (var i = 0; i < start_index + 1; i++) {\n\t\t\tstart_width += columns[i].width;\n\t\t}\n\n\t\tcolumns_width -= start_width;\n\n\t\tfor (var i = start_index + 1; i < columns.length; i++) {\n\n\t\t\tvar col = columns[i];\n\t\t\tvar share = Math.round(extra_width * (col.width / columns_width));\n\n\t\t\t// columns have 2 additional restrict fields - min_width & max_width that are set by user\n\t\t\tif (extra_width < 0) {\n\t\t\t\tif (col.min_width && col.width + share < col.min_width)\n\t\t\t\t\tshare = col.min_width - col.width;\n\t\t\t\telse if (!col.min_width && config.min_grid_column_width && col.width + share < config.min_grid_column_width)\n\t\t\t\t\tshare = config.min_grid_column_width - col.width;\n\t\t\t} else if (col.max_width && col.width + share > col.max_width)\n\t\t\t\tshare = col.max_width - col.width;\n\n\t\t\tcolumns_width -= col.width;\n\t\t\tcol.width += share;\n\t\t\textra_width -= share;\n\n\t\t}\n\n\t\tvar iterator = extra_width > 0 ? 1 : -1;\n\t\twhile ((extra_width > 0 && iterator === 1) || (extra_width < 0 && iterator === -1)) {\n\t\t\tvar curExtra = extra_width;\n\t\t\tfor (i = start_index + 1; i < columns.length; i++) {\n\t\t\t\tvar new_width = columns[i].width + iterator;\n\n\t\t\t\tif (new_width == this._getColumnWidth(columns[i], config, new_width)) {\n\t\t\t\t\textra_width -= iterator;\n\t\t\t\t\tcolumns[i].width = new_width;\n\t\t\t\t}\n\n\t\t\t\tif (!extra_width)\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif (curExtra == extra_width)\n\t\t\t\tbreak;\n\t\t}\n\n\t\t// if impossible to resize the right-side columns, resize the start column\n\t\tif (extra_width && start_index > -1) {\n\t\t\tvar new_width = columns[start_index].width + extra_width;\n\t\t\tif (new_width == this._getColumnWidth(columns[start_index], config, new_width))\n\t\t\t\tcolumns[start_index].width = new_width;\n\t\t}\n\n\t\t//if (this.callEvent(\"onGridResizeEnd\", [config.grid_width, final_width]) === false)\n\t\t//\treturn;\n\n\t\treturn this._getColsTotalWidth();\n\t},\n\n\t_getColsTotalWidth: function () {\n\t\tvar columns = this.getGridColumns();\n\t\tvar cols_width = 0;\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tvar v = parseFloat(columns[i].width);\n\t\t\tif (window.isNaN(v)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tcols_width += v;\n\t\t}\n\t\treturn cols_width;\n\t},\n\t_calculateGridWidth: function () {\n\t\tvar config = this.$getConfig();\n\t\tvar columns = this.getGridColumns();\n\t\tvar cols_width = 0;\n\t\tvar unknown = [];\n\t\tvar width = [];\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tvar v = parseFloat(columns[i].width);\n\t\t\tif (window.isNaN(v)) {\n\t\t\t\tv = config.min_grid_column_width || 10;\n\t\t\t\tunknown.push(i);\n\t\t\t}\n\t\t\twidth[i] = v;\n\t\t\tcols_width += v;\n\t\t}\n\t\tvar gridWidth = this._getGridWidth() + 1;\n\t\tif (config.autofit || unknown.length) {\n\t\t\tvar diff = gridWidth - cols_width;\n\t\t\t// TODO: logic may be improved for proportional changing of width\n\n\t\t\t// autofit adjusts columns widths to the outer grid width\n\t\t\t// it doesn't makes sense if grid has inner scroll with elastic columns\n\t\t\tif (config.autofit && !config.grid_elastic_columns) {\n\t\t\t\t// delta must be added for all columns\n\t\t\t\tfor (var i = 0; i < width.length; i++) {\n\t\t\t\t\tvar delta = Math.round(diff / (width.length - i));\n\t\t\t\t\twidth[i] += delta;\n\t\t\t\t\tvar new_width = this._getColumnWidth(columns[i], config, width[i]);\n\n\t\t\t\t\tif (new_width != width[i]) {\n\t\t\t\t\t\tdelta = new_width - width[i];\n\t\t\t\t\t\twidth[i] = new_width;\n\t\t\t\t\t}\n\t\t\t\t\tdiff -= delta;\n\t\t\t\t}\n\t\t\t} else if (unknown.length) {\n\t\t\t\t// there are several columns with undefined width\n\t\t\t\tfor (var i = 0; i < unknown.length; i++) {\n\t\t\t\t\tvar delta = Math.round(diff / (unknown.length - i)); // no float values, just integer\n\t\t\t\t\tvar index = unknown[i];\n\t\t\t\t\twidth[index] += delta;\n\t\t\t\t\tvar new_width = this._getColumnWidth(columns[index], config, width[index]);\n\t\t\t\t\tif (new_width != width[index]) {\n\t\t\t\t\t\tdelta = new_width - width[index];\n\t\t\t\t\t\twidth[index] = new_width;\n\t\t\t\t\t}\n\t\t\t\t\tdiff -= delta;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < width.length; i++) {\n\t\t\t\tcolumns[i].width = width[i];\n\t\t\t}\n\t\t} else {\n\t\t\tvar changed = (gridWidth != cols_width);\n\t\t\tthis.$config.width = cols_width - 1;\n\t\t\tconfig.grid_width = cols_width;\n\t\t\tif (changed) {\n\t\t\t\tthis.$parent._setContentSize(this.$config.width, null);\n\t\t\t}\n\t\t}\n\n\t},\n\n\t_renderGridHeader: function () {\n\t\tvar gantt = this.$gantt;\n\t\tvar config = this.$getConfig();\n\t\tvar locale = this.$gantt.locale;\n\t\tvar templates = this.$gantt.templates;\n\n\t\tvar columns = this.getGridColumns();\n\t\tif (config.rtl) {\n\t\t\tcolumns = columns.reverse();\n\t\t}\n\t\tvar cells = [];\n\t\tvar width = 0,\n\t\t\tlabels = locale.labels;\n\n\t\tvar lineHeigth = config.scale_height - 1;\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tvar last = i == columns.length - 1;\n\t\t\tvar col = columns[i];\n\n\t\t\t// ensure columns have non-empty names\n\t\t\tif (!col.name) {\n\t\t\t\tcol.name = gantt.uid() + \"\";\n\t\t\t}\n\n\t\t\tvar colWidth = col.width * 1;\n\n\t\t\tvar gridWidth = this._getGridWidth();\n\t\t\tif (last && gridWidth > width + colWidth)\n\t\t\t\tcol.width = colWidth = gridWidth - width;\n\t\t\twidth += colWidth;\n\t\t\tvar sort = (gantt._sort && col.name == gantt._sort.name) ? (\"<div class='gantt_sort gantt_\" + gantt._sort.direction + \"'></div>\") : \"\";\n\t\t\tvar cssClass = [\"gantt_grid_head_cell\",\n\t\t\t\t(\"gantt_grid_head_\" + col.name),\n\t\t\t\t(last ? \"gantt_last_cell\" : \"\"),\n\t\t\t\ttemplates.grid_header_class(col.name, col)].join(\" \");\n\n\t\t\tvar style = \"width:\" + (colWidth - (last ? 1 : 0)) + \"px;\";\n\t\t\tvar label = (col.label || labels[\"column_\" + col.name] || labels[col.name]);\n\t\t\tlabel = label || \"\";\n\n\t\t\tvar ariaAttrs = gantt._waiAria.gridScaleCellAttrString(col, label);\n\n\t\t\tvar cell = \"<div class='\" + cssClass + \"' style='\" + style + \"' \" + ariaAttrs + \" data-column-id='\" + col.name + \"' column_id='\" + col.name + \"'>\" + label + sort + \"</div>\";\n\t\t\tcells.push(cell);\n\t\t}\n\t\tthis.$grid_scale.style.height = (config.scale_height) + \"px\";\n\t\tthis.$grid_scale.style.lineHeight = lineHeigth + \"px\";\n\t\t//this.$grid_scale.style.width = \"inherit\";\n\t\tthis.$grid_scale.innerHTML = cells.join(\"\");\n\n\t\tif (this._renderHeaderResizers) {\n\t\t\tthis._renderHeaderResizers();\n\t\t}\n\t},\n\n\t_getGridWidth: function () {\n\t\t// TODO: refactor/remove/comment some of _getGridWidth/this.$config.width/this.$state.width, it's not clear what they do\n\t\treturn this.$config.width;\n\t},\n\n\tdestructor: function () {\n\t\tthis._clearLayers(this.$gantt);\n\t\tif (this._mouseDelegates) {\n\t\t\tthis._mouseDelegates.destructor();\n\t\t\tthis._mouseDelegates = null;\n\t\t}\n\t\tthis._unbindStore();\n\t\tthis.$grid = null;\n\t\tthis.$grid_scale = null;\n\t\tthis.$grid_data = null;\n\t\tthis.$gantt = null;\n\t\tif (this.$config.rowStore) {\n\t\t\tthis.$config.rowStore.detachEvent(this._staticBgHandler);\n\t\t\tthis.$config.rowStore = null;\n\t\t}\n\n\t\tthis.callEvent(\"onDestroy\", []);\n\t\tthis.detachAllEvents();\n\t}\n};\n\nmodule.exports = Grid;\n","export enum ConstraintTypes {\n\t// As Soon As Possible (ASAP)\n\tASAP = \"asap\",\n\t// As Late As Possible (ALAP)\n\tALAP = \"alap\",\n\t// Start No Earlier Than (SNET)\n\tSNET = \"snet\",\n\t// Start No Later Than (SNLT)\n\tSNLT = \"snlt\",\n\t// Finish No Earlier Than (FNET)\n\tFNET = \"fnet\",\n\t// Finish No Later Than (FNLT)\n\tFNLT = \"fnlt\",\n\t// Must Start On (MSO)\n\tMSO = \"mso\",\n\t// Must Finish On (MFO)\n\tMFO = \"mfo\"\n}","module.exports = function(gantt) {\n\treturn {\n\t\tgetVirtualRoot: function(){\n\t\t\treturn gantt.mixin(\n\t\t\t\tgantt.getSubtaskDates(),\n\t\t\t\t{\n\t\t\t\t\tid: gantt.config.root_id,\n\t\t\t\t\ttype: gantt.config.types.project,\n\t\t\t\t\t$source: [],\n\t\t\t\t\t$target: [],\n\t\t\t\t\t$virtual: true\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\n\t\tgetLinkedTasks: function(id, includePredecessors){\n\t\t\tvar startIds = [id];\n\t\n\t\t\t//TODO: format links cache\n\t\t\tvar clearCache = false;\n\t\t\tif(!gantt._isLinksCacheEnabled()) {\n\t\t\t\tgantt._startLinksCache();\n\t\t\t\tclearCache = true;\n\t\t\t}\n\t\t\tvar relations = [];\n\t\t\tvar visited = {};\n\t\t\tvar result = {};\n\t\t\tfor(var i = 0; i < startIds.length; i++){\n\t\t\t\tthis._getLinkedTasks(startIds[i], visited, includePredecessors, result);\n\t\t\t}\n\t\n\t\t\tfor(var i in result){\n\t\t\t\trelations.push(result[i]);\n\t\t\t}\n\t\n\t\t\t//TODO: remove redundant edges before continue https://en.wikipedia.org/wiki/Transitive_reduction\n\t\t\tif(clearCache)\n\t\t\t\tgantt._endLinksCache();\n\t\t\treturn relations;\n\t\t},\n\t\n\t\t_collectRelations: function(rootObj, isChild, includePredecessors, visitedLinks){\n\t\t\tvar successors = gantt._getSuccessors(rootObj, isChild);\n\t\n\t\t\tvar predecessors = [];\n\t\t\tif (includePredecessors) {\n\t\t\t\tpredecessors = gantt._getPredecessors(rootObj, isChild);\n\t\t\t}\n\t\t\t\n\t\t\tvar linkKey;\n\t\t\tvar relations = [];\n\t\t\tfor(var i = 0; i < successors.length; i++){\n\t\t\t\tlinkKey = successors[i].hashSum;\n\t\t\t\tif(visitedLinks[linkKey]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}else{\n\t\t\t\t\tvisitedLinks[linkKey] = true;\n\t\t\t\t\trelations.push(successors[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(var i = 0; i < predecessors.length; i++){\n\t\t\t\tlinkKey = predecessors[i].hashSum;\n\t\t\t\tif(visitedLinks[linkKey]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}else{\n\t\t\t\t\tvisitedLinks[linkKey] = true;\n\t\t\t\t\trelations.push(predecessors[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn relations;\n\t\t},\n\t\t_getLinkedTasks: function(rootTask, visitedTasks, includePredecessors, output) {\n\t\t\tvar from = rootTask === undefined ? gantt.config.root_id : rootTask;\n\t\t\tvar visitedTasks = {};\n\t\t\tvar visitedLinks = {};\n\t\t\tvar rootObj;\n\t\n\t\t\tvar tasksStack = [{from: from, includePredecessors: includePredecessors, isChild:false}];\n\t\n\t\t\twhile(tasksStack.length){\n\t\t\t\tvar current = tasksStack.pop();\n\t\t\t\tvar isChild = current.isChild;\n\t\n\t\t\t\tfrom = current.from;\n\t\t\t\tif(visitedTasks[from]){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trootObj = gantt.isTaskExists(from) ? gantt.getTask(from) : this.getVirtualRoot();\n\t\t\t\tvisitedTasks[from] = true;\n\t\t\t\t\n\t\t\t\tvar relations = this._collectRelations(rootObj, isChild, includePredecessors, visitedLinks);\n\t\n\t\t\t\tfor(var i=0; i < relations.length; i++){\n\t\t\t\t\tvar rel = relations[i];\n\t\t\t\t\toutput[rel.hashSum] = rel;\n\t\t\t\t\tvar isSameParent = rel.sourceParent == rel.targetParent;\n\t\t\t\t\tvar targetTask = rel.target;\n\t\t\t\t\tif(!visitedTasks[targetTask])\n\t\t\t\t\t\ttasksStack.push({from: rel.target, includePredecessors: true, isChild: isSameParent});\n\t\t\t\t}\n\t\n\t\t\t\tif(gantt.hasChild(rootObj.id)){\n\t\t\t\t\tvar children = gantt.getChildren(rootObj.id);\n\t\t\t\t\tfor(var i=0; i < children.length; i++){\n\t\t\t\t\t\tif(!visitedTasks[children[i]])\n\t\t\t\t\t\t\ttasksStack.push({from: children[i], includePredecessors: true, isChild: true});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn output;\n\t\t}\n\t};\n};","var helpers = require(\"../utils/helpers\");\n\nmodule.exports = function createResourceTimelineBuilder(gantt){\n\n\tvar resourceTaskCache = {};\n\n\tgantt.$data.tasksStore.attachEvent(\"onStoreUpdated\", function(){\n\t\tresourceTaskCache = {};\n\t});\n\n\tfunction getResourceLoad(resource, resourceProperty, scale, timeline){\n\t\tvar cacheKey = resource.id + \"_\" + resourceProperty  + \"_\" + scale.unit + \"_\" + scale.step;\n\t\tvar res;\n\t\tif (!resourceTaskCache[cacheKey]) {\n\t\t\tres = resourceTaskCache[cacheKey] = calculateResourceLoad(resource, resourceProperty, scale, timeline);\n\n\t\t} else {\n\t\t\tres = resourceTaskCache[cacheKey];\n\t\t}\n\t\treturn res;\n\t}\n\n\tfunction calculateResourceLoadFromAssignments(items, scale, assignmentsPassed){\n\t\tvar scaleUnit = scale.unit;\n\t\tvar scaleStep = scale.step;\n\t\tvar timegrid = {};\n\n\t\tvar precalculatedTimes = {};\n\t\tfor (var i = 0; i < items.length; i++) {\n\t\t\tvar item = items[i];\n\t\t\tvar task = item;\n\t\t\tif(assignmentsPassed){\n\t\t\t\ttask = gantt.getTask(item.task_id);\n\t\t\t}\n\t\t\tvar minDate = (item.start_date || task.start_date);\n\t\t\tvar maxDate = (item.end_date || task.end_date);\n\t\t\tif(assignmentsPassed){\n\t\t\t\tif(item.start_date){\n\t\t\t\t\tminDate = new Date(Math.max(item.start_date.valueOf(), task.start_date.valueOf()));\n\t\t\t\t}\n\t\t\t\tif(item.end_date){\n\t\t\t\t\tmaxDate = new Date(Math.min(item.end_date.valueOf(), task.end_date.valueOf()));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar firstColumn = helpers.findBinary(scale.trace_x, minDate.valueOf());\n\t\t\tvar currDate = new Date(scale.trace_x[firstColumn] || gantt.date[scaleUnit + \"_start\"](new Date(minDate)));\n\n\t\t\tvar calendar = gantt.config.work_time ? gantt.getTaskCalendar(task) : gantt;\n\t\t\tprecalculatedTimes[calendar.id] = {};\n\t\t\twhile (currDate < maxDate) {\n\t\t\t\tvar cachedTimes = precalculatedTimes[calendar.id];\n\n\t\t\t\tvar date = currDate;\n\t\t\t\tvar timestamp = date.valueOf();\n\n\t\t\t\tcurrDate = gantt.date.add(currDate, scaleStep, scaleUnit);\n\n\t\t\t\tif(cachedTimes[timestamp] === false){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar isWorkTime = calendar.isWorkTime({date: date, task: task, unit: scaleUnit});\n\t\t\t\tif(!isWorkTime){\n\t\t\t\t\tcachedTimes[timestamp] = false;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (!timegrid[timestamp]){\n\t\t\t\t\ttimegrid[timestamp] = {tasks: [], assignments: []};\n\t\t\t\t}\n\n\t\t\t\ttimegrid[timestamp].tasks.push(task);\n\t\t\t\tif(assignmentsPassed){\n\t\t\t\t\ttimegrid[timestamp].assignments.push(item);\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t\treturn timegrid;\n\t}\n\n\tfunction calculateResourceLoad(resource, resourceProperty, scale, timeline) {\n\n\t\tvar items;\n\t\tvar assignmentsPassed = false;\n\t\tvar timegrid = {};\n\n\t\tif(gantt.config.process_resource_assignments && resourceProperty === gantt.config.resource_property){\n\t\t\tif(resource.$role == \"task\"){\n\t\t\t\titems = gantt.getResourceAssignments(resource.$resource_id, resource.$task_id);\n\t\t\t}else{\n\t\t\t\titems = gantt.getResourceAssignments(resource.id);\n\t\t\t}\n\n\t\t\tassignmentsPassed = true;\n\t\t}else if(resource.$role == \"task\"){\n\t\t\titems = [];\n\t\t}else{\n\t\t\titems = gantt.getTaskBy(resourceProperty, resource.id);\n\t\t}\n\n\t\tvar timegrid = calculateResourceLoadFromAssignments(items, scale, assignmentsPassed);\n\t\tvar scaleUnit = scale.unit;\n\t\tvar scaleStep = scale.step;\n\n\t\tvar timetable = [];\n\t\tvar start, end, tasks, assignments, cell;\n\t\tvar config = timeline.$getConfig();\n\n\t\tfor(var i = 0; i < scale.trace_x.length; i++){\n\t\t\tstart = new Date(scale.trace_x[i]);\n\t\t\tend = gantt.date.add(start, scaleStep, scaleUnit);\n\t\t\tcell = timegrid[start.valueOf()] || {};\n\t\t\ttasks = cell.tasks || [];\n\t\t\tassignments = cell.assignments || [];\n\t\t\tif(tasks.length || config.resource_render_empty_cells){\n\t\t\t\ttimetable.push({\n\t\t\t\t\tstart_date: start,\n\t\t\t\t\tend_date: end,\n\t\t\t\t\ttasks: tasks,\n\t\t\t\t\tassignments: assignments\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\ttimetable.push(null);\n\t\t\t}\n\t\t}\n\n\t\treturn timetable;\n\t}\n\n\n\n\treturn getResourceLoad;\n};","var utils = require(\"../../../utils/utils\");\nvar Timeline = require(\"./timeline\");\nvar resourceStoreMixin = require(\"../resource_store_mixin\");\nvar __extends = require(\"../../../utils/extends\");\n\nvar ResourceTimeline = (function (_super) {\n\n\tfunction ResourceTimeline(parent, config, factory, gantt) {\n\t\tvar self = _super.apply(this, arguments) || this;\n\t\tself.$config.bindLinks = null;\n\t\treturn self;\n\t}\n\n\t__extends(ResourceTimeline, _super);\n\n\tutils.mixin(ResourceTimeline.prototype, {\n\t\tinit: function(){\n\t\t\tif(this.$config.bind === undefined){\n\t\t\t\tthis.$config.bind = this.$getConfig().resource_store;\n\t\t\t}\n\t\t\t_super.prototype.init.apply(this, arguments);\n\t\t},\n\t\t_createLayerConfig: function() {\n\t\t\tvar self = this;\n\t\t\tvar taskFilter = function() {\n\t\t\t\treturn self.isVisible();\n\t\t\t};\n\n\t\t\tvar taskLayers = [\n\t\t\t\t{\n\t\t\t\t\trenderer: this.$gantt.$ui.layers.resourceRow(),\n\t\t\t\t\tcontainer: this.$task_bars,\n\t\t\t\t\tfilter: [taskFilter]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\trenderer: this.$gantt.$ui.layers.taskBg(),\n\t\t\t\t\tcontainer: this.$task_bg,\n\t\t\t\t\tfilter: [taskFilter]\n\t\t\t\t}\n\t\t\t];\n\n\t\t\tvar linkLayers = [];\n\n\t\t\treturn {\n\t\t\t\ttasks: taskLayers,\n\t\t\t\tlinks: linkLayers\n\t\t\t};\n\t\t}\n\n\t}, true);\n\n\tutils.mixin(ResourceTimeline.prototype, resourceStoreMixin(ResourceTimeline), true);\n\n\treturn ResourceTimeline;\n})(Timeline);\n\n\nmodule.exports = ResourceTimeline;\n\n\n","var ScaleHelper = require(\"./scales_ignore\");\nvar eventable = require(\"../../../utils/eventable\");\nvar utils = require(\"../../../utils/utils\");\nvar helpers = require(\"../../../utils/helpers\");\nvar topPositionMixin = require(\"../row_position_mixin\");\nvar canvasRender = require(\"./tasks_canvas_render\");\n\nvar Timeline = function(parent, config, factory, gantt){\n\tthis.$config = utils.mixin({}, config || {});\n\tthis.$scaleHelper = new ScaleHelper(gantt);\n\tthis.$gantt = gantt;\n\tthis._posFromDateCache = {};\n\tthis._timelineDragScroll = null;\n\tutils.mixin(this, topPositionMixin(this));\n\teventable(this);\n};\n\nTimeline.prototype = {\n\tinit: function(container) {\n\t\tcontainer.innerHTML += \"<div class='gantt_task' style='width:inherit;height:inherit;'></div>\";\n\t\tthis.$task = container.childNodes[0];\n\n\t\tthis.$task.innerHTML = \"<div class='gantt_task_scale'></div><div class='gantt_data_area'></div>\";\n\t\tthis.$task_scale = this.$task.childNodes[0];\n\n\t\tthis.$task_data = this.$task.childNodes[1];\n\t\tthis.$task_data.innerHTML = \"<div class='gantt_task_bg'></div><div class='gantt_links_area'></div><div class='gantt_bars_area'></div>\";\n\t\tthis.$task_bg = this.$task_data.childNodes[0];\n\t\tthis.$task_links = this.$task_data.childNodes[1];\n\t\tthis.$task_bars = this.$task_data.childNodes[2];\n\n\t\tthis._tasks = {\n\t\t\tcol_width: 0,\n\t\t\twidth: [], // width of each column\n\t\t\tfull_width: 0, // width of all columns\n\t\t\ttrace_x: [],\n\t\t\trendered: {}\n\t\t};\n\n\t\tvar config = this.$getConfig();\n\t\tvar attr = config[this.$config.bind + \"_attribute\"];\n\t\tvar linksAttr = config[this.$config.bindLinks + \"_attribute\"];\n\t\tif(!attr && this.$config.bind){\n\t\t\tattr = \"data-\" + this.$config.bind + \"-id\";\n\t\t}\n\t\tif(!linksAttr && this.$config.bindLinks){\n\t\t\tlinksAttr = \"data-\" + this.$config.bindLinks + \"-id\";\n\t\t}\n\t\tthis.$config.item_attribute = attr || null;\n\t\tthis.$config.link_attribute = linksAttr || null;\n\n\t\tvar layers = this._createLayerConfig();\n\t\tif(!this.$config.layers){\n\t\t\tthis.$config.layers = layers.tasks;\n\t\t}\n\t\tif(!this.$config.linkLayers){\n\t\t\tthis.$config.linkLayers = layers.links;\n\t\t}\n\n\t\tthis._attachLayers(this.$gantt);\n\n\t\tthis.callEvent(\"onReady\", []);\n\t\t//this.refresh();\n\t\tif (this.$gantt.ext.dragTimeline) {\n\t\t\tthis._timelineDragScroll = this.$gantt.ext.dragTimeline.create();\n\t\t\tthis._timelineDragScroll.attach(this);\n\t\t}\n\t},\n\n\tsetSize: function(width, height){\n\t\tvar config = this.$getConfig();\n\n\t\tif(width*1 === width){\n\t\t\tthis.$config.width = width;\n\t\t}\n\t\tif(height*1 === height){\n\n\t\t\tthis.$config.height = height;\n\t\t\tvar dataHeight = Math.max(this.$config.height - config.scale_height);\n\t\t\tthis.$task_data.style.height = dataHeight + 'px';\n\t\t}\n\n\t\tthis.refresh();\n\t\tthis.$task_bg.style.backgroundImage = \"\";\n\n\t\tif(config.smart_rendering && this.$config.rowStore){\n\t\t\tthis.$task_bg.style.height = this.getTotalHeight() +\"px\";\n\t\t}else{\n\t\t\tthis.$task_bg.style.height = \"\";\n\t\t}\n\n\t\tvar scale = this._tasks;\n\t\t//timeline area layers\n\t\tvar data_els = this.$task_data.childNodes;\n\t\tfor(var i= 0, len = data_els.length; i < len; i++){\n\t\t\tvar el = data_els[i];\n\t\t\tif(el.hasAttribute(\"data-layer\") && el.style)\n\t\t\t\tel.style.width = scale.full_width + \"px\";\n\t\t}\n\t},\n\n\tisVisible: function(){\n\t\tif(this.$parent && this.$parent.$config){\n\t\t\treturn !this.$parent.$config.hidden;\n\t\t}else{\n\t\t\treturn this.$task.offsetWidth;\n\t\t}\n\t},\n\n\tgetSize: function(){\n\t\tvar config = this.$getConfig();\n\t\tvar store = this.$config.rowStore;\n\n\t\tvar contentHeight = store ? this.getTotalHeight() : 0,\n\t\t\tcontentWidth = this.isVisible() ? this._tasks.full_width : 0;\n\n\t\treturn {\n\t\t\tx: this.isVisible() ? this.$config.width : 0,\n\t\t\ty: this.isVisible() ? this.$config.height : 0,\n\t\t\tcontentX: this.isVisible() ? contentWidth : 0,\n\t\t\tcontentY: this.isVisible() ? (config.scale_height + contentHeight) : 0,\n\t\t\tscrollHeight: this.isVisible() ? contentHeight : 0,\n\t\t\tscrollWidth: this.isVisible() ? contentWidth : 0\n\t\t};\n\t},\n\n\tscrollTo: function(left, top){\n\t\tif(!this.isVisible())\n\t\t\treturn;\n\n\t\tvar scrolled = false;\n\n\t\tthis.$config.scrollTop = this.$config.scrollTop || 0;\n\t\tthis.$config.scrollLeft = this.$config.scrollLeft || 0;\n\t\tif(top*1 === top){\n\t\t\tthis.$config.scrollTop = top;\n\t\t\tthis.$task_data.scrollTop = this.$config.scrollTop;\n\t\t\tscrolled = true;\n\t\t}\n\t\tif (left*1 === left){\n\t\t\tthis.$task.scrollLeft = left;\n\t\t\tthis.$config.scrollLeft = this.$task.scrollLeft;\n\t\t\tthis._refreshScales();\n\t\t\tscrolled = true;\n\t\t}\n\n\t\tif(scrolled){\n\t\t\tthis.callEvent(\"onScroll\", [this.$config.scrollLeft, this.$config.scrollTop]);\n\t\t}\n\t},\n\n\t_refreshScales: function _refreshScales() {\n\t\tif(!this.isVisible())\n\t\t\treturn;\n\n\t\tvar config = this.$getConfig();\n\t\tif (!config.smart_scales) return;\n\n\t\tvar viewPort = this.getViewPort();\n\n\t\tvar scales = this._scales;\n\t\tthis.$task_scale.innerHTML = this._getScaleChunkHtml(scales, viewPort.x, viewPort.x_end);\n\t},\n\n\tgetViewPort: function(){\n\t\tvar scrollLeft = this.$config.scrollLeft || 0;\n\t\tvar scrollTop = this.$config.scrollTop || 0;\n\t\tvar height = this.$config.height || 0;\n\t\tvar width = this.$config.width || 0;\n\t\treturn {\n\t\t\ty: scrollTop,\n\t\t\ty_end: scrollTop + height,\n\t\t\tx: scrollLeft,\n\t\t\tx_end: scrollLeft + width,\n\t\t\theight: height,\n\t\t\twidth: width\n\t\t};\n\t},\n\n\t_createLayerConfig: function(){\n\t\tvar self = this;\n\t\tvar taskFilter = function(){\n\t\t\treturn self.isVisible();\n\t\t};\n\n\t\tvar barVisible = function(id, task){\n\t\t\treturn !task.hide_bar;\n\t\t};\n\n\t\tvar taskLayers = [\n\t\t\t{\n\t\t\t\texpose: true,\n\t\t\t\trenderer: this.$gantt.$ui.layers.taskBar(),\n\t\t\t\tcontainer: this.$task_bars,\n\t\t\t\tfilter: [taskFilter, barVisible]\n\t\t\t},\n\t\t\t{\n\t\t\t\trenderer: this.$gantt.$ui.layers.taskSplitBar(),\n\t\t\t\tfilter: [taskFilter],\n\t\t\t\tcontainer: this.$task_bars,\n\t\t\t\tappend: true\n\t\t\t},\n\t\t\t{\n\t\t\t\trenderer: this.$gantt.$ui.layers.taskRollupBar(),\n\t\t\t\tfilter: [taskFilter],\n\t\t\t\tcontainer: this.$task_bars,\n\t\t\t\tappend: true\n\t\t\t},\n\t\t\t{\n\t\t\t\trenderer: this.$gantt.$ui.layers.taskBg(),\n\t\t\t\tcontainer: this.$task_bg,\n\t\t\t\tfilter: [\n\t\t\t\t\t//function(){\n\t\t\t\t\t//\treturn !self.$getConfig().static_background;\n\t\t\t\t\t//},\n\t\t\t\t\ttaskFilter\n\t\t\t\t]\n\t\t\t}\n\t\t];\n\n\t\tvar linkLayers = [\n\t\t\t{\n\t\t\t\texpose: true,\n\t\t\t\trenderer: this.$gantt.$ui.layers.link(),\n\t\t\t\tcontainer: this.$task_links,\n\t\t\t\tfilter: [taskFilter]\n\t\t\t}\n\t\t];\n\n\t\treturn {\n\t\t\ttasks: taskLayers,\n\t\t\tlinks: linkLayers\n\t\t};\n\n\t},\n\n\t_attachLayers: function(gantt){\n\t\tthis._taskLayers = [];\n\t\tthis._linkLayers = [];\n\n\t\tvar self = this;\n\n\t\tvar layers = this.$gantt.$services.getService(\"layers\");\n\n\t\tif(this.$config.bind){\n\n\t\t\tthis._bindStore();\n\t\t\tvar taskRenderer = layers.getDataRender(this.$config.bind);\n\n\t\t\tif(!taskRenderer){\n\t\t\t\ttaskRenderer = layers.createDataRender({\n\t\t\t\t\tname: this.$config.bind,\n\t\t\t\t\tdefaultContainer: function(){ return self.$task_data;}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\ttaskRenderer.container = function(){ return self.$task_data;};\n\n\t\t\tvar taskLayers = this.$config.layers;\n\t\t\tfor(var i = 0; taskLayers && i < taskLayers.length; i++){\n\t\t\t\tvar layer = taskLayers[i];\n\n\t\t\t\tif(typeof layer == \"string\"){\n\t\t\t\t\tlayer = this.$gantt.$ui.layers[layer]();\n\t\t\t\t}\n\n\t\t\t\tif(typeof layer == \"function\" || (layer && layer.render && layer.update)){\n\t\t\t\t\tlayer = {renderer: layer};\n\t\t\t\t}\n\n\t\t\t\tlayer.view = this;\n\n\t\t\t\tvar bar_layer = taskRenderer.addLayer(layer);\n\t\t\t\tthis._taskLayers.push(bar_layer);\n\t\t\t\tif(layer.expose){\n\t\t\t\t\tthis._taskRenderer = taskRenderer.getLayer(bar_layer);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._initStaticBackgroundRender();\n\t\t}\n\n\t\tif(this.$config.bindLinks){\n\t\t\tself.$config.linkStore = self.$gantt.getDatastore(self.$config.bindLinks);\n\n\t\t\tvar linkRenderer = layers.getDataRender(this.$config.bindLinks);\n\n\t\t\tif(!linkRenderer){\n\t\t\t\tlinkRenderer = layers.createDataRender({\n\t\t\t\t\tname: this.$config.bindLinks,\n\t\t\t\t\tdefaultContainer: function(){ return self.$task_data;}\n\t\t\t\t});\n\t\t\t}\n\t\t\tvar linkLayers = this.$config.linkLayers;\n\t\t\tfor(var i = 0; linkLayers && i < linkLayers.length; i++){\n\n\t\t\t\tif(typeof layer == \"string\"){\n\t\t\t\t\tlayer = this.$gantt.$ui.layers[layer]();\n\t\t\t\t}\n\n\t\t\t\tvar layer = linkLayers[i];\n\t\t\t\tlayer.view = this;\n\t\t\t//\tlayer.getViewPort = getViewPort;\n\t\t\t//\tsubscribeSmartRender(layer);\n\t\t\t\tvar linkLayer = linkRenderer.addLayer(layer);\n\t\t\t\tthis._taskLayers.push(linkLayer);\n\t\t\t\tif(linkLayers[i].expose){\n\t\t\t\t\tthis._linkRenderer = linkRenderer.getLayer(linkLayer);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_initStaticBackgroundRender: function(){\n\t\tvar self = this;\n\t\tvar staticRender = canvasRender.create();\n\t\tvar store = self.$config.rowStore;\n\t\tif(!store) return;\n\n\t\tthis._staticBgHandler = store.attachEvent(\"onStoreUpdated\", function(id, item, mode){\n\t\t\tif(id !== null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!self.isVisible())\n\t\t\t\treturn;\n\t\t\tvar config = self.$getConfig();\n\t\t\tif(config.static_background) {\n\t\t\t\tvar store = self.$gantt.getDatastore(self.$config.bind);\n\t\t\t\tvar staticBgContainer = self.$task_bg_static;\n\t\t\t\tif(!staticBgContainer){\n\t\t\t\t\tstaticBgContainer = document.createElement(\"div\");\n\t\t\t\t\tstaticBgContainer.className = \"gantt_task_bg\";\n\t\t\t\t\tself.$task_bg_static = staticBgContainer;\n\t\t\t\t\tif(self.$task_bg.nextSibling){\n\t\t\t\t\t\tself.$task_data.insertBefore(staticBgContainer, self.$task_bg.nextSibling);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tself.$task_data.appendChild(staticBgContainer);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (store) {\n\t\t\t\t\tstaticRender.render(staticBgContainer, config, self.getScale(), self.getTotalHeight(), self.getItemHeight(item ? item.id : null));\n\t\t\t\t}\n\t\t\t}else if(config.static_background){\n\t\t\t\tif(self.$task_bg_static && self.$task_bg_static.parentNode){\n\t\t\t\t\tself.$task_bg_static.parentNode.removeChild(self.$task_bg_static);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis.attachEvent(\"onDestroy\", function () {\n\t\t\tstaticRender.destroy();\n\t\t});\n\t\tthis._initStaticBackgroundRender = function(){};//init once\n\t},\n\n\t_clearLayers: function(gantt){\n\t\tvar layers = this.$gantt.$services.getService(\"layers\");\n\t\tvar taskRenderer = layers.getDataRender(this.$config.bind);\n\t\tvar linkRenderer = layers.getDataRender(this.$config.bindLinks);\n\n\t\tif (this._taskLayers) {\n\t\t\tfor(var i = 0; i < this._taskLayers.length; i++){\n\t\t\t\ttaskRenderer.removeLayer(this._taskLayers[i]);\n\t\t\t}\n\t\t}\n\t\tif (this._linkLayers) {\n\t\t\tfor(var i = 0; i < this._linkLayers.length; i++){\n\t\t\t\tlinkRenderer.removeLayer(this._linkLayers[i]);\n\t\t\t}\n\t\t}\n\n\t\tthis._linkLayers = [];\n\t\tthis._taskLayers = [];\n\t},\n\n\t_render_tasks_scales: function _render_tasks_scales() {\n\t\tvar config = this.$getConfig();\n\n\t\tvar scales_html = \"\",\n\t\t\touter_width = 0,\n\t\t\tscale_height = 0;\n\n\t\tvar state = this.$gantt.getState();\n\n\t\tif (this.isVisible()) {\n\t\t\tvar helpers = this.$scaleHelper;\n\t\t\tvar scales = this._getScales();\n\t\t\tscale_height = config.scale_height;\n\n\t\t\tvar availWidth = this.$config.width;\n\t\t\tif(config.autosize == \"x\" || config.autosize == \"xy\"){\n\t\t\t\tavailWidth = Math.max(config.autosize_min_width, 0);\n\t\t\t}\n\n\t\t\tvar cfgs = helpers.prepareConfigs(scales, config.min_column_width, availWidth, scale_height - 1, state.min_date, state.max_date, config.rtl);\n\t\t\tvar cfg = this._tasks = cfgs[cfgs.length - 1];\n\t\t\tthis._scales = cfgs;\n\t\t\tthis._posFromDateCache = {};\n\n\t\t\tscales_html = this._getScaleChunkHtml(cfgs, 0, this.$config.width);\n\n\t\t\touter_width = cfg.full_width + \"px\";//cfg.full_width + (this._scroll_sizes().y ? scrollSizes.scroll_size : 0) + \"px\";\n\t\t\tscale_height += \"px\";\n\t\t}\n\n\t\tthis.$task_scale.style.height = scale_height;\n\n\t\tthis.$task_data.style.width =\n\t\t\tthis.$task_scale.style.width = outer_width;\n\n\t\tthis.$task_scale.innerHTML = scales_html;\n\n\t},\n\n\t_getScaleChunkHtml: function _get_scale_chunk_html (scales, fromPos, toPos) {\n\t\tvar templates = this.$gantt.templates;\n\t\tvar html = [];\n\n\t\tvar css = templates.scale_row_class;\n\t\tfor (var i = 0; i < scales.length; i++) {\n\t\t\tvar cssClass = \"gantt_scale_line\";\n\t\t\tvar tplClass = css(scales[i]);\n\t\t\tif (tplClass) {\n\t\t\t\tcssClass += \" \" + tplClass;\n\t\t\t}\n\n\t\t\thtml.push(\"<div class=\\\"\" + cssClass + \"\\\" style=\\\"height:\" + (scales[i].height) +\n\t\t\t\t\"px;position:relative;line-height:\" + (scales[i].height) + \"px\\\">\" + this._prepareScaleHtml(scales[i], fromPos, toPos) + \"</div>\");\n\t\t}\n\n\t\treturn html.join(\"\");\n\t},\n\t_prepareScaleHtml: function _prepare_scale_html(config, fromPos, toPos) {\n\t\tvar globalConfig = this.$getConfig();\n\t\tvar globalTemplates = this.$gantt.templates;\n\n\t\tvar cells = [];\n\t\tvar date = null, css = null;\n\n\t\tvar content = config.format || config.template || config.date;\n\n\t\tif(typeof content === \"string\"){\n\t\t\tcontent = this.$gantt.date.date_to_str(content);\n\t\t}\n\n\t\tvar startIndex = 0,\n\t\t\tendIndex = config.count;\n\n\t\tif (globalConfig.smart_scales && (!isNaN(fromPos) && !isNaN(toPos))) {\n\t\t\tstartIndex = helpers.findBinary(config.left, fromPos);\n\t\t\tendIndex = helpers.findBinary(config.left, toPos) + 1;\n\t\t}\n\n\t\tcss = config.css || function () {\n\t\t\t};\n\t\tif (!config.css && globalConfig.inherit_scale_class) {\n\t\t\tcss = globalTemplates.scale_cell_class;\n\t\t}\n\n\t\tfor (var i = startIndex; i < endIndex; i++) {\n\t\t\tif (!config.trace_x[i]) break;\n\n\t\t\tdate = new Date(config.trace_x[i]);\n\t\t\tvar value = content.call(this, date),\n\t\t\t\twidth = config.width[i],\n\t\t\t\theight = config.height,\n\t\t\t\tleft = config.left[i],\n\t\t\t\tstyle = \"\",\n\t\t\t\ttemplate = \"\",\n\t\t\t\tcssclass = \"\";\n\n\t\t\tif (width) {\n\t\t\t\tvar position = globalConfig.smart_scales ? (\"position:absolute;left:\" + left + \"px\") : \"\";\n\n\t\t\t\tstyle = \"width:\" + (width) + \"px;height:\" + height + \"px;\" + position;\n\t\t\t\tcssclass = \"gantt_scale_cell\" + (i == config.count - 1 ? \" gantt_last_cell\" : \"\");\n\n\t\t\t\ttemplate = css.call(this, date);\n\t\t\t\tif (template) cssclass += \" \" + template;\n\n\t\t\t\tvar ariaAttr = this.$gantt._waiAria.getTimelineCellAttr(value);\n\t\t\t\tvar cell = \"<div class='\" + cssclass + \"'\" + ariaAttr + \" style='\" + style + \"'>\" + value + \"</div>\";\n\t\t\t\tcells.push(cell);\n\t\t\t} else {\n\t\t\t\t//do not render ignored cells\n\t\t\t}\n\n\t\t}\n\t\treturn cells.join(\"\");\n\t},\n\tdateFromPos: function dateFromPos(x) {\n\t\tvar scale = this._tasks;\n\t\tif (x < 0 || x > scale.full_width || !scale.full_width) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar ind = helpers.findBinary(this._tasks.left, x);\n\t\tvar summ = this._tasks.left[ind];\n\n\t\tvar col_width = scale.width[ind] || scale.col_width;\n\t\tvar part = 0;\n\t\tif (col_width) {\n\t\t\tpart = (x - summ) / col_width;\n\t\t\tif(scale.rtl){\n\t\t\t\tpart = 1 - part;\n\t\t\t}\n\n\t\t}\n\n\t\tvar unit = 0;\n\t\tif (part) {\n\t\t\tunit = this._getColumnDuration(scale, scale.trace_x[ind]);\n\t\t}\n\n\t\tvar date = new Date(scale.trace_x[ind].valueOf() + Math.round(part * unit));\n\t\treturn date;\n\t},\n\tposFromDate: function posFromDate(date) {\n\t\tif (!this.isVisible())\n\t\t\treturn 0;\n\n\t\tif(!date){\n\t\t\treturn 0;\n\t\t}\n\n\t\tvar dateValue = String(date.valueOf());\n\n\t\tif(this._posFromDateCache[dateValue] !== undefined){\n\t\t\treturn this._posFromDateCache[dateValue];\n\t\t}\n\t\tvar ind = this.columnIndexByDate(date);\n\t\tthis.$gantt.assert(ind >= 0, \"Invalid day index\");\n\n\t\tvar wholeCells = Math.floor(ind);\n\t\tvar partCell = ind % 1;\n\n\t\tvar pos = this._tasks.left[Math.min(wholeCells, this._tasks.width.length - 1)];\n\t\tif (wholeCells == this._tasks.width.length)\n\t\t\tpos += this._tasks.width[this._tasks.width.length - 1];\n\t\t//for(var i=1; i <= wholeCells; i++)\n\t\t//\tpos += gantt._tasks.width[i-1];\n\n\t\tif (partCell) {\n\t\t\tif (wholeCells < this._tasks.width.length) {\n\t\t\t\tpos += this._tasks.width[wholeCells] * (partCell % 1);\n\t\t\t} else {\n\t\t\t\tpos += 1;\n\t\t\t}\n\n\t\t}\n\n\t\tvar roundPos = Math.round(pos);\n\t\tthis._posFromDateCache[dateValue] = roundPos;\n\t\treturn Math.round(roundPos);\n\t},\n\n\t_getNextVisibleColumn: function (startIndex, columns, ignores) {\n\t\t// iterate columns to the right\n\t\tvar date = +columns[startIndex];\n\t\tvar visibleDateIndex = startIndex;\n\t\twhile (ignores[date]) {\n\t\t\tvisibleDateIndex++;\n\t\t\tdate = +columns[visibleDateIndex];\n\t\t}\n\n\t\treturn visibleDateIndex;\n\t},\n\t_getPrevVisibleColumn: function (startIndex, columns, ignores) {\n\t\t// iterate columns to the left\n\t\tvar date = +columns[startIndex];\n\t\tvar visibleDateIndex = startIndex;\n\t\twhile (ignores[date]) {\n\t\t\tvisibleDateIndex--;\n\t\t\tdate = +columns[visibleDateIndex];\n\t\t}\n\t\treturn visibleDateIndex;\n\t},\n\t_getClosestVisibleColumn: function (startIndex, columns, ignores) {\n\t\tvar visibleDateIndex = this._getNextVisibleColumn(startIndex, columns, ignores);\n\t\tif (!columns[visibleDateIndex]) {\n\t\t\tvisibleDateIndex =  this._getPrevVisibleColumn(startIndex, columns, ignores);\n\t\t}\n\t\treturn visibleDateIndex;\n\t},\n\tcolumnIndexByDate: function columnIndexByDate(date) {\n\t\tvar pos = new Date(date).valueOf();\n\t\tvar days = this._tasks.trace_x_ascending,\n\t\t\tignores = this._tasks.ignore_x;\n\n\t\tvar state = this.$gantt.getState();\n\n\t\tif (pos <= state.min_date) {\n\t\t\tif(this._tasks.rtl){\n\t\t\t\treturn days.length;\n\t\t\t}else{\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t}\n\n\t\tif (pos >= state.max_date) {\n\t\t\tif(this._tasks.rtl){\n\t\t\t\treturn 0;\n\t\t\t}else{\n\t\t\t\treturn days.length;\n\t\t\t}\n\t\t}\n\n\t\tvar dateIndex = helpers.findBinary(days, pos);\n\n\t\tvar visibleIndex = this._getClosestVisibleColumn(dateIndex, days, ignores);\n\t\tvar visibleDate = days[visibleIndex];\n\t\tvar transition = this._tasks.trace_index_transition;\n\n\t\tif(!visibleDate){\n\t\t\tif(transition){\n\t\t\t\treturn transition[0];\n\t\t\t}else{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\n\t\tvar part = ((date - days[visibleIndex]) / this._getColumnDuration(this._tasks, days[visibleIndex]));\n\t\tif(transition){\n\t\t\treturn transition[visibleIndex] + (1 - part);\n\t\t}else{\n\t\t\treturn visibleIndex + part;\n\t\t}\n\t},\n\tgetItemPosition:function (task, start_date, end_date) {\n\t\tvar xLeft, xRight, width;\n\t\tif(this._tasks.rtl){\n\t\t\txRight = this.posFromDate(start_date || task.start_date);\n\t\t\txLeft = this.posFromDate(end_date || task.end_date);\n\t\t}else{\n\t\t\txLeft = this.posFromDate(start_date || task.start_date);\n\t\t\txRight = this.posFromDate(end_date || task.end_date);\n\t\t}\n\t\twidth =  Math.max((xRight - xLeft), 0);\n\n\t\tvar y = this.getItemTop(task.id);\n\n\t\tvar height = this.getBarHeight(task.id);\n\t\tvar rowHeight = this.getItemHeight(task.id);\n\t\treturn {\n\t\t\tleft: xLeft,\n\t\t\ttop: y,\n\t\t\theight: height,\n\t\t\twidth: width,\n\t\t\trowHeight: rowHeight\n\t\t};\n\t},\n\n\tgetBarHeight: function(taskId, isMilestoneRender){\n\t\tvar config = this.$getConfig();\n\n\t\tvar task = this.$config.rowStore.getItem(taskId);\n\t\t// height of the bar item\n\t\tvar height = task.task_height || task.bar_height || config.bar_height || config.task_height;\n\t\tvar rowHeight = this.getItemHeight(taskId);\n\n\t\tif (height == \"full\") {\n\t\t\tvar offset = config.task_height_offset || 5;\n\t\t\theight = rowHeight - offset;\n\t\t}\n\t\t//item height cannot be bigger than row height\n\t\theight = Math.min(height, rowHeight);\n\t\tif (isMilestoneRender) { // to get correct height for addapting Milestone to the row\n\t\t\theight = Math.round(height / Math.sqrt(2));\n\t\t}\n\t\treturn Math.max(height, 0);\n\t},\n\n\tgetScale: function(){\n\t\treturn this._tasks;\n\t},\n\n\t_getScales: function _get_scales() {\n\t\tvar config = this.$getConfig();\n\t\tvar helpers = this.$scaleHelper;\n\t\tvar scales = [helpers.primaryScale(config)].concat(helpers.getSubScales(config));\n\n\t\thelpers.sortScales(scales);\n\t\treturn scales;\n\t},\n\n\t_getColumnDuration: function _get_coll_duration(scale, date) {\n\t\treturn this.$gantt.date.add(date, scale.step, scale.unit) - date;\n\t},\n\t_bindStore: function () {\n\t\tif (this.$config.bind){\n\t\t\tvar rowStore = this.$gantt.getDatastore(this.$config.bind);\n\t\t\tthis.$config.rowStore = rowStore;\n\t\t\tif(rowStore && !rowStore._timelineCacheAttached){\n\t\t\t\tvar self = this;\n\t\t\t\trowStore._timelineCacheAttached = rowStore.attachEvent(\"onBeforeFilter\", function(){\n\t\t\t\t\tself._resetTopPositionHeight();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\t_unbindStore: function(){\n\t\tif (this.$config.bind){\n\t\t\tvar rowStore = this.$gantt.getDatastore(this.$config.bind);\n\t\t\tif(rowStore._timelineCacheAttached){\n\t\t\t\trowStore.detachEvent(rowStore._timelineCacheAttached);\n\t\t\t\trowStore._timelineCacheAttached = false;\n\t\t\t}\n\t\t}\n\t},\n\trefresh: function(){\n\t\tthis._bindStore();\n\n\t\tif(this.$config.bindLinks) {\n\t\t\tthis.$config.linkStore = this.$gantt.getDatastore(this.$config.bindLinks);\n\t\t}\n\n\t\tthis._resetTopPositionHeight();\n\t\tthis._resetHeight();\n\t\tthis._initStaticBackgroundRender();\n\t\tthis._render_tasks_scales();\n\t},\n\n\tdestructor: function(){\n\t\tvar gantt = this.$gantt;\n\t\tthis._clearLayers(gantt);\n\t\tthis._unbindStore();\n\t\tthis.$task = null;\n\t\tthis.$task_scale = null;\n\t\tthis.$task_data = null;\n\t\tthis.$task_bg = null;\n\t\tthis.$task_links = null;\n\t\tthis.$task_bars = null;\n\n\t\tthis.$gantt = null;\n\n\t\tif(this.$config.rowStore){\n\t\t\tthis.$config.rowStore.detachEvent(this._staticBgHandler);\n\t\t\tthis.$config.rowStore = null;\n\t\t}\n\t\tif(this.$config.linkStore){\n\t\t\tthis.$config.linkStore = null;\n\t\t}\n\n\t\tif(this._timelineDragScroll) {\n\t\t\tthis._timelineDragScroll.destructor();\n\t\t\tthis._timelineDragScroll = null;\n\t\t}\n\n\t\tthis.callEvent(\"onDestroy\", []);\n\t\tthis.detachAllEvents();\n\n\t}\n};\n\nmodule.exports = Timeline;","var __extends = require(\"../../../utils/extends\"),\n\tdomHelpers = require(\"../utils/dom_helpers\"),\n\tCell = require(\"./cell\");\n\nvar Layout = (function (_super) {\n\t\"use strict\";\n\n\t__extends(Layout, _super);\n\tfunction Layout(parent, config, factory) {\n\t\tvar _this = _super.apply(this, arguments) || this;\n\n\t\tif(parent)\n\t\t\t_this.$root = true;\n\n\t\t_this._parseConfig(config);\n\t\t_this.$name = \"layout\";\n\t\treturn _this;\n\t}\n\n\tLayout.prototype.destructor = function () {\n\t\tif (this.$container && this.$view) {\n\t\t\tdomHelpers.removeNode(this.$view);\n\t\t}\n\n\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\t\t\tvar child = this.$cells[i];\n\t\t\tchild.destructor();\n\t\t}\n\t\tthis.$cells = [];\n\n\t\t_super.prototype.destructor.call(this);\n\t};\n\n\tLayout.prototype._resizeScrollbars = function(autosize, scrollbars){\n\t\tvar scrollChanged = false;\n\t\tvar visibleScrollbars = [],\n\t\t\thiddenSrollbars = [];\n\n\t\tfunction showScrollbar(scrollbar){\n\t\t\tscrollbar.$parent.show();\n\t\t\tscrollChanged = true;\n\t\t\tvisibleScrollbars.push(scrollbar);\n\t\t}\n\t\tfunction hideScrollbar(scrollbar){\n\t\t\tscrollbar.$parent.hide();\n\t\t\tscrollChanged = true;\n\t\t\thiddenSrollbars.push(scrollbar);\n\t\t}\n\n\t\tvar scrollbar;\n\t\tfor(var i = 0; i < scrollbars.length; i++){\n\t\t\tscrollbar = scrollbars[i];\n\n\t\t\tif(autosize[scrollbar.$config.scroll]) {\n\t\t\t\thideScrollbar(scrollbar);\n\t\t\t}else if(scrollbar.shouldHide()){\n\t\t\t\thideScrollbar(scrollbar);\n\t\t\t}else if(scrollbar.shouldShow()){\n\t\t\t\tshowScrollbar(scrollbar);\n\t\t\t}else{\n\t\t\t\tif(scrollbar.isVisible()){\n\t\t\t\t\tvisibleScrollbars.push(scrollbar);\n\t\t\t\t}else{\n\t\t\t\t\thiddenSrollbars.push(scrollbar);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar visibleGroups = {};\n\t\tfor(var i = 0; i < visibleScrollbars.length; i++){\n\t\t\tif(visibleScrollbars[i].$config.group){\n\t\t\t\tvisibleGroups[visibleScrollbars[i].$config.group] = true;\n\t\t\t}\n\t\t}\n\n\t\tfor(var i = 0; i < hiddenSrollbars.length; i++){\n\t\t\tscrollbar = hiddenSrollbars[i];\n\n\t\t\tif(scrollbar.$config.group && visibleGroups[scrollbar.$config.group]){\n\t\t\t\tshowScrollbar(scrollbar);\n\t\t\t\t// GS-707 If the scrollbar was hidden then showed, the container resize shouldn't happen because of that\n\t\t\t\tfor(var j = 0; j < visibleScrollbars.length; j++){\n\t\t\t\t\tif(visibleScrollbars[j] == scrollbar){\n\t\t\t\t\t\tthis.$gantt.$scrollbarRepaint = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn scrollChanged;\n\t};\n\n\tLayout.prototype._syncCellSizes = function(groupName, newSize){\n\t\tif(!groupName)\n\t\t\treturn;\n\n\t\tvar groups = {};\n\n\t\tthis._eachChild(function(cell){\n\t\t\tif(cell.$config.group && cell.$name != \"scrollbar\" && cell.$name != \"resizer\"){\n\t\t\t\tif(!groups[cell.$config.group]){\n\t\t\t\t\tgroups[cell.$config.group] = [];\n\t\t\t\t}\n\t\t\t\tgroups[cell.$config.group].push(cell);\n\t\t\t}\n\t\t});\n\n\t\tif(groups[groupName]){\n\t\t\tthis._syncGroupSize(groups[groupName], newSize);\n\t\t}\n\t\treturn groups[groupName];\n\t};\n\n\tLayout.prototype._syncGroupSize = function(cells, newSize){\n\t\tif(!cells.length) return;\n\n\t\tvar property = cells[0].$parent._xLayout ? \"width\" : \"height\";\n\t\tvar direction = cells[0].$parent.getNextSibling(cells[0].$id) ? 1 : -1;\n\n\t\tfor(var i = 0; i < cells.length; i++){\n\t\t\tvar ownSize = cells[i].getSize();\n\n\t\t\tvar resizeSibling = direction > 0 ? cells[i].$parent.getNextSibling(cells[i].$id) : cells[i].$parent.getPrevSibling(cells[i].$id);\n\t\t\tif(resizeSibling.$name == \"resizer\"){\n\t\t\t\tresizeSibling = direction > 0 ? resizeSibling.$parent.getNextSibling(resizeSibling.$id) : resizeSibling.$parent.getPrevSibling(resizeSibling.$id);\n\t\t\t}\n\t\t\tvar siblingSize = resizeSibling.getSize();\n\n\t\t\tif(resizeSibling[property]){\n\t\t\t\tvar totalGravity = ownSize.gravity + siblingSize.gravity;\n\t\t\t\tvar totalSize = ownSize[property] + siblingSize[property];\n\t\t\t\tvar k = totalGravity / totalSize;\n\t\t\t\tcells[i].$config.gravity = k * newSize;\n\n\t\t\t\tresizeSibling.$config[property] = totalSize - newSize;\n\t\t\t\tresizeSibling.$config.gravity = totalGravity - k * newSize;\n\t\t\t}else{\n\n\n\t\t\t\tcells[i].$config[property] = newSize;\n\t\t\t}\n\n\t\t\tvar mainGrid = this.$gantt.$ui.getView(\"grid\");\n\t\t\tif(mainGrid && cells[i].$content === mainGrid && !mainGrid.$config.scrollable){\n\t\t\t\tthis.$gantt.config.grid_width = newSize;\n\t\t\t}\n\t\t}\n\t};\n\n\tLayout.prototype.resize = function(startStage){\n\t\tvar mainCall = false;\n\t\tif(this.$root && !this._resizeInProgress){\n\t\t\tthis.callEvent(\"onBeforeResize\", []);\n\t\t\tmainCall = true;\n\t\t\tthis._resizeInProgress = true;\n\t\t}\n\n\t\t_super.prototype.resize.call(this, true);\n\t\t_super.prototype.resize.call(this, false);\n\n\t\tif(mainCall){\n\n\t\t\tvar contentViews = [];\n\t\t\tcontentViews = contentViews.concat(this.getCellsByType(\"viewCell\"));\n\t\t\tcontentViews = contentViews.concat(this.getCellsByType(\"viewLayout\"));\n\t\t\tcontentViews = contentViews.concat(this.getCellsByType(\"hostCell\"));\n\n\t\t\tvar scrollbars = this.getCellsByType(\"scroller\");\n\n\t\t\tfor(var i = 0; i < contentViews.length; i++){\n\t\t\t\tif(!contentViews[i].$config.hidden)\n\t\t\t\t\tcontentViews[i].setContentSize();\n\t\t\t}\n\n\t\t\tvar autosize = this._getAutosizeMode(this.$config.autosize);\n\n\t\t\tvar scrollChanged = this._resizeScrollbars(autosize, scrollbars);\n\n\t\t\tif(this.$config.autosize){\n\t\t\t\tthis.autosize(this.$config.autosize);\n\t\t\t\tscrollChanged = true;\n\t\t\t}\n\n\t\t\tif(scrollChanged){\n\t\t\t\tthis.resize();\n\t\t\t\tfor(var i = 0; i < contentViews.length; i++){\n\t\t\t\t\tif(!contentViews[i].$config.hidden)\n\t\t\t\t\t\tcontentViews[i].setContentSize();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.callEvent(\"onResize\", []);\n\t\t}\n\t\tif(mainCall){\n\t\t\tthis._resizeInProgress = false;\n\t\t}\n\t};\n\n\tLayout.prototype._eachChild = function(code, cell){\n\t\tcell = cell || this;\n\t\tcode(cell);\n\t\tif(cell.$cells){\n\t\t\tfor(var i = 0; i < cell.$cells.length; i++){\n\t\t\t\tthis._eachChild(code, cell.$cells[i]);\n\t\t\t}\n\t\t}\n\t};\n\n\tLayout.prototype.isChild = function(view){\n\t\tvar res = false;\n\t\tthis._eachChild(function(child){\n\t\t\tif(child === view || child.$content === view){\n\t\t\t\tres = true;\n\t\t\t}\n\t\t});\n\t\treturn res;\n\t};\n\n\tLayout.prototype.getCellsByType = function(type){\n\t\tvar res = [];\n\t\tif(type === this.$name){\n\t\t\tres.push(this);\n\t\t}\n\n\t\tif(this.$content && this.$content.$name == type){\n\t\t\tres.push(this.$content);\n\t\t}\n\n\t\tif(this.$cells){\n\t\t\tfor(var i = 0; i < this.$cells.length; i++){\n\t\t\t\tvar children = Layout.prototype.getCellsByType.call(this.$cells[i], type);\n\t\t\t\tif(children.length){\n\t\t\t\t\tres.push.apply(res, children);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t};\n\n\tLayout.prototype.getNextSibling = function(cellId){\n\t\tvar index = this.cellIndex(cellId);\n\t\tif(index >= 0 && this.$cells[index + 1]){\n\t\t\treturn this.$cells[index + 1];\n\t\t}else{\n\t\t\treturn null;\n\t\t}\n\t};\n\n\tLayout.prototype.getPrevSibling = function(cellId){\n\t\tvar index = this.cellIndex(cellId);\n\t\tif(index >= 0 && this.$cells[index - 1]){\n\t\t\treturn this.$cells[index - 1];\n\t\t}else{\n\t\t\treturn null;\n\t\t}\n\t};\n\n\n\tLayout.prototype.cell = function (id) {\n\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\t\t\tvar child = this.$cells[i];\n\t\t\tif (child.$id === id) {\n\t\t\t\treturn child;\n\t\t\t}\n\t\t\tvar sub = child.cell(id);\n\t\t\tif (sub) {\n\t\t\t\treturn sub;\n\t\t\t}\n\t\t}\n\t};\n\tLayout.prototype.cellIndex = function (id) {\n\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\t\t\tif (this.$cells[i].$id === id) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t};\n\tLayout.prototype.moveView = function (view, ind) {\n\t\tif (this.$cells[ind] !== view) {\n\t\t\treturn window.alert(\"Not implemented\");\n\t\t}\n\t\telse {\n\t\t\tind += this.$config.header ? 1 : 0;\n\t\t\tvar node = this.$view;\n\t\t\tif (ind >= node.childNodes.length) {\n\t\t\t\tnode.appendChild(view.$view);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tnode.insertBefore(view.$view, node.childNodes[ind]);\n\t\t\t}\n\t\t}\n\t};\n\tLayout.prototype._parseConfig = function (config) {\n\t\tthis.$cells = [];\n\t\tthis._xLayout = !config.rows;\n\t\tvar cells = config.rows || config.cols || config.views;\n\t\tfor (var i = 0; i < cells.length; i++) {\n\t\t\tvar cell = cells[i];\n\t\t\tcell.mode = this._xLayout ? \"x\" : \"y\";\n\t\t\tvar $content = this.$factory.initUI(cell, this);\n\t\t\tif(!$content){\n\t\t\t\tcells.splice(i, 1);\n\t\t\t\ti--;\n\t\t\t}else{\n\t\t\t\t$content.$parent = this;\n\t\t\t\tthis.$cells.push($content);\n\t\t\t}\n\t\t}\n\t};\n\tLayout.prototype.getCells = function () {\n\t\treturn this.$cells;\n\t};\n\tLayout.prototype.render = function () {\n\t\tvar view = domHelpers.insertNode(this.$container, this.$toHTML());\n\t\tthis.$fill(view, null);\n\t\tthis.callEvent(\"onReady\", []);\n\t\tthis.resize();\n\n\t\t// do simple repaint after the first call\n\t\tthis.render = this.resize;\n\t};\n\tLayout.prototype.$fill = function (node, parent) {\n\t\tthis.$view = node;\n\t\tthis.$parent = parent;\n\t\tvar cells = domHelpers.getChildNodes(node, \"gantt_layout_cell\");\n\t\tfor (var i = cells.length - 1; i >= 0; i--) {\n\t\t\tvar sub = this.$cells[i];\n\t\t\tsub.$fill(cells[i], this);\n\t\t\t// initially hidden cell\n\t\t\tif (sub.$config.hidden) {\n\t\t\t\tsub.$view.parentNode.removeChild(sub.$view);\n\t\t\t}\n\t\t}\n\t};\n\tLayout.prototype.$toHTML = function () {\n\t\tvar mode = this._xLayout ? \"x\" : \"y\";\n\t\tvar html = [];\n\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\t\t\thtml.push(this.$cells[i].$toHTML());\n\t\t}\n\t\treturn _super.prototype.$toHTML.call(this, html.join(\"\"), (this.$root ? \"gantt_layout_root \" : \"\") + \"gantt_layout gantt_layout_\" + mode);\n\t};\n\n\tLayout.prototype.getContentSize = function(mode){\n\t\tvar contentWidth = 0,\n\t\t\tcontentHeight = 0;\n\n\t\tvar cellSize, cell, borders;\n\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\t\t\tcell = this.$cells[i];\n\t\t\tif(cell.$config.hidden)\n\t\t\t\tcontinue;\n\n\t\t\tcellSize = cell.getContentSize(mode);\n\n\t\t\tif(cell.$config.view === \"scrollbar\" && mode[cell.$config.scroll]){\n\t\t\t\tcellSize.height = 0;\n\t\t\t\tcellSize.width = 0;\n\t\t\t}\n\n\t\t\tif(cell.$config.resizer){\n\t\t\t\tif(this._xLayout){\n\t\t\t\t\tcellSize.height = 0;\n\t\t\t\t}else{\n\t\t\t\t\tcellSize.width = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tborders = cell._getBorderSizes();\n\n\t\t\tif(this._xLayout){\n\t\t\t\tcontentWidth += (cellSize.width + borders.horizontal);\n\t\t\t\tcontentHeight = Math.max(contentHeight, (cellSize.height + borders.vertical));\n\t\t\t}else{\n\t\t\t\tcontentWidth = Math.max(contentWidth, cellSize.width + borders.horizontal);\n\t\t\t\tcontentHeight += cellSize.height + borders.vertical;\n\t\t\t}\n\t\t}\n\n\t\tborders = this._getBorderSizes();\n\t\tcontentWidth += borders.horizontal;\n\t\tcontentHeight += borders.vertical;\n\n\t\t// GS-149 & GS-150: By default this code only increases the container sizes, because of that, the cell sizes\n\t\t// are also increased. Keep this code here in the case if something goes wrong\n\t\t/*\n\t\tif(this.$root){\n\t\t\tcontentWidth += 1;\n\t\t\tcontentHeight += 1;\n\t\t}\n\t\t*/\n\t\treturn {\n\t\t\twidth: contentWidth,\n\t\t\theight: contentHeight\n\t\t};\n\t};\n\n\tLayout.prototype._cleanElSize = function(value){\n\t\treturn ((value || \"\").toString().replace(\"px\", \"\") * 1 || 0);\n\t};\n\tLayout.prototype._getBoxStyles = function(div){\n\t\tvar computed = null;\n\t\tif(window.getComputedStyle){\n\t\t\tcomputed = window.getComputedStyle(div, null);\n\t\t}else{\n\t\t\t//IE with elem.currentStyle does not calculate sizes from %, so will use the default approach\n\t\t\tcomputed = {\n\t\t\t\t\"width\":div.clientWidth,\n\t\t\t\t\"height\":div.clientHeight\n\t\t\t};\n\t\t}\n\t\tvar properties = [\n\t\t\t\"width\",\n\t\t\t\"height\",\n\n\t\t\t\"paddingTop\",\n\t\t\t\"paddingBottom\",\n\t\t\t\"paddingLeft\",\n\t\t\t\"paddingRight\",\n\n\t\t\t\"borderLeftWidth\",\n\t\t\t\"borderRightWidth\",\n\t\t\t\"borderTopWidth\",\n\t\t\t\"borderBottomWidth\"\n\t\t];\n\t\tvar styles = {\n\t\t\tboxSizing:(computed.boxSizing == \"border-box\")\n\t\t};\n\n\t\tif(computed.MozBoxSizing){\n\t\t\tstyles.boxSizing = (computed.MozBoxSizing == \"border-box\");\n\t\t}\n\t\tfor(var i =0; i < properties.length; i++){\n\t\t\tstyles[properties[i]] = computed[properties[i]] ? this._cleanElSize(computed[properties[i]]) : 0;\n\t\t}\n\n\n\t\tvar box = {\n\t\t\thorPaddings : (styles.paddingLeft + styles.paddingRight + styles.borderLeftWidth + styles.borderRightWidth),\n\t\t\tvertPaddings : (styles.paddingTop + styles.paddingBottom + styles.borderTopWidth + styles.borderBottomWidth),\n\t\t\tborderBox: styles.boxSizing,\n\t\t\tinnerWidth : styles.width,\n\t\t\tinnerHeight : styles.height,\n\t\t\touterWidth : styles.width,\n\t\t\touterHeight : styles.height\n\t\t};\n\n\n\t\tif(box.borderBox){\n\t\t\tbox.innerWidth -= box.horPaddings;\n\t\t\tbox.innerHeight -= box.vertPaddings;\n\t\t}else{\n\t\t\tbox.outerWidth += box.horPaddings;\n\t\t\tbox.outerHeight += box.vertPaddings;\n\t\t}\n\n\t\treturn box;\n\t};\n\n\tLayout.prototype._getAutosizeMode = function(config){\n\t\tvar res = {x:false, y:false};\n\t\tif(config === \"xy\"){\n\t\t\tres.x = res.y = true;\n\t\t}else if(config === \"y\" || config === true){\n\t\t\tres.y = true;\n\t\t}else if(config === \"x\"){\n\t\t\tres.x = true;\n\t\t}\n\t\treturn res;\n\t};\n\n\tLayout.prototype.autosize = function(mode) {\n\t\tvar res = this._getAutosizeMode(mode);\n\t\tvar boxSizes = this._getBoxStyles(this.$container);\n\t\tvar contentSizes = this.getContentSize(mode);\n\n\t\tvar node = this.$container;\n\t\tif(res.x){\n\t\t\tif(boxSizes.borderBox){\n\t\t\t\tcontentSizes.width += boxSizes.horPaddings;\n\t\t\t}\n\t\t\tnode.style.width = contentSizes.width + \"px\";\n\t\t}\n\t\tif(res.y){\n\t\t\tif(boxSizes.borderBox){\n\t\t\t\tcontentSizes.height += boxSizes.vertPaddings;\n\t\t\t}\n\t\t\tnode.style.height = contentSizes.height + \"px\";\n\t\t}\n\t};\n\n\tLayout.prototype.getSize = function () {\n\t\tthis._sizes = [];\n\t\tvar width = 0;\n\t\tvar minWidth = 0;\n\t\tvar maxWidth = 100000000000;\n\t\tvar height = 0;\n\t\tvar maxHeight = 100000000000;\n\t\tvar minHeight = 0;\n\n\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\n\t\t\tvar size = this._sizes[i] = this.$cells[i].getSize();\n\t\t\tif (this.$cells[i].$config.hidden) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (this._xLayout) {\n\t\t\t\tif (!size.width && size.minWidth) {\n\t\t\t\t\twidth += size.minWidth;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\twidth += size.width;\n\t\t\t\t}\n\t\t\t\tmaxWidth += size.maxWidth;\n\t\t\t\tminWidth += size.minWidth;\n\t\t\t\theight = Math.max(height, size.height);\n\t\t\t\tmaxHeight = Math.min(maxHeight, size.maxHeight); // min of maxHeight\n\t\t\t\tminHeight = Math.max(minHeight, size.minHeight); // max of minHeight\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!size.height && size.minHeight) {\n\t\t\t\t\theight += size.minHeight;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\theight += size.height;\n\t\t\t\t}\n\t\t\t\tmaxHeight += size.maxHeight;\n\t\t\t\tminHeight += size.minHeight;\n\t\t\t\twidth = Math.max(width, size.width);\n\t\t\t\tmaxWidth = Math.min(maxWidth, size.maxWidth); // min of maxWidth\n\t\t\t\tminWidth = Math.max(minWidth, size.minWidth); // max of minWidth\n\t\t\t}\n\t\t}\n\t\tvar self = _super.prototype.getSize.call(this);\n\t\t// maxWidth\n\t\tif (self.maxWidth >= 100000) {\n\t\t\tself.maxWidth = maxWidth;\n\t\t}\n\t\t// maxHeight\n\t\tif (self.maxHeight >= 100000) {\n\t\t\tself.maxHeight = maxHeight;\n\t\t}\n\t\t// minWidth\n\t\tself.minWidth = self.minWidth !== self.minWidth ? 0 : self.minWidth;// || self.width || Math.max(minWidth, width);\n\t\t// minHeight\n\t\tself.minHeight = self.minHeight !== self.minHeight ? 0 : self.minHeight;//self.minHeight || self.height || Math.max(minHeight, height);\n\t\t// sizes with paddings and margins\n\t\tif (this._xLayout) {\n\t\t\tself.minWidth += this.$config.margin * (this.$cells.length) || 0;\n\t\t\tself.minWidth += this.$config.padding * 2 || 0;\n\t\t\tself.minHeight += (this.$config.padding * 2) || 0;\n\t\t}\n\t\telse {\n\t\t\tself.minHeight += this.$config.margin * (this.$cells.length) || 0;\n\t\t\tself.minHeight += (this.$config.padding * 2) || 0;\n\t\t}\n\t\t\n\t\treturn self;\n\t};\n\t// calc total gravity and free space\n\tLayout.prototype._calcFreeSpace = function (s, cell, xLayout) {\n\t\tvar min = xLayout ? cell.minWidth : cell.minHeight;\n\t\tvar max = xLayout ? cell.maxWidth : cell.maxWidth;\n\t\tvar side = s;\n\t\tif (!side) {\n\t\t\tside = Math.floor(this._free / this._gravity * cell.gravity);\n\t\t\tif (side > max) {\n\t\t\t\tside = max;\n\t\t\t\tthis._free -= side;\n\t\t\t\tthis._gravity -= cell.gravity;\n\t\t\t}\n\t\t\tif (side < min) {\n\t\t\t\tside = min;\n\t\t\t\tthis._free -= side;\n\t\t\t\tthis._gravity -= cell.gravity;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (side > max) {\n\t\t\t\tside = max;\n\t\t\t}\n\t\t\tif (side < min) {\n\t\t\t\tside = min;\n\t\t\t}\n\t\t\tthis._free -= side;\n\t\t}\n\t\treturn side;\n\t};\n\tLayout.prototype._calcSize = function (s, size, xLayout) {\n\t\tvar side = s;\n\t\tvar min = xLayout ? size.minWidth : size.minHeight;\n\t\tvar max = xLayout ? size.maxWidth : size.maxHeight;\n\t\tif (!side) {\n\t\t\tside = Math.floor(this._free / this._gravity * size.gravity);\n\t\t}\n\t\tif (side > max) {\n\t\t\tside = max;\n\t\t}\n\t\tif (side < min) {\n\t\t\tside = min;\n\t\t}\n\t\treturn side;\n\t};\n\n\tLayout.prototype._configureBorders = function(){\n\t\tif(this.$root){\n\t\t\tthis._setBorders([\n\t\t\t\tthis._borders.left,\n\t\t\t\tthis._borders.top,\n\t\t\t\tthis._borders.right,\n\t\t\t\tthis._borders.bottom\n\t\t\t],\n\t\t\tthis);\n\t\t}\n\n\t\tvar borderClass = this._xLayout ? this._borders.right : this._borders.bottom;\n\n\t\tvar cells = this.$cells;\n\n\t\tvar lastVisibleIndex = cells.length - 1;\n\t\tfor(var i = lastVisibleIndex; i >= 0; i--){\n\t\t\tif (!cells[i].$config.hidden) {\n\t\t\t\tlastVisibleIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i < cells.length; i++) {\n\t\t\tif (cells[i].$config.hidden) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar lastCell = i >= lastVisibleIndex;\n\t\t\tvar borderColorClass = \"\";\n\t\t\tif(!lastCell && cells[i + 1]){\n\t\t\t\tif(cells[i + 1].$config.view == \"scrollbar\"){\n\t\t\t\t\tif(this._xLayout){\n\t\t\t\t\t\tlastCell = true;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tborderColorClass = \"gantt_layout_cell_border_transparent\";\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\tthis._setBorders(lastCell ? [] : [borderClass, borderColorClass], cells[i]);\n\t\t}\n\t};\n\n\tLayout.prototype._updateCellVisibility = function(){\n\t\tvar oldVisibleCells = this._visibleCells || {};\n\t\tvar firstCall = !this._visibleCells;\n\t\tvar visibleCells = {};\n\t\tvar cell;\n\t\tfor (var i = 0; i < this._sizes.length; i++) {\n\t\t\tcell = this.$cells[i];\n\n\t\t\tif (!firstCall && cell.$config.hidden && oldVisibleCells[cell.$id]) {\n\t\t\t\tcell._hide(true);\n\t\t\t}else if(!cell.$config.hidden && !oldVisibleCells[cell.$id]){\n\t\t\t\tcell._hide(false);\n\t\t\t}\n\n\t\t\tif(!cell.$config.hidden){\n\t\t\t\tvisibleCells[cell.$id] = true;\n\t\t\t}\n\t\t}\n\t\tthis._visibleCells = visibleCells;\n\t};\n\n\tLayout.prototype.setSize = function (x, y) {\n\t\tthis._configureBorders();\n\t\t_super.prototype.setSize.call(this, x, y);\n\t\ty = this.$lastSize.contentY;\n\t\tx = this.$lastSize.contentX;\n\n\t\tvar padding = (this.$config.padding || 0);\n\t\tthis.$view.style.padding = padding + \"px\";\n\t\tthis._gravity = 0;\n\t\tthis._free = this._xLayout ? x : y;\n\t\tthis._free -= padding * 2;\n\t\t// calc all gravity\n\n\t\tvar cell,\n\t\t\tsize;\n\n\t\tthis._updateCellVisibility();\n\n\t\tfor (var i = 0; i < this._sizes.length; i++) {\n\t\t\tcell = this.$cells[i];\n\n\t\t\tif (cell.$config.hidden) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tvar margin = (this.$config.margin || 0);\n\t\t\tif(cell.$name == \"resizer\" && !margin){\n\t\t\t\tmargin = -1;\n\t\t\t}\n\n\t\t\t// set margins to child cell\n\t\t\tvar cellView = cell.$view;\n\n\t\t\tvar marginSide = this._xLayout ? \"marginRight\" : \"marginBottom\";\n\t\t\tif (i !== this.$cells.length - 1) {\n\t\t\t\tcellView.style[marginSide] = margin + \"px\";\n\t\t\t\tthis._free -= margin; // calc free space without margin\n\t\t\t}\n\t\t\tsize = this._sizes[i];\n\t\t\tif (this._xLayout) {\n\t\t\t\tif (!size.width) {\n\t\t\t\t\tthis._gravity += size.gravity;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!size.height) {\n\t\t\t\t\tthis._gravity += size.gravity;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < this._sizes.length; i++) {\n\t\t\tcell = this.$cells[i];\n\n\t\t\tif (cell.$config.hidden) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tsize = this._sizes[i];\n\t\t\tvar width = size.width;\n\t\t\tvar height = size.height;\n\t\t\tif (this._xLayout) {\n\t\t\t\tthis._calcFreeSpace(width, size, true);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis._calcFreeSpace(height, size, false);\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\t\t\tcell = this.$cells[i];\n\n\t\t\tif (cell.$config.hidden) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tsize = this._sizes[i];\n\t\t\tvar dx = void 0;\n\t\t\tvar dy = void 0;\n\t\t\tif (this._xLayout) {\n\t\t\t\tdx = this._calcSize(size.width, size, true);\n\t\t\t\tdy = y - padding * 2; // layout height without paddings\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdx = x - padding * 2; // layout width without paddings\n\t\t\t\tdy = this._calcSize(size.height, size, false);\n\t\t\t}\n\n\t\t\tcell.setSize(dx, dy);\n\t\t}\n\n\t};\n\n\treturn Layout;\n}(Cell));\n\nmodule.exports = Layout;","import { IWorkUnitCache } from \"./workunit_cache_interface\";\nimport { WorkUnitsMapCache } from \"./workunit_map_cache\";\nimport { WorkUnitsObjectCache } from \"./workunit_object_cache\";\nexport { LargerUnitsCache } from \"./larger_units_helper\";\n\nexport function createCacheObject(): IWorkUnitCache {\n\n\t// worktime hash is on the hot path,\n\t// Map seems to work faster than plain array, use it whenever possible\n\tif (typeof Map !== \"undefined\") {\n\t\treturn new WorkUnitsMapCache();\n\t} else {\n\t\treturn new WorkUnitsObjectCache();\n\t}\n}\n","var utils = require(\"../../utils/utils\");\nvar helpers = require(\"../../utils/helpers\");\n\n\nfunction IsWorkTimeArgument(date, unit, task, id, calendar){\n\tthis.date = date;\n\tthis.unit = unit;\n\tthis.task = task;\n\tthis.id = id;\n\tthis.calendar = calendar;\n\treturn this;\n}\n\nfunction ClosestWorkTimeArgument(date, dir, unit, task, id, calendar){\n\tthis.date = date;\n\tthis.dir = dir;\n\tthis.unit = unit;\n\tthis.task = task;\n\tthis.id = id;\n\tthis.calendar = calendar;\n\treturn this;\n}\n\nfunction CalculateEndDateArgument(start_date, duration, unit, step, task, id, calendar){\n\tthis.start_date = start_date;\n\tthis.duration = duration;\n\tthis.unit = unit;\n\tthis.step = step;\n\tthis.task = task;\n\tthis.id = id;\n\tthis.calendar = calendar;\n\treturn this;\n}\n\nfunction GetDurationArgument(start, end, task, calendar) {\n\tthis.start_date = start;\n\tthis.end_date = end;\n\tthis.task = task;\n\tthis.calendar = calendar;\n\tthis.unit = null;\n\tthis.step = null;\n\treturn this;\n}\n\nvar calendarArgumentsHelper = function(gantt){\n\treturn {\n\t\tgetWorkHoursArguments: function () {\n\t\t\tvar config = arguments[0];\n\t\t\tif (helpers.isDate(config)) {\n\t\t\t\tconfig = {\n\t\t\t\t\tdate: config\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tconfig = utils.mixin({}, config);\n\t\t\t}\n\n\t\t\tif(!helpers.isValidDate(config.date)){\n\t\t\t\tgantt.assert(false, \"Invalid date argument for getWorkHours method\");\n\t\t\t\tthrow new Error(\"Invalid date argument for getWorkHours method\");\n\t\t\t}\n\n\t\t\treturn config;\n\t\t},\n\t\tsetWorkTimeArguments: function () {\n\t\t\treturn arguments[0];\n\t\t},\n\t\tunsetWorkTimeArguments: function () {\n\t\t\treturn arguments[0];\n\t\t},\n\t\tisWorkTimeArguments: function () {\n\t\t\tvar config = arguments[0];\n\t\t\tif(config instanceof IsWorkTimeArgument){\n\t\t\t\treturn config;\n\t\t\t}\n\n\t\t\tvar processedConfig;\n\t\t\tif (!config.date) {\n\t\t\t\t//IsWorkTimeArgument(date, unit, task, id, calendar)\n\t\t\t\tprocessedConfig = new IsWorkTimeArgument(arguments[0], arguments[1], arguments[2], null, arguments[3]);\n\t\t\t} else {\n\t\t\t\tprocessedConfig = new IsWorkTimeArgument(config.date, config.unit, config.task, null, config.calendar);\n\t\t\t}\n\n\t\t\tprocessedConfig.unit = processedConfig.unit || gantt.config.duration_unit;\n\n\t\t\tif(!helpers.isValidDate(processedConfig.date)){\n\t\t\t\tgantt.assert(false, \"Invalid date argument for isWorkTime method\");\n\t\t\t\tthrow new Error(\"Invalid date argument for isWorkTime method\");\n\t\t\t}\n\n\t\t\treturn processedConfig;\n\t\t},\n\t\tgetClosestWorkTimeArguments: function (arg) {\n\t\t\tvar config = arguments[0];\n\t\t\tif (config instanceof ClosestWorkTimeArgument)\n\t\t\t\treturn config;\n\n\t\t\tvar processedConfig;\n\t\t\tif (helpers.isDate(config)) {\n\t\t\t\tprocessedConfig = new ClosestWorkTimeArgument(config);\n\n\t\t\t} else {\n\t\t\t\tprocessedConfig = new ClosestWorkTimeArgument(\n\t\t\t\t\tconfig.date,\n\t\t\t\t\tconfig.dir,\n\t\t\t\t\tconfig.unit,\n\t\t\t\t\tconfig.task,\n\t\t\t\t\tnull,//config.id,\n\t\t\t\t\tconfig.calendar\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif(config.id){\n\t\t\t\tprocessedConfig.task = config;\n\t\t\t}\n\t\t\tprocessedConfig.dir = config.dir || 'any';\n\t\t\tprocessedConfig.unit = config.unit || gantt.config.duration_unit;\n\n\t\t\tif(!helpers.isValidDate(processedConfig.date)){\n\t\t\t\tgantt.assert(false, \"Invalid date argument for getClosestWorkTime method\");\n\t\t\t\tthrow new Error(\"Invalid date argument for getClosestWorkTime method\");\n\t\t\t}\n\t\t\treturn processedConfig;\n\t\t},\n\n\t\t_getStartEndConfig: function (param) {\n\t\t\tvar argumentType = GetDurationArgument;\n\t\t\tvar config;\n\t\t\tif (param instanceof argumentType)\n\t\t\t\treturn param;\n\n\t\t\tif (helpers.isDate(param)) {\n\t\t\t\tconfig = new argumentType(arguments[0], arguments[1], arguments[2], arguments[3]);\n\t\t\t} else {\n\t\t\t\tconfig = new argumentType(param.start_date, param.end_date, param.task);\n\t\t\t\tif (param.id) {\n\t\t\t\t\tconfig.task = param;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconfig.unit = config.unit || gantt.config.duration_unit;\n\t\t\tconfig.step = config.step || gantt.config.duration_step;\n\t\t\tconfig.start_date = config.start_date || config.start || config.date;\n\n\t\t\tif(!helpers.isValidDate(config.start_date)){\n\t\t\t\tgantt.assert(false, \"Invalid start_date argument for getDuration method\");\n\t\t\t\tthrow new Error(\"Invalid start_date argument for getDuration method\");\n\t\t\t}\n\n\t\t\tif(!helpers.isValidDate(config.end_date)){\n\t\t\t\tgantt.assert(false, \"Invalid end_date argument for getDuration method\");\n\t\t\t\tthrow new Error(\"Invalid end_date argument for getDuration method\");\n\t\t\t}\n\n\t\t\treturn config;\n\t\t},\n\n\t\tgetDurationArguments: function (start, end, unit, step) {\n\t\t\treturn this._getStartEndConfig.apply(this, arguments);\n\t\t},\n\n\t\thasDurationArguments: function (start, end, unit, step) {\n\t\t\treturn this._getStartEndConfig.apply(this, arguments);\n\t\t},\n\n\t\tcalculateEndDateArguments: function (start, duration, unit, step) {\n\t\t\tvar config = arguments[0];\n\t\t\tif (config instanceof CalculateEndDateArgument)\n\t\t\t\treturn config;\n\n\t\t\tvar processedConfig;\n\t\t\t//CalculateEndDateArgument(start_date, duration, unit, step, task, id, calendar)\n\t\t\tif (helpers.isDate(config)) {\n\t\t\t\tprocessedConfig = new CalculateEndDateArgument(\n\t\t\t\t\targuments[0],\n\t\t\t\t\targuments[1],\n\t\t\t\t\targuments[2],\n\t\t\t\t\tundefined,\n\t\t\t\t\targuments[3],\n\t\t\t\t\tundefined,\n\t\t\t\t\targuments[4]\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\tprocessedConfig = new CalculateEndDateArgument(\n\t\t\t\t\tconfig.start_date,\n\t\t\t\t\tconfig.duration,\n\t\t\t\t\tconfig.unit,\n\t\t\t\t\tconfig.step,\n\t\t\t\t\tconfig.task,\n\t\t\t\t\tnull,//config.id,\n\t\t\t\t\tconfig.calendar\n\t\t\t\t);\n\t\t\t}\n\t\t\tif(config.id){\n\t\t\t\tprocessedConfig.task = config;\n\n\t\t\t\t// received a task object as an argument\n\t\t\t\t// ignore 'unit' and 'step' properties in this case, since it's likely a part of data model of a task\n\t\t\t\tprocessedConfig.unit = null;\n\t\t\t\tprocessedConfig.step = null;\n\t\t\t}\n\n\t\t\tprocessedConfig.unit = processedConfig.unit || gantt.config.duration_unit;\n\t\t\tprocessedConfig.step = processedConfig.step || gantt.config.duration_step;\n\n\t\t\tif(!helpers.isValidDate(processedConfig.start_date)){\n\t\t\t\tgantt.assert(false, \"Invalid start_date argument for calculateEndDate method\");\n\t\t\t\tthrow new Error(\"Invalid start_date argument for calculateEndDate method\");\n\t\t\t}\n\n\t\t\treturn processedConfig;\n\t\t}\n\t};\n};\n\n\nmodule.exports = calendarArgumentsHelper;","var quickPositionHelperFactory = require(\"./row_position_fixed_height\");\n\nfunction createMixin(view){\n\tvar getItemTopCache = {};\n\tvar getRowTopCache = {};\n\tvar getItemHeightCache = null;\n\tvar totalHeightCache = -1;\n\tvar getItemHeightCacheState = null;\n\n\tvar quickPosition = quickPositionHelperFactory(view);\n\n\treturn {\n\t\t_resetTopPositionHeight: function(){\n\t\t\tgetItemTopCache = {};\n\t\t\tgetRowTopCache = {};\n\t\t\tquickPosition.resetCache();\n\t\t},\n\t\t_resetHeight: function(){\n\t\t\tvar store = this.$config.rowStore;\n\t\t\tvar newState = this.getCacheStateTotalHeight(store);\n\t\t\tif(!getItemHeightCacheState){\n\t\t\t\tgetItemHeightCacheState = newState;\n\t\t\t}else if(this.shouldClearHeightCache(getItemHeightCacheState, newState)){\n\t\t\t\tgetItemHeightCacheState = newState;\n\t\t\t\tgetItemHeightCache = null;\n\t\t\t}\n\n\t\t\ttotalHeightCache = -1;\n\t\t\tquickPosition.resetCache();\n\t\t},\n\n\t\t/**\n\t\t * Get top coordinate by row index (order)\n\t\t * @param {number} index\n\t\t */\n\t\tgetRowTop: function(index){\n\t\t\tif(quickPosition.canUseSimpleCalculation()){\n\t\t\t\treturn quickPosition.getRowTop(index);\n\t\t\t}\n\n\t\t\tvar store = this.$config.rowStore;\n\t\t\tif(!store){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif(getRowTopCache[index] !== undefined){\n\t\t\t\treturn getRowTopCache[index];\n\t\t\t}else {\n\t\t\t\tvar all = store.getIndexRange();\n\t\t\t\tvar top = 0;\n\t\t\t\tvar result = 0;\n\t\t\t\tfor(var i = 0; i < all.length; i++){\n\t\t\t\t\tgetRowTopCache[i] = top;\n\t\t\t\t\ttop += this.getItemHeight(all[i].id);\n\t\t\t\t\tif(i < index){\n\t\t\t\t\t\tresult = top;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Get top coordinate by item id\n\t\t * @param {*} task_id\n\t\t */\n\t\tgetItemTop: function (taskId) {\n\t\t\tif(this.$config.rowStore){\n\t\t\t\tif(getItemTopCache[taskId] !== undefined){\n\t\t\t\t\treturn getItemTopCache[taskId];\n\t\t\t\t}\n\t\t\t\tvar store = this.$config.rowStore;\n\t\t\t\tif(!store) return 0;\n\n\t\t\t\tvar itemIndex = store.getIndexById(taskId);\n\n\t\t\t\tif (itemIndex === -1 && store.getParent && store.exists(taskId)) {\n\t\t\t\t\tvar parentId = store.getParent(taskId);\n\t\t\t\t\tif (store.exists(parentId)) {\n\t\t\t\t\t\t// if task is not found in list - maybe it's parent is a split task and we should use parents index instead\n\t\t\t\t\t\tvar parent = store.getItem(parentId);\n\t\t\t\t\t\tif (this.$gantt.isSplitTask(parent)) {\n\t\t\t\t\t\t\treturn this.getItemTop(parentId);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tgetItemTopCache[taskId] = this.getRowTop(itemIndex);\n\t\t\t\treturn getItemTopCache[taskId];\n\t\t\t}else{\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t},\n\n\t\t/**\n\t\t * Get height of the item by item id\n\t\t * @param {*} itemId\n\t\t */\n\t\tgetItemHeight: function (itemId) {\n\t\t\tif(quickPosition.canUseSimpleCalculation()){\n\t\t\t\treturn quickPosition.getItemHeight(itemId);\n\t\t\t}\n\n\t\t\tif(!getItemHeightCache && this.$config.rowStore){\n\t\t\t\tthis._fillHeightCache(this.$config.rowStore);\n\t\t\t}\n\n\t\t\tif(getItemHeightCache[itemId] !== undefined){\n\t\t\t\treturn getItemHeightCache[itemId];\n\t\t\t}\n\n\t\t\tvar defaultHeight = this.$getConfig().row_height;\n\n\t\t\tif(this.$config.rowStore){\n\t\t\t\tvar store = this.$config.rowStore;\n\t\t\t\tif(!store) return defaultHeight;\n\n\t\t\t\tvar item = store.getItem(itemId);\n\n\t\t\t\treturn getItemHeightCache[itemId] = item && item.row_height || defaultHeight;\n\t\t\t}else{\n\t\t\t\treturn defaultHeight;\n\t\t\t}\n\t\t},\n\n\t\t_fillHeightCache: function(store){\n\t\t\tif(!store){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgetItemHeightCache = {};\n\t\t\tvar defaultHeight = this.$getConfig().row_height;\n\t\t\tstore.eachItem(function(item){\n\t\t\t\treturn getItemHeightCache[item.id] = item && item.row_height || defaultHeight;\n\t\t\t});\n\t\t},\n\n\t\tgetCacheStateTotalHeight: function(store){\n\n\t\t\tvar globalHeight = this.$getConfig().row_height;\n\t\t\tvar itemHeightCache = {};\n\t\t\tvar items = [];\n\t\t\tvar sumHeight = 0;\n\t\t\tif(store){\n\t\t\t\tstore.eachItem(function(item){\n\t\t\t\t\titems.push(item);\n\t\t\t\t\titemHeightCache[item.id] = item.row_height;\n\t\t\t\t\tsumHeight += item.row_height || globalHeight;\n\t\t\t\t});\n\t\t\t}\n\n\n\t\t\treturn {\n\t\t\t\tglobalHeight: globalHeight,\n\t\t\t\titems: items,\n\t\t\t\tcount: items.length,\n\t\t\t\tsumHeight: sumHeight\n\t\t\t};\n\t\t},\n\t\tshouldClearHeightCache: function(oldState, newState){\n\n\t\t\tif(oldState.count != newState.count){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif(oldState.globalHeight != newState.globalHeight){\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif(oldState.sumHeight != newState.sumHeight){\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tfor(var i in oldState.items){\n\t\t\t\tvar newValue = newState.items[i];\n\t\t\t\tif(newValue !== undefined && newValue != oldState.items[i]){\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\t\t/**\n\t\t * Get total height of items\n\t\t */\n\t\tgetTotalHeight: function () {\n\t\t\tif(quickPosition.canUseSimpleCalculation()){\n\t\t\t\treturn quickPosition.getTotalHeight();\n\t\t\t}\n\n\t\t\tif(totalHeightCache != -1){\n\t\t\t\treturn totalHeightCache;\n\t\t\t}\n\n\t\t\tif(this.$config.rowStore){\n\t\t\t\tvar store = this.$config.rowStore;\n\t\t\t\tthis._fillHeightCache(store);\n\t\t\t\tvar getHeight = this.getItemHeight.bind(this);\n\t\t\t\tvar visibleItems = store.getVisibleItems();\n\t\t\t\tvar totalHeight = 0;\n\n\t\t\t\tvisibleItems.forEach(function(item){\n\t\t\t\t\ttotalHeight += getHeight(item.id);\n\t\t\t\t});\n\n\t\t\t\ttotalHeightCache = totalHeight;\n\t\t\t\treturn totalHeight;\n\t\t\t}else{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Get item by top position\n\t\t * @param {*} top\n\t\t */\n\t\tgetItemIndexByTopPosition: function (top) {\n\t\t\tif(this.$config.rowStore){\n\t\t\t\tif(quickPosition.canUseSimpleCalculation()){\n\t\t\t\t\treturn quickPosition.getItemIndexByTopPosition(top);\n\t\t\t\t}\n\n\t\t\t\tvar store = this.$config.rowStore;\n\t\t\t\tfor(var i = 0; i < store.countVisible(); i++){\n\t\t\t\t\tvar current = this.getRowTop(i);\n\t\t\t\t\tvar next = this.getRowTop(i+1);\n\t\t\t\t\tif(!next){\n\t\t\t\t\t\tvar taskId = store.getIdByIndex(i);\n\t\t\t\t\t\tnext = current + this.getItemHeight(taskId);\n\t\t\t\t\t}\n\t\t\t\t\tif(top >= current && top < next){\n\t\t\t\t\t\treturn i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t};\n}\n\nmodule.exports = createMixin;","function copyLinkIdsArray(gantt, linkIds, targetHash){\n\tfor(var i = 0; i < linkIds.length; i++) {\n\t\tif(gantt.isLinkExists(linkIds[i])){\n\t\t\ttargetHash[linkIds[i]] = gantt.getLink(linkIds[i]);\n\t\t}\n\t}\n}\n\nfunction copyLinkIds(gantt, task, targetHash){\n\tcopyLinkIdsArray(gantt, task.$source, targetHash);\n\tcopyLinkIdsArray(gantt, task.$target, targetHash);\n}\n\nfunction getSubtreeLinks(gantt, rootId){\n\tvar res = {};\n\n\tif(gantt.isTaskExists(rootId)){\n\t\tcopyLinkIds(gantt, gantt.getTask(rootId), res);\n\t}\n\n\tgantt.eachTask(function(child){\n\t\tcopyLinkIds(gantt, child, res);\n\t}, rootId);\n\n\treturn res;\n}\n\nfunction getSubtreeTasks(gantt, rootId){\n\tvar res = {};\n\n\tgantt.eachTask(function(child){\n\t\tres[child.id] = child;\n\t}, rootId);\n\n\treturn res;\n}\n\nmodule.exports = {\n\tgetSubtreeLinks: getSubtreeLinks,\n\tgetSubtreeTasks: getSubtreeTasks\n};","var utils = require(\"../../../utils/utils\");\n\nfunction ScaleHelper(gantt){\n\tvar dateHelper = gantt.date;\n\tvar services = gantt.$services;\n\n\treturn {\n\t\tgetSum: function (sizes, from, to) {\n\t\t\tif (to === undefined)\n\t\t\t\tto = sizes.length - 1;\n\t\t\tif (from === undefined)\n\t\t\t\tfrom = 0;\n\n\t\t\tvar summ = 0;\n\t\t\tfor (var i = from; i <= to; i++)\n\t\t\t\tsumm += sizes[i];\n\n\t\t\treturn summ;\n\t\t},\n\t\tsetSumWidth: function (sum_width, scale, from, to) {\n\t\t\tvar parts = scale.width;\n\n\t\t\tif (to === undefined)\n\t\t\t\tto = parts.length - 1;\n\t\t\tif (from === undefined)\n\t\t\t\tfrom = 0;\n\t\t\tvar length = to - from + 1;\n\n\t\t\tif (from > parts.length - 1 || length <= 0 || to > parts.length - 1)\n\t\t\t\treturn;\n\n\t\t\tvar oldWidth = this.getSum(parts, from, to);\n\n\t\t\tvar diff = sum_width - oldWidth;\n\n\t\t\tthis.adjustSize(diff, parts, from, to);\n\t\t\tthis.adjustSize(-diff, parts, to + 1);\n\n\t\t\tscale.full_width = this.getSum(parts);\n\t\t},\n\t\tsplitSize: function (width, count) {\n\t\t\tvar arr = [];\n\t\t\tfor (var i = 0; i < count; i++) arr[i] = 0;\n\n\t\t\tthis.adjustSize(width, arr);\n\t\t\treturn arr;\n\n\t\t},\n\t\tadjustSize: function (width, parts, from, to) {\n\t\t\tif (!from)\n\t\t\t\tfrom = 0;\n\t\t\tif (to === undefined)\n\t\t\t\tto = parts.length - 1;\n\n\t\t\tvar length = to - from + 1;\n\n\t\t\tvar full = this.getSum(parts, from, to);\n\n\t\t\tfor (var i = from; i <= to; i++) {\n\t\t\t\tvar share = Math.floor(width * (full ? (parts[i] / full) : (1 / length)));\n\n\t\t\t\tfull -= parts[i];\n\t\t\t\twidth -= share;\n\t\t\t\tlength--;\n\n\t\t\t\tparts[i] += share;\n\t\t\t}\n\t\t\tparts[parts.length - 1] += width;\n\t\t},\n\t\tsortScales: function (scales) {\n\t\t\tfunction cellSize(unit, step) {\n\t\t\t\tvar d = new Date(1970, 0, 1);\n\t\t\t\treturn dateHelper.add(d, step, unit) - d;\n\t\t\t}\n\n\t\t\tscales.sort(function (a, b) {\n\t\t\t\tif (cellSize(a.unit, a.step) < cellSize(b.unit, b.step)) {\n\t\t\t\t\treturn 1;\n\t\t\t\t} else if (cellSize(a.unit, a.step) > cellSize(b.unit, b.step)) {\n\t\t\t\t\treturn -1;\n\t\t\t\t} else {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfor (var i = 0; i < scales.length; i++) {\n\t\t\t\tscales[i].index = i;\n\t\t\t}\n\t\t},\n\t\t_isLegacyMode: function(config){\n\t\t\tvar scaleConfig = config || gantt.config;\n\t\t\treturn scaleConfig.scale_unit || scaleConfig.date_scale || scaleConfig.subscales;\n\t\t},\n\t\t_prepareScaleObject: function(scale){\n\t\t\tvar format = scale.format;\n\t\t\tif(!format){\n\t\t\t\tformat = scale.template || scale.date || \"%d %M\";\n\t\t\t}\n\n\t\t\tif(typeof format === \"string\"){\n\t\t\t\tformat = gantt.date.date_to_str(format);\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tunit: scale.unit || \"day\",\n\t\t\t\tstep: scale.step || 1,\n\t\t\t\tformat: format,\n\t\t\t\tcss: scale.css\n\t\t\t};\n\t\t},\n\t\tprimaryScale: function(config) {\n\t\t\tvar templates = services.getService(\"templateLoader\");\n\t\t\tvar legacyMode = this._isLegacyMode(config);\n\n\t\t\tvar scaleConfig = config || gantt.config;\n\n\t\t\tvar result;\n\t\t\tif(legacyMode){\n\t\t\t\ttemplates.initTemplate(\"date_scale\", undefined, undefined, scaleConfig, gantt.config.templates);\n\t\t\t\tresult = {\n\t\t\t\t\tunit: gantt.config.scale_unit,\n\t\t\t\t\tstep: gantt.config.step,\n\t\t\t\t\ttemplate: gantt.templates.date_scale,\n\t\t\t\t\tdate: gantt.config.date_scale,\n\t\t\t\t\tcss: gantt.templates.scale_cell_class\n\t\t\t\t};\n\t\t\t}else{\n\t\t\t\tvar primaryScale = scaleConfig.scales[0];\n\t\t\t\tresult = {\n\t\t\t\t\tunit: primaryScale.unit,\n\t\t\t\t\tstep: primaryScale.step,\n\t\t\t\t\ttemplate: primaryScale.template,\n\t\t\t\t\tformat: primaryScale.format,\n\t\t\t\t\tdate: primaryScale.date,\n\t\t\t\t\tcss: primaryScale.css || gantt.templates.scale_cell_class\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn this._prepareScaleObject(result);\n\t\t},\n\t\tgetSubScales: function(config) {\n\t\t\tvar legacyMode = this._isLegacyMode(config);\n\t\t\tvar scaleConfig = config || gantt.config;\n\t\t\tvar scales;\n\t\t\tif(legacyMode){\n\t\t\t\tscales = scaleConfig.subscales || [];\n\t\t\t}else{\n\t\t\t\tscales = scaleConfig.scales.slice(1);\n\t\t\t}\n\t\t\t\n\t\t\treturn scales.map(function(scale){\n\t\t\t\treturn this._prepareScaleObject(scale);\n\t\t\t}.bind(this));\n\t\t},\n\n\t\tprepareConfigs: function (scales, min_coll_width, container_width, scale_height, minDate, maxDate, rtl) {\n\t\t\tvar heights = this.splitSize(scale_height, scales.length);\n\t\t\tvar full_width = container_width;\n\n\t\t\tvar configs = [];\n\t\t\tfor (var i = scales.length - 1; i >= 0; i--) {\n\t\t\t\tvar main_scale = (i == scales.length - 1);\n\t\t\t\tvar cfg = this.initScaleConfig(scales[i], minDate, maxDate);\n\t\t\t\tif (main_scale) {\n\t\t\t\t\tthis.processIgnores(cfg);\n\t\t\t\t}\n\n\t\t\t\tthis.initColSizes(cfg, min_coll_width, full_width, heights[i]);\n\t\t\t\tthis.limitVisibleRange(cfg);\n\n\t\t\t\tif (main_scale) {\n\t\t\t\t\tfull_width = cfg.full_width;\n\t\t\t\t}\n\n\t\t\t\tconfigs.unshift(cfg);\n\t\t\t}\n\n\n\t\t\tfor (var i = 0; i < configs.length - 1; i++) {\n\t\t\t\tthis.alineScaleColumns(configs[configs.length - 1], configs[i]);\n\t\t\t}\n\t\t\tfor (var i = 0; i < configs.length; i++) {\n\n\t\t\t\tif(rtl){\n\t\t\t\t\tthis.reverseScale(configs[i]);\n\t\t\t\t}\n\t\t\t\tthis.setPosSettings(configs[i]);\n\t\t\t}\n\t\t\treturn configs;\n\n\t\t},\n\n\t\treverseScale: function(scale){\n\t\t\tscale.width = scale.width.reverse();\n\t\t\tscale.trace_x = scale.trace_x.reverse();\n\n\t\t\tvar indexes = scale.trace_indexes;\n\t\t\tscale.trace_indexes = {};\n\t\t\tscale.trace_index_transition = {};\n\t\t\tscale.rtl = true;\n\t\t\tfor(var i = 0; i < scale.trace_x.length; i++){\n\t\t\t\tscale.trace_indexes[scale.trace_x[i].valueOf()] = i;\n\t\t\t\tscale.trace_index_transition[indexes[scale.trace_x[i].valueOf()]] = i;\n\t\t\t}\n\t\t\treturn scale;\n\t\t},\n\n\t\tsetPosSettings: function (config) {\n\t\t\tfor (var i = 0, len = config.trace_x.length; i < len; i++) {\n\t\t\t\tconfig.left.push((config.width[i - 1] || 0) + (config.left[i - 1] || 0));\n\t\t\t}\n\t\t},\n\n\t\t_ignore_time_config: function (date, scale) {\n\n\t\t\tif (gantt.config.skip_off_time) {\n\t\t\t\tvar skip = true;\n\t\t\t\tvar probe = date;\n\n\t\t\t\t// check dates in case custom scale unit, e.g. {unit: \"month\", step: 3}\n\t\t\t\tfor (var i = 0; i < scale.step; i++) {\n\t\t\t\t\tif (i) {\n\t\t\t\t\t\tprobe = dateHelper.add(date, i, scale.unit);\n\t\t\t\t\t}\n\n\t\t\t\t\tskip = skip && !this.isWorkTime(probe, scale.unit);\n\t\t\t\t}\n\n\t\t\t\treturn skip;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t//defined in an extension\n\t\tprocessIgnores: function (config) {\n\t\t\tconfig.ignore_x = {};\n\t\t\tconfig.display_count = config.count;\n\t\t},\n\t\tinitColSizes: function (config, min_col_width, full_width, line_height) {\n\t\t\tvar cont_width = full_width;\n\n\t\t\tconfig.height = line_height;\n\n\t\t\tvar column_count = config.display_count === undefined ? config.count : config.display_count;\n\n\t\t\tif (!column_count)\n\t\t\t\tcolumn_count = 1;\n\n\t\t\tconfig.col_width = Math.floor(cont_width / column_count);\n\n\t\t\tif (min_col_width) {\n\t\t\t\tif (config.col_width < min_col_width) {\n\t\t\t\t\tconfig.col_width = min_col_width;\n\t\t\t\t\tcont_width = config.col_width * column_count;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconfig.width = [];\n\t\t\tvar ignores = config.ignore_x || {};\n\t\t\tfor (var i = 0; i < config.trace_x.length; i++) {\n\t\t\t\tif (ignores[config.trace_x[i].valueOf()] || (config.display_count == config.count)) {\n\t\t\t\t\tconfig.width[i] = 0;\n\t\t\t\t} else {\n\t\t\t\t\t// width of month columns should be proportional month duration\n\t\t\t\t\tvar width = 1;\n\t\t\t\t\tif (config.unit == \"month\") {\n\t\t\t\t\t\tvar days = Math.round((dateHelper.add(config.trace_x[i], config.step, config.unit) - config.trace_x[i]) / (1000 * 60 * 60 * 24));\n\t\t\t\t\t\twidth = days;\n\t\t\t\t\t}\n\t\t\t\t\tconfig.width[i] = width;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.adjustSize(cont_width - this.getSum(config.width)/* 1 width per column from the code above */, config.width);\n\t\t\tconfig.full_width = this.getSum(config.width);\n\t\t},\n\t\tinitScaleConfig: function (config, min_date, max_date) {\n\t\t\tvar cfg = utils.mixin({\n\t\t\t\tcount: 0,\n\t\t\t\tcol_width: 0,\n\t\t\t\tfull_width: 0,\n\t\t\t\theight: 0,\n\t\t\t\twidth: [],\n\t\t\t\tleft: [],\n\t\t\t\ttrace_x: [],\n\t\t\t\ttrace_indexes: {},\n\t\t\t\tmin_date: new Date(min_date),\n\t\t\t\tmax_date: new Date(max_date)\n\t\t\t}, config);\n\n\t\t\tthis.eachColumn(config.unit, config.step, min_date, max_date, function (date) {\n\t\t\t\tcfg.count++;\n\t\t\t\tcfg.trace_x.push(new Date(date));\n\t\t\t\tcfg.trace_indexes[date.valueOf()] = cfg.trace_x.length - 1;\n\t\t\t});\n\n\t\t\tcfg.trace_x_ascending = cfg.trace_x.slice();\n\t\t\treturn cfg;\n\t\t},\n\t\titerateScales: function (lower_scale, upper_scale, from, to, callback) {\n\t\t\tvar upper_dates = upper_scale.trace_x;\n\t\t\tvar lower_dates = lower_scale.trace_x;\n\n\t\t\tvar prev = from || 0;\n\t\t\tvar end = to || (lower_dates.length - 1);\n\t\t\tvar prevUpper = 0;\n\n\n\t\t\tfor (var up = 1; up < upper_dates.length; up++) {\n\t\t\t\tvar target_index = (lower_scale.trace_indexes[+upper_dates[up]]);\n\t\t\t\tif (target_index !== undefined && target_index <= end) {\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback.apply(this, [prevUpper, up, prev, target_index]);\n\t\t\t\t\t}\n\t\t\t\t\tprev = target_index;\n\t\t\t\t\tprevUpper = up;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\talineScaleColumns: function (lower_scale, upper_scale, from, to) {\n\t\t\tthis.iterateScales(lower_scale, upper_scale, from, to, function (upper_start, upper_end, lower_start, lower_end) {\n\t\t\t\tvar targetWidth = this.getSum(lower_scale.width, lower_start, lower_end - 1);\n\t\t\t\tvar actualWidth = this.getSum(upper_scale.width, upper_start, upper_end - 1);\n\t\t\t\tif (actualWidth != targetWidth) {\n\t\t\t\t\tthis.setSumWidth(targetWidth, upper_scale, upper_start, upper_end - 1);\n\t\t\t\t}\n\n\t\t\t});\n\t\t},\n\n\t\teachColumn: function (unit, step, min_date, max_date, callback) {\n\t\t\tvar start = new Date(min_date),\n\t\t\t\tend = new Date(max_date);\n\t\t\tif (dateHelper[unit + \"_start\"]) {\n\t\t\t\tstart = dateHelper[unit + \"_start\"](start);\n\t\t\t}\n\n\t\t\tvar curr = new Date(start);\n\t\t\tif (+curr >= +end) {\n\t\t\t\tend = dateHelper.add(curr, step, unit);\n\t\t\t}\n\t\t\twhile (+curr < +end) {\n\t\t\t\tcallback.call(this, new Date(curr));\n\t\t\t\tvar tzOffset = curr.getTimezoneOffset();\n\t\t\t\tcurr = dateHelper.add(curr, step, unit);\n\t\t\t\tcurr = gantt._correct_dst_change(curr, tzOffset, step, unit);\n\t\t\t\tif (dateHelper[unit + '_start'])\n\t\t\t\t\tcurr = dateHelper[unit + \"_start\"](curr);\n\t\t\t}\n\t\t},\n\t\tlimitVisibleRange: function (cfg) {\n\t\t\tvar dates = cfg.trace_x;\n\n\t\t\tvar left = 0, right = cfg.width.length - 1;\n\t\t\tvar diff = 0;\n\t\t\tif (+dates[0] < +cfg.min_date && left != right) {\n\t\t\t\tvar width = Math.floor(cfg.width[0] * ((dates[1] - cfg.min_date) / (dates[1] - dates[0])));\n\t\t\t\tdiff += cfg.width[0] - width;\n\t\t\t\tcfg.width[0] = width;\n\n\t\t\t\tdates[0] = new Date(cfg.min_date);\n\t\t\t}\n\n\t\t\tvar last = dates.length - 1;\n\t\t\tvar lastDate = dates[last];\n\t\t\tvar outDate = dateHelper.add(lastDate, cfg.step, cfg.unit);\n\t\t\tif (+outDate > +cfg.max_date && last > 0) {\n\t\t\t\tvar width = cfg.width[last] - Math.floor(cfg.width[last] * ((outDate - cfg.max_date) / (outDate - lastDate)));\n\t\t\t\tdiff += cfg.width[last] - width;\n\t\t\t\tcfg.width[last] = width;\n\t\t\t}\n\n\t\t\tif (diff) {\n\t\t\t\tvar full = this.getSum(cfg.width);\n\t\t\t\tvar shared = 0;\n\t\t\t\tfor (var i = 0; i < cfg.width.length; i++) {\n\t\t\t\t\tvar share = Math.floor(diff * (cfg.width[i] / full));\n\t\t\t\t\tcfg.width[i] += share;\n\t\t\t\t\tshared += share;\n\t\t\t\t}\n\t\t\t\tthis.adjustSize(diff - shared, cfg.width);\n\t\t\t}\n\n\t\t}\n\t};\n}\n\nmodule.exports = ScaleHelper;\n","\nvar ScaleHelper = require(\"./scales\");\n\nfunction ScaleIgnoreHelper(gantt){\n\tvar helper = new ScaleHelper(gantt);\n\n\thelper.processIgnores = function (config) {\n\t\tvar display_count = config.count;\n\t\tconfig.ignore_x = {};\n\t\tif (gantt.ignore_time || gantt.config.skip_off_time) {\n\t\t\tvar ignore = gantt.ignore_time || function () {\n\t\t\t\treturn false;\n\t\t\t};\n\t\t\tdisplay_count = 0;\n\n\t\t\tfor (var i = 0; i < config.trace_x.length; i++) {\n\n\t\t\t\tif (ignore.call(gantt, config.trace_x[i]) || this._ignore_time_config.call(gantt, config.trace_x[i], config)) {\n\t\t\t\t\tconfig.ignore_x[config.trace_x[i].valueOf()] = true;\n\t\t\t\t\tconfig.ignored_colls = true;\n\t\t\t\t} else {\n\t\t\t\t\tdisplay_count++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t\tconfig.display_count = display_count;\n\t};\n\n\treturn helper;\n}\n\nmodule.exports = ScaleIgnoreHelper;","var ScaleHelper = require(\"./ui/timeline/scales_ignore\");\nvar PrimaryScaleHelper = require(\"./ui/timeline/scales\");\n\nfunction resolveConfigRange(unit, gantt){\n\tvar range = {\n\t\tstart_date:null,\n\t\tend_date:null\n\t};\n\n\tif (gantt.config.start_date && gantt.config.end_date) {\n\t\trange.start_date = gantt.date[unit + \"_start\"](new Date(gantt.config.start_date));\n\n\t\tvar end = new Date(gantt.config.end_date);\n\t\tvar start_interval = gantt.date[unit + \"_start\"](new Date(end));\n\t\tif (+end != +start_interval) {\n\t\t\tend = gantt.date.add(start_interval, 1, unit);\n\t\t} else {\n\t\t\tend = start_interval;\n\t\t}\n\n\t\trange.end_date = end;\n\t}\n\treturn range;\n}\n\nfunction _scale_range_unit(gantt) {\n\tvar primaryScale = (new PrimaryScaleHelper(gantt)).primaryScale();\n\tvar unit = primaryScale.unit;\n\tvar step = primaryScale.step;\n\tif (gantt.config.scale_offset_minimal) {\n\n\t\tvar helper = new ScaleHelper(gantt);\n\t\tvar scales = [helper.primaryScale()].concat(helper.getSubScales());\n\n\t\thelper.sortScales(scales);\n\t\tunit = scales[scales.length - 1].unit;\n\t\tstep = scales[scales.length - 1].step || 1;\n\t}\n\treturn { unit:unit, step:step };\n}\n\nfunction _init_tasks_range(gantt) {\n\tvar cfg = _scale_range_unit(gantt);\n\tvar unit = cfg.unit,\n\t\tstep = cfg.step;\n\tvar range = resolveConfigRange(unit, gantt);\n\n\tif(!(range.start_date && range.end_date)){\n\t\trange = gantt.getSubtaskDates();\n\t\tif(!range.start_date || !range.end_date){\n\t\t\trange = {\n\t\t\t\tstart_date: new Date(),\n\t\t\t\tend_date: new Date()\n\t\t\t};\n\t\t}\n\n\t\trange.start_date = gantt.date[unit + \"_start\"](range.start_date);\n\t\trange.start_date = gantt.calculateEndDate({\n\t\t\tstart_date: gantt.date[unit + \"_start\"](range.start_date),\n\t\t\tduration: -1,\n\t\t\tunit: unit,\n\t\t\tstep:step\n\t\t});//one free column before first task\n\n\t\trange.end_date = gantt.date[unit + \"_start\"](range.end_date);\n\t\trange.end_date = gantt.calculateEndDate({start_date: range.end_date, duration: 2, unit: unit, step:step});//one free column after last task\n\t}\n\n\tgantt._min_date = range.start_date;\n\tgantt._max_date = range.end_date;\n}\n\nfunction _adjust_scales(gantt) {\n\tif (gantt.config.fit_tasks) {\n\t\tvar old_min = +gantt._min_date,\n\t\t\told_max = +gantt._max_date;\n\t\t//this._init_tasks_range();\n\t\tif (+gantt._min_date != old_min || +gantt._max_date != old_max) {\n\t\t\tgantt.render();\n\n\t\t\tgantt.callEvent(\"onScaleAdjusted\", []);\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nmodule.exports = function updateTasksRange(gantt){\n\t_init_tasks_range(gantt);\n\t_adjust_scales(gantt);\n};\n","var powerArray = require(\"./power_array\");\nvar utils = require(\"../../utils/utils\");\nvar helpers = require(\"../../utils/helpers\");\nvar DataStore = require(\"./datastore\");\nvar {replaceValidZeroId} = require(\"../../utils/helpers\");\n\n// TODO: remove workaround for mixup with es5 and ts imports\nif(DataStore.default){\n\tDataStore = DataStore.default;\n}\n\nvar TreeDataStore = function(config){\n\tDataStore.apply(this, [config]);\n\tthis._branches = {};\n\n\tthis.pull = {};\n\t//GS-761 Update existing item instead of adding it to the new position\n\tthis.$initItem = function (item){\n\t\tvar loadedItem = item;\n\t\tif(config.initItem){\n\t\t\tloadedItem = config.initItem(loadedItem);\n\t\t}\n\t\tvar existingItem = this.getItem(item.id);\n\t\tif(existingItem && existingItem.parent != loadedItem.parent){\n\t\t\tthis.move(loadedItem.id, loadedItem.$index || -1, loadedItem.parent || this._ganttConfig.root_id);\n\t\t}\n\t\treturn loadedItem;\n\t};\n\tthis.$parentProperty = config.parentProperty || \"parent\";\n\n\tif(typeof config.rootId !== \"function\"){\n\t\tthis.$getRootId = (function(val){\n\t\t\treturn function(){return val;};\n\t\t})(config.rootId || 0);\n\t}else{\n\t\tthis.$getRootId = config.rootId;\n\t}\n\n\t// TODO: replace with live reference to gantt config\n\tthis.$openInitially = config.openInitially;\n\n\tthis.visibleOrder = powerArray.$create();\n\tthis.fullOrder = powerArray.$create();\n\tthis._searchVisibleOrder = {};\n\tthis._indexRangeCache = {};\n\tthis._eachItemMainRangeCache = null;\n\tthis._getItemsCache = null;\n\tthis._skip_refresh = false;\n\n\tthis._ganttConfig = null;\n\tif(config.getConfig){\n\t\tthis._ganttConfig = config.getConfig();\n\t}\n\n\tvar splitParents = {};\n\tvar splitItems = {};\n\n\tvar taskOpenState = {};\n\tvar taskVisibility = {};\n\tvar haveSplitItems = false;\n\n\tthis._attachDataChange(function(){\n\t\tthis._indexRangeCache = {};\n\t\tthis._eachItemMainRangeCache = null;\n\t\tthis._getItemsCache = null;\n\t\treturn true;\n\t});\n\n\tthis.attachEvent(\"onPreFilter\", function(){\n\t\tthis._indexRangeCache = {};\n\t\tthis._eachItemMainRangeCache = null;\n\n\t\tsplitParents = {};\n\t\tsplitItems = {};\n\t\ttaskOpenState = {};\n\t\ttaskVisibility = {};\n\t\thaveSplitItems = false;\n\n\t\tthis.eachItem(function(item){\n\t\t\tvar parent = this.getParent(item.id);\n\t\t\tif(item.$open && taskOpenState[parent] !== false){\n\t\t\t\ttaskOpenState[item.id] = true;\n\t\t\t}else{\n\t\t\t\ttaskOpenState[item.id] = false;\n\t\t\t}\n\n\t\t\tif(this._isSplitItem(item)){\n\t\t\t\thaveSplitItems = true;\n\t\t\t\tsplitParents[item.id] = true;\n\t\t\t\tsplitItems[item.id] = true;\n\t\t\t}\n\n\n\t\t\tif(haveSplitItems && splitItems[parent]){\n\t\t\t\tsplitItems[item.id] = true;\n\t\t\t}\n\n\n\t\t\tif(taskOpenState[parent] || taskOpenState[parent] === undefined){\n\t\t\t\ttaskVisibility[item.id] = true;\n\t\t\t}else{\n\t\t\t\ttaskVisibility[item.id] = false;\n\t\t\t}\n\t\t});\n\t});\n\n\tthis.attachEvent(\"onFilterItem\", function(id, item){\n\n\t\tvar canOpenSplitTasks = false;\n\t\tif(this._ganttConfig){\n\t\t\tvar canOpenSplitTasks = this._ganttConfig.open_split_tasks;\n\t\t}\n\n\t\tvar open = taskVisibility[item.id];\n\n\t\tif(haveSplitItems){\n\t\t\tif(open && splitItems[item.id] && !splitParents[item.id]){\n\t\t\t\topen = !!canOpenSplitTasks;\n\t\t\t}\n\n\t\t\tif(splitItems[item.id] && !splitParents[item.id]){\n\t\t\t\titem.$split_subtask = true;\n\t\t\t}\n\t\t}\n\n\t\titem.$expanded_branch = !!taskVisibility[item.id];\n\n\t\treturn !!open;\n\t});\n\n\tthis.attachEvent(\"onFilter\", function(){\n\t\tsplitParents = {};\n\t\tsplitItems = {};\n\n\t\ttaskOpenState = {};\n\t\ttaskVisibility = {};\n\t});\n\n\treturn this;\n};\n\nTreeDataStore.prototype = utils.mixin({\n\n\t\t_buildTree: function(data){\n\t\t\tvar item = null;\n\t\t\tvar rootId = this.$getRootId();\n\t\t\tfor (var i = 0, len = data.length; i < len; i++){\n\t\t\t\titem = data[i];\n\t\t\t\tthis.setParent(item, this.getParent(item) || rootId);\n\t\t\t}\n\n\t\t\t// calculating $level for each item\n\t\t\tfor (var i = 0, len = data.length; i < len; i++){\n\t\t\t\titem = data[i];\n\t\t\t\tthis._add_branch(item);\n\t\t\t\titem.$level = this.calculateItemLevel(item);\n\t\t\t\titem.$local_index = this.getBranchIndex(item.id);\n\n\t\t\t\tif (!utils.defined(item.$open)) {\n\t\t\t\t\titem.$open = utils.defined(item.open) ? item.open : this.$openInitially();\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tthis._updateOrder();\n\t\t},\n\t\t_isSplitItem: function(item){\n\t\t\treturn (item.render == \"split\" && this.hasChild(item.id));\n\t\t},\n\t\tparse: function(data){\n\t\t\tif (!this._skip_refresh) {\n\t\t\t\tthis.callEvent(\"onBeforeParse\", [data]);\n\t\t\t}\n\t\t\tvar loaded = this._parseInner(data);\n\t\t\tthis._buildTree(loaded);\n\t\t\tthis.filter();\n\t\t\tif (!this._skip_refresh) {\n\t\t\t\tthis.callEvent(\"onParse\", [loaded]);\n\t\t\t}\n\t\t},\n\n\t\t_addItemInner: function(item, index){\n\n\t\t\tvar parent = this.getParent(item);\n\n\t\t\tif(!utils.defined(parent)){\n\t\t\t\tparent = this.$getRootId();\n\t\t\t\tthis.setParent(item, parent);\n\t\t\t}\n\n\t\t\tvar parentIndex = this.getIndexById(parent);\n\t\t\tvar targetIndex = parentIndex + Math.min(Math.max(index, 0), this.visibleOrder.length);\n\n\t\t\tif(targetIndex*1 !== targetIndex){\n\t\t\t\ttargetIndex = undefined;\n\t\t\t}\n\t\t\tDataStore.prototype._addItemInner.call(this, item, targetIndex);\n\t\t\tthis.setParent(item, parent);\n\n\t\t\tif(item.hasOwnProperty(\"$rendered_parent\")){\n\t\t\t\tthis._move_branch(item, item.$rendered_parent);\n\t\t\t}\n\t\t\tthis._add_branch(item, index);\n\t\t},\n\t\t_changeIdInner: function(oldId, newId){\n\t\t\tvar children = this.getChildren(oldId);\n\t\t\tvar visibleOrder = this._searchVisibleOrder[oldId];\n\n\t\t\tDataStore.prototype._changeIdInner.call(this, oldId, newId);\n\n\t\t\tvar parent = this.getParent(newId);\n\n\t\t\tthis._replace_branch_child(parent, oldId, newId);\n\t\t\tfor(var i = 0; i < children.length; i++){\n\t\t\t\tthis.setParent(this.getItem(children[i]), newId);\n\t\t\t}\n\n\t\t\tthis._searchVisibleOrder[newId] = visibleOrder;\n\t\t\tdelete this._branches[oldId];\n\t\t},\n\n\t\t_traverseBranches: function(code, parent){\n\t\t\tif (!utils.defined(parent)) {\n\t\t\t\tparent = this.$getRootId();\n\t\t\t}\n\t\t\tvar branch = this._branches[parent];\n\t\t\tif (branch) {\n\t\t\t\tfor (var i = 0; i < branch.length; i++) {\n\t\t\t\t\tvar itemId = branch[i];\n\t\t\t\t\tcode.call(this, itemId);\n\t\t\t\t\tif (this._branches[itemId])\n\t\t\t\t\t\tthis._traverseBranches(code, itemId);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_updateOrder: function(code){\n\n\t\t\tthis.fullOrder = powerArray.$create();\n\t\t\tthis._traverseBranches(function(taskId){\n\t\t\t\tthis.fullOrder.push(taskId);\n\t\t\t});\n\n\t\t\tif(code)\n\t\t\t\tDataStore.prototype._updateOrder.call(this, code);\n\t\t},\n\n\t\t_removeItemInner: function(id){\n\n\t\t\tvar items = [];\n\t\t\tthis.eachItem(function(child){\n\t\t\t\titems.push(child);\n\t\t\t}, id);\n\n\t\t\titems.push(this.getItem(id));\n\n\t\t\tfor(var i = 0; i < items.length; i++){\n\n\t\t\t\tthis._move_branch(items[i], this.getParent(items[i]), null);\n\t\t\t\tDataStore.prototype._removeItemInner.call(this, items[i].id);\n\t\t\t\tthis._move_branch(items[i], this.getParent(items[i]), null);\n\t\t\t}\n\t\t},\n\n\t\tmove: function(sid, tindex, parent){\n\t\t\t//target id as 4th parameter\n\t\t\tvar id = arguments[3];\n\t\t\tid = replaceValidZeroId(id, this._ganttConfig.root_id);\n\t\t\tif (id) {\n\t\t\t\tif (id === sid) return;\n\n\t\t\t\tparent = this.getParent(id);\n\t\t\t\ttindex = this.getBranchIndex(id);\n\t\t\t}\n\t\t\tif(sid == parent){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!utils.defined(parent)) {\n\t\t\t\tparent = this.$getRootId();\n\t\t\t}\n\t\t\tvar source = this.getItem(sid);\n\t\t\tvar source_pid = this.getParent(source.id);\n\n\t\t\tvar tbranch = this.getChildren(parent);\n\n\t\t\tif (tindex == -1)\n\t\t\t\ttindex = tbranch.length + 1;\n\t\t\tif (source_pid == parent) {\n\t\t\t\tvar sindex = this.getBranchIndex(sid);\n\t\t\t\tif (sindex == tindex) return;\n\t\t\t}\n\n\t\t\tif(this.callEvent(\"onBeforeItemMove\", [sid, parent, tindex]) === false)\n\t\t\t\treturn false;\n\n\t\t\tthis._replace_branch_child(source_pid, sid);\n\t\t\ttbranch = this.getChildren(parent);\n\n\t\t\tvar tid = tbranch[tindex];\n\t\t\ttid = replaceValidZeroId(tid, this._ganttConfig.root_id);\n\t\t\tif (!tid) //adding as last element\n\t\t\t\ttbranch.push(sid);\n\t\t\telse\n\t\t\t\ttbranch = tbranch.slice(0, tindex).concat([ sid ]).concat(tbranch.slice(tindex));\n\n\t\t\tthis.setParent(source, parent);\n\t\t\tthis._branches[parent] = tbranch;\n\n\t\t\tvar diff = this.calculateItemLevel(source) - source.$level;\n\t\t\tsource.$level += diff;\n\t\t\tthis.eachItem(function(item){\n\t\t\t\titem.$level += diff;\n\t\t\t}, source.id, this);\n\n\n\t\t\tthis._moveInner(this.getIndexById(sid), this.getIndexById(parent) + tindex);\n\n\t\t\tthis.callEvent(\"onAfterItemMove\", [sid, parent, tindex]);\n\t\t\tthis.refresh();\n\t\t},\n\n\t\tgetBranchIndex: function(id){\n\t\t\tvar branch = this.getChildren(this.getParent(id));\n\t\t\tfor (var i = 0; i < branch.length; i++)\n\t\t\t\tif (branch[i] == id)\n\t\t\t\t\treturn i;\n\n\t\t\treturn -1;\n\t\t},\n\t\thasChild: function(id){\n\t\t\tvar branch = this._branches[id];\n\t\t\treturn branch && branch.length;\n\t\t},\n\t\tgetChildren: function(id){\n\t\t\tvar branch = this._branches[id];\n\t\t\treturn branch ? branch : powerArray.$create();\n\t\t},\n\n\t\tisChildOf: function(childId, parentId){\n\t\t\tif (!this.exists(childId))\n\t\t\t\treturn false;\n\t\t\tif (parentId === this.$getRootId())\n\t\t\t\treturn true;\n\n\t\t\tif (!this.hasChild(parentId))\n\t\t\t\treturn false;\n\n\t\t\tvar item = this.getItem(childId);\n\t\t\tvar pid = this.getParent(childId);\n\n\t\t\tvar parent = this.getItem(parentId);\n\t\t\tif(parent.$level >= item.$level){\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\twhile (item && this.exists(pid)) {\n\t\t\t\titem = this.getItem(pid);\n\n\t\t\t\tif (item && item.id == parentId)\n\t\t\t\t\treturn true;\n\t\t\t\tpid = this.getParent(item);\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\tgetSiblings: function(id){\n\t\t\tif(!this.exists(id)){\n\t\t\t\treturn powerArray.$create();\n\t\t\t}\n\t\t\tvar parent = this.getParent(id);\n\t\t\treturn this.getChildren(parent);\n\n\t\t},\n\t\tgetNextSibling: function(id){\n\t\t\tvar siblings = this.getSiblings(id);\n\t\t\tfor(var i= 0, len = siblings.length; i < len; i++){\n\t\t\t\tif(siblings[i] == id){\n\t\t\t\t\tvar nextSibling = siblings[i+1];\n\t\t\t\t\tif (nextSibling === 0 && i > 0){\n\t\t\t\t\t\tnextSibling = \"0\";\n\t\t\t\t\t}\n\t\t\t\t\treturn nextSibling || null;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tgetPrevSibling: function(id){\n\t\t\tvar siblings = this.getSiblings(id);\n\t\t\tfor(var i= 0, len = siblings.length; i < len; i++){\n\t\t\t\tif(siblings[i] == id){\n\t\t\t\t\tvar previousSibling = siblings[i-1];\n\t\t\t\t\tif (previousSibling === 0 && i > 0){\n\t\t\t\t\t\tpreviousSibling = \"0\";\n\t\t\t\t\t}\n\t\t\t\t\treturn previousSibling || null;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tgetParent: function(id){\n\t\t\tvar item = null;\n\t\t\tif(id.id !== undefined){\n\t\t\t\titem = id;\n\t\t\t}else{\n\t\t\t\titem = this.getItem(id);\n\t\t\t}\n\n\t\t\tvar parent;\n\t\t\tif(item){\n\t\t\t\tparent = item[this.$parentProperty];\n\t\t\t}else{\n\t\t\t\tparent = this.$getRootId();\n\t\t\t}\n\t\t\treturn parent;\n\n\t\t},\n\n\t\tclearAll: function(){\n\t\t\tthis._branches = {};\n\t\t\tDataStore.prototype.clearAll.call(this);\n\t\t},\n\n\t\tcalculateItemLevel: function(item){\n\t\t\tvar level = 0;\n\t\t\tthis.eachParent(function(){\n\t\t\t\tlevel++;\n\t\t\t}, item);\n\t\t\treturn level;\n\t\t},\n\n\t\t_setParentInner: function(item, new_pid, silent){\n\t\t\tif(!silent){\n\t\t\t\tif(item.hasOwnProperty(\"$rendered_parent\")){\n\t\t\t\t\tthis._move_branch(item, item.$rendered_parent, new_pid);\n\t\t\t\t}else{\n\t\t\t\t\tthis._move_branch(item, item[this.$parentProperty], new_pid);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tsetParent: function(item, new_pid, silent){\n\t\t\tthis._setParentInner(item, new_pid, silent);\n\n\t\t\titem[this.$parentProperty] = new_pid;\n\t\t},\n\n\t\t_eachItemCached: function(code, cache){\n\t\t\tfor(var i = 0, len = cache.length; i < len; i++){\n\t\t\t\tcode.call(this, cache[i]);\n\t\t\t}\n\t\t},\n\t\t_eachItemIterate: function(code, startId, cache){\n\t\t\tvar itemsStack = this.getChildren(startId);\n\t\t\tif(itemsStack.length){\n\t\t\t\titemsStack = itemsStack.slice().reverse();\n\t\t\t}\n\t\t\twhile(itemsStack.length){\n\t\t\t\tvar itemId = itemsStack.pop();\n\t\t\t\tvar item = this.getItem(itemId);\n\t\t\t\tcode.call(this, item);\n\t\t\t\tif(cache){\n\t\t\t\t\tcache.push(item);\n\t\t\t\t}\n\n\t\t\t\tif(this.hasChild(item.id)){\n\t\t\t\t\tvar children = this.getChildren(item.id);\n\t\t\t\t\tvar len = children.length;\n\t\t\t\t\tfor(var i = len - 1; i >= 0; i--){\n\t\t\t\t\t\titemsStack.push(children[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t},\n\n\t\teachItem: function(code, parent){\n\t\t\tvar rootId = this.$getRootId();\n\t\t\tif (!utils.defined(parent)) {\n\t\t\t\tparent = rootId;\n\t\t\t}\n\t\t\tvar startId = parent || rootId;\n\n\t\t\tvar useCache = false;\n\t\t\tvar buildCache = false;\n\t\t\tvar cache = null;\n\t\t\tif(startId === rootId){\n\t\t\t\tif(this._eachItemMainRangeCache){\n\t\t\t\t\tuseCache = true;\n\t\t\t\t\tcache = this._eachItemMainRangeCache;\n\t\t\t\t}else{\n\t\t\t\t\tbuildCache = true;\n\t\t\t\t\tcache = this._eachItemMainRangeCache = [];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(useCache){\n\t\t\t\tthis._eachItemCached(code, cache);\n\t\t\t}else{\n\t\t\t\tthis._eachItemIterate(code, startId, buildCache ? cache : null);\n\t\t\t}\n\t\t},\n\t\teachParent: function(code, startItem) {\n\t\t\tvar parentsHash = {};\n\t\t\tvar item = startItem;\n\t\t\tvar parent = this.getParent(item);\n\n\t\t\twhile (this.exists(parent)) {\n\t\t\t\tif (parentsHash[parent]) {\n\t\t\t\t\tthrow new Error(\"Invalid tasks tree. Cyclic reference has been detected on task \" + parent);\n\t\t\t\t}\n\t\t\t\tparentsHash[parent] = true;\n\t\t\t\titem = this.getItem(parent);\n\t\t\t\tcode.call(this, item);\n\t\t\t\tparent = this.getParent(item);\n\t\t\t}\n\t\t},\n\t\t_add_branch: function(item, index, parent){\n\t\t\tvar pid = parent === undefined ? this.getParent(item) : parent;\n\t\t\tif (!this.hasChild(pid))\n\t\t\t\tthis._branches[pid] = powerArray.$create();\n\t\t\tvar branch = this.getChildren(pid);\n\t\t\tvar added_already = false;\n\t\t\tfor(var i = 0, length = branch.length; i < length; i++){\n\t\t\t\tif(branch[i] == item.id){\n\t\t\t\t\tadded_already = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!added_already){\n\t\t\t\tif(index*1 == index){\n\n\t\t\t\t\tbranch.splice(index, 0, item.id);\n\t\t\t\t}else{\n\t\t\t\t\tbranch.push(item.id);\n\t\t\t\t}\n\n\t\t\t\titem.$rendered_parent = pid;\n\t\t\t}\n\t\t},\n\t\t_move_branch: function(item, old_parent, new_parent){\n\t\t\tthis._eachItemMainRangeCache = null;\n\t\t\t//this.setParent(item, new_parent);\n\t\t\t//this._sync_parent(task);\n\t\t\tthis._replace_branch_child(old_parent, item.id);\n\t\t\tif(this.exists(new_parent) || new_parent == this.$getRootId()){\n\n\t\t\t\tthis._add_branch(item, undefined, new_parent);\n\t\t\t}else{\n\t\t\t\tdelete this._branches[item.id];\n\t\t\t}\n\t\t\titem.$level =  this.calculateItemLevel(item);\n\t\t\tthis.eachItem(function(child){\n\t\t\t\tchild.$level = this.calculateItemLevel(child);\n\t\t\t}, item.id);\n\t\t},\n\n\t\t_replace_branch_child: function(node, old_id, new_id){\n\t\t\tvar branch = this.getChildren(node);\n\t\t\tif (branch && node !== undefined){\n\t\t\t\tvar newbranch = powerArray.$create();\n\t\t\t\tfor (var i=0; i<branch.length; i++){\n\t\t\t\t\tif (branch[i] != old_id)\n\t\t\t\t\t\tnewbranch.push(branch[i]);\n\t\t\t\t\telse if (new_id)\n\t\t\t\t\t\tnewbranch.push(new_id);\n\t\t\t\t}\n\t\t\t\tthis._branches[node] = newbranch;\n\t\t\t}\n\n\t\t},\n\n\t\tsort: function(field, desc, parent){\n\t\t\tif (!this.exists(parent)) {\n\t\t\t\tparent = this.$getRootId();\n\t\t\t}\n\n\t\t\tif (!field) field = \"order\";\n\t\t\tvar criteria = (typeof(field) == \"string\") ? (function(a, b) {\n\t\t\t\tif (a[field] == b[field] ||\n\t\t\t\t\t(helpers.isDate(a[field]) && helpers.isDate(b[field]) && a[field].valueOf() == b[field].valueOf()))\n\t\t\t\t{\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\tvar result = a[field] > b[field];\n\t\t\t\treturn result ? 1 : -1;\n\t\t\t}) : field;\n\n\t\t\tif (desc) {\n\t\t\t\tvar original_criteria = criteria;\n\t\t\t\tcriteria = function (a, b) {\n\t\t\t\t\treturn original_criteria(b, a);\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tvar els = this.getChildren(parent);\n\n\t\t\tif (els){\n\t\t\t\tvar temp = [];\n\t\t\t\tfor (var i = els.length - 1; i >= 0; i--)\n\t\t\t\t\ttemp[i] = this.getItem(els[i]);\n\n\t\t\t\ttemp.sort(criteria);\n\n\t\t\t\tfor (var i = 0; i < temp.length; i++) {\n\t\t\t\t\tels[i] = temp[i].id;\n\t\t\t\t\tthis.sort(field, desc, els[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tfilter: function(rule){\n\t\t\tfor(var i  in this.pull){\n\t\t\t\tif(this.pull[i].$rendered_parent !== this.getParent(this.pull[i])){\n\t\t\t\t\tthis._move_branch(this.pull[i], this.pull[i].$rendered_parent, this.getParent(this.pull[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn DataStore.prototype.filter.apply(this, arguments);\n\t\t},\n\n\t\topen: function(id){\n\t\t\tif(this.exists(id)){\n\t\t\t\tthis.getItem(id).$open = true;\n\t\t\t\tthis.callEvent(\"onItemOpen\", [id]);\n\t\t\t}\n\t\t},\n\n\t\tclose: function(id){\n\t\t\tif(this.exists(id)){\n\t\t\t\tthis.getItem(id).$open = false;\n\t\t\t\tthis.callEvent(\"onItemClose\", [id]);\n\t\t\t}\n\t\t},\n\n\t\tdestructor: function(){\n\t\t\tDataStore.prototype.destructor.call(this);\n\t\t\tthis._branches = null;\n\t\t\tthis._indexRangeCache = {};\n\t\t\tthis._eachItemMainRangeCache = null;\n\t\t}\n\t},\n\tDataStore.prototype\n);\n\nmodule.exports = TreeDataStore;","var utils = require(\"../../utils/utils\");\n\nvar $powerArray  = {\n\t$create: function(array){\n\t\treturn utils.mixin(array || [], this);\n\t},\n\t//remove element at specified position\n\t$removeAt:function(pos,len){\n\t\tif (pos>=0) this.splice(pos,(len||1));\n\t},\n\t//find element in collection and remove it\n\t$remove:function(value){\n\t\tthis.$removeAt(this.$find(value));\n\t},\n\t//add element to collection at specific position\n\t$insertAt:function(data,pos){\n\t\tif (!pos && pos!==0) \t//add to the end by default\n\t\t\tthis.push(data);\n\t\telse {\n\t\t\tvar b = this.splice(pos,(this.length-pos));\n\t\t\tthis[pos] = data;\n\t\t\tthis.push.apply(this,b); //reconstruct array without loosing this pointer\n\t\t}\n\t},\n\t//return index of element, -1 if it doesn't exists\n\t$find:function(data){\n\t\tfor (var i=0; i<this.length; i++)\n\t\t\tif (data==this[i]) return i;\n\t\treturn -1;\n\t},\n\t//execute some method for each element of array\n\t$each:function(functor,master){\n\t\tfor (var i=0; i < this.length; i++)\n\t\t\tfunctor.call((master||this),this[i]);\n\t},\n\t//create new array from source, by using results of functor\n\t$map:function(functor,master){\n\t\tfor (var i=0; i < this.length; i++)\n\t\t\tthis[i]=functor.call((master||this),this[i]);\n\t\treturn this;\n\t},\n\t$filter:function(functor, master){\n\t\tfor (var i=0; i < this.length; i++)\n\t\t\tif (!functor.call((master||this),this[i])){\n\t\t\t\tthis.splice(i,1);\n\t\t\t\ti--;\n\t\t\t}\n\t\treturn this;\n\t}\n};\n\nmodule.exports = $powerArray;","var powerArray = require(\"./power_array\");\nvar utils = require(\"../../utils/utils\");\nvar eventable = require(\"../../utils/eventable\");\n\nvar DataStore = function(config){\n\tthis.pull = {};\n\tthis.$initItem = config.initItem;\n\tthis.visibleOrder = powerArray.$create();\n\tthis.fullOrder = powerArray.$create();\n\tthis._skip_refresh = false;\n\tthis._filterRule = null;\n\tthis._searchVisibleOrder = {};\n\tthis._indexRangeCache = {};\n\tthis._getItemsCache = null;\n\tthis.$config = config;\n\teventable(this);\n\n\tthis._attachDataChange(function(){\n\t\tthis._indexRangeCache = {};\n\t\tthis._getItemsCache = null;\n\t\treturn true;\n\t});\n\treturn this;\n};\nDataStore.prototype = {\n\n\t_attachDataChange: function(callback){\n\t\tthis.attachEvent(\"onClearAll\", callback);\n\t\tthis.attachEvent(\"onBeforeParse\", callback);\n\t\tthis.attachEvent(\"onBeforeUpdate\", callback);\n\t\tthis.attachEvent(\"onBeforeDelete\", callback);\n\t\tthis.attachEvent(\"onBeforeAdd\", callback);\n\t\tthis.attachEvent(\"onParse\", callback);\n\t\tthis.attachEvent(\"onBeforeFilter\", callback);\n\t},\n\t_parseInner: function(data){\n\t\tvar item = null,\n\t\t\tloaded = [];\n\t\tfor(var i = 0, len = data.length; i< len; i++){\n\t\t\titem = data[i];\n\t\t\tif(this.$initItem){\n\t\t\t\tif(this.$config.copyOnParse()){\n\t\t\t\t\titem = utils.copy(item);\n\t\t\t\t}\n\t\t\t\titem = this.$initItem(item);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.callEvent(\"onItemLoading\", [item])){\n\t\t\t\tif (!this.pull.hasOwnProperty(item.id)) {\n\t\t\t\t\tthis.fullOrder.push(item.id);\n\t\t\t\t}\n\t\t\t\tloaded.push(item);\n\t\t\t\tthis.pull[item.id] = item;\n\t\t\t}\n\t\t}\n\t\treturn loaded;\n\t},\n\tparse: function(data){\n\t\tif (!this._skip_refresh) {\n\t\t\tthis.callEvent(\"onBeforeParse\", [data]);\n\t\t}\n\t\tvar loaded = this._parseInner(data);\n\t\tif (!this._skip_refresh) {\n\t\t\tthis.refresh();\n\t\t\tthis.callEvent(\"onParse\", [loaded]);\n\t\t}\n\t},\n\tgetItem: function(id){\n\t\treturn this.pull[id];\n\t},\n\n\t_updateOrder: function(code){\n\t\tcode.call(this.visibleOrder);\n\t\tcode.call(this.fullOrder);\n\t},\n\tupdateItem: function(id, item){\n\t\tif (!utils.defined(item)) item = this.getItem(id);\n\n\t\tif (!this._skip_refresh) {\n\t\t\tif (this.callEvent(\"onBeforeUpdate\", [item.id, item]) === false) return false;\n\t\t}\n\t\t// This is how it worked before updating the properties:\n\t\t// this.pull[id]=item;\n\t\tutils.mixin(this.pull[id],item, true);\n\t\tif (!this._skip_refresh) {\n\t\t\tthis.callEvent(\"onAfterUpdate\", [item.id, item]);\n\t\t\tthis.callEvent(\"onStoreUpdated\", [item.id, item, \"update\"]);\n\t\t}\n\t},\n\n\t_removeItemInner: function(id){\n\t\t//clear from collections\n\t\t//this.visibleOrder.$remove(id);\n\t\tthis._updateOrder(function(){ this.$remove(id);});\n\t\tdelete this.pull[id];\n\t},\n\n\tremoveItem: function(id){\n\t\t//utils.assert(this.exists(id), \"Not existing ID in remove command\"+id);\n\n\t\tvar obj = this.getItem(id);\t//save for later event\n\t\tif (!this._skip_refresh) {\n\t\t\tif (this.callEvent(\"onBeforeDelete\", [obj.id, obj]) === false) return false;\n\t\t}\n\n\t\tthis.callEvent(\"onAfterDeleteConfirmed\", [obj.id, obj]);\n\n\t\tthis._removeItemInner(id);\n\n\t\tif (!this._skip_refresh) {\n\t\t\tthis.filter();\n\t\t\tthis.callEvent(\"onAfterDelete\", [obj.id, obj]);\n\t\t\t//repaint signal\n\t\t\tthis.callEvent(\"onStoreUpdated\", [obj.id, obj, \"delete\"]);\n\t\t}\n\t},\n\n\t_addItemInner: function(item, index){\n\t\t//in case of treetable order is sent as 3rd parameter\n\t\t//var order = index;\n\n\t\tif(this.exists(item.id)){\n\t\t\tthis.silent(function(){this.updateItem(item.id, item);});\n\t\t}else{\n\t\t\tvar order = this.visibleOrder;\n\n\t\t\t//by default item is added to the end of the list\n\t\t\tvar data_size = order.length;\n\n\t\t\tif (!utils.defined(index) || index < 0)\n\t\t\t\tindex = data_size;\n\t\t\t//check to prevent too big indexes\n\t\t\tif (index > data_size){\n\t\t\t\t//dhx.log(\"Warning\",\"DataStore:add\",\"Index of out of bounds\");\n\t\t\t\tindex = Math.min(order.length,index);\n\t\t\t}\n\t\t}\n\n\n\t\t//gantt.assert(!this.exists(id), \"Not unique ID\");\n\n\t\tthis.pull[item.id]=item;\n\t\tif (!this._skip_refresh){\n\t\t\tthis._updateOrder(function(){\n\t\t\t\tif(this.$find(item.id) === -1)\n\t\t\t\t\tthis.$insertAt(item.id,index);\n\t\t\t});\n\t\t}\n\t\tthis.filter();\n\t\t//order.$insertAt(item.id,index);\n\t},\n\n\n\tisVisible: function(id){\n\t\treturn this.visibleOrder.$find(id) > -1;\n\t},\n\tgetVisibleItems: function(){\n\t\treturn this.getIndexRange();\n\t},\n\n\taddItem: function(item, index){\n\t\tif (!utils.defined(item.id))\n\t\t\titem.id = utils.uid();\n\n\t\tif(this.$initItem){\n\t\t\titem = this.$initItem(item);\n\t\t}\n\n\t\tif (!this._skip_refresh){\n\t\t\tif (this.callEvent(\"onBeforeAdd\", [item.id, item]) === false) return false;\n\t\t}\n\n\n\t\tthis._addItemInner(item, index);\n\n\t\tif (!this._skip_refresh){\n\t\t\tthis.callEvent(\"onAfterAdd\",[item.id, item]);\n\t\t\t//repaint signal\n\t\t\tthis.callEvent(\"onStoreUpdated\",[item.id,item,\"add\"]);\n\t\t}\n\t\treturn item.id;\n\t},\n\n\t_changeIdInner: function(oldId, newId){\n\t\tif(this.pull[oldId])\n\t\t\tthis.pull[newId] = this.pull[oldId];\n\n\t\tvar visibleOrder = this._searchVisibleOrder[oldId];\n\t\tthis.pull[newId].id = newId;\n\t\tthis._updateOrder(function(){\n\t\t\tthis[this.$find(oldId)] = newId;\n\t\t});\n\t\tthis._searchVisibleOrder[newId] = visibleOrder;\n\t\tdelete this._searchVisibleOrder[oldId];\n\n\t\t//this.visibleOrder[this.visibleOrder.$find(oldId)]=newId;\n\t\tdelete this.pull[oldId];\n\t},\n\tchangeId: function(oldId, newId){\n\t\tthis._changeIdInner(oldId, newId);\n\n\t\tthis.callEvent(\"onIdChange\", [oldId, newId]);\n\n\t},\n\texists: function(id){\n\t\treturn !!(this.pull[id]);\n\t},\n\n\t_moveInner: function(sindex, tindex){\n\t\tvar id = this.getIdByIndex(sindex);\n\n\t\tthis._updateOrder(function(){\n\t\t\tthis.$removeAt(sindex);\n\t\t\tthis.$insertAt(id,Math.min(this.length, tindex));\n\t\t});\n\t\t//this.visibleOrder.$removeAt(sindex);\t//remove at old position\n\t\t//if (sindex<tindex) tindex--;\t//correct shift, caused by element removing\n\t\t//this.visibleOrder.$insertAt(id,Math.min(this.visibleOrder.length, tindex));\t//insert at new position\n\t},\n\n\tmove: function(sindex, tindex){\n\t\t//gantt.assert(sindex>=0 && tindex>=0, \"DataStore::move\",\"Incorrect indexes\");\n\n\t\tvar id = this.getIdByIndex(sindex);\n\t\tvar obj = this.getItem(id);\n\t\tthis._moveInner(sindex, tindex);\n\n\t\tif (!this._skip_refresh) {\n\t\t\t//repaint signal\n\t\t\tthis.callEvent(\"onStoreUpdated\", [obj.id, obj, \"move\"]);\n\t\t}\n\t},\n\tclearAll: function(){\n\t\tif(this.$destroyed){\n\t\t\treturn;\n\t\t}\n\t\t// GS-956 We need to unselect the resource as its ID is cached\n\t\tthis.silent(function(){\n\t\t\tthis.unselect();\n\t\t});\n\t\tthis.pull = {};\n\t\tthis.visibleOrder = powerArray.$create();\n\t\tthis.fullOrder = powerArray.$create();\n\t\tif (this._skip_refresh) return;\n\t\tthis.callEvent(\"onClearAll\",[]);\n\t\tthis.refresh();\n\t},\n\n\tsilent:function(code, master){\n\t\tthis._skip_refresh = true;\n\t\tcode.call(master||this);\n\t\tthis._skip_refresh = false;\n\t},\n\n\tarraysEqual: function (arr1, arr2) {\n\t\tif(arr1.length !== arr2.length)\n\t\t\treturn false;\n\t\tfor(var i = 0; i < arr1.length; i++) {\n\t\t\tif(arr1[i] !== arr2[i])\n\t\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\trefresh: function(id, quick){\n\t\tif (this._skip_refresh) return;\n\n\t\tvar item;\n\t\tif(id){\n\t\t\titem = this.getItem(id);\n\t\t}\n\n\t\tvar args;\n\t\tif (id){\n\t\t\targs = [id, item, \"paint\"];\n\t\t}else{\n\t\t\targs = [null,null,null];\n\t\t}\n\n\t\tif(this.callEvent(\"onBeforeStoreUpdate\", args) === false){\n\t\t\treturn;\n\t\t}\n\n\t\tvar skipFilter = this._quick_refresh && !this._mark_recompute;\n\t\tthis._mark_recompute = false;\n\t\tif(id){\n\t\t\t// if item changes visible order (e.g. expand-collapse branch) - do a complete repaint\n\t\t\tif(!quick && !skipFilter){\n\t\t\t\tvar oldOrder = this.visibleOrder;\n\t\t\t\tthis.filter();\n\t\t\t\tif(!this.arraysEqual(oldOrder, this.visibleOrder)){\n\t\t\t\t\tid = undefined;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}else if(!skipFilter){\n\t\t\tthis.filter();\n\t\t}\n\n\t\tif (id){\n\t\t\targs = [id, item, \"paint\"];\n\t\t}else{\n\t\t\targs = [null,null,null];\n\t\t}\n\n\t\tthis.callEvent(\"onStoreUpdated\",args);\n\t},\n\n\tcount: function(){\n\t\treturn this.fullOrder.length;\n\t},\n\tcountVisible: function(){\n\t\treturn this.visibleOrder.length;\n\t},\n\n\tsort: function(sort){},\n\n\tserialize: function(){},\n\n\teachItem: function(code){\n\t\tfor (var i=0; i<this.fullOrder.length; i++) {\n\t\t\tvar item = this.getItem(this.fullOrder[i]);\n\t\t\tcode.call(this, item);\n\t\t}\n\t},\n\n\tfind: function(filter) {\n\t\tvar result = [];\n\t\tthis.eachItem(function(item) {\n\t\t\tif(filter(item)){\n\t\t\t\tresult.push(item);\n\t\t\t}\n\t\t});\n\t\treturn result;\n\t},\n\n\tfilter: function(rule){\n\t\tif (!this._skip_refresh) {\n\t\t\tthis.callEvent(\"onBeforeFilter\", []);\n\t\t}\n\t\tthis.callEvent(\"onPreFilter\", []);\n\t\tvar filteredOrder = powerArray.$create();\n\t\tthis.eachItem(function(item){\n\t\t\tif(this.callEvent(\"onFilterItem\", [item.id, item])){\n\t\t\t\tfilteredOrder.push(item.id);\n\t\t\t}\n\t\t});\n\n\t\tthis.visibleOrder = filteredOrder;\n\t\tthis._searchVisibleOrder = {};\n\t\tfor(var i = 0; i < this.visibleOrder.length; i++){\n\t\t\tthis._searchVisibleOrder[this.visibleOrder[i]] = i;\n\t\t}\n\t\tif (!this._skip_refresh) {\n\t\t\tthis.callEvent(\"onFilter\", []);\n\t\t}\n\t},\n\n\tgetIndexRange: function(from, to){\n\t\tvar max = Math.min((to||Infinity),this.countVisible()-1);\n\t\tvar min = from||0;\n\n\t\tvar cacheKey = min + '-' + max;\n\t\tif(this._indexRangeCache[cacheKey]){\n\t\t\treturn this._indexRangeCache[cacheKey].slice();\n\t\t}\n\n\t\tvar ret= [];\n\t\tfor (var i=min; i <= max; i++)\n\t\t\tret.push(this.getItem(this.visibleOrder[i]));\n\n\t\tthis._indexRangeCache[cacheKey] = ret.slice();\n\t\treturn ret;\n\t},\n\tgetItems: function(){\n\t\tif(this._getItemsCache){\n\t\t\treturn this._getItemsCache.slice();\n\t\t}\n\n\t\tvar res = [];\n\t\tfor(var i in this.pull){\n\t\t\tres.push(this.pull[i]);\n\t\t}\n\t\tthis._getItemsCache = res.slice();\n\n\t\treturn res;\n\t},\n\n\tgetIdByIndex: function(index){\n\t\treturn this.visibleOrder[index];\n\t},\n\tgetIndexById: function(id){\n\t\tvar res = this._searchVisibleOrder[id];\n\t\tif(res === undefined){\n\t\t\tres = -1;\n\t\t}\n\t\treturn res;\n\t},\n\t_getNullIfUndefined: function(value){\n\t\tif(value === undefined){\n\t\t\treturn null;\n\t\t}else{\n\t\t\treturn value;\n\t\t}\n\t},\n\tgetFirst: function(){\n\t\treturn this._getNullIfUndefined(this.visibleOrder[0]);\n\t},\n\tgetLast: function(){\n\t\treturn this._getNullIfUndefined(this.visibleOrder[this.visibleOrder.length-1]);\n\t},\n\tgetNext: function(id){\n\t\treturn this._getNullIfUndefined(this.visibleOrder[this.getIndexById(id) + 1]);\n\t},\n\tgetPrev: function(id){\n\t\treturn this._getNullIfUndefined(this.visibleOrder[this.getIndexById(id) - 1]);\n\t},\n\tdestructor: function(){\n\t\tthis.detachAllEvents();\n\t\tthis.$destroyed = true;\n\t\tthis.pull = null;\n\t\tthis.$initItem = null;\n\t\tthis.visibleOrder = null;\n\t\tthis.fullOrder = null;\n\t\tthis._skip_refresh = null;\n\t\tthis._filterRule = null;\n\t\tthis._searchVisibleOrder = null;\n\t\tthis._indexRangeCache = {};\n\t}\n};\n\nmodule.exports = DataStore;","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","function checkTimeout(host, updPerSecond){\n\tif (!updPerSecond)\n\t\treturn true;\n\t\n\tif (host._on_timeout)\n\t\treturn false;\n\t\n\tvar timeout = Math.ceil(1000/updPerSecond);\n\tif (timeout < 2) return true;\n\n\tsetTimeout(function(){\n\t\tdelete host._on_timeout;\n\t}, timeout);\n\n\thost._on_timeout = true;\n\treturn true;\n}\n\nmodule.exports = checkTimeout;","export default class ExtensionsManager{\n\tprivate _extensions:{[key:string]: GanttPlugin };\n\n\tconstructor(config: {[key:string]: GanttPlugin }){\n\t\tthis._extensions = {};\n\t\tfor(const i in config){\n\t\t\tthis._extensions[i] = config[i];\n\t\t}\n\t}\n\n\taddExtension = (name: string, ext: GanttPlugin) => {\n\t\tthis._extensions[name] = ext;\n\t}\n\n\tgetExtension = (name: string): GanttPlugin => {\n\t\treturn this._extensions[name];\n\t}\n}","var utils = require(\"../../../utils/utils\");\n\nfunction createScope(addEvent, removeEvent) {\n\taddEvent = addEvent || utils.event;\n\tremoveEvent = removeEvent || utils.eventRemove;\n\n\tvar handlers = [];\n\n\tvar eventScope = {\n\t\tattach: function(el, event, callback, capture){\n\t\t\thandlers.push({element: el, event:event, callback: callback, capture: capture});\n\t\t\taddEvent(el, event, callback, capture);\n\t\t},\n\t\tdetach: function(el, event, callback, capture){\n\t\t\tremoveEvent(el, event, callback, capture);\n\t\t\tfor(var i = 0; i < handlers.length; i++){\n\t\t\t\tvar handler = handlers[i];\n\t\t\t\tif (handler.element === el && handler.event === event && handler.callback === callback && handler.capture === capture) {\n\t\t\t\t\thandlers.splice(i, 1);\n\t\t\t\t\ti--;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tdetachAll: function () {\n\t\t\tvar staticArray = handlers.slice();\n\t\t\t// original handlers array can be spliced on every iteration\n\t\t\tfor (var i = 0; i < staticArray.length; i++){\n\t\t\t\tvar handler = staticArray[i];\n\t\t\t\teventScope.detach(handler.element, handler.event, handler.callback, handler.capture);\n\t\t\t\teventScope.detach(handler.element, handler.event, handler.callback, undefined);\n\t\t\t\teventScope.detach(handler.element, handler.event, handler.callback, false);\n\t\t\t\teventScope.detach(handler.element, handler.event, handler.callback, true);\n\t\t\t}\n\t\t\thandlers.splice(0, handlers.length);\n\t\t},\n\t\textend: function(){\n\t\t\treturn createScope(this.event, this.eventRemove);\n\t\t}\n\t};\n\n\treturn eventScope;\n}\n\nmodule.exports = createScope;","var helpers = require(\"../../utils/helpers\");\n\nmodule.exports = function(){\n\treturn {\n\t\tgetVertices: function(relations){\n\t\t\tvar ids = {};\n\t\t\tvar rel;\n\t\t\tfor(var i = 0, len = relations.length; i < len; i++){\n\t\t\t\trel = relations[i];\n\t\t\t\tids[rel.target] = rel.target;\n\t\t\t\tids[rel.source] = rel.source;\n\t\t\t}\n\n\t\t\tvar vertices = [];\n\t\t\tvar id;\n\t\t\tfor(var i in ids){\n\t\t\t\tid = ids[i];\n\t\t\t\tvertices.push(id);\n\t\t\t}\n\n\t\t\treturn vertices;\n\t\t},\n\t\ttopologicalSort: function(edges){\n\t\t\tvar vertices = this.getVertices(edges);\n\t\t\tvar hash = {};\n\n\t\t\tfor(var i = 0, len = vertices.length; i < len; i ++){\n\t\t\t\thash[vertices[i]] = {id: vertices[i], $source:[], $target:[], $incoming: 0};\n\t\t\t}\n\n\t\t\tfor(var i = 0, len = edges.length; i < len; i++){\n\t\t\t\tvar successor = hash[edges[i].target];\n\t\t\t\tsuccessor.$target.push(i);\n\t\t\t\tsuccessor.$incoming = successor.$target.length;\n\t\t\t\thash[edges[i].source].$source.push(i);\n\n\t\t\t}\n\n\t\t\t// topological sort, Kahn's algorithm\n\t\t\tvar S = vertices.filter(function(v){ return !hash[v].$incoming; });\n\n\t\t\tvar L = [];\n\n\t\t\twhile(S.length){\n\t\t\t\tvar n = S.pop();\n\n\t\t\t\tL.push(n);\n\n\t\t\t\tvar node = hash[n];\n\n\t\t\t\tfor(var i = 0; i < node.$source.length; i++){\n\t\t\t\t\tvar m = hash[edges[node.$source[i]].target];\n\t\t\t\t\tm.$incoming--;\n\t\t\t\t\tif(!m.$incoming){\n\t\t\t\t\t\tS.push(m.id);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn L;\n\n\t\t},\n\t\tgroupAdjacentEdges: function(edges){\n\t\t\tvar res = {};\n\t\t\tvar edge;\n\t\t\tfor(var i = 0, len = edges.length; i < len; i++){\n\t\t\t\tedge = edges[i];\n\t\t\t\tif(!res[edge.source]){\n\t\t\t\t\tres[edge.source] = [];\n\t\t\t\t}\n\t\t\t\tres[edge.source].push(edge);\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\ttarjanStronglyConnectedComponents: function(vertices, edges){\n\t\t\t//https://en.wikipedia.org/wiki/Tarjan%27s_strongly_connected_components_algorithm\n\t\t\t// iterative implementation\n\t\t\tvar verticesHash = {};\n\t\t\tvar stack = [];\n\t\t\tvar edgesFromTasks = this.groupAdjacentEdges(edges);\n\t\t\tvar recurse = false;\n\t\t\tvar connectedComponents = [];\n\n\t\t\tfor(var i = 0; i < vertices.length; i++){\n\t\t\t\tvar root = getVertex(vertices[i]);\n\t\t\t\tif(root.visited) continue;\n\t\t\t\tvar workStack = [root];\n\t\t\t\tvar index = 0;\n\t\t\t\twhile(workStack.length){\n\t\t\t\t\tvar v = workStack.pop();\n\n\t\t\t\t\tif(!v.visited){\n\t\t\t\t\t\tv.index = index;\n\t\t\t\t\t\tv.lowLink = index;\n\t\t\t\t\t\tindex++;\n\t\t\t\t\t\tstack.push(v);\n\t\t\t\t\t\tv.onStack = true;\n\t\t\t\t\t\tv.visited = true;\n\t\t\t\t\t}\n\t\t\t\t\trecurse = false;\n\t\t\t\t\tvar edges = edgesFromTasks[v.id] || [];\n\t\t\t\t\tfor(var e = 0; e < edges.length; e++){\n\t\t\t\t\t\tvar w = getVertex(edges[e].target);\n\t\t\t\t\t\tw.edge = edges[e];\n\t\t\t\t\t\tif(w.index === undefined){\n\t\t\t\t\t\t\tworkStack.push(v);\n\t\t\t\t\t\t\tworkStack.push(w);\n\t\t\t\t\t\t\trecurse = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}else if(w.onStack){\n\t\t\t\t\t\t\tv.lowLink = Math.min(v.lowLink, w.index);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(recurse)\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\tif (v.index == v.lowLink){\n\t\t\t\t\t\tvar com = {tasks:[], links:[]};\n\t\t\t\t\t\twhile(true){\n\t\t\t\t\t\t\tw = stack.pop();\n\t\t\t\t\t\t\tw.onStack = false;\n\t\t\t\t\t\t\tcom.tasks.push(w.id);\n\t\t\t\t\t\t\tif(w.edge){\n\t\t\t\t\t\t\t\tcom.links.push(w.edge.id);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(w == v){\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconnectedComponents.push(com);\n\t\t\t\t\t}\n\t\t\t\t\tif(workStack.length){\n\t\t\t\t\t\tw = v;\n\t\t\t\t\t\tv = workStack[workStack.length - 1];\n\t\t\t\t\t\tv.lowLink = Math.min(v.lowLink, w.lowLink);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn connectedComponents;\n\n\t\t\tfunction getVertex(id){\n\t\t\t\tif(!verticesHash[id]){\n\t\t\t\t\tverticesHash[id] = {id: id, onStack:false, index: undefined, lowLink: undefined, edge: undefined};\n\t\t\t\t}\n\n\t\t\t\treturn verticesHash[id];\n\t\t\t}\n\t\t},\n\n\t\tfindLoops: function(relations){\n\t\t\tvar cycles = [];\n\n\t\t\thelpers.forEach(relations, function(rel){\n\t\t\t\tif(rel.target == rel.source)\n\t\t\t\t\tcycles.push([rel.target, rel.source]);\n\t\t\t});\n\n\t\t\tvar vertices = this.getVertices(relations);\n\n\t\t\tvar connectedComponents = this.tarjanStronglyConnectedComponents(vertices, relations);\n\t\t\thelpers.forEach(connectedComponents, function(component){\n\t\t\t\tif(component.tasks.length > 1){\n\t\t\t\t\tcycles.push(component);//{ tasks: [task ids], links: [links ids]}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn cycles;\n\t\t\t//{task:id, link:link.type, lag: link.lag || 0, source: link.source}\n\t\t}\n\t};\n};","module.exports = function (gantt) {\n\t// helpers for building chain of dependencies, used for critical path calculation and for auto scheduling\n\n\tgantt._get_linked_task = function (link, getTarget) {\n\t\tvar task = null;\n\t\tvar taskId = getTarget ? link.target : link.source;\n\n\t\tif (gantt.isTaskExists(taskId)) {\n\t\t\ttask = gantt.getTask(taskId);\n\t\t}\n\n\t\treturn task;\n\t};\n\tgantt._get_link_target = function (link) {\n\t\treturn gantt._get_linked_task(link, true);\n\t};\n\n\tgantt._get_link_source = function (link) {\n\t\treturn gantt._get_linked_task(link, false);\n\t};\n\n\tvar caching = false;\n\tvar formattedLinksStash = {};\n\tvar inheritedSuccessorsStash = {};\n\tvar inheritedPredecessorsStash = {};\n\tvar getPredecessorsCache = {};\n\n\n\tgantt._isLinksCacheEnabled = function () {\n\t\treturn caching;\n\t};\n\tgantt._startLinksCache = function () {\n\t\tformattedLinksStash = {};\n\t\tinheritedSuccessorsStash = {};\n\t\tinheritedPredecessorsStash = {};\n\t\tgetPredecessorsCache = {};\n\t\tcaching = true;\n\t};\n\tgantt._endLinksCache = function () {\n\t\tformattedLinksStash = {};\n\t\tinheritedSuccessorsStash = {};\n\t\tinheritedPredecessorsStash = {};\n\t\tgetPredecessorsCache = {};\n\t\tcaching = false;\n\t};\n\n\tgantt._formatLink = function (link) {\n\n\n\t\tif (caching && formattedLinksStash[link.id]) {\n\t\t\treturn formattedLinksStash[link.id];\n\t\t}\n\n\t\tvar relations = [];\n\t\tvar target = this._get_link_target(link);\n\t\tvar source = this._get_link_source(link);\n\n\t\tif (!(source && target)) {\n\t\t\treturn relations;\n\t\t}\n\n\t\tif ((gantt.isSummaryTask(target) && gantt.isChildOf(source.id, target.id)) || (gantt.isSummaryTask(source) && gantt.isChildOf(target.id, source.id))) {\n\t\t\treturn relations;\n\t\t}\n\n\n\t\t// there are three kinds of connections at this point\n\t\t// task -> task - regular link\n\t\t// task -> project - transform it into set of regular links (task -> [each subtask]), use offset beetween subtask and project dates as lag, in order not to change mutual positions of subtasks inside a project\n\t\t// project -> task - transform it into ([each subtask] -> task) links\n\t\t// project -> project - transform it into ([each subtask of p1] -> [each subtask of p2]) links\n\n\t\tvar from = this._getImplicitLinks(link, source, function (c) {\n\t\t\treturn 0;\n\t\t}, true);\n\n\t\tvar respectTargetOffset = gantt.config.auto_scheduling_move_projects;\n\t\tvar targetDates = this.isSummaryTask(target) ? this.getSubtaskDates(target.id) : {\n\t\t\tstart_date: target.start_date,\n\t\t\tend_date: target.end_date\n\t\t};\n\t\tvar to = this._getImplicitLinks(link, target, function (c) {\n\t\t\tif (!respectTargetOffset) {\n\t\t\t\treturn 0;\n\t\t\t} else {\n\n\t\t\t\tif (!c.$target.length && !(gantt.getState(\"tasksDnd\").drag_id == c.id)) {// drag_id - virtual lag shouldn't restrict task that is being moved inside project\n\t\t\t\t\treturn gantt.calculateDuration({\n\t\t\t\t\t\tstart_date: targetDates.start_date,\n\t\t\t\t\t\tend_date: c.start_date,\n\t\t\t\t\t\ttask: source\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tfor (var i = 0, fromLength = from.length; i < fromLength; i++) {\n\t\t\tvar fromTask = from[i];\n\t\t\tfor (var j = 0, toLength = to.length; j < toLength; j++) {\n\t\t\t\tvar toTask = to[j];\n\n\t\t\t\tvar lag = fromTask.lag * 1 + toTask.lag * 1;\n\n\t\t\t\tvar subtaskLink = {\n\t\t\t\t\tid: link.id,\n\t\t\t\t\ttype: link.type,\n\t\t\t\t\tsource: fromTask.task,\n\t\t\t\t\ttarget: toTask.task,\n\t\t\t\t\tlag: (link.lag * 1 || 0) + lag\n\t\t\t\t};\n\n\t\t\t\trelations.push(gantt._convertToFinishToStartLink(toTask.task, subtaskLink, source, target, fromTask.taskParent, toTask.taskParent));\n\t\t\t}\n\t\t}\n\n\t\tif (caching)\n\t\t\tformattedLinksStash[link.id] = relations;\n\n\t\treturn relations;\n\t};\n\n\tgantt._isAutoSchedulable = function (task) {\n\t\treturn task.auto_scheduling !== false;\n\t};\n\n\tgantt._getImplicitLinks = function (link, parent, selectOffset, selectSourceLinks) {\n\t\tvar relations = [];\n\n\t\tif (this.isSummaryTask(parent)) {\n\n\t\t\t// if the summary task contains multiple chains of linked tasks - no need to consider every task of the chain,\n\t\t\t// it will be enough to check the first/last tasks of the chain\n\t\t\t// special conditions if there are unscheduled tasks in the chain, or negative lag values that put the end date of the successor task prior to its predecessors' date\n\t\t\tvar children = {};\n\t\t\tthis.eachTask(function (c) {\n\t\t\t\tif (!this.isSummaryTask(c)) {\n\t\t\t\t\tchildren[c.id] = c;\n\t\t\t\t}\n\t\t\t}, parent.id);\n\n\t\t\tvar skipChild;\n\n\t\t\tfor (var c in children) {\n\t\t\t\tvar task = children[c];\n\t\t\t\tvar linksCollection = selectSourceLinks ? task.$source : task.$target;\n\n\t\t\t\tskipChild = false;\n\n\t\t\t\tfor (var l = 0; l < linksCollection.length; l++) {\n\t\t\t\t\tvar siblingLink = gantt.getLink(linksCollection[l]);\n\t\t\t\t\tvar siblingId = selectSourceLinks ? siblingLink.target : siblingLink.source;\n\t\t\t\t\tvar siblingTask = children[siblingId];\n\t\t\t\t\tif (siblingTask && task.auto_scheduling !== false && siblingTask.auto_scheduling !== false) {\n\t\t\t\t\t\tif ((siblingLink.target == siblingTask.id && Math.abs(siblingLink.lag) <= siblingTask.duration) ||\n\t\t\t\t\t\t\t(siblingLink.target == task.id && Math.abs(siblingLink.lag) <= task.duration)) {\n\t\t\t\t\t\t\tskipChild = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!skipChild) {\n\t\t\t\t\trelations.push({ task: task.id, taskParent: task.parent, lag: selectOffset(task) });\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\t\t\trelations.push({ task: parent.id, taskParent: parent.parent, lag: 0 });\n\t\t}\n\n\t\treturn relations;\n\t};\n\n\tgantt._getDirectDependencies = function (task, selectSuccessors) {\n\n\t\tvar links = [],\n\t\t\tsuccessors = [];\n\n\t\tvar linksIds = selectSuccessors ? task.$source : task.$target;\n\n\t\tfor (var i = 0; i < linksIds.length; i++) {\n\t\t\tvar link = this.getLink(linksIds[i]);\n\t\t\tif (this.isTaskExists(link.source) && this.isTaskExists(link.target)) {\n\t\t\t\tvar target = this.getTask(link.target);\n\t\t\t\tif (this._isAutoSchedulable(target)) {\n\t\t\t\t\tlinks.push(this.getLink(linksIds[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i < links.length; i++) {\n\t\t\tsuccessors = successors.concat(this._formatLink(links[i]));\n\t\t}\n\n\t\treturn successors;\n\t};\n\n\tgantt._getInheritedDependencies = function (task, selectSuccessors) {\n\n\t\t//var successors = [];\n\t\tvar stop = false;\n\t\tvar inheritedRelations = [];\n\t\tvar cacheCollection;\n\t\tif (this.isTaskExists(task.id)) {\n\t\t\tthis.eachParent(function (parent) {\n\t\t\t\tif (stop)\n\t\t\t\t\treturn;\n\n\t\t\t\tif (caching) {\n\t\t\t\t\tcacheCollection = selectSuccessors ? inheritedSuccessorsStash : inheritedPredecessorsStash;\n\t\t\t\t\tif (cacheCollection[parent.id]) {\n\t\t\t\t\t\tinheritedRelations = inheritedRelations.concat(cacheCollection[parent.id]);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar parentDependencies;\n\t\t\t\tif (this.isSummaryTask(parent)) {\n\t\t\t\t\tif (!this._isAutoSchedulable(parent)) {\n\t\t\t\t\t\tstop = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparentDependencies = this._getDirectDependencies(parent, selectSuccessors);\n\t\t\t\t\t\tif (caching) {\n\t\t\t\t\t\t\tcacheCollection[parent.id] = parentDependencies;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tinheritedRelations = inheritedRelations.concat(parentDependencies);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}, task.id, this);\n\t\t}\n\n\t\treturn inheritedRelations;\n\t};\n\n\n\tgantt._getDirectSuccessors = function (task) {\n\t\treturn this._getDirectDependencies(task, true);\n\t};\n\n\tgantt._getInheritedSuccessors = function (task) {\n\t\treturn this._getInheritedDependencies(task, true);\n\t};\n\n\tgantt._getDirectPredecessors = function (task) {\n\t\treturn this._getDirectDependencies(task, false);\n\t};\n\n\tgantt._getInheritedPredecessors = function (task) {\n\t\treturn this._getInheritedDependencies(task, false);\n\t};\n\n\tgantt._getSuccessors = function (task, skipInherited) {\n\t\tvar successors = this._getDirectSuccessors(task);\n\t\tif (skipInherited) {\n\t\t\treturn successors;\n\t\t} else {\n\t\t\treturn successors.concat(this._getInheritedSuccessors(task));\n\t\t}\n\t};\n\n\tgantt._getPredecessors = function (task, skipInherited) {\n\t\tvar key = String(task.id) + \"-\" + String(skipInherited);\n\t\tvar result;\n\n\t\tif (caching && getPredecessorsCache[key]) {\n\t\t\treturn getPredecessorsCache[key];\n\t\t}\n\n\t\tvar predecessors = this._getDirectPredecessors(task);\n\t\tif (skipInherited) {\n\t\t\tresult = predecessors;\n\t\t} else {\n\t\t\tresult = predecessors.concat(this._getInheritedPredecessors(task));\n\t\t}\n\t\tif (caching) {\n\t\t\tgetPredecessorsCache[key] = result;\n\t\t}\n\t\treturn result;\n\t};\n\n\n\tgantt._convertToFinishToStartLink = function (id, link, sourceTask, targetTask, sourceParent, targetParent) {\n\t\t// convert finish-to-finish, start-to-finish and start-to-start to finish-to-start link and provide some additional properties\n\t\tvar res = {\n\t\t\ttarget: id,\n\t\t\tlink: gantt.config.links.finish_to_start,\n\t\t\tid: link.id,\n\t\t\tlag: link.lag || 0,\n\t\t\tsourceLag: 0,\n\t\t\ttargetLag: 0,\n\t\t\ttrueLag: link.lag || 0,\n\t\t\tsource: link.source,\n\t\t\tpreferredStart: null,\n\t\t\tsourceParent: sourceParent,\n\t\t\ttargetParent: targetParent,\n\t\t\thashSum: null\n\t\t};\n\t\t// GS-148: switch uses strict comparison, so we need to convert the values to the same type\n\t\tvar additionalLag = 0;\n\t\tswitch (String(link.type)) {\n\t\t\tcase String(gantt.config.links.start_to_start):\n\t\t\t\tadditionalLag = -sourceTask.duration;\n\t\t\t\tres.sourceLag = additionalLag;\n\t\t\t\tbreak;\n\t\t\tcase String(gantt.config.links.finish_to_finish):\n\t\t\t\tadditionalLag = -targetTask.duration;\n\t\t\t\tres.targetLag = additionalLag;\n\t\t\t\tbreak;\n\t\t\tcase String(gantt.config.links.start_to_finish):\n\t\t\t\tadditionalLag = -sourceTask.duration - targetTask.duration;\n\t\t\t\tres.sourceLag = -sourceTask.duration;\n\t\t\t\tres.targetLag = -targetTask.duration;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tadditionalLag = 0;\n\t\t}\n\n\t\tres.lag += additionalLag;\n\t\tres.hashSum = res.lag + \"_\" + res.link + \"_\" + res.source + \"_\" + res.target;\n\t\treturn res;\n\t};\n};","module.exports = function(gantt){\n\t// TODO: why eslint fails on regexp?\n\t// eslint-disable-next-line no-control-regex\n\tvar htmlTags = new RegExp(\"<(?:.|\\n)*?>\", \"gm\");\n\tvar extraSpaces = new RegExp(\" +\", \"gm\");\n\n\tfunction stripHTMLLite(htmlText){\n\t\treturn (htmlText + \"\")\n\t\t\t.replace(htmlTags, \" \").\n\t\t\treplace(extraSpaces, \" \");\n\t}\n\n\tvar singleQuotes = new RegExp(\"'\", \"gm\");\n\tfunction escapeQuotes(text){\n\t\treturn (text + \"\").replace(singleQuotes, \"&#39;\");\n\t}\n\n\tgantt._waiAria = {\n\t\tgetAttributeString: function(attr){\n\t\t\tvar attributes = [\" \"];\n\t\t\tfor(var i in attr){\n\t\t\t\tvar text = escapeQuotes(stripHTMLLite(attr[i]));\n\t\t\t\tattributes.push(i + \"='\" + text + \"'\");\n\t\t\t}\n\t\t\tattributes.push(\" \");\n\t\t\treturn attributes.join(\" \");\n\n\t\t},\n\n\t\tgetTimelineCellAttr:function(dateString){\n\n\t\t\treturn gantt._waiAria.getAttributeString({\"aria-label\": dateString});\n\t\t},\n\n\t\t_taskCommonAttr: function(task, div){\n\n\t\t\tif(!(task.start_date && task.end_date))\n\t\t\t\treturn;\n\n\t\t\tdiv.setAttribute(\"aria-label\", stripHTMLLite(gantt.templates.tooltip_text(task.start_date, task.end_date, task)));\n\n\t\t\tif(task.$dataprocessor_class){\n\t\t\t\tdiv.setAttribute(\"aria-busy\", true);\n\t\t\t}\n\n\t\t\tdiv.setAttribute(\"aria-selected\", gantt.isSelectedTask(task.id) ? \"true\" : \"false\");\n\t\t},\n\n\t\tsetTaskBarAttr: function(task, div){\n\t\t\tthis._taskCommonAttr(task, div);\n\n\t\t\tif(!gantt.isReadonly(task) && gantt.config.drag_move){\n\t\t\t\tif(task.id != gantt.getState(\"tasksDnd\").drag_id){\n\t\t\t\t\tdiv.setAttribute(\"aria-grabbed\", false);\n\t\t\t\t}else{\n\t\t\t\t\tdiv.setAttribute(\"aria-grabbed\", true);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\ttaskRowAttr: function(task, div){\n\n\t\t\tthis._taskCommonAttr(task, div);\n\n\t\t\tif(!gantt.isReadonly(task) && gantt.config.order_branch){\n\t\t\t\tdiv.setAttribute(\"aria-grabbed\", false);\n\t\t\t}\n\n\t\t\tdiv.setAttribute(\"role\", \"row\");\n\n\t\t\tdiv.setAttribute(\"aria-level\", task.$level);\n\n\t\t\tif(gantt.hasChild(task.id)){\n\t\t\t\tdiv.setAttribute(\"aria-expanded\", task.$open ? \"true\" : \"false\");\n\t\t\t}\n\t\t},\n\n\t\tlinkAttr: function(link, div){\n\n\t\t\tvar linkTypes = gantt.config.links;\n\n\t\t\tvar toStart = link.type == linkTypes.finish_to_start || link.type == linkTypes.start_to_start;\n\t\t\tvar fromStart = link.type == linkTypes.start_to_start || link.type == linkTypes.start_to_finish;\n\n\t\t\tvar content = gantt.locale.labels.link + \" \" +  gantt.templates.drag_link(link.source, fromStart, link.target, toStart);\n\n\t\t\tdiv.setAttribute(\"aria-label\", stripHTMLLite(content));\n\t\t\tif(gantt.isReadonly(link)){\n\t\t\t\tdiv.setAttribute(\"aria-readonly\", true);\n\t\t\t}\n\t\t},\n\n\t\tgridSeparatorAttr: function(div){\n\t\t\tdiv.setAttribute(\"role\", \"separator\");\n\t\t},\n\n\t\tlightboxHiddenAttr: function(div){\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"true\");\n\t\t},\n\n\t\tlightboxVisibleAttr: function(div){\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"false\");\n\t\t},\n\n\t\tlightboxAttr: function(div){\n\t\t\tdiv.setAttribute(\"role\", \"dialog\");\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"true\");\n\t\t\tdiv.firstChild.setAttribute(\"role\", \"heading\");\n\t\t},\n\n\t\tlightboxButtonAttrString:function(buttonName){\n\t\t\treturn this.getAttributeString({\"role\":\"button\", \"aria-label\":gantt.locale.labels[buttonName], \"tabindex\":\"0\"});\n\t\t},\n\n\t\tlightboxHeader: function(div, headerText){\n\t\t\tdiv.setAttribute(\"aria-label\", headerText);\n\t\t},\n\n\t\tlightboxSelectAttrString: function(time_option){\n\t\t\tvar label = \"\";\n\n\t\t\tswitch (time_option) {\n\t\t\t\tcase \"%Y\":\n\t\t\t\t\tlabel = gantt.locale.labels.years;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%m\":\n\t\t\t\t\tlabel = gantt.locale.labels.months;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%d\":\n\t\t\t\t\tlabel = gantt.locale.labels.days;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%H:%i\":\n\t\t\t\t\tlabel = gantt.locale.labels.hours + gantt.locale.labels.minutes;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn gantt._waiAria.getAttributeString({\"aria-label\": label});\n\t\t},\n\n\t\tlightboxDurationInputAttrString: function(section){\n\t\t\treturn this.getAttributeString({\"aria-label\": gantt.locale.labels.column_duration, \"aria-valuemin\": \"0\"});\n\t\t},\n\n\t\tgridAttrString: function(){\n\t\t\treturn [\" role='treegrid'\", gantt.config.multiselect ? \"aria-multiselectable='true'\" : \"aria-multiselectable='false'\", \" \"].join(\" \");\n\t\t},\n\n\n\t\tgridScaleRowAttrString: function(){\n\t\t\treturn \"role='row'\";\n\t\t},\n\n\t\tgridScaleCellAttrString: function(column, label){\n\t\t\tvar attrs = \"\";\n\t\t\tif(column.name == \"add\"){\n\t\t\t\tattrs = this.getAttributeString({\"role\":\"button\", \"aria-label\": gantt.locale.labels.new_task});\n\t\t\t}else{\n\n\t\t\t\tvar attributes = {\n\t\t\t\t\t\"role\":\"columnheader\",\n\t\t\t\t\t\"aria-label\": label\n\t\t\t\t};\n\n\t\t\t\tif(gantt._sort && gantt._sort.name == column.name){\n\t\t\t\t\tif(gantt._sort.direction == \"asc\"){\n\t\t\t\t\t\tattributes[\"aria-sort\"] = \"ascending\";\n\t\t\t\t\t}else{\n\t\t\t\t\t\tattributes[\"aria-sort\"] = \"descending\";\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tattrs = this.getAttributeString(attributes);\n\t\t\t}\n\t\t\treturn attrs;\n\t\t},\n\n\t\tgridDataAttrString: function(){\n\t\t\treturn \"role='rowgroup'\";\n\t\t},\n\n\t\tgridCellAttrString: function(column, textValue, task){\n\t\t\tvar attributes = {\"role\":\"gridcell\", \"aria-label\": textValue};\n\t\t\tif(!column.editor || gantt.isReadonly(task)){\n\t\t\t\tattributes[\"aria-readonly\"] = true;\n\t\t\t}\n\n\t\t\treturn this.getAttributeString(attributes);\n\t\t},\n\n\t\tgridAddButtonAttrString: function(column){\n\t\t\treturn this.getAttributeString({\"role\":\"button\", \"aria-label\": gantt.locale.labels.new_task});\n\t\t},\n\n\t\tmessageButtonAttrString: function(buttonLabel){\n\t\t\treturn \"tabindex='0' role='button' aria-label='\"+buttonLabel+\"'\";\n\t\t},\n\n\t\tmessageInfoAttr: function(div){\n\t\t\tdiv.setAttribute(\"role\", \"alert\");\n\t\t\t//div.setAttribute(\"tabindex\", \"-1\");\n\t\t},\n\n\t\tmessageModalAttr: function(div, uid){\n\t\t\tdiv.setAttribute(\"role\", \"dialog\");\n\t\t\tif(uid){\n\t\t\t\tdiv.setAttribute(\"aria-labelledby\", uid);\n\t\t\t}\n\n\t\t//\tdiv.setAttribute(\"tabindex\", \"-1\");\n\t\t},\n\n\t\tquickInfoAttr: function(div){\n\t\t\tdiv.setAttribute(\"role\", \"dialog\");\n\t\t},\n\n\t\tquickInfoHeaderAttrString: function(){\n\t\t\treturn \" role='heading' \";\n\t\t},\n\n\t\tquickInfoHeader: function(div, header){\n\t\t\tdiv.setAttribute(\"aria-label\", header);\n\t\t},\n\n\t\tquickInfoButtonAttrString: function(label){\n\t\t\treturn gantt._waiAria.getAttributeString({\"role\":\"button\", \"aria-label\":label, \"tabindex\":\"0\"});\n\t\t},\n\n\t\ttooltipAttr: function(div){\n\t\t\tdiv.setAttribute(\"role\", \"tooltip\");\n\t\t},\n\n\t\ttooltipVisibleAttr: function(div){\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"false\");\n\t\t},\n\n\t\ttooltipHiddenAttr: function(div){\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"true\");\n\t\t}\n\t};\n\n\tfunction isDisabled(){\n\t\treturn !gantt.config.wai_aria_attributes;\n\t}\n\n\tfor(var i in gantt._waiAria){\n\t\tgantt._waiAria[i] = (function(payload){\n\t\t\treturn function(){\n\t\t\t\tif(isDisabled()){\n\t\t\t\t\treturn \"\";\n\t\t\t\t}\n\t\t\t\treturn payload.apply(this, arguments);\n\t\t\t};\n\t\t})(gantt._waiAria[i]);\n\t}\n\n\n};","module.exports = function(gantt) {\n\n\tgantt._extend_to_optional = function (lightbox_block) {\n\n\t\tvar duration = lightbox_block;\n\t\tvar optional_time = {\n\t\t\trender: duration.render,\n\t\t\tfocus: duration.focus,\n\t\t\tset_value: function (node, value, task, section) {\n\t\t\t\tvar mapping = gantt._resolve_default_mapping(section);\n\t\t\t\tif (!task[mapping.start_date] || (mapping.start_date == \"start_date\" && this._isAllowedUnscheduledTask(task))) {\n\t\t\t\t\toptional_time.disable(node, section);\n\t\t\t\t\tvar val = {};\n\n\t\t\t\t\tfor (var i in mapping) {\n\t\t\t\t\t\t//take default values from the time control from task start/end dates\n\t\t\t\t\t\tval[mapping[i]] = task[i];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn duration.set_value.call(gantt, node, value, val, section);//set default value\n\t\t\t\t} else {\n\t\t\t\t\toptional_time.enable(node, section);\n\t\t\t\t\treturn duration.set_value.call(gantt, node, value, task, section);\n\t\t\t\t}\n\t\t\t},\n\t\t\tget_value: function (node, task, section) {\n\t\t\t\tif (section.disabled) {\n\t\t\t\t\treturn {start_date: null};\n\t\t\t\t} else {\n\t\t\t\t\treturn duration.get_value.call(gantt, node, task, section);\n\t\t\t\t}\n\t\t\t},\n\t\t\tupdate_block: function (node, section) {\n\t\t\t\tgantt.callEvent(\"onSectionToggle\", [gantt._lightbox_id, section]);\n\t\t\t\tnode.style.display = section.disabled ? \"none\" : \"block\";\n\n\t\t\t\tif (section.button) {\n\t\t\t\t\tvar button = node.previousSibling.querySelector(\".gantt_custom_button_label\"),\n\t\t\t\t\t\tlabels = gantt.locale.labels;\n\n\t\t\t\t\tvar button_text = section.disabled ? labels[section.name + \"_enable_button\"] : labels[section.name + \"_disable_button\"];\n\n\t\t\t\t\tbutton.innerHTML = button_text;\n\t\t\t\t}\n\t\t\t\tgantt.resizeLightbox();\n\t\t\t},\n\t\t\tdisable: function (node, section) {\n\t\t\t\tsection.disabled = true;\n\t\t\t\toptional_time.update_block(node, section);\n\n\t\t\t},\n\t\t\tenable: function (node, section) {\n\t\t\t\tsection.disabled = false;\n\t\t\t\toptional_time.update_block(node, section);\n\t\t\t},\n\t\t\tbutton_click: function (index, el, section, container) {\n\t\t\t\tif (gantt.callEvent(\"onSectionButton\", [gantt._lightbox_id, section]) === false) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar config = gantt._get_typed_lightbox_config()[index];\n\t\t\t\tif (config.disabled) {\n\t\t\t\t\toptional_time.enable(container, config);\n\t\t\t\t} else {\n\t\t\t\t\toptional_time.disable(container, config);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\treturn optional_time;\n\t};\n\n\tgantt.form_blocks.duration_optional = gantt._extend_to_optional(gantt.form_blocks.duration);\n\tgantt.form_blocks.time_optional = gantt._extend_to_optional(gantt.form_blocks.time);\n\n};","var __extends = require(\"../../../../utils/extends\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./select_control\")(gantt);\n\n\tfunction TypeselectControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\n\t\treturn self;\n\t}\n\n\t__extends(TypeselectControl, _super);\n\n\tTypeselectControl.prototype.render = function(sns) {\n\t\tvar types = gantt.config.types,\n\t\t\tlocale = gantt.locale.labels,\n\t\t\toptions = [];\n\n\t\tvar filter = sns.filter || function (typeKey, typeValue) {\n\t\t\tif (!types.placeholder || typeValue !== types.placeholder) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t\tfor (var i in types) {\n\t\t\tif (!filter(i, types[i]) === false) {\n\t\t\t\toptions.push({ key: types[i], label: locale[\"type_\" + i] });\n\t\t\t}\n\t\t}\n\t\tsns.options = options;\n\n\t\tvar oldOnChange = sns.onchange;\n\t\tsns.onchange = function () {\n\t\t\tgantt.changeLightboxType(this.value);\n\t\t\tif (this.value === gantt.config.types.task){\n\t\t\t\tgantt._lightbox_new_type = \"task\";\n\t\t\t}\n\t\t\tif (typeof oldOnChange == 'function') {\n\t\t\t\toldOnChange.apply(this, arguments);\n\t\t\t}\n\t\t};\n\n\t\treturn _super.prototype.render.apply(this, arguments);\n\t};\n\n\treturn TypeselectControl;\n};\n","var __extends = require(\"../../../../utils/extends\");\nvar htmlHelpers = require(\"../../utils/html_helpers\");\n\nmodule.exports = function (gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction ConstraintControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\t\treturn self;\n\t}\n\n\t__extends(ConstraintControl, _super);\n\n\tfunction isNonTimedConstraint(value) {\n\t\tif (!value || value === gantt.config.constraint_types.ASAP || value === gantt.config.constraint_types.ALAP) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tfunction toggleTimeSelect(timeSelects, typeValue) {\n\t\tvar isNonTimed = isNonTimedConstraint(typeValue);\n\t\tfor (var i = 0; i < timeSelects.length; i++) {\n\t\t\ttimeSelects[i].disabled = isNonTimed;\n\t\t}\n\t}\n\n\tConstraintControl.prototype.render = function (sns) {\n\t\tvar height = (sns.height || 30) + \"px\";\n\t\tvar html = \"<div class='gantt_cal_ltext gantt_section_\" + sns.name + \"' style='height:\" + height + \";'>\";\n\n\t\tvar options = [];\n\t\tfor (var i in gantt.config.constraint_types) {\n\t\t\toptions.push({ key: gantt.config.constraint_types[i], label: gantt.locale.labels[gantt.config.constraint_types[i]] });\n\t\t}\n\n\t\tsns.options = sns.options || options;\n\n\t\thtml += \"<span data-constraint-type-select>\" + htmlHelpers.getHtmlSelect(sns.options, [{ key: \"data-type\", value: \"constraint-type\" }]) + \"</span>\";\n\n\t\tvar timeLabel = gantt.locale.labels[\"constraint_date\"] || \"Constraint date\";\n\t\thtml += \"<label data-constraint-time-select>\" + timeLabel + \": \" + gantt.form_blocks.getTimePicker.call(this, sns) + \"</label>\";\n\n\t\thtml += \"</div>\";\n\t\treturn html;\n\t};\n\n\tConstraintControl.prototype.set_value = function (node, value, task, config) {\n\t\tvar typeSelect = node.querySelector(\"[data-constraint-type-select] select\");\n\t\tvar timeSelects = node.querySelectorAll(\"[data-constraint-time-select] select\");\n\t\tvar map = config._time_format_order;\n\n\t\tvar mapping = gantt._resolve_default_mapping(config);\n\n\t\tif (!typeSelect._eventsInitialized) {\n\t\t\ttypeSelect.addEventListener(\"change\", function (e) {\n\t\t\t\ttoggleTimeSelect(timeSelects, e.target.value);\n\t\t\t});\n\t\t\ttypeSelect._eventsInitialized = true;\n\t\t}\n\n\t\tvar constraintDate = task[mapping.constraint_date] || new Date();\n\t\tgantt.form_blocks._fill_lightbox_select(timeSelects, 0, constraintDate, map, config);\n\n\t\tvar constraintType = task[mapping.constraint_type] || gantt.getConstraintType(task);\n\t\ttypeSelect.value = constraintType;\n\t\ttoggleTimeSelect(timeSelects, constraintType);\n\t};\n\n\tConstraintControl.prototype.get_value = function (node, task, config) {\n\t\tvar typeSelect = node.querySelector(\"[data-constraint-type-select] select\");\n\t\tvar timeSelects = node.querySelectorAll(\"[data-constraint-time-select] select\");\n\n\t\tvar constraintType = typeSelect.value;\n\t\tvar constraintDate = null;\n\t\tif (!isNonTimedConstraint(constraintType)) {\n\t\t\tconstraintDate = gantt.form_blocks.getTimePickerValue(timeSelects, config);\n\t\t}\n\n\t\treturn {\n\t\t\tconstraint_type: constraintType,\n\t\t\tconstraint_date: constraintDate\n\t\t};\n\t};\n\n\tConstraintControl.prototype.focus = function (node) {\n\t\tgantt._focus(node.querySelector(\"select\"));\n\t};\n\n\treturn ConstraintControl;\n};","var helpers = require(\"../../../../utils/helpers\");\nvar domHelpers = require(\"../../utils/dom_helpers\");\nvar htmlHelpers = require(\"../../utils/html_helpers\");\nvar __extends = require(\"../../../../utils/extends\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\tvar localCache = {\n\t\tresources: {},\n\t\tresourcesValues: {},\n\t\tfilter: {},\n\t\teventsInitialized: {},\n\t\tchanged: false\n\t};\n\n\tgantt.attachEvent(\"onAfterLightbox\", _clearCached);\n\n\tfunction ResourcesControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\n\t\treturn self;\n\t}\n\n\t__extends(ResourcesControl, _super);\n\n\tResourcesControl.prototype.render = function(sns) {\n\t\tvar html;\n\t\tvar resourceFilterPlaceholder = gantt.locale.labels.resources_filter_placeholder || sns.filter_placeholder || \"type to filter\";\n\t\tvar resourceFilterLabel = gantt.locale.labels.resources_filter_label || \"hide empty\";\n\t\t// if set fixed height for this element, then resize of lightbox will be calculated improperly\n\t\thtml = \"<div\" + (!isNaN(sns.height) ? \" style='height: \" + sns.height + \"px;'\" : \"\") + \">\";\n\t\thtml += \"<div class='gantt_cal_ltext gantt_resources_filter'><input type='text' class='gantt_resources_filter_input' placeholder='\" + resourceFilterPlaceholder + \"'> <label><input class='switch_unsetted' type='checkbox'><span class='matherial_checkbox_icon'></span>\" + resourceFilterLabel + \"</label></div>\";\n\t\thtml += \"<div class='gantt_cal_ltext gantt_resources' data-name='\" + sns.name + \"'></div>\";\n\t\thtml += \"</div>\";\n\t\treturn html;\n\t};\n\n\tResourcesControl.prototype.set_value = function(node, value, ev, sns) {\n\t\tvar resourcesElement = _setResourcesElement(node, sns);\n\t\tvar htmlResourceRow = \"\";\n\t\tvar data;\n\n\t\t_setFilterCache(node, sns);\n\t\t_initEvents(node, ev, sns, this);\n\t\thelpers.forEach(sns.options, function(entry, index) {\n\t\t\tif (sns.unassigned_value == entry.key) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdata = _getDisplayValues(sns, value, entry);\n\n\t\t\thtmlResourceRow += [\n\t\t\t\t\"<label class='gantt_resource_row' data-item-id='\" + entry.key + \"' data-checked=\"+(data.value ? 'true' : 'false')+\">\",\n\t\t\t\t\"<input class='gantt_resource_toggle' type='checkbox'\", data.value ? \" checked='checked'\" : \"\", \"><div class='gantt_resource_cell gantt_resource_cell_checkbox'><span class='matherial_checkbox_icon'></span></div>\",\n\t\t\t\t\"<div class='gantt_resource_cell gantt_resource_cell_label'>\", entry.label, \"</div>\",\n\t\t\t\t\"<div class='gantt_resource_cell gantt_resource_cell_value'>\", _getAmountInput(entry, data.value, !data.value),\"</div>\",\n\t\t\t\t\"<div class='gantt_resource_cell gantt_resource_cell_unit'>\", entry.unit,\"</div>\",\n\t\t\t\t\"</label>\"\n\t\t\t].join(\"\");\n\t\t});\n\t\tresourcesElement.innerHTML = htmlResourceRow;\n\t\t// weird element sizes in ie11 when display empty resource list, use zoom to force repaint\n\t\tresourcesElement.style.zoom = \"1\";\n\t\tresourcesElement._offsetSizes = resourcesElement.offsetHeight;\n\t\tresourcesElement.style.zoom = \"\";\n\n\t\tgantt.resizeLightbox();\n\t\tgantt._center_lightbox(gantt.getLightbox());\n\t\tlocalCache.changed = false;\n\t};\n\n\tResourcesControl.prototype.get_value = function(node, ev, sns) {\n\t\tif(!localCache.changed){\n\t\t\treturn ev[sns.map_to || gantt.config.resource_property] || [];\n\t\t}\n\t\tvar amountElement = _getResourcesElement(sns);\n\t\tvar result = [];\n\t\tvar selectorAdd = _getInputElementSelector(true);\n\t\tvar selectorSub = _getInputElementSelector(false);\n\t\tvar filterCache = _getFilterCache(sns);\n\t\tvar settedValuesHash = gantt.copy(localCache.resourcesValues[sns.id]) || {};\n\n\t\tvar itemsAdd = amountElement.querySelectorAll(selectorAdd);\n\t\tvar itemsSub = amountElement.querySelectorAll(selectorSub);\n\n\t\tfor (var i = 0; i < itemsSub.length; i++) {\n\t\t\tdelete settedValuesHash[itemsSub[i].getAttribute(\"data-item-id\")];\n\t\t}\n\n\t\tfor (var i = 0; i < itemsAdd.length; i++) {\n\t\t\tvar resourceId = itemsAdd[i].getAttribute(\"data-item-id\");\n\t\t\tvar amount = itemsAdd[i].value.trim();\n\n\t\t\tif (amount !== \"\" && amount !== \"0\") {\n\t\t\t\tdelete settedValuesHash[resourceId];\n\t\t\t\tresult[result.length] = { resource_id: resourceId, value: amount };\n\t\t\t}\n\t\t}\n\n\t\tif (filterCache.filterApplied) {\n\t\t\tfor (var item in settedValuesHash) {\n\t\t\t\tresult[result.length] = { resource_id: item, value: settedValuesHash[item] };\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\tResourcesControl.prototype.focus = function(node) {\n\t\tgantt._focus(node.querySelector(\".gantt_resources\"));\n\t};\n\n\tfunction _getAmountInput(item, value, disabled) {\n\t\tvar _attributes;\n\t\tvar innerHTML = \"\";\n\n\t\tif (!item) return;\n\n\t\t_attributes = [{ key: \"data-item-id\", value: item.key }, { key: \"class\", value: \"gantt_resource_amount_input\"}];\n\t\tif (disabled) {\n\t\t\t_attributes.push({ key: \"disabled\", value: \"disabled\" });\n\t\t}\n\n\t\tif (item.options) {\n\t\t\tinnerHTML += htmlHelpers.getHtmlSelect(item.options, _attributes, value);\n\t\t} else {\n\t\t\t_attributes[_attributes.length] = { key: \"value\", value: value || \"\" };\n\t\t\tinnerHTML += htmlHelpers.getHtmlInput(_attributes);\n\t\t}\n\t\treturn innerHTML;\n\t}\n\n\tfunction _getValue(el) {\n\t\treturn el.value.trim();\n\t}\n\n\tfunction _initEvents(node, ev, sns, context) {\n\t\tif (localCache.eventsInitialized[sns.id]) return;\n\n\t\tvar _applyFilter = function(e) {\n\t\t\t_saveValues(sns, node);\n\t\t\tvar resultSns;\n\t\t\tvar query;\n\t\t\tvar hideUnsetted;\n\t\t\tvar input;\n\t\t\tvar checkbox;\n\t\t\tvar filterCache = _getFilterCache(sns);\n\n\t\t\tcheckbox = filterCache.checkbox;\n\t\t\tinput = filterCache.input;\n\n\t\t\thideUnsetted = checkbox.checked;\n\t\t\tquery = _getValue(input);\n\t\t\tfilterCache.filterApplied = !!query;\n\t\t\tif (gantt.getState().lightbox) {\n\t\t\t\tev = gantt.getLightboxValues();\n\t\t\t}\n\t\t\tresultSns = _getSnsToHideUnsetted(sns, ev, query, hideUnsetted);\n\t\t\tvar value = ev[sns.map_to];\n\t\t\tcontext.form_blocks.resources.set_value(node, value, ev, resultSns);\n\t\t};\n\n\t\tfunction _resourceChangeListener(e) {\n\t\t\tvar target = e.target;\n\t\t\tvar parent;\n\t\t\tvar input;\n\t\t\tlocalCache.changed = true;\n\t\t\tif (e.target.type === \"checkbox\") {\n\t\t\t\tparent = target.parentNode;\n\t\t\t\tinput = parent.querySelector(_getInputElementSelector());\n\t\t\t\tinput.disabled = !target.checked;\n\t\t\t\tvar itemId = input.getAttribute(\"data-item-id\");\n\t\t\t\tvar row = domHelpers.locateClassName(e, \"gantt_resource_row\");\n\t\t\t\tvar valueInput = row.querySelector(\".gantt_resource_amount_input\");\n\t\t\t\trow.setAttribute(\"data-checked\", target.checked);\n\t\t\t\tif (target.checked) {\n\t\t\t\t\tif (input.nodeName.toLowerCase() === \"select\") {\n\t\t\t\t\t\tgantt.callEvent(\"onResourcesSelectActivated\", [{ target: input }]);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar resId = itemId;\n\t\t\t\t\tvar defaultValue = sns.default_value;\n\t\t\t\t\tsns.options.forEach(function(option){\n\t\t\t\t\t\tif(option.key == resId && option.default_value){\n\t\t\t\t\t\t\tdefaultValue = option.default_value;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif(valueInput && !valueInput.value && defaultValue !== undefined){\n\t\t\t\t\t\tvalueInput.value = defaultValue;\n\t\t\t\t\t\t_saveValues(sns, this);\n\t\t\t\t\t}\n\n\t\t\t\t\tif(valueInput.select) {\n\t\t\t\t\t\tvalueInput.select();\n\t\t\t\t\t}else if(valueInput.focus){\n\t\t\t\t\t\tvalueInput.focus();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\n\t\t\t\t\tif (localCache.resourcesValues[sns.id]) {\n\t\t\t\t\t\tdelete localCache.resourcesValues[sns.id][itemId];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (e.target.type === \"text\" || e.target.nodeName.toLowerCase() === \"select\") {\n\t\t\t\tparent = target.parentNode.parentNode;\n\n\t\t\t\tinput = e.target;\n\t\t\t\t_saveValues(sns, this);\n\t\t\t}\n\t\t}\n\n\t\tfunction _saveValues(sns, domElement) {\n\t\t\tvar selector = _getInputElementSelector();\n\t\t\tvar inputs = domElement.querySelectorAll(selector);\n\n\t\t\tlocalCache.resourcesValues[sns.id] = localCache.resourcesValues[sns.id] || {};\n\n\t\t\tfor (var i = 0; i < inputs.length; i++) {\n\t\t\t\tvar key = inputs[i].getAttribute(\"data-item-id\");\n\n\t\t\t\tif (!inputs[i].disabled) {\n\t\t\t\t\tlocalCache.resourcesValues[sns.id][key] = inputs[i].value;\n\t\t\t\t} else {\n\t\t\t\t\tdelete localCache.resourcesValues[sns.id][key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t_applyFilter = helpers.throttle(_applyFilter, 100);\n\n\t\t_getFilterCache(sns).container.addEventListener(\"keyup\", _applyFilter);\n\t\t_getFilterCache(sns).container.addEventListener(\"input\", _applyFilter, true);\n\t\t_getFilterCache(sns).container.addEventListener(\"change\", _applyFilter, true);\n\t\t_getResourcesElement(sns).addEventListener(\"input\", _resourceChangeListener);\n\t\t_getResourcesElement(sns).addEventListener(\"change\", _resourceChangeListener);\n\t\tgantt.attachEvent(\"onResourcesSelectActivated\", gantt.bind(_resourceChangeListener, _getResourcesElement(sns)));\n\t\tlocalCache.eventsInitialized[sns.id] = true;\n\t}\n\n\tfunction _getSnsToHideUnsetted(sns, ev, query, hideUnsetted) {\n\t\tvar comparison;\n\t\tvar resultSns;\n\n\t\tif (!hideUnsetted) {\n\t\t\tif (query === \"\") {// show all\n\t\t\t\treturn sns;\n\t\t\t}\n\n\t\t\tcomparison = function(entry) {// show matching labels only\n\t\t\t\tif (entry.label.toLowerCase().indexOf(query.toLowerCase()) >= 0) {\n\t\t\t\t\treturn entry;\n\t\t\t\t}\n\t\t\t};\n\t\t} else {\n\t\t\tvar collection = ev[sns.map_to] || [];\n\n\t\t\tif (!helpers.isArray(collection)) {\n\t\t\t\tcollection = [collection];\n\t\t\t}\n\n\t\t\t// copy section array in order not to modify ev[sns.map_to]\n\t\t\tcollection = collection.slice();\n\n\t\t\tif (collection.length === 0) {//nothing setted\n\t\t\t\tcollection = [];\n\t\t\t\tresultSns = gantt.copy(sns);\n\t\t\t\tresultSns.options = [];\n\t\t\t\tfor (var key in localCache.resourcesValues[sns.id]) {\n\t\t\t\t\tif (localCache.resourcesValues[sns.id][key] !== \"\") {\n\t\t\t\t\t\tcollection.push({resource_id: key, value: localCache.resourcesValues[sns.id][key]});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (collection.length === 0) {\n\t\t\t\t\treturn resultSns;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (var key in localCache.resourcesValues[sns.id]) {\n\t\t\t\t\tif (localCache.resourcesValues[sns.id][key] !== \"\") {\n\t\t\t\t\t\tvar searchResult = helpers.arrayFind(collection, function(entry) {\n\t\t\t\t\t\t\treturn entry.id == key;\n\t\t\t\t\t\t});\n\t\n\t\t\t\t\t\tif (!searchResult) {\n\t\t\t\t\t\t\tcollection.push({resource_id: key, value: localCache.resourcesValues[sns.id][key]});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar itemIds = {};\n\n\t\t\tfor (var i=0; i < collection.length; i++) {\n\t\t\t\titemIds[collection[i].resource_id] = true;\n\t\t\t}\n\t\t\tcomparison = function(entry) {//show setted and filtered if field is filled\n\t\t\t\tif (itemIds[String(entry.key)] && (query === \"\" || entry.label.toLowerCase().indexOf(query.toLowerCase()) >= 0)) {\n\t\t\t\t\treturn entry;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tresultSns = gantt.copy(sns);\n\t\tresultSns.options = helpers.arrayFilter(resultSns.options, comparison);\n\t\treturn resultSns;\n\t}\n\n\tfunction _getInputElementSelector(isChecked) {\n\t\tif(isChecked === undefined){\n\t\t\treturn \".gantt_resource_amount_input\";\n\t\t}else{\n\t\t\treturn \"[data-checked='\"+(isChecked ? \"true\" : \"false\") + \"'] .gantt_resource_amount_input\";\n\t\t}\n\t}\n\n\tfunction _setResourcesElement(node, sns) {\n\t\tif (!localCache.resources[sns.id]) {\n\t\t\tlocalCache.resources[sns.id] = node.querySelector(\".gantt_resources\");\n\t\t}\n\t\treturn localCache.resources[sns.id];\n\t}\n\n\tfunction _getResourcesElement(sns) {\n\t\treturn localCache.resources[sns.id];\n\t}\n\n\tfunction _setFilterCache(node, sns) {\n\t\tif (!localCache.filter[sns.id]) {\n\t\t\tvar container = node.querySelector(\".gantt_resources_filter\");\n\t\t\tvar input = container.querySelector(\".gantt_resources_filter_input\");\n\t\t\tvar checkbox = container.querySelector(\".switch_unsetted\");\n\n\t\t\tlocalCache.filter[sns.id] = {\n\t\t\t\tcontainer: container,\n\t\t\t\tinput: input,\n\t\t\t\tcheckbox: checkbox,\n\t\t\t\tfilterApplied: false\n\t\t\t};\n\t\t}\n\t\treturn localCache.filter[sns.id];\n\t}\n\n\tfunction _getFilterCache(sns) {\n\t\treturn localCache.filter[sns.id];\n\t}\n\n\tfunction _clearCached() {\n\t\tfor (var key in localCache.filter) {\n\t\t\tlocalCache.filter[key].checkbox.checked = false;\n\t\t\tlocalCache.filter[key].input.value = \"\";\n\t\t\tlocalCache.filter[key].filterApplied = false;\n\t\t}\n\t\tlocalCache.resourcesValues = {};\n\t}\n\n\tfunction _getDisplayValues(sns, value, option) {\n\t\tvar data = {};\n\n\t\tif (value) {\n\t\t\tvar searchResult;\n\n\t\t\tif (helpers.isArray(value)) {\n\t\t\t\tsearchResult = helpers.arrayFind(value, function(val) {\n\t\t\t\t\treturn (val.resource_id == option.key);\n\t\t\t\t});\n\t\t\t} else if (value.resource_id == option.key) {\n\t\t\t\tsearchResult = value;\n\t\t\t}\n\n\t\t\tif (searchResult) {\n\t\t\t\tdata.value = searchResult.value;\n\t\t\t}\n\t\t}\n\t\tif (localCache.resourcesValues[sns.id] && localCache.resourcesValues[sns.id][option.key]) {\n\t\t\tdata.value = localCache.resourcesValues[sns.id][option.key];\n\t\t}\n\t\treturn data;\n\t}\n\n\treturn ResourcesControl;\n};","var __extends = require(\"../../../../utils/extends\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./select_control\")(gantt);\n\n\tfunction ParentControl() {\n\t\tvar self = _super.apply(this, arguments) || this; \n\n\t\treturn self; \n\t}\n\n\t__extends(ParentControl, _super);\n\n\n\tParentControl.prototype.render = function(sns) {\n\t\treturn _display(sns, false);\n\t};\n\n\tParentControl.prototype.set_value = function(node, value, ev, config) {\n\t\t// GS-1051. If the value is `0`, the set_value function in the select control won't select \n\t\t// the first child because (0 || '') = '';\n\t\tif (value === 0) value = \"0\";\n\n\t\tvar tmpDom = document.createElement(\"div\");\n\t\ttmpDom.innerHTML = _display(config, ev.id);\n\t\tvar newOptions = tmpDom.removeChild(tmpDom.firstChild);\n\t\tnode.onselect = null;\n\t\tnode.parentNode.replaceChild(newOptions, node);\n\n\t\treturn gantt.form_blocks.select.set_value.apply(gantt, [newOptions, value, ev, config]);\n\t};\n\n\tfunction _display(config, item_id) {\n\t\tvar tasks = [],\n\t\t\toptions = [];\n\t\tif (item_id) {\n\t\t\ttasks = gantt.getTaskByTime();\n\t\t\tif (config.allow_root) {\n\t\t\t\ttasks.unshift({id: gantt.config.root_id, text: config.root_label || \"\"});\n\t\t\t}\n\t\t\ttasks = _filter(tasks, config, item_id);\n\t\t\tif (config.sort) {\n\t\t\t\ttasks.sort(config.sort);\n\t\t\t}\n\t\t}\n\t\tvar text = config.template || gantt.templates.task_text;\n\t\tfor (var i = 0; i < tasks.length; i++) {\n\t\t\tvar label = text.apply(gantt, [tasks[i].start_date, tasks[i].end_date, tasks[i]]);\n\t\t\tif (label === undefined) {\n\t\t\t\tlabel = \"\";\n\t\t\t}\n\t\t\toptions.push({\n\t\t\t\tkey: tasks[i].id,\n\t\t\t\tlabel: label\n\t\t\t});\n\t\t}\n\t\tconfig.options = options;\n\t\tconfig.map_to = config.map_to || \"parent\";\n\t\treturn gantt.form_blocks.select.render.apply(this, arguments);\n\t}\n\n\tfunction _filter(options, config, item_id) {\n\t\tvar filter = config.filter || function() {\n\t\t\treturn true;\n\t\t};\n\n\t\toptions = options.slice(0);\n\n\t\tfor (var i = 0; i < options.length; i++) {\n\t\t\tvar task = options[i];\n\t\t\tif (task.id == item_id || gantt.isChildOf(task.id, item_id) || filter(task.id, task) === false) {\n\t\t\t\toptions.splice(i, 1);\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\t\treturn options;\n\t}\n\treturn ParentControl;\n};","export default class DurationFormatterNumeric implements IDurationFormatter {\n\tstatic create = (settings: IDurationFormatterConfig = null): IDurationFormatter => {\n\t\treturn new DurationFormatterNumeric();\n\t}\n\tcanParse = (value: string) : boolean => {\n\t\treturn !isNaN(this.parse(value));\n\t}\n\tformat = (value: number) : string => {\n\t\treturn String(value);\n\t}\n\tparse = (value: string) : number => {\n\t\treturn parseInt(value, 10);\n\t}\n}","var __extends = require(\"../../../../utils/extends\");\n\nvar DurationFormatterNumeric = require(\"../../../common/duration_formatter_numeric\").default;\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction DurationControl() {\n\t\tvar self = _super.apply(this, arguments) || this; \n\n\t\treturn self; \n\t}\n\n\tfunction getFormatter(config) {\n\t\treturn config.formatter || new DurationFormatterNumeric();\n\t}\n\n\t__extends(DurationControl, _super);\n\n\tDurationControl.prototype.render = function(sns) {\n\t\tvar time = \"<div class='gantt_time_selects'>\" + gantt.form_blocks.getTimePicker.call(this, sns) + \"</div>\";\n\t\tvar label = \" \"+ gantt.locale.labels[gantt.config.duration_unit + \"s\"] +\" \";\n\t\tvar singleDate = sns.single_date ? \" style='display:none'\" : \"\";\n\t\tvar readonly = sns.readonly ? \" disabled='disabled'\" : \"\";\n\t\tvar ariaAttr = gantt._waiAria.lightboxDurationInputAttrString(sns);\n\n\t\tvar durationInputClass = \"gantt_duration_value\";\n\t\tif(sns.formatter) {\n\t\t\tlabel = \"\";\n\t\t\tdurationInputClass += \" gantt_duration_value_formatted\" ;\n\t\t}\n\n\t\tvar duration = \"<div class='gantt_duration' \" + singleDate + \">\" +\n\t\t\t\"<input type='button' class='gantt_duration_dec' value='−'\" + readonly + \">\" +\n\t\t\t\"<input type='text' value='5days' class='\"+durationInputClass+\"'\" + readonly + \" \" + ariaAttr + \">\" +\n\t\t\t\"<input type='button' class='gantt_duration_inc' value='+'\" + readonly + \">\"+label+\"<span></span>\" +\n\t\t\t\"</div>\";\n\t\tvar html = \"<div style='height:\" + (sns.height || 30) + \"px;padding-top:0px;font-size:inherit;' class='gantt_section_time'>\" + time + \" \" + duration + \"</div>\";\n\t\treturn html;\n\t};\n\n\tDurationControl.prototype.set_value = function(node, value, ev, config) {\n\t\tvar s = node.getElementsByTagName(\"select\");\n\t\tvar inps = node.getElementsByTagName(\"input\");\n\t\tvar duration = inps[1];\n\t\tvar btns = [inps[0], inps[2]];\n\t\tvar endspan = node.getElementsByTagName(\"span\")[0];\n\t\tvar map = config._time_format_order;\n\t\tvar mapping;\n\t\tvar start_date;\n\t\tvar end_date;\n\t\tvar duration_val;\n\n\t\tfunction _calc_date() {\n\t\t\tvar start_date = _getStartDate.call(gantt, node, config);\n\t\t\tvar duration = _getDuration.call(gantt, node, config);\n\t\t\tvar end_date = gantt.calculateEndDate({start_date: start_date, duration: duration, task: ev});\n\n\t\t\tvar template = gantt.templates.task_end_date || gantt.templates.task_date;\n\t\t\tendspan.innerHTML = template(end_date);\n\t\t}\n\n\t\tfunction _change_duration(step) {\n\t\t\tvar value = duration.value;\n\n\t\t\tvalue = getFormatter(config).parse(value);\n\t\t\tif (window.isNaN(value))\n\t\t\t\tvalue = 0;\n\t\t\tvalue += step;\n\t\t\tif (value < 1) value = 1;\n\t\t\tduration.value = getFormatter(config).format(value);\n\t\t\t_calc_date();\n\t\t}\n\n\t\tbtns[0].onclick = gantt.bind(function() {\n\t\t\t_change_duration(-1 * gantt.config.duration_step);\n\t\t}, this);\n\t\tbtns[1].onclick = gantt.bind(function() {\n\t\t\t_change_duration(1 * gantt.config.duration_step);\n\t\t}, this);\n\t\ts[0].onchange = _calc_date;\n\t\ts[1].onchange = _calc_date;\n\t\ts[2].onchange = _calc_date;\n\t\tif (s[3]) s[3].onchange = _calc_date;\n\n\t\tduration.onkeydown = gantt.bind(function(e) {\n\t\t\tvar code; \n\n\t\t\te = e || window.event;\n\t\t\tcode = (e.charCode || e.keyCode || e.which);\n\t\t\t\n\t\t\tif (code == gantt.constants.KEY_CODES.DOWN) {\n\t\t\t\t_change_duration(-1 * gantt.config.duration_step);\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (code == gantt.constants.KEY_CODES.UP) {\n\t\t\t\t_change_duration(1 * gantt.config.duration_step);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\twindow.setTimeout(_calc_date, 1);\n\t\t}, this);\n\n\t\tduration.onchange = gantt.bind(_calc_date, this);\n\n\t\tmapping = gantt._resolve_default_mapping(config);\n\t\tif (typeof(mapping) === \"string\") mapping = {start_date: mapping};\n\n\t\tstart_date = ev[mapping.start_date] || new Date();\n\t\tend_date = ev[mapping.end_date] || gantt.calculateEndDate({\n\t\t\tstart_date: start_date,\n\t\t\tduration: 1,\n\t\t\ttask: ev\n\t\t});\n\t\tduration_val = Math.round(ev[mapping.duration]) || gantt.calculateDuration({\n\t\t\tstart_date: start_date,\n\t\t\tend_date: end_date,\n\t\t\ttask: ev\n\t\t});\n\t\tduration_val = getFormatter(config).format(duration_val);\n\n\t\tgantt.form_blocks._fill_lightbox_select(s, 0, start_date, map, config);\n\t\tduration.value = duration_val;\n\t\t_calc_date();\n\t};\n\n\tDurationControl.prototype.get_value = function(node, ev, config) {\n\t\tvar startDate = _getStartDate(node, config);\n\t\tvar duration = _getDuration(node, config);\n\t\tvar endDate = gantt.calculateEndDate({start_date: startDate, duration: duration, task: ev});\n\n\t\tif (typeof gantt._resolve_default_mapping(config) == \"string\") {\n\t\t\treturn startDate;\n\t\t}\n\n\t\treturn {\n\t\t\tstart_date: startDate,\n\t\t\tend_date: endDate,\n\t\t\tduration: duration\n\t\t};\n\t};\n\n\tDurationControl.prototype.focus = function(node) {\n\t\tgantt._focus(node.getElementsByTagName(\"select\")[0]);\n\t};\n\n\n\tfunction _getStartDate(node, config) {\n\t\tvar s = node.getElementsByTagName(\"select\");\n\t\tvar map = config._time_format_order;\n\t\tvar hours = 0;\n\t\tvar minutes = 0;\n\n\t\tif (gantt.defined(map[3])) {\n\t\t\tvar input = s[map[3]];\n\t\t\tvar time = parseInt(input.value, 10);\n\t\t\tif (isNaN(time) && input.hasAttribute(\"data-value\")) {\n\t\t\t\ttime = parseInt(input.getAttribute(\"data-value\"), 10);\n\t\t\t}\n\n\t\t\thours = Math.floor(time / 60);\n\t\t\tminutes = time % 60;\n\t\t}\n\t\treturn new Date(s[map[2]].value, s[map[1]].value, s[map[0]].value, hours, minutes);\n\t}\n\n\tfunction _getDuration(node, config) {\n\t\tvar duration = node.getElementsByTagName(\"input\")[1];\n\n\t\tduration = getFormatter(config).parse(duration.value);\n\t\tif (!duration || window.isNaN(duration)) duration = 1;\n\t\tif (duration < 0) duration *= -1;\n\t\treturn duration;\n\t}\n\n\treturn DurationControl; \n};","var __extends = require(\"../../../../utils/extends\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction RadioControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\n\t\treturn self; \n\t}\n\n\t__extends(RadioControl, _super);\n\n\tRadioControl.prototype.render = function(sns) {\n\t\tvar height = (sns.height || \"23\") + \"px\";\n\t\tvar html = \"<div class='gantt_cal_ltext' style='height:\" + height + \";'>\";\n\n\t\tif (sns.options && sns.options.length) {\n\t\t\tfor (var i = 0; i < sns.options.length; i++) {\n\t\t\t\thtml += \"<label><input type='radio' value='\" + sns.options[i].key + \"' name='\" + sns.name + \"'>\" + sns.options[i].label + \"</label>\";\n\t\t\t}\n\t\t}\n\n\t\thtml += \"</div>\";\n\t\treturn html;\n\t};\n\n\tRadioControl.prototype.set_value = function(node, value, ev, sns) {\n\t\tvar radio;\n\n\t\tif (!sns.options || !sns.options.length) return;\n\n\t\tradio = node.querySelector(\"input[type=radio][value='\" + value + \"']\") ||\n\t\t\t\tnode.querySelector(\"input[type=radio][value='\" + sns.default_value + \"']\");\n\n\t\tif (!radio) return;\n\n\t\tif (!node._dhx_onchange && sns.onchange) {\n\t\t\tnode.onchange = sns.onchange;\n\t\t\tnode._dhx_onchange = true;\n\t\t}\n\n\t\tradio.checked = true;\n\t};\n\n\tRadioControl.prototype.get_value = function(node, ev) {\n\t\tvar result = node.querySelector(\"input[type=radio]:checked\");\n\n\t\treturn result ? result.value : \"\";\n\t};\n\n\tRadioControl.prototype.focus = function(node) {\n\t\tgantt._focus(node.querySelector(\"input[type=radio]\"));\n\t};\n\n\treturn RadioControl;\n};","var helpers = require(\"../../../../utils/helpers\");\nvar __extends = require(\"../../../../utils/extends\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction CheckboxControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\n\t\treturn self; \n\t}\n\n\t__extends(CheckboxControl, _super);\n\n\tCheckboxControl.prototype.render = function(sns) {\n\t\tvar height = (sns.height || \"23\") + \"px\";\n\t\tvar html = \"<div class='gantt_cal_ltext' style='height:\" + height + \";'>\";\n\n\t\tif (sns.options && sns.options.length) {\n\t\t\tfor (var i = 0; i < sns.options.length; i++) {\n\t\t\t\thtml += \"<label><input type='checkbox' value='\" + sns.options[i].key + \"' name='\" + sns.name + \"'>\" + sns.options[i].label + \"</label>\";\n\t\t\t}\n\t\t}else{\n\t\t\tsns.single_value = true;\n\t\t\thtml += \"<label><input type='checkbox' name='\" + sns.name + \"'></label>\";\n\t\t}\n\t\thtml += \"</div>\";\n\t\treturn html;\n\t};\n\n\tCheckboxControl.prototype.set_value = function(node, value, ev, sns) {\n\t\tvar checkboxes = Array.prototype.slice.call(node.querySelectorAll(\"input[type=checkbox]\"));\n\n\t\tif (!node._dhx_onchange && sns.onchange) {\n\t\t\tnode.onchange = sns.onchange;\n\t\t\tnode._dhx_onchange = true;\n\t\t}\n\n\t\tif(sns.single_value){\n\t\t\tvar box = checkboxes[0];\n\t\t\tbox.checked = !!value;\n\t\t}else{\n\t\t\thelpers.forEach(checkboxes, function(entry) {\n\t\t\t\tentry.checked = value ? value.indexOf(entry.value) >= 0 : false;\n\t\t\t});\n\t\t}\n\t};\n\n\tCheckboxControl.prototype.get_value = function(node, task, sns) {\n\t\tif(sns.single_value){\n\t\t\tvar box = node.querySelector(\"input[type=checkbox]\");\n\t\t\treturn box.checked;\n\t\t}else{\n\t\t\treturn helpers.arrayMap(Array.prototype.slice.call(node.querySelectorAll(\"input[type=checkbox]:checked\")), function(entry) {\n\t\t\t\treturn entry.value;\n\t\t\t});\n\t\t}\n\t};\n\n\tCheckboxControl.prototype.focus = function(node) {\n\t\tgantt._focus(node.querySelector(\"input[type=checkbox]\"));\n\t};\n\n\treturn CheckboxControl;\n};","var __extends = require(\"../../../../utils/extends\");\n\nmodule.exports = function (gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction TimeControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\n\t\treturn self;\n\t}\n\n\t__extends(TimeControl, _super);\n\n\tTimeControl.prototype.render = function (sns) {\n\t\tvar time = gantt.form_blocks.getTimePicker.call(this, sns);\n\t\tvar html = \"<div style='height:\" + (sns.height || 30) + \"px;padding-top:0px;font-size:inherit;text-align:center;' class='gantt_section_time'>\";\n\t\thtml += time;\n\n\t\tif (sns.single_date) {\n\t\t\ttime = gantt.form_blocks.getTimePicker.call(this, sns, true);\n\t\t\thtml += \"<span></span>\";\n\t\t} else {\n\t\t\thtml += \"<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>\";\n\t\t}\n\n\t\thtml += time;\n\t\thtml += \"</div>\";\n\t\treturn html;\n\t};\n\n\tTimeControl.prototype.set_value = function (node, value, ev, config) {\n\t\tvar cfg = config;\n\t\tvar s = node.getElementsByTagName(\"select\");\n\t\tvar map = config._time_format_order;\n\n\t\tif (cfg.auto_end_date) {\n\t\t\tvar _update_lightbox_select = function () {\n\t\t\t\tstart_date = new Date(s[map[2]].value, s[map[1]].value, s[map[0]].value, 0, 0);\n\t\t\t\tend_date = gantt.calculateEndDate({ start_date: start_date, duration: 1, task: ev });\n\t\t\t\tgantt.form_blocks._fill_lightbox_select(s, map.size, end_date, map, cfg);\n\t\t\t};\n\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\ts[i].onchange = _update_lightbox_select;\n\t\t\t}\n\t\t}\n\n\t\tvar mapping = gantt._resolve_default_mapping(config);\n\n\t\tif (typeof (mapping) === \"string\") mapping = { start_date: mapping };\n\n\t\tvar start_date = ev[mapping.start_date] || new Date();\n\t\tvar end_date = ev[mapping.end_date] || gantt.calculateEndDate({\n\t\t\tstart_date: start_date,\n\t\t\tduration: 1,\n\t\t\ttask: ev\n\t\t});\n\n\t\tgantt.form_blocks._fill_lightbox_select(s, 0, start_date, map, cfg);\n\t\tgantt.form_blocks._fill_lightbox_select(s, map.size, end_date, map, cfg);\n\t};\n\n\tTimeControl.prototype.get_value = function (node, ev, config) {\n\t\tvar selects = node.getElementsByTagName(\"select\");\n\t\tvar startDate;\n\t\tvar map = config._time_format_order;\n\t\tfunction _getEndDate(selects, map, startDate) {\n\t\t\tvar endDate = gantt.form_blocks.getTimePickerValue(selects, config, map.size);\n\t\t\t// GS-1010: We need to add a way to obtain exact end_date for validation\n\t\t\tif (endDate <= startDate) {  // when end date seems wrong\n\t\t\t\tif (config.autofix_end !== false || config.single_date) { // auto correct it in two cases - when the auto correction is not disabled, or when we have 'single date' control and the user don't have the UI to specify the end date\n\t\t\t\t\treturn gantt.date.add(startDate, gantt._get_timepicker_step(), \"minute\");\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn endDate;\n\t\t}\n\n\t\tstartDate = gantt.form_blocks.getTimePickerValue(selects, config);\n\n\t\tif (typeof gantt._resolve_default_mapping(config) === \"string\") {\n\t\t\treturn startDate;\n\t\t}\n\n\t\treturn {\n\t\t\tstart_date: startDate,\n\t\t\tend_date: _getEndDate(selects, map, startDate)\n\t\t};\n\t};\n\n\tTimeControl.prototype.focus = function (node) {\n\t\tgantt._focus(node.getElementsByTagName(\"select\")[0]);\n\t};\n\n\treturn TimeControl;\n};","var __extends = require(\"../../../../utils/extends\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction TextareaControl() {\n\t\tvar self = _super.apply(this, arguments) || this;\n\n\t\treturn self; \n\t}\n\n\t__extends(TextareaControl, _super);\n\n\tTextareaControl.prototype.render = function(sns) {\n\t\tvar height = (sns.height || \"130\") + \"px\";\n\t\treturn \"<div class='gantt_cal_ltext' style='height:\" + height + \";'><textarea></textarea></div>\";\n\t};\n\n\tTextareaControl.prototype.set_value = function(node, value) {\n\t\tgantt.form_blocks.textarea._get_input(node).value = value || \"\";\n\t};\n\n\tTextareaControl.prototype.get_value = function(node) {\n\t\treturn gantt.form_blocks.textarea._get_input(node).value;\n\t};\n\n\tTextareaControl.prototype.focus = function(node) {\n\t\tvar a = gantt.form_blocks.textarea._get_input(node);\n\t\tgantt._focus(a, true);\n\t};\n\n\tTextareaControl.prototype._get_input = function(node) {\n\t\treturn node.querySelector(\"textarea\");\n\t};\n\n\treturn TextareaControl;\n};","var __extends = require(\"../../../../utils/extends\");\n\nmodule.exports = function(gantt) {\n\tvar _super = require(\"./base_control\")(gantt);\n\n\tfunction TemplateControl() {\n\t\tvar self = _super.apply(this, arguments) || this; \n\t\treturn self; \n\t}\n\n\t__extends(TemplateControl, _super);\n\n\n\tTemplateControl.prototype.render = function(sns) {\n\t\tvar height = (sns.height || \"30\") + \"px\";\n\t\treturn \"<div class='gantt_cal_ltext gantt_cal_template' style='height:\" + height + \";'></div>\";\n\t};\n\n\tTemplateControl.prototype.set_value = function(node, value) {\n\t\tnode.innerHTML = value || \"\";\n\t};\n\n\tTemplateControl.prototype.get_value = function(node) {\n\t\treturn node.innerHTML || \"\";\n\t};\n\n\tTemplateControl.prototype.focus = function() {};\n\n\treturn TemplateControl;\n};","module.exports = function (gantt) {\n\tvar domHelpers = require(\"../utils/dom_helpers\");\n\tvar helpers = require(\"../../../utils/helpers\");\n\n\tvar TemplateControl = require(\"./controls/template_control\")(gantt);\n\tvar TextareaControl = require(\"./controls/textarea_control\")(gantt);\n\tvar TimeControl = require(\"./controls/time_control\")(gantt);\n\tvar SelectControl = require(\"./controls/select_control\")(gantt);\n\tvar CheckboxControl = require(\"./controls/checkbox_control\")(gantt);\n\tvar RadioControl = require(\"./controls/radio_control\")(gantt);\n\tvar DurationControl = require(\"./controls/duration_control\")(gantt);\n\tvar ParentControl = require(\"./controls/parent_control\")(gantt);\n\tvar ResourcesControl = require(\"./controls/resources_control\")(gantt);\n\tvar ConstraintControl = require(\"./controls/constraint_control\")(gantt);\n\tvar TypeselectControl = require(\"./controls/typeselect_control\")(gantt);\n\n\tgantt._lightbox_methods = {};\n\tgantt._lightbox_template = \"<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span></div><div class='gantt_cal_larea'></div>\";\n\n\n\t//TODO: gantt._lightbox_id is changed from data.js and accessed from autoscheduling, check if it can be removed from gantt object\n\tvar state = gantt.$services.getService(\"state\");\n\tstate.registerProvider(\"lightbox\", function () {\n\t\treturn {\n\t\t\tlightbox: gantt._lightbox_id\n\t\t};\n\t});\n\n\tgantt.showLightbox = function (id) {\n\t\tif (!this.callEvent(\"onBeforeLightbox\", [id])) return;\n\n\t\tvar task = this.getTask(id);\n\n\t\tvar box = this.getLightbox(this.getTaskType(task.type));\n\t\tthis._center_lightbox(box);\n\t\tthis.showCover();\n\t\tthis._fill_lightbox(id, box);\n\n\t\tthis._waiAria.lightboxVisibleAttr(box);\n\n\t\tthis.callEvent(\"onLightbox\", [id]);\n\t};\n\n\tfunction _is_chart_visible(gantt) {\n\t\tvar timeline = gantt.$ui.getView(\"timeline\");\n\t\tif (timeline && timeline.isVisible()) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tgantt._get_timepicker_step = function () {\n\t\tif (this.config.round_dnd_dates) {\n\t\t\tvar step;\n\t\t\tif (_is_chart_visible(this)) {\n\t\t\t\tvar scale = gantt.getScale();\n\t\t\t\tstep = (helpers.getSecondsInUnit(scale.unit) * scale.step) / 60;//timepicker step is measured in minutes\n\t\t\t}\n\n\t\t\tif (!step || step >= 60 * 24) {\n\t\t\t\tstep = this.config.time_step;\n\t\t\t}\n\t\t\treturn step;\n\t\t}\n\t\treturn this.config.time_step;\n\t};\n\tgantt.getLabel = function (property, key) {\n\t\tvar sections = this._get_typed_lightbox_config();\n\t\tfor (var i = 0; i < sections.length; i++) {\n\t\t\tif (sections[i].map_to == property) {\n\t\t\t\tvar options = sections[i].options;\n\t\t\t\tfor (var j = 0; j < options.length; j++) {\n\t\t\t\t\tif (options[j].key == key) {\n\t\t\t\t\t\treturn options[j].label;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn \"\";\n\t};\n\n\tgantt.updateCollection = function (list_name, collection) {\n\t\tcollection = collection.slice(0);\n\t\tvar list = gantt.serverList(list_name);\n\t\tif (!list) return false;\n\t\tlist.splice(0, list.length);\n\t\tlist.push.apply(list, collection || []);\n\t\tgantt.resetLightbox();\n\t};\n\tgantt.getLightboxType = function () {\n\t\treturn this.getTaskType(this._lightbox_type);\n\t};\n\tgantt.getLightbox = function (type) {\n\t\tvar lightboxDiv;\n\t\tvar fullWidth;\n\t\tvar html;\n\t\tvar sns;\n\t\tvar ds;\n\t\tvar classNames = \"\";\n\n\t\tif (type === undefined)\n\t\t\ttype = this.getLightboxType();\n\n\t\tif (!this._lightbox || this.getLightboxType() != this.getTaskType(type)) {\n\t\t\tthis._lightbox_type = this.getTaskType(type);\n\t\t\tlightboxDiv = document.createElement(\"div\");\n\t\t\tclassNames = \"gantt_cal_light\";\n\t\t\tfullWidth = this._is_lightbox_timepicker();\n\n\t\t\tif (gantt.config.wide_form || fullWidth)\n\t\t\t\tclassNames += \" gantt_cal_light_wide\";\n\n\t\t\tif (fullWidth) {\n\t\t\t\tgantt.config.wide_form = true;\n\t\t\t\tclassNames += \" gantt_cal_light_full\";\n\t\t\t}\n\n\t\t\tlightboxDiv.className = classNames;\n\n\t\t\tlightboxDiv.style.visibility = \"hidden\";\n\t\t\thtml = this._lightbox_template;\n\n\t\t\thtml += getHtmlButtons(this.config.buttons_left);\n\t\t\thtml += getHtmlButtons(this.config.buttons_right, true);\n\n\t\t\tlightboxDiv.innerHTML = html;\n\n\t\t\tgantt._waiAria.lightboxAttr(lightboxDiv);\n\n\t\t\tif (gantt.config.drag_lightbox) {\n\t\t\t\tlightboxDiv.firstChild.onmousedown = gantt._ready_to_dnd;\n\t\t\t\tlightboxDiv.firstChild.onselectstart = function () {\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\t\t\t\tlightboxDiv.firstChild.style.cursor = \"pointer\";\n\t\t\t\tgantt._init_dnd_events();\n\t\t\t}\n\n\t\t\tdocument.body.insertBefore(lightboxDiv, document.body.firstChild);\n\t\t\tthis._lightbox = lightboxDiv;\n\n\t\t\tsns = this._get_typed_lightbox_config(type);\n\t\t\thtml = this._render_sections(sns);\n\n\t\t\tds = lightboxDiv.querySelector(\"div.gantt_cal_larea\");\n\t\t\t\n\t\t\t//GS-1131. If gantt_cal_larea is displayed, Firefox renders buttons incorrectly;\n\t\t\tvar backup_overflow = ds.style.overflow;\n\t\t\tds.style.overflow = 'hidden';\n\n\t\t\tds.innerHTML = html;\n\n\t\t\t\n\n\t\t\tbindLabelsToInputs(sns);\n\n\t\t\t//sizes\n\t\t\tthis.resizeLightbox();\n\n\t\t\tds.style.overflow = backup_overflow;\n\n\t\t\tthis._init_lightbox_events(this);\n\t\t\tlightboxDiv.style.display = \"none\";\n\t\t\tlightboxDiv.style.visibility = \"visible\";\n\t\t}\n\t\treturn this._lightbox;\n\t};\n\n\tgantt._render_sections = function (sns) {\n\t\tvar html = \"\";\n\t\tfor (var i = 0; i < sns.length; i++) {\n\t\t\tvar block = this.form_blocks[sns[i].type];\n\t\t\tif (!block) continue; //ignore incorrect blocks\n\t\t\tsns[i].id = \"area_\" + this.uid();\n\n\t\t\tvar display = sns[i].hidden ? \" style='display:none'\" : \"\";\n\t\t\tvar button = \"\";\n\t\t\tif (sns[i].button) {\n\t\t\t\tbutton = \"<div class='gantt_custom_button' data-index='\" + i + \"'><div class='gantt_custom_button_\" + sns[i].button + \"'></div><div class='gantt_custom_button_label'>\" + this.locale.labels[\"button_\" + sns[i].button] + \"</div></div>\";\n\t\t\t}\n\t\t\tif (this.config.wide_form) {\n\t\t\t\thtml += \"<div class='gantt_wrap_section' \" + display + \">\";\n\t\t\t}\n\t\t\thtml += \"<div id='\" + sns[i].id + \"' class='gantt_cal_lsection'><label>\" + button + this.locale.labels[\"section_\" + sns[i].name] + \"</label></div>\" + block.render.call(this, sns[i]);\n\t\t\thtml += \"</div>\";\n\t\t}\n\t\treturn html;\n\t};\n\n\n\tgantt.resizeLightbox = function () {\n\t\tif (!this._lightbox) return;\n\n\t\tvar con = this._lightbox.querySelector(\".gantt_cal_larea\");\n\t\tcon.style.height = \"0px\";\n\t\tcon.style.height = con.scrollHeight + \"px\";\n\t\tthis._lightbox.style.height = con.scrollHeight + this.config.lightbox_additional_height + \"px\";\n\t\tcon.style.height = con.scrollHeight + \"px\"; //it is incredible , how ugly IE can be\n\t};\n\n\tgantt._center_lightbox = function (box) {\n\t\tif (box) {\n\t\t\tbox.style.display = \"block\";\n\n\t\t\tvar scroll_top = window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop;\n\t\t\tvar scroll_left = window.pageXOffset || document.body.scrollLeft || document.documentElement.scrollLeft;\n\n\t\t\tvar view_height = window.innerHeight || document.documentElement.clientHeight;\n\n\t\t\tif (scroll_top) // if vertical scroll on window\n\t\t\t\tbox.style.top = Math.round(scroll_top + Math.max((view_height - box.offsetHeight) / 2, 0)) + \"px\";\n\t\t\telse // vertical scroll on body\n\t\t\t\tbox.style.top = Math.round(Math.max(((view_height - box.offsetHeight) / 2), 0) + 9) + \"px\"; // +9 for compatibility with auto tests\n\n\t\t\t// not quite accurate but used for compatibility reasons\n\t\t\tif (document.documentElement.scrollWidth > document.body.offsetWidth) // if horizontal scroll on the window\n\t\t\t\tbox.style.left = Math.round(scroll_left + (document.body.offsetWidth - box.offsetWidth) / 2) + \"px\";\n\t\t\telse // horizontal scroll on the body\n\t\t\t\tbox.style.left = Math.round((document.body.offsetWidth - box.offsetWidth) / 2) + \"px\";\n\t\t}\n\t};\n\tgantt.showCover = function () {\n\t\tif (this._cover) return;\n\n\t\tthis._cover = document.createElement(\"DIV\");\n\t\tthis._cover.className = \"gantt_cal_cover\";\n\n\t\tdocument.body.appendChild(this._cover);\n\t};\n\n\tgantt.event(window, \"deviceorientation\", function(){\n\t\tif(gantt.getState().lightbox){\n\t\t\tgantt._center_lightbox(gantt.getLightbox());\n\t\t}\n\t});\n\n\tgantt._init_lightbox_events = function () {\n\t\tgantt.lightbox_events = {};\n\n\n\t\tgantt.lightbox_events.gantt_save_btn = function () {\n\t\t\tgantt._save_lightbox();\n\t\t};\n\n\n\t\tgantt.lightbox_events.gantt_delete_btn = function () {\n\t\t\tgantt._lightbox_new_type = null;\n\n\t\t\tif (!gantt.callEvent(\"onLightboxDelete\", [gantt._lightbox_id]))\n\t\t\t\treturn;\n\n\t\t\tif (gantt.isTaskExists(gantt._lightbox_id)) {\n\t\t\t\tgantt.$click.buttons[\"delete\"](gantt._lightbox_id);\n\t\t\t} else {\n\t\t\t\tgantt.hideLightbox();\n\t\t\t}\n\n\t\t};\n\n\n\t\tgantt.lightbox_events.gantt_cancel_btn = function () {\n\t\t\tgantt._cancel_lightbox();\n\t\t};\n\n\n\t\tgantt.lightbox_events[\"default\"] = function (e, src) {\n\t\t\tif (src.getAttribute(\"data-dhx-button\")) {\n\t\t\t\tgantt.callEvent(\"onLightboxButton\", [src.className, src, e]);\n\t\t\t} else {\n\t\t\t\tvar index, block, sec;\n\n\t\t\t\tvar className = domHelpers.getClassName(src);\n\t\t\t\tif (className.indexOf(\"gantt_custom_button\") != -1) {\n\t\t\t\t\tif (className.indexOf(\"gantt_custom_button_\") != -1) {\n\t\t\t\t\t\tindex = src.parentNode.getAttribute(\"data-index\");\n\t\t\t\t\t\tsec = src;\n\t\t\t\t\t\twhile (sec && domHelpers.getClassName(sec).indexOf(\"gantt_cal_lsection\") == -1) {\n\t\t\t\t\t\t\tsec = sec.parentNode;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tindex = src.getAttribute(\"data-index\");\n\t\t\t\t\t\tsec = src.parentNode;\n\t\t\t\t\t\tsrc = src.firstChild;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar sections = gantt._get_typed_lightbox_config();\n\n\t\t\t\tif (index) {\n\t\t\t\t\tindex = index * 1;\n\t\t\t\t\tblock = gantt.form_blocks[sections[index * 1].type];\n\t\t\t\t\tblock.button_click(index, src, sec, sec.nextSibling);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tthis.event(gantt.getLightbox(), \"click\", function (e) {\n\t\t\te = e || window.event;\n\t\t\tvar src = e.target ? e.target : e.srcElement;\n\n\t\t\tvar className = domHelpers.getClassName(src);\n\t\t\tif (!className) {\n\t\t\t\tsrc = src.previousSibling;\n\t\t\t\tclassName = domHelpers.getClassName(src);\n\t\t\t}\n\t\t\tif (src && className && className.indexOf(\"gantt_btn_set\") === 0) {\n\t\t\t\tsrc = src.firstChild;\n\t\t\t\tclassName = domHelpers.getClassName(src);\n\t\t\t}\n\t\t\tif (src && className) {\n\t\t\t\tvar func = gantt.defined(gantt.lightbox_events[src.className]) ? gantt.lightbox_events[src.className] : gantt.lightbox_events[\"default\"];\n\t\t\t\treturn func(e, src);\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\n\t\tgantt.getLightbox().onkeydown = function (e) {\n\t\t\tvar event = e || window.event;\n\t\t\tvar target = e.target || e.srcElement;\n\t\t\tvar buttonTarget = domHelpers.getClassName(target).indexOf(\"gantt_btn_set\") > -1;\n\n\t\t\tswitch ((e || event).keyCode) {\n\t\t\t\tcase gantt.constants.KEY_CODES.SPACE: {\n\t\t\t\t\tif ((e || event).shiftKey) return;\n\t\t\t\t\tif (buttonTarget && target.click) {\n\t\t\t\t\t\ttarget.click();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase gantt.keys.edit_save:\n\t\t\t\t\tif ((e || event).shiftKey) return;\n\t\t\t\t\tif (buttonTarget && target.click) {\n\t\t\t\t\t\ttarget.click();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgantt._save_lightbox();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase gantt.keys.edit_cancel:\n\t\t\t\t\tgantt._cancel_lightbox();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t};\n\t};\n\n\tgantt._cancel_lightbox = function () {\n\t\tvar task = this.getLightboxValues();\n\t\tthis.callEvent(\"onLightboxCancel\", [this._lightbox_id, task.$new]);\n\t\tif (gantt.isTaskExists(task.id) && task.$new) {\n\t\t\tthis.silent(function () {\n\t\t\t\tgantt.$data.tasksStore.removeItem(task.id);\n\t\t\t\tgantt._update_flags(task.id, null);\n\t\t\t});\n\t\t}\n\n\t\tthis.refreshData();\n\t\tthis.hideLightbox();\n\t};\n\n\tgantt._save_lightbox = function () {\n\t\tvar task = this.getLightboxValues();\n\t\tif (!this.callEvent(\"onLightboxSave\", [this._lightbox_id, task, !!task.$new]))\n\t\t\treturn;\n\n\t\tif (task.$new) {\n\t\t\tdelete task.$new;\n\t\t\tthis.addTask(task, task.parent, this.getTaskIndex(task.id));\n\t\t} else if (this.isTaskExists(task.id)) {\n\t\t\tthis.mixin(this.getTask(task.id), task, true);\n\t\t\tthis.refreshTask(task.id);\n\t\t\tthis.updateTask(task.id);\n\t\t}\n\t\tthis.refreshData();\n\n\t\t// TODO: do we need any blockable events here to prevent closing lightbox?\n\t\tthis.hideLightbox();\n\t};\n\n\tgantt._resolve_default_mapping = function (section) {\n\t\tvar mapping = section.map_to;\n\t\tvar time_controls = { \"time\": true, \"time_optional\": true, \"duration\": true, \"duration_optional\": true };\n\t\tif (time_controls[section.type]) {\n\t\t\tif (section.map_to == \"auto\") {\n\t\t\t\tmapping = { start_date: \"start_date\", end_date: \"end_date\", duration: \"duration\" };\n\t\t\t} else if (typeof (section.map_to) === \"string\") {\n\t\t\t\tmapping = { start_date: section.map_to };\n\t\t\t}\n\t\t} else if (section.type === \"constraint\") {\n\t\t\tif (!section.map_to || typeof (section.map_to) === \"string\") {\n\t\t\t\tmapping = { constraint_type: \"constraint_type\", constraint_date: \"constraint_date\" };\n\t\t\t}\n\t\t}\n\n\t\treturn mapping;\n\t};\n\n\tgantt.getLightboxValues = function () {\n\t\tvar task = {};\n\n\t\tif (gantt.isTaskExists(this._lightbox_id)) {\n\t\t\ttask = this.mixin({}, this.getTask(this._lightbox_id));\n\t\t}\n\n\t\tvar sns = this._get_typed_lightbox_config();\n\t\tfor (var i = 0; i < sns.length; i++) {\n\t\t\tvar node = document.getElementById(sns[i].id);\n\t\t\tnode = (node ? node.nextSibling : node);\n\t\t\tvar block = this.form_blocks[sns[i].type];\n\t\t\tif (!block) continue;\n\t\t\tvar res = block.get_value.call(this, node, task, sns[i]);\n\t\t\tvar map_to = gantt._resolve_default_mapping(sns[i]);\n\t\t\tif (typeof map_to == \"string\" && map_to != \"auto\") {\n\t\t\t\ttask[map_to] = res;\n\t\t\t} else if (typeof map_to == \"object\") {\n\t\t\t\tfor (var property in map_to) {\n\t\t\t\t\tif (map_to[property])\n\t\t\t\t\t\ttask[map_to[property]] = res[property];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// GS-1282 We need to preserve the task type even if the lightbox doesn't have the typeselect section\n\t\tif (gantt._lightbox_new_type == \"task\") {\n\t\t\ttask.type = gantt.config.types.task;\n\t\t\tgantt._lightbox_new_type = null;\n\t\t}\n\n\t\treturn task;\n\t};\n\n\n\tgantt.hideLightbox = function () {\n\t\tvar box = this.getLightbox();\n\t\tif (box) box.style.display = \"none\";\n\n\t\tthis._waiAria.lightboxHiddenAttr(box);\n\t\tthis._lightbox_id = null;\n\n\t\tthis.hideCover();\n\t\tthis.callEvent(\"onAfterLightbox\", []);\n\t};\n\tgantt.hideCover = function () {\n\t\tif (this._cover)\n\t\t\tthis._cover.parentNode.removeChild(this._cover);\n\t\tthis._cover = null;\n\t};\n\n\tgantt.resetLightbox = function () {\n\t\tif (gantt._lightbox && !gantt._custom_lightbox)\n\t\t\tgantt._lightbox.parentNode.removeChild(gantt._lightbox);\n\t\tgantt._lightbox = null;\n\t\tgantt.hideCover();\n\t};\n\tgantt._set_lightbox_values = function (data, box) {\n\t\tvar task = data;\n\t\tvar s = box.getElementsByTagName(\"span\");\n\t\tvar lightboxHeader = [];\n\t\tif (gantt.templates.lightbox_header) {\n\t\t\tlightboxHeader.push(\"\");\n\t\t\tlightboxHeader.push(gantt.templates.lightbox_header(task.start_date, task.end_date, task));\n\t\t\ts[1].innerHTML = \"\";\n\t\t\ts[2].innerHTML = gantt.templates.lightbox_header(task.start_date, task.end_date, task);\n\t\t} else {\n\t\t\tlightboxHeader.push(this.templates.task_time(task.start_date, task.end_date, task));\n\t\t\tlightboxHeader.push(String(this.templates.task_text(task.start_date, task.end_date, task) || \"\").substr(0, 70)); //IE6 fix\n\t\t\ts[1].innerHTML = this.templates.task_time(task.start_date, task.end_date, task);\n\t\t\ts[2].innerHTML = String(this.templates.task_text(task.start_date, task.end_date, task) || \"\").substr(0, 70); //IE6 fix\n\t\t}\n\t\ts[1].innerHTML = lightboxHeader[0];\n\t\ts[2].innerHTML = lightboxHeader[1];\n\n\t\tgantt._waiAria.lightboxHeader(box, lightboxHeader.join(\" \"));\n\n\t\tvar sns = this._get_typed_lightbox_config(this.getLightboxType());\n\t\tfor (var i = 0; i < sns.length; i++) {\n\t\t\tvar section = sns[i];\n\n\t\t\tif (!this.form_blocks[section.type]) {\n\t\t\t\tcontinue;//skip incorrect sections, same check is done during rendering\n\t\t\t}\n\n\n\t\t\tvar node = document.getElementById(section.id).nextSibling;\n\t\t\tvar block = this.form_blocks[section.type];\n\t\t\tvar map_to = gantt._resolve_default_mapping(sns[i]);\n\t\t\tvar value = this.defined(task[map_to]) ? task[map_to] : section.default_value;\n\t\t\tblock.set_value.call(gantt, node, value, task, section);\n\n\t\t\tif (section.focus)\n\t\t\t\tblock.focus.call(gantt, node);\n\t\t}\n\t\tif (gantt.isTaskExists(data.id)){\n\t\t\tgantt._lightbox_id = data.id;\n\t\t}\n\t};\n\tgantt._fill_lightbox = function (id, box) {\n\t\tvar task = this.getTask(id);\n\t\tthis._set_lightbox_values(task, box);\n\t};\n\n\n\tgantt.getLightboxSection = function (name) {\n\t\tvar config = this._get_typed_lightbox_config();\n\t\tvar i = 0;\n\t\tfor (i; i < config.length; i++)\n\t\t\tif (config[i].name == name)\n\t\t\t\tbreak;\n\t\tvar section = config[i];\n\t\tif (!section)\n\t\t\treturn null;\n\n\t\tif (!this._lightbox)\n\t\t\tthis.getLightbox();\n\t\tvar header = document.getElementById(section.id);\n\t\tvar node = header.nextSibling;\n\n\t\tvar result = {\n\t\t\tsection: section,\n\t\t\theader: header,\n\t\t\tnode: node,\n\t\t\tgetValue: function (ev) {\n\t\t\t\treturn gantt.form_blocks[section.type].get_value.call(gantt, node, (ev || {}), section);\n\t\t\t},\n\t\t\tsetValue: function (value, ev) {\n\t\t\t\treturn gantt.form_blocks[section.type].set_value.call(gantt, node, value, (ev || {}), section);\n\t\t\t}\n\t\t};\n\n\t\tvar handler = this._lightbox_methods[\"get_\" + section.type + \"_control\"];\n\t\treturn handler ? handler(result) : result;\n\t};\n\n\tgantt._lightbox_methods.get_template_control = function (result) {\n\t\tresult.control = result.node;\n\t\treturn result;\n\t};\n\tgantt._lightbox_methods.get_select_control = function (result) {\n\t\tresult.control = result.node.getElementsByTagName(\"select\")[0];\n\t\treturn result;\n\t};\n\tgantt._lightbox_methods.get_textarea_control = function (result) {\n\t\tresult.control = result.node.getElementsByTagName(\"textarea\")[0];\n\t\treturn result;\n\t};\n\tgantt._lightbox_methods.get_time_control = function (result) {\n\t\tresult.control = result.node.getElementsByTagName(\"select\"); // array\n\t\treturn result;\n\t};\n\n\n\tgantt._init_dnd_events = function () {\n\t\tthis.event(document.body, \"mousemove\", gantt._move_while_dnd);\n\t\tthis.event(document.body, \"mouseup\", gantt._finish_dnd);\n\t\tgantt._init_dnd_events = function () {\n\t\t};\n\t};\n\tgantt._move_while_dnd = function (event) {\n\t\tif (gantt._dnd_start_lb) {\n\t\t\tif (!document.gantt_unselectable) {\n\t\t\t\tdocument.body.className += \" gantt_unselectable\";\n\t\t\t\tdocument.gantt_unselectable = true;\n\t\t\t}\n\t\t\tvar lb = gantt.getLightbox();\n\t\t\tvar now = [event.pageX, event.pageY];\n\t\t\tlb.style.top = gantt._lb_start[1] + now[1] - gantt._dnd_start_lb[1] + \"px\";\n\t\t\tlb.style.left = gantt._lb_start[0] + now[0] - gantt._dnd_start_lb[0] + \"px\";\n\t\t}\n\t};\n\tgantt._ready_to_dnd = function (event) {\n\t\tvar lb = gantt.getLightbox();\n\t\tgantt._lb_start = [parseInt(lb.style.left, 10), parseInt(lb.style.top, 10)];\n\t\tgantt._dnd_start_lb = [event.pageX, event.pageY];\n\t};\n\tgantt._finish_dnd = function () {\n\t\tif (gantt._lb_start) {\n\t\t\tgantt._lb_start = gantt._dnd_start_lb = false;\n\t\t\tdocument.body.className = document.body.className.replace(\" gantt_unselectable\", \"\");\n\t\t\tdocument.gantt_unselectable = false;\n\t\t}\n\t};\n\n\n\tgantt._focus = function (node, select) {\n\t\tif (node && node.focus) {\n\t\t\tif (gantt.config.touch) {\n\t\t\t\t//do not focus editor, to prevent auto-zoom\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tif (select && node.select) node.select();\n\t\t\t\t\tnode.focus();\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// silent errors\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\n\tgantt.form_blocks = {\n\t\tgetTimePicker: function (sns, hidden) {\n\t\t\tvar html = \"\";\n\t\t\tvar cfg = this.config;\n\t\t\tvar i;\n\t\t\tvar options;\n\t\t\tvar ariaAttrs;\n\t\t\tvar readonly;\n\t\t\tvar display;\n\t\t\tvar settings = {\n\t\t\t\tfirst: 0,\n\t\t\t\tlast: 24 * 60,\n\t\t\t\tdate: this.date.date_part(new Date(gantt._min_date.valueOf())),\n\t\t\t\ttimeFormat: getTimeFormat(sns)\n\t\t\t};\n\n\t\t\t// map: default order => real one\n\t\t\tsns._time_format_order = { size: 0 };\n\n\t\t\tif (gantt.config.limit_time_select) {\n\t\t\t\tsettings.first = 60 * cfg.first_hour;\n\t\t\t\tsettings.last = 60 * cfg.last_hour + 1;\n\t\t\t\tsettings.date.setHours(cfg.first_hour);\n\t\t\t}\n\n\t\t\tfor (i = 0; i < settings.timeFormat.length; i++) {\n\t\t\t\t// adding spaces between selects\n\t\t\t\tif (i > 0) {\n\t\t\t\t\thtml += \" \";\n\t\t\t\t}\n\n\t\t\t\toptions = getHtmlTimePickerOptions(sns, i, settings);\n\n\t\t\t\tif (options) {\n\t\t\t\t\tariaAttrs = gantt._waiAria.lightboxSelectAttrString(settings.timeFormat[i]);\n\t\t\t\t\treadonly = sns.readonly ? \"disabled='disabled'\" : \"\";\n\t\t\t\t\tdisplay = hidden ? \" style='display:none' \" : \"\";\n\t\t\t\t\thtml += \"<select \" + readonly + display + ariaAttrs + \">\" + options + \"</select>\";\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn html;\n\t\t},\n\t\tgetTimePickerValue: function (selects, config, offset) {\n\t\t\tvar map = config._time_format_order;\n\t\t\tvar needSetTime = gantt.defined(map[3]);\n\n\t\t\tvar time;\n\t\t\tvar hours = 0;\n\t\t\tvar minutes = 0;\n\n\t\t\tvar mapOffset = offset || 0;\n\n\t\t\tif (needSetTime) {\n\t\t\t\ttime = parseInt(selects[map[3] + mapOffset].value, 10);\n\t\t\t\thours = Math.floor(time / 60);\n\t\t\t\tminutes = time % 60;\n\t\t\t}\n\t\t\treturn new Date(selects[map[2] + mapOffset].value, selects[map[1] + mapOffset].value, selects[map[0] + mapOffset].value, hours, minutes);\n\t\t},\n\n\t\t_fill_lightbox_select: function (s, i, d, map) {\n\t\t\ts[i + map[0]].value = d.getDate();\n\t\t\ts[i + map[1]].value = d.getMonth();\n\t\t\ts[i + map[2]].value = d.getFullYear();\n\t\t\tif (gantt.defined(map[3])) {\n\t\t\t\tvar v = d.getHours() * 60 + d.getMinutes();\n\t\t\t\tv = Math.round(v / gantt._get_timepicker_step()) * gantt._get_timepicker_step();\n\t\t\t\tvar input = s[i + map[3]];\n\t\t\t\tinput.value = v;\n\t\t\t\t//in case option not shown\n\t\t\t\tinput.setAttribute(\"data-value\", v);\n\t\t\t}\n\t\t},\n\t\ttemplate: new TemplateControl(),\n\t\ttextarea: new TextareaControl(),\n\t\tselect: new SelectControl(),\n\t\ttime: new TimeControl(),\n\t\tduration: new DurationControl(),\n\t\tparent: new ParentControl(),\n\t\tradio: new RadioControl(),\n\t\tcheckbox: new CheckboxControl(),\n\t\tresources: new ResourcesControl(),\n\t\tconstraint: new ConstraintControl(),\n\t\ttypeselect: new TypeselectControl()\n\t};\n\n\tgantt._is_lightbox_timepicker = function () {\n\t\tvar s = this._get_typed_lightbox_config();\n\t\tfor (var i = 0; i < s.length; i++)\n\t\t\tif (s[i].name == \"time\" && s[i].type == \"time\")\n\t\t\t\treturn true;\n\t\treturn false;\n\t};\n\n\tgantt._dhtmlx_confirm = function (message, title, callback, ok) {\n\t\tif (!message)\n\t\t\treturn callback();\n\t\tvar opts = { text: message };\n\t\tif (title)\n\t\t\topts.title = title;\n\t\tif (ok) {\n\t\t\topts.ok = ok;\n\t\t}\n\t\tif (callback) {\n\t\t\topts.callback = function (result) {\n\t\t\t\tif (result)\n\t\t\t\t\tcallback();\n\t\t\t};\n\t\t}\n\t\tgantt.confirm(opts);\n\t};\n\n\tfunction _get_type_name(type_value) {\n\t\tfor (var i in this.config.types) {\n\t\t\tif (this.config.types[i] == type_value) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn \"task\";\n\t}\n\n\tgantt._get_typed_lightbox_config = function (type) {\n\t\tif (type === undefined) {\n\t\t\ttype = this.getLightboxType();\n\t\t}\n\n\t\tvar field = _get_type_name.call(this, type);\n\n\t\tif (gantt.config.lightbox[field + \"_sections\"]) {\n\t\t\treturn gantt.config.lightbox[field + \"_sections\"];\n\t\t} else {\n\t\t\treturn gantt.config.lightbox.sections;\n\t\t}\n\t};\n\n\tgantt._silent_redraw_lightbox = function (type) {\n\t\tvar oldType = this.getLightboxType();\n\n\t\tif (this.getState().lightbox) {\n\t\t\tvar taskId = this.getState().lightbox;\n\t\t\tvar formData = this.getLightboxValues(),\n\t\t\t\ttask = this.copy(this.getTask(taskId));\n\n\t\t\tthis.resetLightbox();\n\n\t\t\tvar updTask = this.mixin(task, formData, true);\n\t\t\tvar box = this.getLightbox(type ? type : undefined);\n\t\t\tthis._center_lightbox(this.getLightbox());\n\t\t\tthis._set_lightbox_values(updTask, box);\n\t\t\tthis.showCover();\n\t\t} else {\n\t\t\tthis.resetLightbox();\n\t\t\tthis.getLightbox(type ? type : undefined);\n\t\t}\n\t\tthis.callEvent(\"onLightboxChange\", [oldType, this.getLightboxType()]);\n\t};\n\n\tfunction bindLabelsToInputs(sns) {\n\t\tvar section;\n\t\tvar label;\n\t\tvar labelBlock;\n\t\tvar inputBlock;\n\t\tvar input;\n\t\tvar i;\n\n\t\tfor (i = 0; i < sns.length; i++) {\n\t\t\tsection = sns[i];\n\t\t\tlabelBlock = document.getElementById(section.id);\n\n\t\t\tif (!section.id || !labelBlock) continue;\n\n\t\t\tlabel = labelBlock.querySelector(\"label\");\n\t\t\tinputBlock = labelBlock.nextSibling;\n\n\t\t\tif (!inputBlock) continue;\n\n\t\t\tinput = inputBlock.querySelector(\"input, select, textarea\");\n\t\t\tif (input) {\n\t\t\t\tinput.id = input.id || \"input_\" + gantt.uid();\n\t\t\t\tsection.inputId = input.id;\n\t\t\t\tlabel.setAttribute(\"for\", section.inputId);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction getHtmlButtons(buttons, floatRight) {\n\t\tvar button;\n\t\tvar ariaAttr;\n\t\tvar html = \"\";\n\t\tvar i;\n\n\t\tfor (i = 0; i < buttons.length; i++) {\n\t\t\t// needed to migrate from 'dhx_something' to 'gantt_something' naming in a lightbox\n\t\t\tbutton = gantt.config._migrate_buttons[buttons[i]] ? gantt.config._migrate_buttons[buttons[i]] : buttons[i];\n\n\t\t\tariaAttr = gantt._waiAria.lightboxButtonAttrString(button);\n\t\t\thtml += \"<div \" + ariaAttr + \" class='gantt_btn_set gantt_left_btn_set \" + button + \"_set'\" + (floatRight ? \" style='float:right;'\" : \"\") + \"><div dhx_button='1' data-dhx-button='1' class='\" + button + \"'></div><div>\" + gantt.locale.labels[button] + \"</div></div>\";\n\t\t}\n\t\treturn html;\n\t}\n\n\tfunction getTimeFormat(sns) {\n\t\tvar scale;\n\t\tvar unit;\n\t\tvar result;\n\n\t\tif (sns.time_format) return sns.time_format;\n\n\t\t// default order\n\t\tresult = [\"%d\", \"%m\", \"%Y\"];\n\t\tscale = gantt.getScale();\n\t\tunit = scale ? scale.unit : gantt.config.duration_unit;\n\t\tif (helpers.getSecondsInUnit(unit) < helpers.getSecondsInUnit(\"day\")) {\n\t\t\tresult.push(\"%H:%i\");\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction getHtmlTimePickerOptions(sns, index, settings) {\n\t\tvar range;\n\t\tvar offset;\n\t\tvar start_year;\n\t\tvar end_year;\n\t\tvar i;\n\t\tvar time;\n\t\tvar diff;\n\t\tvar tdate;\n\t\tvar html = \"\";\n\n\t\tswitch (settings.timeFormat[index]) {\n\t\t\tcase \"%Y\":\n\t\t\t\tsns._time_format_order[2] = index;\n\t\t\t\tsns._time_format_order.size++;\n\t\t\t\t//year\n\n\t\t\t\tif (sns.year_range) {\n\t\t\t\t\tif (!isNaN(sns.year_range)) {\n\t\t\t\t\t\trange = sns.year_range;\n\t\t\t\t\t} else if (sns.year_range.push) {\n\t\t\t\t\t\t// if\n\t\t\t\t\t\tstart_year = sns.year_range[0];\n\t\t\t\t\t\tend_year = sns.year_range[1];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\trange = range || 10;\n\t\t\t\toffset = offset || Math.floor(range / 2);\n\t\t\t\tstart_year = start_year || settings.date.getFullYear() - offset;\n\t\t\t\tend_year = end_year || start_year + range;\n\n\t\t\t\tfor (i = start_year; i < end_year; i++)\n\t\t\t\t\thtml += \"<option value='\" + (i) + \"'>\" + (i) + \"</option>\";\n\t\t\t\tbreak;\n\t\t\tcase \"%m\":\n\t\t\t\tsns._time_format_order[1] = index;\n\t\t\t\tsns._time_format_order.size++;\n\t\t\t\t//month\n\t\t\t\tfor (i = 0; i < 12; i++)\n\t\t\t\t\thtml += \"<option value='\" + i + \"'>\" + gantt.locale.date.month_full[i] + \"</option>\";\n\t\t\t\tbreak;\n\t\t\tcase \"%d\":\n\t\t\t\tsns._time_format_order[0] = index;\n\t\t\t\tsns._time_format_order.size++;\n\t\t\t\t//days\n\t\t\t\tfor (i = 1; i < 32; i++)\n\t\t\t\t\thtml += \"<option value='\" + i + \"'>\" + i + \"</option>\";\n\t\t\t\tbreak;\n\t\t\tcase \"%H:%i\":\n\t\t\t\t//  var last = 24*60, first = 0;\n\t\t\t\tsns._time_format_order[3] = index;\n\t\t\t\tsns._time_format_order.size++;\n\t\t\t\t//hours\n\t\t\t\ti = settings.first;\n\t\t\t\ttdate = settings.date.getDate();\n\t\t\t\tsns._time_values = [];\n\n\t\t\t\twhile (i < settings.last) {\n\t\t\t\t\ttime = gantt.templates.time_picker(settings.date);\n\t\t\t\t\thtml += \"<option value='\" + i + \"'>\" + time + \"</option>\";\n\t\t\t\t\tsns._time_values.push(i);\n\t\t\t\t\tsettings.date.setTime(settings.date.valueOf() + gantt._get_timepicker_step() * 60 * 1000);\n\t\t\t\t\tdiff = (settings.date.getDate() != tdate) ? 1 : 0; // moved or not to the next day\n\t\t\t\t\ti = diff * 24 * 60 + settings.date.getHours() * 60 + settings.date.getMinutes();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn html;\n\t}\n};","module.exports = function(gantt) {\n\n\tgantt.config.touch_drag = 500; //nearly immediate dnd\n\tgantt.config.touch = true;\n\tgantt.config.touch_feedback = true;\n\tgantt.config.touch_feedback_duration = 1;\n\tgantt._prevent_touch_scroll = false;\n\n\n\tgantt._touch_feedback = function () {\n\t\tif (gantt.config.touch_feedback) {\n\t\t\tif (navigator.vibrate)\n\t\t\t\tnavigator.vibrate(gantt.config.touch_feedback_duration);\n\t\t}\n\t};\n\n\tgantt.attachEvent(\"onGanttReady\", gantt.bind(function(){\n\t\tif (this.config.touch != \"force\")\n\t\t\tthis.config.touch = this.config.touch &&\n\t\t\t\t((navigator.userAgent.indexOf(\"Mobile\") != -1) ||\n\t\t\t\t\t(navigator.userAgent.indexOf(\"iPad\") != -1) ||\n\t\t\t\t\t(navigator.userAgent.indexOf(\"Android\") != -1) ||\n\t\t\t\t\t(navigator.userAgent.indexOf(\"Touch\") != -1)) ||\n\t\t\t\t\t((navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1));\n\n\t\tif (this.config.touch) {\n\n\t\t\tvar touchEventsSupported = true;\n\t\t\ttry {\n\t\t\t\tdocument.createEvent(\"TouchEvent\");\n\t\t\t} catch (e) {\n\t\t\t\ttouchEventsSupported = false;\n\t\t\t}\n\n\t\t\tif (touchEventsSupported) {\n\t\t\t\tthis._touch_events([\"touchmove\", \"touchstart\", \"touchend\"], function (ev) {\n\t\t\t\t\tif (ev.touches && ev.touches.length > 1) return null;\n\t\t\t\t\tif (ev.touches[0])\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttarget: ev.target,\n\t\t\t\t\t\t\tpageX: ev.touches[0].pageX,\n\t\t\t\t\t\t\tpageY: ev.touches[0].pageY,\n\t\t\t\t\t\t\tclientX: ev.touches[0].clientX,\n\t\t\t\t\t\t\tclientY: ev.touches[0].clientY\n\t\t\t\t\t\t};\n\t\t\t\t\telse\n\t\t\t\t\t\treturn ev;\n\t\t\t\t}, function () {\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t} else if (window.navigator.pointerEnabled) {\n\t\t\t\tthis._touch_events([\"pointermove\", \"pointerdown\", \"pointerup\"], function (ev) {\n\t\t\t\t\tif (ev.pointerType == \"mouse\") return null;\n\t\t\t\t\treturn ev;\n\t\t\t\t}, function (ev) {\n\t\t\t\t\treturn (!ev || (ev.pointerType == \"mouse\" ));\n\t\t\t\t});\n\t\t\t} else if (window.navigator.msPointerEnabled) {\n\t\t\t\tthis._touch_events([\"MSPointerMove\", \"MSPointerDown\", \"MSPointerUp\"], function (ev) {\n\t\t\t\t\tif (ev.pointerType == ev.MSPOINTER_TYPE_MOUSE) return null;\n\t\t\t\t\treturn ev;\n\t\t\t\t}, function (ev) {\n\t\t\t\t\treturn (!ev || ev.pointerType == ev.MSPOINTER_TYPE_MOUSE);\n\t\t\t\t});\n\t\t\t}\n\n\t\t}\n\t}, gantt));\n\n\n\tfunction findTargetView(event){\n\t\tvar allViews = gantt.$layout.getCellsByType(\"viewCell\");\n\n\t\tfor(var i = 0; i < allViews.length; i++){\n\t\t\tvar box = allViews[i].$view.getBoundingClientRect();\n\t\t\tif(event.clientX >= box.left && event.clientX <= box.right &&\n\t\t\t\tevent.clientY <= box.bottom && event.clientY >= box.top){\n\t\t\t\t\treturn allViews[i];\n\t\t\t\t}\n\t\t}\n\t}\n\n\tfunction getScrollState(view){\n\t\tvar scrollX = view.$config.scrollX ? gantt.$ui.getView(view.$config.scrollX) : null;\n\t\tvar scrollY = view.$config.scrollY ? gantt.$ui.getView(view.$config.scrollY) : null;\n\n\t\tvar scrollState = {x: null, y: null};\n\t\tif(scrollX){\n\t\t\tvar state = scrollX.getScrollState();\n\t\t\tif(state.visible){\n\t\t\t\tscrollState.x = scrollX.$view.scrollLeft;\n\t\t\t}\n\t\t}\n\t\tif(scrollY){\n\t\t\tvar state = scrollY.getScrollState();\n\t\t\tif(state.visible){\n\t\t\t\tscrollState.y = scrollY.$view.scrollTop;\n\t\t\t}\n\t\t}\n\t\treturn scrollState;\n\t}\n\n\tfunction scrollView(view, left, top){\n\t\tvar scrollX = view.$config.scrollX ? gantt.$ui.getView(view.$config.scrollX) : null;\n\t\tvar scrollY = view.$config.scrollY ? gantt.$ui.getView(view.$config.scrollY) : null;\n\n\t\tif(scrollX){\n\t\t\tscrollX.scrollTo(left, null);\n\t\t}\n\t\tif(scrollY){\n\t\t\tscrollY.scrollTo(null, top);\n\t\t}\n\t}\n\n\tfunction getTaskDND(){\n\t\tvar tasksDnD;\n\t\tif(gantt.$ui.getView(\"timeline\")){\n\t\t\ttasksDnD = gantt.$ui.getView(\"timeline\")._tasks_dnd;\n\t\t}\n\t\treturn tasksDnD;\n\t}\n\n\tvar touchHandlers = [];\n\n//we can't use native scrolling, as we need to sync momentum between different parts\n//so we will block native scroll and use the custom one\n//in future we can add custom momentum\n\tgantt._touch_events = function (names, accessor, ignore) {\n\t\t//webkit on android need to be handled separately\n\t\tvar dblclicktime = 0;\n\t\tvar actionMode = false;\n\t\tvar scrollMode = false;\n\t\tvar actionStart = null;\n\t\tvar scrollState;\n\t\tvar longTapTimer = null;\n\t\tvar currentDndId = null;\n\t\tvar dndNodes = [];\n\t\tvar targetView = null;\n\n\t\tfor(var i = 0; i < touchHandlers.length; i++){\n\t\t\tgantt.eventRemove(touchHandlers[i][0], touchHandlers[i][1], touchHandlers[i][2]);\n\t\t}\n\t\ttouchHandlers = [];\n\n\t\t//touch move\n\t\ttouchHandlers.push([gantt.$container, names[0], function (e) {\n\t\t\tvar tasksDnD = getTaskDND();\n\n\t\t\t\tif (ignore(e)) return;\n\n\t\t\t\t//ignore common and scrolling moves\n\t\t\t\tif (!actionMode) return;\n\n\t\t\t\tif (longTapTimer) clearTimeout(longTapTimer);\n\n\t\t\t\tvar source = accessor(e);\n\t\t\t\tif (tasksDnD && (tasksDnD.drag.id || tasksDnD.drag.start_drag)) {\n\t\t\t\t\ttasksDnD.on_mouse_move(source);\n\t\t\t\t\tif (e.preventDefault)\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.cancelBubble = true;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (!gantt._prevent_touch_scroll) {\n\t\t\t\t\tif (source && actionStart) {\n\t\t\t\t\t\tvar dx = actionStart.pageX - source.pageX;\n\t\t\t\t\t\tvar dy = actionStart.pageY - source.pageY;\n\t\t\t\t\t\tif (!scrollMode && (Math.abs(dx) > 5 || Math.abs(dy) > 5)) {\n\t\t\t\t\t\t\tscrollMode = true;\n\t\t\t\t\t\t\t//gantt._touch_scroll_active = scroll_mode = true;\n\t\t\t\t\t\t\tdblclicktime = 0;\n\n\t\t\t\t\t\t\tif(targetView){\n\t\t\t\t\t\t\t\tscrollState = getScrollState(targetView);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tscrollState = gantt.getScrollState();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (scrollMode) {\n\n\t\t\t\t\t\t\tvar newScrollState;\n\t\t\t\t\t\t\tvar scrollX = scrollState.x + dx;\n\t\t\t\t\t\t\tvar scrollY = scrollState.y + dy;\n\t\t\t\t\t\t\tif(targetView){\n\t\t\t\t\t\t\t\tscrollView(targetView, scrollX, scrollY);\n\t\t\t\t\t\t\t\tnewScrollState = getScrollState(targetView);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tgantt.scrollTo(scrollX, scrollY);\n\t\t\t\t\t\t\t\tnewScrollState = gantt.getScrollState();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ((scrollState.x != newScrollState.x && dy > 2 * dx) ||\n\t\t\t\t\t\t\t\t(scrollState.y != newScrollState.y && dx > 2 * dy )) {\n\t\t\t\t\t\t\t\treturn block_action(e);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn block_action(e);\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}]);\n\n\n\t\t//block touch context menu in IE10\n\t\ttouchHandlers.push([this.$container, \"contextmenu\", function (e) {\n\t\t\tif (actionMode)\n\t\t\t\treturn block_action(e);\n\t\t}]);\n\n\t\t//touch start\n\t\ttouchHandlers.push([this.$container, names[1], function (e) {\n\t\t\t// block pull-to-refresh\n\t\t\tif(document && document.body){\n\t\t\t\tdocument.body.classList.add(\"gantt_touch_active\");\n\t\t\t}\n\n\t\t\tif (ignore(e)) return;\n\t\t\tif (e.touches && e.touches.length > 1) {\n\t\t\t\tactionMode = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tactionStart = accessor(e);\n\t\t\ttargetView = findTargetView(actionStart);\n\t\t\tif (!gantt._locate_css(actionStart, \"gantt_hor_scroll\") && !gantt._locate_css(actionStart, \"gantt_ver_scroll\")) {\n\t\t\t\tactionMode = true;\n\t\t\t}\n\t\t\tvar tasksDnD = getTaskDND();\n\n\t\t\t//long tap\n\t\t\tlongTapTimer = setTimeout(function () {\n\t\t\t\tvar taskId = gantt.locate(actionStart);\n\t\t\t\tif (tasksDnD && (taskId && !gantt._locate_css(actionStart, \"gantt_link_control\") && !gantt._locate_css(actionStart, \"gantt_grid_data\"))) {\n\t\t\t\t\ttasksDnD.on_mouse_down(actionStart);\n\n\t\t\t\t\tif (tasksDnD.drag && tasksDnD.drag.start_drag) {\n\t\t\t\t\t\tcloneTaskRendered(taskId);\n\t\t\t\t\t\ttasksDnD._start_dnd(actionStart);\n\t\t\t\t\t\tgantt._touch_drag = true;\n\n\t\t\t\t\t\tgantt.refreshTask(taskId);\n\n\t\t\t\t\t\tgantt._touch_feedback();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tlongTapTimer = null;\n\t\t\t}, gantt.config.touch_drag);\n\t\t}]);\n\n\t\t//touch end\n\t\ttouchHandlers.push([this.$container, names[2], function (e) {\n\t\t\tif(document && document.body){\n\t\t\t\tdocument.body.classList.remove(\"gantt_touch_active\");\n\t\t\t}\n\t\t\tif (ignore(e)) return;\n\t\t\tif (longTapTimer) clearTimeout(longTapTimer);\n\t\t\tgantt._touch_drag = false;\n\t\t\tactionMode = false;\n\t\t\tvar source = accessor(e);\n\n\t\t\tvar tasksDnD = getTaskDND();\n\n\t\t\tif(tasksDnD)\n\t\t\t\ttasksDnD.on_mouse_up(source);\n\n\t\t\tif (currentDndId && gantt.isTaskExists(currentDndId)) {\n\t\t\t\tgantt.refreshTask(currentDndId);\n\t\t\t\tif(dndNodes.length){\n\t\t\t\t\tdndNodes.forEach(function(node){\n\t\t\t\t\t\tif(node.parentNode){\n\t\t\t\t\t\t\tnode.parentNode.removeChild(node);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tgantt._touch_feedback();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//gantt._touch_scroll_active = action_mode = scroll_mode = false;\n\t\t\tactionMode = scrollMode = false;\n\t\t\tdndNodes = [];\n\t\t\tcurrentDndId = null;\n\n\t\t\t//dbl-tap handling\n\t\t\tif (actionStart && dblclicktime) {\n\t\t\t\tvar now = new Date();\n\t\t\t\tif ((now - dblclicktime) < 500) {\n\n\t\t\t\t\tvar mouseEvents = gantt.$services.getService(\"mouseEvents\");\n\t\t\t\t\tmouseEvents.onDoubleClick(actionStart);\n\t\t\t\t\tblock_action(e);\n\t\t\t\t} else\n\t\t\t\t\tdblclicktime = now;\n\t\t\t} else {\n\t\t\t\tdblclicktime = new Date();\n\t\t\t}\n\t\t}]);\n\n\t\tfor(var i = 0; i < touchHandlers.length; i++){\n\t\t\tgantt.event(touchHandlers[i][0], touchHandlers[i][1], touchHandlers[i][2]);\n\t\t}\n\n\t\t//common helper, prevents event\n\t\tfunction block_action(e) {\n\t\t\tif (e && e.preventDefault){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\te.cancelBubble = true;\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction cloneTaskRendered(taskId) {\n\t\t\tvar renders = gantt._getTaskLayers();\n\t\t\tvar task = gantt.getTask(taskId);\n\t\t\tif (task && gantt.isTaskVisible(taskId)) {\n\t\t\t\tcurrentDndId = taskId;\n\t\t\t\tfor (var i = 0; i < renders.length; i++) {\n\t\t\t\t\ttask = renders[i].rendered[taskId];\n\t\t\t\t\tif (task && task.getAttribute(gantt.config.task_attribute) && task.getAttribute(gantt.config.task_attribute) == taskId) {\n\t\t\t\t\t\tvar copy = task.cloneNode(true);\n\t\t\t\t\t\tdndNodes.push(task);\n\t\t\t\t\t\trenders[i].rendered[taskId] = copy;\n\t\t\t\t\t\ttask.style.display = \"none\";\n\t\t\t\t\t\tcopy.className += \" gantt_drag_move \";\n\t\t\t\t\t\ttask.parentNode.appendChild(copy);\n\t\t\t\t\t\t//return copy;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n};","import * as env from \"../../../utils/env\";\nimport * as eventable from \"../../../utils/eventable\";\nimport * as isHeadless from \"../../../utils/is_headless\";\nimport { IScale, TModifierKeys } from \"../../common/config\";\n\ninterface ITimelineZoomConfig {\n\thandler?: (e: Event) => {};\n\tstartDate?: Date;\n\tendDate?: Date;\n\tlevels: IZoomLevel[];\n\tactiveLevelIndex?: number;\n\twidthStep?: number;\n\tminColumnWidth?: number;\n\tmaxColumnWidth?: number;\n\tuseKey?: \"ctrlKey\" | \"altKey\" | \"shiftKey\";\n\ttrigger?: \"wheel\" | null | undefined;\n\telement?: Element | (() => Element);\n}\n\nconst USE_KEY = [\"ctrlKey\", \"altKey\", \"shiftKey\", \"metaKey\"];\n\ninterface IZoomLevel {\n\tname?: string;\n\tscale_height?: number;\n\tmin_column_width: number;\n\tscales: IScale[];\n}\n\nconst _defaultScales = [\n\t[\n\t\t{\n\t\t\tunit: \"month\",\n\t\t\tdate: \"%M\",\n\t\t\tstep: 1\n\t\t},\n\t\t{\n\t\t\tunit: \"day\",\n\t\t\tdate: \"%d\",\n\t\t\tstep: 1\n\t\t}\n\t],\n\t[\n\t\t{\n\t\t\tunit: \"day\",\n\t\t\tdate: \"%d %M\",\n\t\t\tstep: 1\n\t\t}\n\t],\n\t[\n\t\t{\n\t\t\tunit: \"day\",\n\t\t\tdate: \"%d %M\",\n\t\t\tstep: 1\n\t\t},\n\t\t{\n\t\t\tunit: \"hour\",\n\t\t\tdate: \"%H:00\",\n\t\t\tstep: 8\n\t\t},\n\t],\n\t[\n\t\t{\n\t\t\tunit: \"day\",\n\t\t\tdate: \"%d %M\",\n\t\t\tstep: 1\n\t\t},\n\t\t{\n\t\t\tunit: \"hour\",\n\t\t\tdate: \"%H:00\",\n\t\t\tstep: 1\n\t\t},\n\t],\n];\n\nexport default class TimelineZoom {\n\tpublic attachEvent: (eventName: string, handler: () => void) => string;\n\tpublic callEvent: (eventName: string, args: any[]) => any;\n\tpublic detachEvent: (eventName: string) => any;\n\tprotected _initialStartDate: Date;\n\tprotected _initialEndDate: Date;\n\tprotected _activeLevelIndex: number;\n\tprotected _levels: IZoomLevel[];\n\tprotected _handler: (e: any) => void;\n\tprotected $gantt;\n\tprotected _widthStep: number;\n\tprotected _minColumnWidth: number;\n\tprotected _maxColumnWidth: number;\n\tprotected _useKey: TModifierKeys;\n\tprotected _visibleDate: Date;\n\tprotected _initialized: boolean;\n\tprotected _domEvents: any;\n\n\tconstructor(gantt) {\n\t\tthis.$gantt = gantt;\n\t\tthis._domEvents = this.$gantt._createDomEventScope();\n\t}\n\n\tpublic init(config: ITimelineZoomConfig) {\n\t\tif(!isHeadless(this.$gantt)){\n\t\t\treturn;\n\t\t}\n\t\tthis._initialStartDate = config.startDate;\n\t\tthis._initialEndDate = config.endDate;\n\t\tthis._activeLevelIndex = config.activeLevelIndex ? config.activeLevelIndex : 0;\n\t\tthis._levels = this._mapScales(config.levels || _defaultScales);\n\t\tthis._handler = config.handler || this._defaultHandler;\n\t\tthis._minColumnWidth = config.minColumnWidth || 60;\n\t\tthis._maxColumnWidth = config.maxColumnWidth || 240;\n\t\tthis._widthStep = config.widthStep || 3/8 * config.minColumnWidth;\n\t\tthis._useKey = config.useKey;\n\n\t\tif(!this._initialized){\n\t\t\teventable(this);\n\t\t\tthis.$gantt.attachEvent(\"onGanttScroll\", () => {\n\t\t\t\tthis._getVisibleDate();\n\t\t\t});\n\t\t}\n\n\t\tthis._domEvents.detachAll();\n\n\t\tif(config.trigger === \"wheel\"){\n\t\t\tif(this.$gantt.$root){\n\t\t\t\tthis._attachWheelEvent(config);\n\t\t\t}else{\n\t\t\t\tthis.$gantt.attachEvent(\"onGanttReady\", () => {\n\t\t\t\t\tthis._attachWheelEvent(config);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tthis._initialized = true;\n\t\tthis.setLevel(this._activeLevelIndex);\n\t}\n\n\tpublic zoomIn = () => {\n\t\tconst index = this.getCurrentLevel() - 1;\n\t\tif(index < 0){\n\t\t\treturn;\n\t\t}\n\t\tthis.setLevel(index);\n\t}\n\n\tpublic zoomOut = () => {\n\t\tconst index = this.getCurrentLevel() + 1;\n\t\tif(index > this._levels.length - 1){\n\t\t\treturn;\n\t\t}\n\t\tthis.setLevel(index);\n\t}\n\n\tpublic getCurrentLevel = () => {\n\t\treturn this._activeLevelIndex;\n\t}\n\n\tpublic getLevels = () => {\n\t\treturn this._levels;\n\t}\n\n\tpublic setLevel = (level: number|string) => {\n\t\tconst zoomLevel = this._getZoomIndexByName(level);\n\n\t\tif(zoomLevel === -1){\n\t\t\tthis.$gantt.assert(zoomLevel !== -1, \"Invalid zoom level for gantt.ext.zoom.setLevel. \" + level + \" is not an expected value.\");\n\t\t}\n\t\tthis._setLevel(zoomLevel, 0);\n\t}\n\n\tprotected _getZoomIndexByName = (levelName: number|string) => {\n\t\tlet zoomLevel:number = -1;\n\t\tif(typeof levelName === \"string\"){\n\t\t\tif(!isNaN(Number(levelName)) &&  this._levels[Number(levelName)]){\n\t\t\t\tzoomLevel = Number(levelName);\n\t\t\t}else{\n\t\t\t\tfor(let i = 0; i < this._levels.length; i++){\n\t\t\t\t\tif(this._levels[i].name === levelName){\n\t\t\t\t\t\tzoomLevel = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tzoomLevel = levelName;\n\t\t}\n\t\treturn zoomLevel;\n\t}\n\n\tprotected _mapScales(levels: IScale[][] | any): IZoomLevel[]{\n\t\treturn levels.map((l) => {\n\t\t\tif(Array.isArray(l)){\n\t\t\t\treturn {\n\t\t\t\t\tscales: l\n\t\t\t\t};\n\t\t\t}else{\n\t\t\t\treturn l;\n\t\t\t}\n\t\t});\n\t}\n\n\tprotected _getVisibleDate = () => {\n\t\tconst scrollPos = this.$gantt.getScrollState().x;\n\t\tconst viewPort = this.$gantt.$task.offsetWidth;\n\t\tthis._visibleDate = this.$gantt.dateFromPos(scrollPos + viewPort/2);\n\t}\n\n\tprotected _setLevel = (level: number, cursorOffset: number) => {\n\t\tthis._activeLevelIndex = level;\n\n\t\tconst gantt = this.$gantt;\n\t\tconst nextConfig = gantt.copy(this._levels[this._activeLevelIndex]);\n\t\tconst chartConfig = gantt.copy(nextConfig);\n\t\tdelete chartConfig.name;\n\n\t\tgantt.mixin(gantt.config, chartConfig, true);\n\n\t\tconst isRendered = !!gantt.$root;\n\n\t\tif(isRendered){\n\t\t\tif(cursorOffset){\n\t\t\t\tconst cursorDate = this.$gantt.dateFromPos(cursorOffset + this.$gantt.getScrollState().x);\n\t\t\t\tthis.$gantt.render();\n\t\t\t\tconst newPosition = this.$gantt.posFromDate(cursorDate);\n\t\t\t\tthis.$gantt.scrollTo(newPosition - cursorOffset);\n\t\t\t}else{\n\t\t\t\tconst viewPort = this.$gantt.$task.offsetWidth;\n\t\t\t\tif(!this._visibleDate){\n\t\t\t\t\tthis._getVisibleDate();\n\t\t\t\t}\n\t\t\t\tconst middleDate = this._visibleDate;\n\t\t\t\tthis.$gantt.render();\n\t\t\t\tconst newPosition = this.$gantt.posFromDate(middleDate);\n\t\t\t\tthis.$gantt.scrollTo(newPosition - viewPort/2);\n\t\t\t}\n\n\t\t\tthis.callEvent(\"onAfterZoom\", [this._activeLevelIndex, nextConfig]);\n\t\t}\n\t}\n\n\tprivate _attachWheelEvent = (config) => {\n\t\tconst event = env.isFF ? \"wheel\" : \"mousewheel\";\n\t\tlet el: Element;\n\t\tif(typeof config.element === \"function\"){\n\t\t\tel = config.element();\n\t\t}else{\n\t\t\tel = config.element as Element;\n\t\t}\n\t\tif (!el){\n\t\t\treturn;\n\t\t}\n\n\t\tthis._domEvents.attach(el, event, this.$gantt.bind(function(e) {\n\t\t\tif (this._useKey) {\n\t\t\t\tif (USE_KEY.indexOf(this._useKey) < 0) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (!e[this._useKey]) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (typeof this._handler === \"function\") {\n\t\t\t\tthis._handler.apply(this, [e]);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}, this));\n\t}\n\n\tprivate _defaultHandler = (e: any):void => {\n\t\tconst timelineOffset = this.$gantt.$task.getBoundingClientRect().x;\n\t\tconst cursorOffset = e.clientX - timelineOffset;\n\t\tconst wheelY = this.$gantt.env.isFF ? (e.deltaY*-40) : e.wheelDelta;\n\t\tlet wheelUp = false;\n\t\tif (wheelY > 0) {\n\t\t\twheelUp = true;\n\t\t}\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tthis._setScaleSettings(wheelUp, cursorOffset);\n\t}\n\n\tprivate _setScaleSettings(wheelUp: boolean, cursorOffset: number) {\n\t\tif (wheelUp) {\n\t\t\tthis._stepUp(cursorOffset);\n\t\t} else {\n\t\t\tthis._stepDown(cursorOffset);\n\t\t}\n\t}\n\n\tprivate _setScaleDates = () => {\n\t\tif(this._initialStartDate && this._initialEndDate){\n\t\t\tthis.$gantt.config.start_date = this._initialStartDate;\n\t\t\tthis.$gantt.config.end_date = this._initialEndDate;\n\t\t}\n\t}\n\n\tprivate _stepUp(cursorOffset) {\n\t\tif (this._activeLevelIndex >= this._levels.length - 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet nextLevel = this._activeLevelIndex;\n\t\tthis._setScaleDates();\n\n\t\tif(this._widthStep){\n\t\t\tlet newColumnWidth = this.$gantt.config.min_column_width + this._widthStep;\n\t\t\tif (newColumnWidth > this._maxColumnWidth) {\n\t\t\t\tnewColumnWidth = this._minColumnWidth;\n\t\t\t\tnextLevel++;\n\t\t\t}\n\n\t\t\tthis.$gantt.config.min_column_width = newColumnWidth;\n\t\t}else{\n\t\t\tnextLevel++;\n\t\t}\n\t\tthis._setLevel(nextLevel, cursorOffset);\n\t}\n\tprivate _stepDown(cursorOffset) {\n\t\tif (this._activeLevelIndex < 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet nextLevel = this._activeLevelIndex;\n\t\tthis._setScaleDates();\n\n\t\tif(this._widthStep){\n\t\t\tlet newColumnWidth = this.$gantt.config.min_column_width - this._widthStep;\n\t\t\tif (newColumnWidth < this._minColumnWidth) {\n\t\t\t\tnewColumnWidth = this._maxColumnWidth;\n\t\t\t\tnextLevel--;\n\t\t\t}\n\t\t\tthis.$gantt.config.min_column_width = newColumnWidth;\n\t\t}else{\n\t\t\tnextLevel--;\n\t\t}\n\t\tthis._setLevel(nextLevel, cursorOffset);\n\t}\n}","if (window.dhtmlx){\n\n\tif (!window.dhtmlx.attaches)\n\twindow.dhtmlx.attaches = {};\n\n\twindow.dhtmlx.attaches.attachGantt=function(start, end, gantt){\n\t\tvar obj = document.createElement(\"DIV\");\n\n\t\tgantt = gantt || window.gantt;\n\n\t\tobj.id = \"gantt_\"+ gantt.uid();\n\t\tobj.style.width = \"100%\";\n\t\tobj.style.height = \"100%\";\n\t\tobj.cmp = \"grid\";\n\n\t\tdocument.body.appendChild(obj);\n\t\tthis.attachObject(obj.id);\n\t\tthis.dataType = \"gantt\";\n\t\tthis.dataObj = gantt;\n\n\t\tvar that = this.vs[this.av];\n\t\tthat.grid = gantt;\n\n\t\tgantt.init(obj.id, start, end);\n\t\tobj.firstChild.style.border = \"none\";\n\n\t\tthat.gridId = obj.id;\n\t\tthat.gridObj = obj;\n\n\t\tvar method_name=\"_viewRestore\";\n\t\treturn this.vs[this[method_name]()].grid;\n\t};\n\n}\nif (typeof(window.dhtmlXCellObject) != \"undefined\") {\n\n\twindow.dhtmlXCellObject.prototype.attachGantt=function(start, end, gantt){\n\t\tgantt = gantt || window.gantt;\n\n\t\tvar obj = document.createElement(\"DIV\");\n\t\tobj.id = \"gantt_\"+gantt.uid();\n\t\tobj.style.width = \"100%\";\n\t\tobj.style.height = \"100%\";\n\t\tobj.cmp = \"grid\";\n\n\t\tdocument.body.appendChild(obj);\n\t\tthis.attachObject(obj.id);\n\n\t\tthis.dataType = \"gantt\";\n\t\tthis.dataObj = gantt;\n\n\t\tgantt.init(obj.id, start, end);\n\t\tobj.firstChild.style.border = \"none\";\n\n\t\tobj = null;\n\t\tthis.callEvent(\"_onContentAttach\",[]);\n\n\t\treturn this.dataObj;\n\t};\n}\n\nmodule.exports = null;","if (window.jQuery){\n\n\t(function( $ ){\n\n\t\tvar methods = [];\n\t\t$.fn.dhx_gantt = function(config){\n\t\t\tconfig = config || {};\n\t\t\tif (typeof(config) === 'string') {\n\t\t\t\tif (methods[config] ) {\n\t\t\t\t\treturn methods[config].apply(this, []);\n\t\t\t\t}else {\n\t\t\t\t\t$.error('Method ' +  config + ' does not exist on jQuery.dhx_gantt');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar views = [];\n\t\t\t\tthis.each(function() {\n\t\t\t\t\tif (this && this.getAttribute){\n\t\t\t\t\t\tif (!this.gantt && !(window.gantt.$root == this)){\n\n\t\t\t\t\t\t\tvar newgantt = (window.gantt.$container && window.Gantt) ? window.Gantt.getGanttInstance():window.gantt;\n\t\t\t\t\t\t\tfor (var key in config)\n\t\t\t\t\t\t\t\tif (key!=\"data\")\n\t\t\t\t\t\t\t\t\tnewgantt.config[key] = config[key];\n\n\t\t\t\t\t\t\tnewgantt.init(this);\n\t\t\t\t\t\t\tif (config.data)\n\t\t\t\t\t\t\t\tnewgantt.parse(config.data);\n\n\t\t\t\t\t\t\tviews.push(newgantt);\n\t\t\t\t\t\t} else\n\t\t\t\t\t\t\tviews.push(typeof this.gantt == \"object\" ? this.gantt : window.gantt);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\n\t\t\t\tif (views.length === 1) return views[0];\n\t\t\t\treturn views;\n\t\t\t}\n\t\t};\n\n\t})(window.jQuery);\n\n}\n\n\nmodule.exports = null;","var domHelpers = require(\"../utils/dom_helpers\");\nvar isHeadless = require(\"../../../utils/is_headless\");\n\nmodule.exports = function(gantt){\n\n\tvar scrollRange = 50,\n\t\tscrollStep = 30,\n\t\tscrollDelay = 10,\n\t\tscrollSpeed = 50;\n\n\tvar interval = null,\n\t\tisMove = false,\n\t\tdelayTimeout = null,\n\t\tstartPos = {\n\t\t\tstarted: false\n\t\t},\n\t\teventPos = {};\n\n\n\tfunction isDisplayed(element){\n\t\treturn element &&\n\t\t\tdomHelpers.isChildOf(element, gantt.$root) &&\n\t\t\telement.offsetHeight;\n\t}\n\n\tfunction getAutoscrollContainer(){\n\t\tvar element;\n\t\tif(isDisplayed(gantt.$task)){\n\t\t\telement = gantt.$task;\n\t\t}else if(isDisplayed(gantt.$grid)){\n\t\t\telement = gantt.$grid;\n\t\t}else{\n\t\t\telement = gantt.$root;\n\t\t}\n\n\t\treturn element;\n\t}\n\n\tfunction isScrollState() {\n\t\tvar dragMarker = !!document.querySelector(\".gantt_drag_marker\");\n\t\tvar isResize = !!document.querySelector(\".gantt_drag_marker.gantt_grid_resize_area\")\n\t\t\t|| !!document.querySelector(\".gantt_drag_marker.gantt_row_grid_resize_area\") ;\n\t\tvar isLink = !!document.querySelector(\".gantt_link_direction\");\n\t\tvar state = gantt.getState();\n\t\tvar isClickDrag = state.autoscroll;\n\t\tisMove = dragMarker && !isResize && !isLink;\n\n\t\treturn !((!state.drag_mode && !dragMarker) || isResize) || isClickDrag;\n\t}\n\n\tfunction defineDelayTimeout(state) {\n\t\tif (delayTimeout) {\n\t\t\tclearTimeout(delayTimeout);\n\t\t\tdelayTimeout = null;\n\t\t}\n\t\tif (state) {\n\t\t\tvar speed = gantt.config.autoscroll_speed;\n\t\t\tif (speed && speed < 10) // limit speed value to 10\n\t\t\t\tspeed = 10;\n\n\t\t\tdelayTimeout = setTimeout(function() {\n\t\t\t\tinterval = setInterval(tick, speed || scrollSpeed);\n\t\t\t}, gantt.config.autoscroll_delay || scrollDelay);\n\t\t}\n\t}\n\n\tfunction defineScrollInterval(state) {\n\t\tif (state) {\n\t\t\tdefineDelayTimeout(true);\n\t\t\tif (!startPos.started) {\n\t\t\t\tstartPos.x = eventPos.x;\n\t\t\t\tstartPos.y = eventPos.y;\n\t\t\t\tstartPos.started = true;\n\t\t\t}\n\t\t} else {\n\t\t\tif (interval) {\n\t\t\t\tclearInterval(interval);\n\t\t\t\tinterval = null;\n\t\t\t}\n\t\t\tdefineDelayTimeout(false);\n\t\t\tstartPos.started = false;\n\t\t}\n\t}\n\n\tfunction autoscrollInterval(event) {\n\t\tvar isScroll = isScrollState();\n\n\t\tif ((interval || delayTimeout) && !isScroll) {\n\t\t\tdefineScrollInterval(false);\n\t\t}\n\n\t\tif (!gantt.config.autoscroll || !isScroll) {\n\t\t\treturn false;\n\t\t}\n\n\t\teventPos = {\n\t\t\tx: event.clientX,\n\t\t\ty: event.clientY\n\t\t};\n\n\t\t// if it is a mobile device, we need to detect the touch event coords\n\t\tif (event.type == \"touchmove\"){\n\t\t\teventPos.x = event.targetTouches[0].clientX;\n\t\t\teventPos.y = event.targetTouches[0].clientY;\n\t\t}\n\n\t\tif (!interval && isScroll) {\n\t\t\tdefineScrollInterval(true);\n\t\t}\n\t}\n\n\tfunction tick() {\n\n\t\tif (!isScrollState()) {\n\t\t\tdefineScrollInterval(false);\n\t\t\treturn false;\n\t\t}\n\n\t\tvar container = getAutoscrollContainer();\n\t\tif(!container){\n\t\t\treturn;\n\t\t}\n\n\t\tvar box = domHelpers.getNodePosition(container);\n\n\t\tvar posX = eventPos.x - box.x;\n\t\tvar posY = eventPos.y - box.y;\n\n\t\tvar scrollLeft = isMove ? 0 : need_scroll(posX, box.width, startPos.x - box.x);\n\t\tvar scrollTop = need_scroll(posY, box.height, startPos.y - box.y);\n\n\t\tvar scrollState = gantt.getScrollState();\n\n\t\tvar currentScrollTop = scrollState.y,\n\t\t\tscrollOuterHeight = scrollState.inner_height,\n\t\t\tscrollInnerHeight = scrollState.height,\n\t\t\tcurrentScrollLeft = scrollState.x,\n\t\t\tscrollOuterWidth = scrollState.inner_width,\n\t\t\tscrollInnerWidth = scrollState.width;\n\n\t\t// do scrolling only if we have scrollable area to do so\n\t\tif (scrollTop && !scrollOuterHeight) {\n\t\t\tscrollTop = 0;\n\t\t} else if (scrollTop < 0 && !currentScrollTop) {\n\t\t\tscrollTop = 0;\n\t\t} else if (scrollTop > 0 && currentScrollTop + scrollOuterHeight >= scrollInnerHeight + 2) {\n\t\t\tscrollTop = 0;\n\t\t}\n\n\t\tif (scrollLeft && !scrollOuterWidth) {\n\t\t\tscrollLeft = 0;\n\t\t} else if (scrollLeft < 0 && !currentScrollLeft) {\n\t\t\tscrollLeft = 0;\n\t\t} else if (scrollLeft > 0 && currentScrollLeft + scrollOuterWidth >= scrollInnerWidth) {\n\t\t\tscrollLeft = 0;\n\t\t}\n\n\t\tvar step = gantt.config.autoscroll_step;\n\n\t\tif (step && step < 2) // limit step value to 2\n\t\t\tstep = 2;\n\n\t\tscrollLeft = scrollLeft * (step || scrollStep);\n\t\tscrollTop = scrollTop * (step || scrollStep);\n\n\t\tif (scrollLeft || scrollTop) {\n\t\t\tscroll(scrollLeft, scrollTop);\n\t\t}\n\t}\n\n\tfunction need_scroll(pos, boxSize, startCoord) {\n\t\tif ((pos - scrollRange < 0) && (pos < startCoord))\n\t\t\treturn -1;\n\t\telse if ((pos > boxSize - scrollRange) && (pos > startCoord))\n\t\t\treturn 1;\n\t\treturn 0;\n\t}\n\n\tfunction scroll(left, top) {\n\t\tvar scrollState = gantt.getScrollState();\n\n\t\tvar scrollLeft = null,\n\t\t\tscrollTop = null;\n\n\t\tif (left) {\n\t\t\tscrollLeft = scrollState.x + left;\n\t\t\tscrollLeft = Math.min(scrollState.width, scrollLeft);\n\t\t\tscrollLeft = Math.max(0, scrollLeft);\n\t\t}\n\n\t\tif (top) {\n\t\t\tscrollTop = scrollState.y + top;\n\t\t\tscrollTop = Math.min(scrollState.height, scrollTop);\n\t\t\tscrollTop = Math.max(0, scrollTop);\n\t\t}\n\n\t\tgantt.scrollTo(scrollLeft, scrollTop);\n\t}\n\n\tgantt.attachEvent(\"onGanttReady\", function() {\n\t\tif(!isHeadless(gantt)){\n\t\t\tgantt.eventRemove(document.body, \"mousemove\", autoscrollInterval);\n\t\t\tgantt.event(document.body, \"mousemove\", autoscrollInterval);\n\n\t\t\tgantt.eventRemove(document.body, \"touchmove\", autoscrollInterval);\n\t\t\tgantt.event(document.body, \"touchmove\", autoscrollInterval);\n\n\t\t\tgantt.eventRemove(document.body, \"pointermove\", autoscrollInterval);\n\t\t\tgantt.event(document.body, \"pointermove\", autoscrollInterval);\n\t\t}\n\t});\n\n\tgantt.attachEvent(\"onDestroy\", function(){\n\t\tdefineScrollInterval(false);\n\t});\n\n};","module.exports = function(gantt){\n\tif(!gantt.ext){\n\t\tgantt.ext = {};\n\t}\n\n\tvar modules = [\n\t\trequire(\"./autoscroll\"),\n\t\trequire(\"./jquery_hooks\"),\n\t\trequire(\"./dhtmlx_hooks\")\n\t];\n\n\tfor(var i = 0; i < modules.length; i++){\n\t\tif(modules[i])\n\t\t\tmodules[i](gantt);\n\t}\n\n\tvar TimelineZoom = require(\"./timeline_zoom\").default;\n\tgantt.ext.zoom = new TimelineZoom(gantt);\n};","module.exports = function(gantt) {\ngantt.skins[\"contrast_white\"] = {\n\tconfig:{\n\t\tgrid_width:360,\n\t\trow_height: 35,\n\t\tscale_height: 35,\n\t\tlink_line_width:2,\n\t\tlink_arrow_size:6,\n\t\tlightbox_additional_height:75\n\t},\n\t_second_column_width:100,\n\t_third_column_width:80\n};\n\n};","module.exports = function(gantt) {\ngantt.skins[\"contrast_black\"] = {\n\tconfig:{\n\t\tgrid_width:360,\n\t\trow_height: 35,\n\t\tscale_height: 35,\n\t\tlink_line_width:2,\n\t\tlink_arrow_size:6,\n\t\tlightbox_additional_height:75\n\t},\n\t_second_column_width:100,\n\t_third_column_width:80\n};\n\n};","module.exports = function(gantt) {\n\tgantt.skins.material = {\n\t\tconfig: {\n\t\t\tgrid_width: 411,\n\t\t\trow_height: 34,\n\t\t\ttask_height_offset: 6,\n\t\t\tscale_height: 36,\n\t\t\tlink_line_width: 2,\n\t\t\tlink_arrow_size: 6,\n\t\t\tlightbox_additional_height: 80\n\t\t},\n\t\t_second_column_width: 110,\n\t\t_third_column_width: 75,\n\t\t_redefine_lightbox_buttons: {\n\t\t\t\"buttons_left\": [\"dhx_delete_btn\"],\n\t\t\t\"buttons_right\": [\"dhx_save_btn\", \"dhx_cancel_btn\"]\n\t\t}\n\t};\n\n\tgantt.attachEvent(\"onAfterTaskDrag\", function (id) {\n\t\tvar t = gantt.getTaskNode(id);\n\t\tif (t) {\n\t\t\tt.className += \" gantt_drag_animation\";\n\t\t\tsetTimeout(function () {\n\t\t\t\tvar indx = t.className.indexOf(\" gantt_drag_animation\");\n\t\t\t\tif (indx > -1) {\n\t\t\t\t\tt.className = t.className.slice(0, indx);\n\t\t\t\t}\n\t\t\t}, 200);\n\t\t}\n\t});\n\n};","module.exports = function(gantt) {\n\tgantt.skins.broadway = {\n\t\tconfig: {\n\t\t\tgrid_width: 360,\n\t\t\trow_height: 35,\n\t\t\tscale_height: 35,\n\t\t\tlink_line_width: 1,\n\t\t\tlink_arrow_size: 7,\n\t\t\tlightbox_additional_height: 86\n\t\t},\n\t\t_second_column_width: 90,\n\t\t_third_column_width: 80,\n\n\t\t_lightbox_template: \"<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span><div class='gantt_cancel_btn'></div></div><div class='gantt_cal_larea'></div>\",\n\t\t_config_buttons_left: {},\n\t\t_config_buttons_right: {\n\t\t\t\"gantt_delete_btn\": \"icon_delete\",\n\t\t\t\"gantt_save_btn\": \"icon_save\"\n\t\t}\n\t};\n};","module.exports = function(gantt) {\ngantt.skins.terrace = {\n\tconfig:{\n\t\tgrid_width:360,\n\t\trow_height: 35,\n\t\tscale_height: 35,\n\t\tlink_line_width:2,\n\t\tlink_arrow_size:6,\n\t\tlightbox_additional_height:75\n\t},\n\t_second_column_width:90,\n\t_third_column_width:70\t\t\n};\n\n};","module.exports = function(gantt) {\ngantt.skins.meadow = {\n\tconfig:{\n\t\tgrid_width:350,\n\t\trow_height: 27,\n\t\tscale_height: 30,\n\t\tlink_line_width:2,\n\t\tlink_arrow_size:6,\n\t\tlightbox_additional_height:72\n\t},\n\t_second_column_width:95,\n\t_third_column_width:80\n};\n\n};","module.exports = function(gantt) {\ngantt.skins.skyblue = {\n\tconfig:{\n\t\tgrid_width:350,\n\t\trow_height: 27,\n\t\tscale_height: 27,\n\t\tlink_line_width:1,\n\t\tlink_arrow_size:8,\n\t\tlightbox_additional_height:75\n\t},\n\t_second_column_width:95,\n\t_third_column_width:80\n};\n\n};","function _configure(col, data, force) {\n\tfor (var key in data)\n\t\tif (typeof col[key] == \"undefined\" || force)\n\t\t\tcol[key] = data[key];\n}\n\nfunction _get_skin(force, gantt) {\n\tvar skin = gantt.skin;\n\tif (!skin || force) {\n\t\tvar links = document.getElementsByTagName(\"link\");\n\t\tfor (var i = 0; i < links.length; i++) {\n\t\t\tvar res = links[i].href.match(\"dhtmlxgantt_([a-z_]+).css\");\n\t\t\tif (res) {\n\t\t\t\tif (gantt.skins[res[1]] || !skin) {\n\t\t\t\t\tskin = res[1];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tgantt.skin = skin || \"terrace\";\n\tvar skinset = gantt.skins[gantt.skin] || gantt.skins[\"terrace\"];\n\n\t//apply skin related settings\n\t_configure(gantt.config, skinset.config, force);\n\n\tvar config = gantt.getGridColumns();\n\tif (config[1] && !gantt.defined(config[1].width))\n\t\tconfig[1].width = skinset._second_column_width;\n\tif (config[2] && !gantt.defined(config[2].width))\n\t\tconfig[2].width = skinset._third_column_width;\n\t\n\tfor (var i=0; i<config.length; i++) {\n\t\tvar column = config[i];\n\t\tif (column.name == \"add\") {\n\t\t\tif(!column.width){\n\t\t\t\tcolumn.width = 44;\n\t\t\t}\n\t\t\tif (!(gantt.defined(column.min_width) && gantt.defined(column.max_width))) {\n\t\t\t\tcolumn.min_width = column.min_width || column.width;\n\t\t\t\tcolumn.max_width = column.max_width || column.width;\n\t\t\t}\n\t\t\tif (column.min_width)\n\t\t\t\tcolumn.min_width = +column.min_width;\n\t\t\tif (column.max_width)\n\t\t\t\tcolumn.max_width = +column.max_width;\n\t\t\tif (column.width) {\n\t\t\t\tcolumn.width = +column.width;\n\t\t\t\tcolumn.width = (column.min_width && column.min_width > column.width) ? column.min_width : column.width;\n\t\t\t\tcolumn.width = (column.max_width && column.max_width < column.width) ? column.max_width : column.width;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (skinset.config.task_height){\n\t\tgantt.config.task_height = skinset.config.task_height || \"full\";\n\t}\n\tif (skinset.config.bar_height){\n\t\tgantt.config.bar_height = skinset.config.bar_height || \"full\";\n\t}\n\n\tif (skinset._lightbox_template)\n\t\tgantt._lightbox_template = skinset._lightbox_template;\n\n\tif (skinset._redefine_lightbox_buttons) {\n\t\tgantt.config.buttons_right = skinset._redefine_lightbox_buttons[\"buttons_right\"];\n\t\tgantt.config.buttons_left = skinset._redefine_lightbox_buttons[\"buttons_left\"];\n\t}\n\n\n\tgantt.resetLightbox();\n}\n\nmodule.exports = function(gantt) {\n\tif(!gantt.resetSkin){\n\t\tgantt.resetSkin = function () {\n\t\t\tthis.skin = \"\";\n\t\t\t_get_skin(true, this);\n\t\t};\n\t\tgantt.skins = {};\n\n\t\tgantt.attachEvent(\"onGanttLayoutReady\", function(){\n\t\t\t_get_skin(false, this);\n\t\t});\n\t}\n};","function createLayoutFacade(){\n\n\tfunction getTimeline(gantt){\n\t\treturn gantt.$ui.getView(\"timeline\");\n\t}\n\n\tfunction getGrid(gantt){\n\t\treturn gantt.$ui.getView(\"grid\");\n\t}\n\n\tfunction getVerticalScrollbar(gantt){\n\t\treturn gantt.$ui.getView(\"scrollVer\");\n\t}\n\n\tfunction getHorizontalScrollbar(gantt){\n\t\treturn gantt.$ui.getView(\"scrollHor\");\n\t}\n\n\tvar DEFAULT_VALUE = \"DEFAULT_VALUE\";\n\n\tfunction tryCall(getView, method, args, fallback){\n\t\tvar view = getView(this);\n\t\tif (!(view && view.isVisible())) {\n\t\t\tif(fallback){\n\t\t\t\treturn fallback();\n\t\t\t}else{\n\t\t\t\treturn DEFAULT_VALUE;\n\t\t\t}\n\t\t} else {\n\t\t\treturn view[method].apply(view, args);\n\t\t}\n\t}\n\n\treturn {\n\n\t\tgetColumnIndex: function(name) {\n\t\t\tvar res = tryCall.call(this, getGrid, \"getColumnIndex\", [name]);\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn 0;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\t\tdateFromPos: function(x) {\n\t\t\tvar res = tryCall.call(this, getTimeline, \"dateFromPos\", Array.prototype.slice.call(arguments));\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn this.getState().min_date;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\t\tposFromDate: function(date) {\n\t\t\tvar res = tryCall.call(this, getTimeline, \"posFromDate\", [date]);\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn 0;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\t\tgetRowTop: function(index) {\n\t\t\tvar self = this;\n\t\t\tvar res = tryCall.call(self, getTimeline, \"getRowTop\", [index],\n\t\t\t\tfunction(){ return tryCall.call(self, getGrid, \"getRowTop\", [index]);}\n\t\t\t\t);\n\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn 0;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\t\tgetTaskTop: function(id) {\n\t\t\tvar self = this;\n\t\t\tvar res = tryCall.call(self, getTimeline, \"getItemTop\", [id],\n\t\t\t\tfunction(){ return tryCall.call(self, getGrid, \"getItemTop\", [id]);}\n\t\t\t);\n\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn 0;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\n\t\tgetTaskPosition: function(task, start_date, end_date) {\n\t\t\tvar res = tryCall.call(this, getTimeline, \"getItemPosition\", [task, start_date, end_date]);\n\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\tvar top = this.getTaskTop(task.id);\n\t\t\t\tvar height = this.getTaskBarHeight(task.id);\n\n\t\t\t\treturn {\n\t\t\t\t\tleft: 0,\n\t\t\t\t\ttop: top,\n\t\t\t\t\theight: height,\n\t\t\t\t\twidth: 0\n\t\t\t\t};\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\t\tgetTaskBarHeight: function(taskId, isMilestoneRender) {\n\t\t\tvar self = this;\n\t\t\tvar res = tryCall.call(self, getTimeline, \"getBarHeight\", [taskId, isMilestoneRender],\n\t\t\t\tfunction(){ return tryCall.call(self, getGrid, \"getItemHeight\", [taskId]);}\n\t\t\t);\n\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn 0;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\t\tgetTaskHeight: function(taskId) {\n\t\t\tvar self = this;\n\t\t\tvar res = tryCall.call(self, getTimeline, \"getItemHeight\", [taskId],\n\t\t\t\tfunction(){ return tryCall.call(self, getGrid, \"getItemHeight\", [taskId]);}\n\t\t\t);\n\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn 0;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\n\t\tcolumnIndexByDate: function(date) {\n\t\t\tvar res = tryCall.call(this, getTimeline, \"columnIndexByDate\", [date]);\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn 0;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\t\troundTaskDates: function() {\n\t\t\ttryCall.call(this, getTimeline, \"roundTaskDates\", []);\n\t\t},\n\n\t\tgetScale: function() {\n\t\t\tvar res = tryCall.call(this, getTimeline, \"getScale\", []);\n\t\t\tif(res === DEFAULT_VALUE){\n\t\t\t\treturn null;\n\t\t\t}else{\n\t\t\t\treturn res;\n\t\t\t}\n\t\t},\n\n\t\tgetTaskNode: function(id) {\n\t\t\tvar timeline = getTimeline(this);\n\t\t\tif (!timeline || !timeline.isVisible()) {\n\t\t\t\treturn null;\n\t\t\t} else {\n\t\t\t\tvar node = timeline._taskRenderer.rendered[id];\n\t\t\t\tif(!node){\n\t\t\t\t\tvar domAttr = timeline.$config.item_attribute;\n\t\t\t\t\tnode = timeline.$task_bars.querySelector(\"[\" +domAttr+ \"='\"+id+\"']\");\n\t\t\t\t}\n\n\t\t\t\treturn node || null;\n\t\t\t}\n\t\t},\n\n\n\t\tgetLinkNode: function(id) {\n\t\t\tvar timeline = getTimeline(this);\n\t\t\tif (!timeline.isVisible()) {\n\t\t\t\treturn null;\n\t\t\t} else {\n\t\t\t\treturn timeline._linkRenderer.rendered[id];\n\t\t\t}\n\t\t},\n\n\t\tscrollTo: function(left, top){\n\t\t\tvar vertical = getVerticalScrollbar(this);\n\t\t\tvar horizontal = getHorizontalScrollbar(this);\n\n\t\t\tvar oldH = {position: 0},\n\t\t\t\toldV = {position: 0};\n\n\t\t\tif(vertical){\n\t\t\t\toldV = vertical.getScrollState();\n\t\t\t}\n\t\t\tif(horizontal){\n\t\t\t\toldH = horizontal.getScrollState();\n\t\t\t}\n\n\t\t\tvar scrollHorizontal = (horizontal && left*1 == left);\n\t\t\tvar scrollVertical = (vertical && top*1 == top);\n\t\t\tvar scrollBoth = scrollHorizontal && scrollVertical;\n\n\t\t\tif(scrollBoth){\n\t\t\t\t// some views will be scrolled both horizontally and vertically and smart rendering can be called twice\n\t\t\t\t// set flag in order not to invoke smart rendering at the horizontal scroll stage\n\t\t\t\t// so it will repaint only once when the scroll is completed\n\t\t\t\tvar verticalViews = vertical._getLinkedViews();\n\t\t\t\tvar horizontalViews = horizontal._getLinkedViews();\n\n\t\t\t\tvar commonViews = [];\n\t\t\t\tfor(var i = 0; i < verticalViews.length; i++){\n\t\t\t\t\tfor(var j = 0; j < horizontalViews.length; j++){\n\n\t\t\t\t\t\tif(verticalViews[i].$config.id && verticalViews[j].$config.id && verticalViews[i].$config.id === verticalViews[j].$config.id){\n\t\t\t\t\t\t\tcommonViews.push(verticalViews[i].$config.id);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (scrollHorizontal){\n\t\t\t\tif(commonViews){\n\t\t\t\t\tcommonViews.forEach((function(viewId){\n\t\t\t\t\t\tthis.$ui.getView(viewId).$config.$skipSmartRenderOnScroll = true;\n\t\t\t\t\t}).bind(this));\n\t\t\t\t}\n\n\t\t\t\thorizontal.scroll(left);\n\t\t\t\tif(commonViews){\n\t\t\t\t\tcommonViews.forEach((function(viewId){\n\t\t\t\t\t\tthis.$ui.getView(viewId).$config.$skipSmartRenderOnScroll = false;\n\t\t\t\t\t}).bind(this));\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(scrollVertical){\n\t\t\t\tvertical.scroll(top);\n\t\t\t}\n\n\t\t\tvar newV = {position: 0},\n\t\t\t\tnewH = {position: 0};\n\t\t\tif(vertical){\n\t\t\t\tnewV = vertical.getScrollState();\n\t\t\t}\n\t\t\tif(horizontal){\n\t\t\t\tnewH = horizontal.getScrollState();\n\t\t\t}\n\n\t\t\tthis.callEvent(\"onGanttScroll\", [oldH.position, oldV.position, newH.position, newV.position]);\n\t\t},\n\n\t\tshowDate: function(date){\n\t\t\tvar date_x = this.posFromDate(date);\n\t\t\tvar scroll_to = Math.max(date_x - this.config.task_scroll_offset, 0);\n\t\t\tthis.scrollTo(scroll_to);\n\t\t},\n\t\tshowTask: function(id) {\n\t\t\tvar pos = this.getTaskPosition(this.getTask(id));\n\n\t\t\t// GS-1261: we need to show the start_date even in the RTL mode\n\t\t\tvar leftPos = pos.left;\n\t\t\tif (this.config.rtl) leftPos = pos.left + pos.width;\n\n\t\t\tvar left = Math.max(leftPos - this.config.task_scroll_offset, 0);\n\n\t\t\tvar dataHeight = this._scroll_state().y;\n\t\t\tvar top;\n\t\t\tif(!dataHeight){\n\t\t\t\ttop = pos.top;\n\t\t\t}else{\n\t\t\t\ttop = pos.top - (dataHeight - this.getTaskBarHeight(id))/2;\n\t\t\t}\n\n\t\t\tthis.scrollTo(left, top);\n\t\t},\n\t\t_scroll_state: function(){\n\t\t\tvar result = {\n\t\t\t\tx: false,\n\t\t\t\ty: false,\n\t\t\t\tx_pos: 0,\n\t\t\t\ty_pos: 0,\n\t\t\t\tscroll_size: this.config.scroll_size + 1,//1px for inner content\n\t\t\t\tx_inner: 0,\n\t\t\t\ty_inner: 0\n\t\t\t};\n\n\t\t\tvar scrollVer = getVerticalScrollbar(this),\n\t\t\t\tscrollHor = getHorizontalScrollbar(this);\n\t\t\tif(scrollHor){\n\t\t\t\tvar horState = scrollHor.getScrollState();\n\t\t\t\tif(horState.visible){\n\t\t\t\t\tresult.x = horState.size;\n\t\t\t\t\tresult.x_inner = horState.scrollSize;\n\t\t\t\t}\n\t\t\t\tresult.x_pos = horState.position || 0;\n\t\t\t}\n\n\t\t\tif(scrollVer){\n\t\t\t\tvar verState = scrollVer.getScrollState();\n\t\t\t\tif(verState.visible){\n\t\t\t\t\tresult.y = verState.size;\n\n\t\t\t\t\tresult.y_inner = verState.scrollSize;\n\t\t\t\t}\n\t\t\t\tresult.y_pos = verState.position || 0;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\t\tgetScrollState: function(){\n\t\t\tvar state = this._scroll_state();\n\t\t\treturn { x:state.x_pos, y:state.y_pos, inner_width:state.x, inner_height:state.y, width: state.x_inner, height: state.y_inner };\n\t\t}\n\n\t};\n\n}\n\nmodule.exports = createLayoutFacade;","module.exports = function(gantt) {\n\n};","var domHelpers = require(\"./utils/dom_helpers\");\n\nvar initializer = (function() {\n\treturn function (gantt) {\n\t\treturn {\n\n\t\t\tgetVerticalScrollbar: function(){\n\t\t\t\treturn gantt.$ui.getView(\"scrollVer\");\n\t\t\t},\n\t\t\tgetHorizontalScrollbar: function(){\n\t\t\t\treturn gantt.$ui.getView(\"scrollHor\");\n\t\t\t},\n\n\t\t\t_legacyGridResizerClass: function(layout){\n\t\t\t\tvar resizers = layout.getCellsByType(\"resizer\");\n\t\t\t\tfor(var i = 0; i < resizers.length; i++){\n\t\t\t\t\tvar r = resizers[i];\n\t\t\t\t\tvar gridResizer = false;\n\n\t\t\t\t\tvar prev = r.$parent.getPrevSibling(r.$id);\n\t\t\t\t\tif(prev && prev.$config && prev.$config.id === \"grid\"){\n\t\t\t\t\t\tgridResizer= true;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tvar next = r.$parent.getNextSibling(r.$id);\n\t\t\t\t\t\tif(next && next.$config && next.$config.id === \"grid\"){\n\t\t\t\t\t\t\tgridResizer= true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif(gridResizer){\n\t\t\t\t\t\tr.$config.css = (r.$config.css ? r.$config.css + \" \" : \"\") + \"gantt_grid_resize_wrap\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonCreated: function(layout) {\n\t\t\t\tvar first = true;\n\n\t\t\t\tthis._legacyGridResizerClass(layout);\n\n\t\t\t\tlayout.attachEvent(\"onBeforeResize\", function() {\n\t\t\t\t\tvar mainTimeline = gantt.$ui.getView(\"timeline\");\n\t\t\t\t\tif (mainTimeline)\n\t\t\t\t\t\tmainTimeline.$config.hidden = mainTimeline.$parent.$config.hidden = !gantt.config.show_chart;\n\n\t\t\t\t\tvar mainGrid = gantt.$ui.getView(\"grid\");\n\n\t\t\t\t\tif(!mainGrid)\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tvar showGrid = gantt.config.show_grid;\n\t\t\t\t\tif (first) {\n\t\t\t\t\t\tvar colsWidth = mainGrid._getColsTotalWidth();\n\t\t\t\t\t\tif (colsWidth !== false){\n\t\t\t\t\t\t\tgantt.config.grid_width = colsWidth;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tshowGrid = showGrid && !!gantt.config.grid_width;\n\t\t\t\t\t\tgantt.config.show_grid = showGrid;\n\t\t\t\t\t}\n\t\t\t\t\tmainGrid.$config.hidden = mainGrid.$parent.$config.hidden = !showGrid;\n\n\t\t\t\t\tif (!mainGrid.$config.hidden) {\n\t\t\t\t\t\t/* restrict grid width due to min_width, max_width, min_grid_column_width */\n\t\t\t\t\t\tvar grid_limits = mainGrid._getGridWidthLimits();\n\t\t\t\t\t\tif (grid_limits[0] && gantt.config.grid_width < grid_limits[0])\n\t\t\t\t\t\t\tgantt.config.grid_width = grid_limits[0];\n\t\t\t\t\t\tif (grid_limits[1] && gantt.config.grid_width > grid_limits[1])\n\t\t\t\t\t\t\tgantt.config.grid_width = grid_limits[1];\n\t\t\t\t\t\tif (mainTimeline && gantt.config.show_chart){\n\n\t\t\t\t\t\t\tmainGrid.$config.width = gantt.config.grid_width - 1;\n\t\t\t\t\t\t\tif (!first) {\n\t\t\t\t\t\t\t\tif (mainTimeline && !domHelpers.isChildOf(mainTimeline.$task, layout.$view)) {\n\t\t\t\t\t\t\t\t\t// timeline is being displayed after being not visible, reset grid with from full screen\n\t\t\t\t\t\t\t\t\tif (!mainGrid.$config.original_grid_width) {\n\t\t\t\t\t\t\t\t\t\tvar skinSettings = gantt.skins[gantt.skin];\n\t\t\t\t\t\t\t\t\t\tif(skinSettings && skinSettings.config && skinSettings.config.grid_width){\n\t\t\t\t\t\t\t\t\t\t\tmainGrid.$config.original_grid_width =  skinSettings.config.grid_width;\n\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\tmainGrid.$config.original_grid_width = 0;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tgantt.config.grid_width = mainGrid.$config.original_grid_width;\n\t\t\t\t\t\t\t\t\tmainGrid.$parent.$config.width = gantt.config.grid_width;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tmainGrid.$parent._setContentSize(mainGrid.$config.width, null);\n\t\t\t\t\t\t\t\t\tgantt.$layout._syncCellSizes(mainGrid.$parent.$config.group, gantt.config.grid_width);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmainGrid.$parent.$config.width = gantt.config.grid_width;\n\t\t\t\t\t\t\t\tif (mainGrid.$parent.$config.group) {\n\t\t\t\t\t\t\t\t\tgantt.$layout._syncCellSizes(mainGrid.$parent.$config.group, mainGrid.$parent.$config.width);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (mainTimeline && domHelpers.isChildOf(mainTimeline.$task, layout.$view)) {\n\t\t\t\t\t\t\t\t// hiding timeline, remember grid with to restore it when timeline is displayed again\n\t\t\t\t\t\t\t\tmainGrid.$config.original_grid_width = gantt.config.grid_width;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!first) {\n\t\t\t\t\t\t\t\tmainGrid.$parent.$config.width = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tfirst = false;\n\t\t\t\t});\n\t\t\t\tthis._initScrollStateEvents(layout);\n\t\t\t},\n\n\t\t\t_initScrollStateEvents: function(layout) {\n\t\t\t\tgantt._getVerticalScrollbar = this.getVerticalScrollbar;\n\t\t\t\tgantt._getHorizontalScrollbar = this.getHorizontalScrollbar;\n\n\t\t\t\tvar vertical = this.getVerticalScrollbar();\n\t\t\t\tvar horizontal = this.getHorizontalScrollbar();\n\t\t\t\tif (vertical) {\n\t\t\t\t\tvertical.attachEvent(\"onScroll\", function(oldPos, newPos, dir){\n\t\t\t\t\t\tvar scrollState = gantt.getScrollState();\n\t\t\t\t\t\tgantt.callEvent(\"onGanttScroll\", [scrollState.x, oldPos, scrollState.x, newPos]);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (horizontal) {\n\t\t\t\t\thorizontal.attachEvent(\"onScroll\", function(oldPos, newPos, dir){\n\t\t\t\t\t\tvar scrollState = gantt.getScrollState();\n\t\t\t\t\t\tgantt.callEvent(\"onGanttScroll\", [oldPos, scrollState.y, newPos, scrollState.y]);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tlayout.attachEvent(\"onResize\", function(){\n\t\t\t\t\tif (vertical && !gantt.$scroll_ver){\n\t\t\t\t\t\tgantt.$scroll_ver = vertical.$scroll_ver;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (horizontal && !gantt.$scroll_hor){\n\t\t\t\t\t\tgantt.$scroll_hor = horizontal.$scroll_hor;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t_findGridResizer: function(layout, grid){\n\t\t\t\tvar resizers = layout.getCellsByType(\"resizer\");\n\n\t\t\t\tvar gridFirst = true;\n\t\t\t\tvar gridResizer;\n\t\t\t\tfor(var i = 0; i < resizers.length; i++){\n\t\t\t\t\tvar res = resizers[i];\n\t\t\t\t\tres._getSiblings();\n\t\t\t\t\tvar prev = res._behind;\n\t\t\t\t\tvar next = res._front;\n\t\t\t\t\tif(prev && prev.$content === grid || (prev.isChild && prev.isChild(grid))){\n\t\t\t\t\t\tgridResizer = res;\n\t\t\t\t\t\tgridFirst = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}else if(next && next.$content === grid || (next.isChild && next.isChild(grid))){\n\t\t\t\t\t\tgridResizer = res;\n\t\t\t\t\t\tgridFirst = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tresizer: gridResizer,\n\t\t\t\t\tgridFirst: gridFirst\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tonInitialized: function (layout) {\n\t\t\t\tvar grid = gantt.$ui.getView(\"grid\");\n\n\t\t\t\tvar resizeInfo = this._findGridResizer(layout, grid);\n\n\t\t\t\t// expose grid resize events\n\t\t\t\tif(resizeInfo.resizer){\n\t\t\t\t\tvar gridFirst = resizeInfo.gridFirst,\n\t\t\t\t\t\tnext = resizeInfo.resizer;\n\t\t\t\t\tvar initialWidth;\n\t\t\t\t\tnext.attachEvent(\"onResizeStart\", function(prevCellWidth, nextCellWidth){\n\n\t\t\t\t\t\tvar grid = gantt.$ui.getView(\"grid\");\n\t\t\t\t\t\tvar viewCell = grid ? grid.$parent : null;\n\t\t\t\t\t\tif(viewCell){\n\t\t\t\t\t\t\tvar limits = grid._getGridWidthLimits();\n\n\t\t\t\t\t\t\t// min grid width is defined by min widths of its columns, unless grid has horizontal scroll\n\t\t\t\t\t\t\tif(!grid.$config.scrollable)\n\t\t\t\t\t\t\t\tviewCell.$config.minWidth = limits[0];\n\n\t\t\t\t\t\t\tviewCell.$config.maxWidth = limits[1];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinitialWidth = gridFirst ? prevCellWidth : nextCellWidth;\n\t\t\t\t\t\treturn gantt.callEvent(\"onGridResizeStart\", [initialWidth]);\n\t\t\t\t\t});\n\t\t\t\t\tnext.attachEvent(\"onResize\", function(newBehindSize, newFrontSize){\n\t\t\t\t\t\tvar newSize = gridFirst ? newBehindSize : newFrontSize;\n\t\t\t\t\t\treturn gantt.callEvent(\"onGridResize\", [initialWidth, newSize]);\n\t\t\t\t\t});\n\t\t\t\t\tnext.attachEvent(\"onResizeEnd\", function(oldBackSize, oldFrontSize, newBackSize, newFrontSize){\n\n\t\t\t\t\t\tvar oldSize = gridFirst ? oldBackSize : oldFrontSize;\n\t\t\t\t\t\tvar newSize = gridFirst ? newBackSize : newFrontSize;\n\t\t\t\t\t\tvar grid = gantt.$ui.getView(\"grid\");\n\t\t\t\t\t\tvar viewCell = grid ? grid.$parent : null;\n\t\t\t\t\t\tif(viewCell){\n\t\t\t\t\t\t\tviewCell.$config.minWidth = undefined;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar res = gantt.callEvent(\"onGridResizeEnd\", [oldSize, newSize]);\n\t\t\t\t\t\tif(res){\n\t\t\t\t\t\t\tgantt.config.grid_width = newSize;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn res;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t},\n\t\t\tonDestroyed: function (timeline) {\n\n\t\t\t}\n\t\t};\n\n\t};\n})();\n\nmodule.exports = initializer;","var domHelpers = require(\"../utils/dom_helpers\");\n\nvar initLinksDND = function(timeline, gantt) {\n\tvar _link_landing,\n\t\t_link_target_task,\n\t\t_link_target_task_start,\n\t\t_link_source_task,\n\t\t_link_source_task_start,\n\t\tmarkerDefaultOffset = 10,\n\t\tscrollDefaultSize = 18;\n\n\n\tfunction getVisibleMilestoneWidth(taskId) {\n\t\tvar origWidth = timeline.getBarHeight(taskId, true);//m-s have square shape\n\t\treturn Math.round(Math.sqrt(2 * origWidth * origWidth)) - 2;\n\t}\n\n\tfunction isMilestone(task) {\n\t\treturn gantt.getTaskType(task.type) == gantt.config.types.milestone;\n\t}\n\n\tfunction getDndState(){\n\t\treturn {\n\t\t\tlink_source_id : _link_source_task,\n\t\t\tlink_target_id : _link_target_task,\n\t\t\tlink_from_start : _link_source_task_start,\n\t\t\tlink_to_start : _link_target_task_start,\n\t\t\tlink_landing_area : _link_landing\n\t\t};\n\t}\n\n\tvar services = gantt.$services;\n\n\tvar state = services.getService(\"state\");\n\tvar DnD = services.getService(\"dnd\");\n\n\tstate.registerProvider(\"linksDnD\", getDndState);\n\n\tvar start_marker = \"task_start_date\",\n\t\tend_marker = \"task_end_date\",\n\t\tlink_edge_marker = \"gantt_link_point\",\n\t\tlink_landing_hover_area = \"gantt_link_control\";\n\n\tvar dnd = new DnD(timeline.$task_bars, {\n\t\tsensitivity : 0,\n\t\tupdates_per_second : 60,\n\t\tmousemoveContainer: gantt.$root,\n\t\tselector: \".\" + link_edge_marker,\n\t\tpreventDefault: true\n\t});\n\n\tdnd.attachEvent(\"onBeforeDragStart\", gantt.bind(function(obj,e) {\n\t\tvar target = (e.target||e.srcElement);\n\t\tresetDndState();\n\t\tif(gantt.getState(\"tasksDnd\").drag_id)\n\t\t\treturn false;\n\n\t\tif(domHelpers.locateClassName(target, link_edge_marker)){\n\t\t\tif(domHelpers.locateClassName(target, start_marker))\n\t\t\t\t_link_source_task_start = true;\n\n\t\t\tvar sid = gantt.locate(e);\n\t\t\t_link_source_task = sid;\n\n\t\t\tvar t = gantt.getTask(sid);\n\t\t\tif(gantt.isReadonly(t)){\n\t\t\t\tresetDndState();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar shift = 0;\n\n\t\t\tthis._dir_start = getLinePos(t, !!_link_source_task_start, shift, timeline.$getConfig(), true);\n\t\t\treturn true;\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\n\t}, this));\n\n\tdnd.attachEvent(\"onAfterDragStart\", gantt.bind(function(obj,e) {\n\t\tif(gantt.config.touch) {\n\t\t\tgantt.refreshData();\n\t\t}\n\t\tupdateMarkedHtml(dnd.config.marker);\n\t}, this));\n\n\tfunction getLinePos(task, to_start, shift, cfg, isStart){\n\t\tvar taskPos = getMilestonePosition(task, function(task){ return gantt.getTaskPosition(task);}, cfg);\n\n\t\tvar pos = {x: taskPos.x, y: taskPos.y};\n\t\tif(!to_start){\n\t\t\tpos.x = taskPos.xEnd;\n\t\t}\n\n\t\t//var pos = gantt._get_task_pos(task, !!to_start);\n\t\tpos.y += gantt.getTaskHeight(task.id)/2;\n\n\t\tvar offset = isMilestone(task) && isStart ? 2 : 0;\n\n\t\tshift = shift || 0;\n\t\tif(cfg.rtl)\n\t\t\tshift = shift * -1;\n\n\t\tpos.x += (to_start ? -1 : 1)*shift  - offset;\n\t\treturn pos;\n\t}\n\n\tfunction getMilestonePosition(task, getTaskPosition, cfg){\n\t\tvar pos = getTaskPosition(task);\n\n\t\tvar res = {\n\t\t\tx: pos.left,\n\t\t\ty: pos.top,\n\t\t\twidth: pos.width,\n\t\t\theight: pos.height\n\t\t};\n\n\t\tif(cfg.rtl){\n\t\t\tres.xEnd = res.x;\n\t\t\tres.x = res.xEnd + res.width;\n\t\t}else{\n\t\t\tres.xEnd = res.x + res.width;\n\t\t}\n\t\tres.yEnd = res.y + res.height;\n\n\t\tif(gantt.getTaskType(task.type) == gantt.config.types.milestone){\n\t\t\tvar milestoneWidth = getVisibleMilestoneWidth(task.id);\n\n\t\t\tres.x += (!cfg.rtl ? -1 : 1)*(milestoneWidth / 2);\n\t\t\tres.xEnd += (!cfg.rtl ? 1 : -1)*(milestoneWidth / 2);\n\n\t\t\t//pos.x -= milestoneWidth / 2;\n\t\t\t//pos.xEnd += milestoneWidth / 2;\n\t\t\tres.width = pos.xEnd - pos.x;\n\t\t}\n\n\n\t\treturn res;\n\t}\n\n\tfunction getVieportSize(){\n\t\tvar root = gantt.$root;\n\t\treturn { right: root.offsetWidth, bottom: root.offsetHeight };\n\t}\n\tfunction getMarkerSize (marker){\n\t\tvar width = 0, height = 0;\n\t\tif(marker){\n\t\t\twidth = marker.offsetWidth || 0;\n\t\t\theight = marker.offsetHeight || 0;\n\t\t}\n\t\treturn { width: width, height: height };\n\t}\n\n\tfunction getPosition(e, marker){\n\t\tvar oldPos = dnd.getPosition(e);\n\n\t\tvar markerSize = getMarkerSize(marker);\n\t\tvar viewportSize = getVieportSize();\n\n\t\tvar offsetX = gantt.config.tooltip_offset_x || markerDefaultOffset;\n\t\tvar offsetY = gantt.config.tooltip_offset_y || markerDefaultOffset;\n\n\t\tvar scrollSize = gantt.config.scroll_size || scrollDefaultSize;\n\n\t\tvar position = {\n\t\t\ty: oldPos.y + offsetY,\n\t\t\tx: oldPos.x + offsetX,\n\t\t\tbottom: oldPos.y + markerSize.height + offsetY + scrollSize,\n\t\t\tright: oldPos.x + markerSize.width + offsetX + scrollSize\n\t\t};\n\n\t\tif(position.bottom > viewportSize.bottom){\n\t\t\tposition.y = viewportSize.bottom - markerSize.height - offsetY;\n\t\t}\n\n\t\tif(position.right > viewportSize.right){\n\t\t\tposition.x = viewportSize.right - markerSize.width - offsetX;\n\t\t}\n\t\treturn position;\n\t}\n\n\tdnd.attachEvent(\"onDragMove\", gantt.bind(function(obj,e) {\n\t\tvar dd = dnd.config;\n\t\tvar pos = getPosition(e, dd.marker);\n\t\tadvanceMarker(dd.marker, pos);\n\t\tvar landing = !!domHelpers.locateClassName(e, link_landing_hover_area);\n\n\t\tvar prevTarget = _link_target_task;\n\t\tvar prevLanding = _link_landing;\n\t\tvar prevToStart = _link_target_task_start;\n\n\t\tvar targ = gantt.locate(e),\n\t\t\tto_start = true;\n\n\t\t// can drag and drop link to another gantt on the page, such links are not supported\n\t\tvar sameGantt = domHelpers.isChildOf(e.target || e.srcElement, gantt.$root);\n\t\tif(!sameGantt){\n\t\t\tlanding = false;\n\t\t\ttarg = null;\n\t\t}\n\n\t\tif(landing){\n\t\t\t//refreshTask\n\t\t\tto_start = !domHelpers.locateClassName(e, end_marker);\n\t\t\tlanding = !!targ;\n\t\t}\n\n\t\t_link_target_task = targ;\n\t\t_link_landing = landing;\n\t\t_link_target_task_start = to_start;\n\n\t\tif(landing){\n\t\t\tvar t = gantt.getTask(targ);\n\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tvar node = domHelpers.locateClassName(e, link_landing_hover_area);\n\t\t\tvar shift = 0;\n\t\t\tif(node){\n\t\t\t\tshift = Math.floor(node.offsetWidth  / 2);\n\t\t\t}\n\n\t\t\tthis._dir_end = getLinePos(t, !!_link_target_task_start,shift, config);\n\t\t}else{\n\t\t\tthis._dir_end = domHelpers.getRelativeEventPosition(e, timeline.$task_data);\n\t\t\tif(gantt.env.isEdge){ // to fix margin collapsing\n\t\t\t\tthis._dir_end.y += window.scrollY;\n\t\t\t}\n\t\t}\n\n\t\tvar targetChanged = !(prevLanding == landing && prevTarget == targ && prevToStart == to_start);\n\t\tif(targetChanged){\n\t\t\tif(prevTarget)\n\t\t\t\tgantt.refreshTask(prevTarget, false);\n\t\t\tif(targ)\n\t\t\t\tgantt.refreshTask(targ, false);\n\t\t}\n\n\t\tif(targetChanged){\n\t\t\tupdateMarkedHtml(dd.marker);\n\t\t}\n\n\t\tshowDirectingLine(this._dir_start.x, this._dir_start.y, this._dir_end.x, this._dir_end.y);\n\n\t\treturn true;\n\t}, this));\n\n\n\tdnd.attachEvent(\"onDragEnd\", gantt.bind(function() {\n\t\tvar drag = getDndState();\n\n\t\tif(drag.link_source_id && drag.link_target_id && drag.link_source_id != drag.link_target_id){\n\t\t\tvar type = gantt._get_link_type(drag.link_from_start, drag.link_to_start);\n\n\t\t\tvar link = {source : drag.link_source_id, target: drag.link_target_id, type:type};\n\t\t\tif(link.type && gantt.isLinkAllowed(link)) {\n\t\t\t\tif(gantt.callEvent(\"onLinkCreated\", [link])){\n\t\t\t\t\tgantt.addLink(link);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tresetDndState();\n\n\t\tif(gantt.config.touch) {\n\t\t\tgantt.refreshData();\n\t\t}\n\t\telse {\n\t\t\tif (drag.link_source_id)\n\t\t\t\tgantt.refreshTask(drag.link_source_id, false);\n\t\t\tif (drag.link_target_id)\n\t\t\t\tgantt.refreshTask(drag.link_target_id, false);\n\t\t}\n\t\tremoveDirectionLine();\n\t}, this));\n\n\tfunction updateMarkedHtml(marker){\n\t\tvar link = getDndState();\n\n\t\tvar css = [\"gantt_link_tooltip\"];\n\t\tif(link.link_source_id && link.link_target_id){\n\t\t\tif(gantt.isLinkAllowed(link.link_source_id, link.link_target_id, link.link_from_start, link.link_to_start)){\n\t\t\t\tcss.push(\"gantt_allowed_link\");\n\t\t\t}else{\n\t\t\t\tcss.push(\"gantt_invalid_link\");\n\t\t\t}\n\t\t}\n\n\t\tvar className = gantt.templates.drag_link_class(link.link_source_id, link.link_from_start, link.link_target_id, link.link_to_start);\n\t\tif(className)\n\t\t\tcss.push(className);\n\n\t\tvar html = \"<div class='\"+className+ \"'>\" +\n\t\t\tgantt.templates.drag_link(link.link_source_id, link.link_from_start, link.link_target_id, link.link_to_start) +\n\t\t\t\"</div>\";\n\t\tmarker.innerHTML = html;\n\t}\n\n\tfunction advanceMarker(marker, pos){\n\t\tmarker.style.left = pos.x + \"px\";\n\t\tmarker.style.top = pos.y + \"px\";\n\t}\n\n\tfunction resetDndState(){\n\t\t_link_source_task =\n\t\t\t_link_source_task_start =\n\t\t\t\t_link_target_task = null;\n\t\t_link_target_task_start = true;\n\t}\n\tfunction showDirectingLine(s_x, s_y, e_x, e_y){\n\t\tvar div = getDirectionLine();\n\n\t\tvar link = getDndState();\n\n\t\tvar css = [\"gantt_link_direction\"];\n\t\tif(gantt.templates.link_direction_class){\n\t\t\tcss.push(gantt.templates.link_direction_class(link.link_source_id, link.link_from_start, link.link_target_id, link.link_to_start));\n\t\t}\n\n\t\tvar dist =Math.sqrt( (Math.pow(e_x - s_x, 2)) + (Math.pow(e_y - s_y, 2)) );\n\t\tdist = Math.max(0, dist - 3);\n\t\tif(!dist)\n\t\t\treturn;\n\n\t\tdiv.className = css.join(\" \");\n\t\tvar tan = (e_y - s_y)/(e_x - s_x),\n\t\t\tangle = Math.atan(tan);\n\n\t\tif(coordinateCircleQuarter(s_x, e_x, s_y, e_y) == 2){\n\t\t\tangle += Math.PI;\n\t\t}else if(coordinateCircleQuarter(s_x, e_x, s_y, e_y) == 3){\n\t\t\tangle -= Math.PI;\n\t\t}\n\n\n\n\t\tvar sin = Math.sin(angle),\n\t\t\tcos = Math.cos(angle),\n\t\t\ttop = Math.round(s_y),\n\t\t\tleft = Math.round(s_x);\n\n\n\t\tvar style = [\n\t\t\t\"-webkit-transform: rotate(\"+angle+\"rad)\",\n\t\t\t\"-moz-transform: rotate(\"+angle+\"rad)\",\n\t\t\t\"-ms-transform: rotate(\"+angle+\"rad)\",\n\t\t\t\"-o-transform: rotate(\"+angle+\"rad)\",\n\t\t\t\"transform: rotate(\"+angle+\"rad)\",\n\t\t\t\"width:\" + Math.round(dist) + \"px\"\n\t\t];\n\n\t\tif(window.navigator.userAgent.indexOf(\"MSIE 8.0\") != -1){\n\t\t\t//ms-filter breaks styles in ie9, so add it only for 8th\n\t\t\tstyle.push(\"-ms-filter: \\\"\" + ieTransform(sin, cos) + \"\\\"\");\n\n\t\t\tvar shiftLeft = Math.abs(Math.round(s_x - e_x)),\n\t\t\t\tshiftTop = Math.abs(Math.round(e_y - s_y));\n\t\t\t//fix rotation axis\n\t\t\tswitch(coordinateCircleQuarter(s_x, e_x, s_y, e_y)){\n\t\t\t\tcase 1:\n\t\t\t\t\ttop -= shiftTop;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\tleft -= shiftLeft;\n\t\t\t\t\ttop -= shiftTop;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\tleft -= shiftLeft;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t}\n\n\t\tstyle.push(\"top:\" +  top + \"px\");\n\t\tstyle.push(\"left:\" +  left + \"px\");\n\n\t\tdiv.style.cssText = style.join(\";\");\n\t}\n\n\tfunction ieTransform(sin, cos){\n\t\treturn \"progid:DXImageTransform.Microsoft.Matrix(\"+\n\t\t\t\"M11 = \"+cos+\",\"+\n\t\t\t\"M12 = -\"+sin+\",\"+\n\t\t\t\"M21 = \"+sin+\",\"+\n\t\t\t\"M22 = \"+cos+\",\"+\n\t\t\t\"SizingMethod = 'auto expand'\"+\n\t\t\")\";\n\t}\n\tfunction coordinateCircleQuarter(sX, eX, sY, eY){\n\t\tif(eX >= sX){\n\t\t\tif(eY <= sY){\n\t\t\t\treturn 1;\n\t\t\t}else{\n\t\t\t\treturn 4;\n\t\t\t}\n\t\t}else{\n\t\t\tif(eY <= sY){\n\t\t\t\treturn 2;\n\t\t\t}else{\n\t\t\t\treturn 3;\n\t\t\t}\n\t\t}\n\n\t}\n\tfunction getDirectionLine(){\n\t\tif(!dnd._direction || !dnd._direction.parentNode){\n\t\t\tdnd._direction = document.createElement(\"div\");\n\t\t\ttimeline.$task_links.appendChild(dnd._direction);\n\t\t}\n\t\treturn dnd._direction;\n\t}\n\tfunction removeDirectionLine(){\n\t\tif(dnd._direction){\n\t\t\tif (dnd._direction.parentNode)\t//the event line can be detached because of data refresh\n\t\t\t\tdnd._direction.parentNode.removeChild(dnd._direction);\n\n\t\t\tdnd._direction = null;\n\t\t}\n\t}\n\tgantt.attachEvent(\"onGanttRender\", gantt.bind(function() {\n\t\tif(dnd._direction){\n\t\t\tshowDirectingLine(this._dir_start.x, this._dir_start.y, this._dir_end.x, this._dir_end.y);\n\t\t}\n\t}, this));\n};\n\nmodule.exports = {\n\tcreateLinkDND: function(){\n\t\treturn {\n\t\t\tinit: initLinksDND\n\t\t};\n\t}\n};","var domHelpers = require(\"../utils/dom_helpers\");\nvar utils = require(\"../../../utils/utils\");\nvar timeout = require(\"../../../utils/timeout\");\nvar helpers = require(\"../../../utils/helpers\");\n\nfunction createTaskDND(timeline, gantt) {\n\tvar services = gantt.$services;\n\treturn {\n\t\tdrag: null,\n\t\tdragMultiple: {},\n\t\t_events: {\n\t\t\tbefore_start: {},\n\t\t\tbefore_finish: {},\n\t\t\tafter_finish: {}\n\t\t},\n\t\t_handlers: {},\n\t\tinit: function() {\n\t\t\tthis._domEvents = gantt._createDomEventScope();\n\t\t\tthis.clear_drag_state();\n\t\t\tvar drag = gantt.config.drag_mode;\n\t\t\tthis.set_actions();\n\n\t\t\tvar stateService = services.getService(\"state\");\n\t\t\tstateService.registerProvider(\"tasksDnd\", utils.bind(function() {\n\t\t\t\treturn {\n\t\t\t\t\tdrag_id : this.drag ? this.drag.id : undefined,\n\t\t\t\t\tdrag_mode : this.drag ? this.drag.mode : undefined,\n\t\t\t\t\tdrag_from_start : this.drag ? this.drag.left : undefined\n\t\t\t\t};\n\t\t\t}, this));\n\n\t\t\tvar evs = {\n\t\t\t\t\"before_start\": \"onBeforeTaskDrag\",\n\t\t\t\t\"before_finish\": \"onBeforeTaskChanged\",\n\t\t\t\t\"after_finish\": \"onAfterTaskDrag\"\n\t\t\t};\n\t\t\t//for now, all drag operations will trigger the same events\n\t\t\tfor (var stage in this._events) {\n\t\t\t\tfor (var mode in drag) {\n\t\t\t\t\tthis._events[stage][mode] = evs[stage];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._handlers[drag.move] = this._move;\n\t\t\tthis._handlers[drag.resize] = this._resize;\n\t\t\tthis._handlers[drag.progress] = this._resize_progress;\n\t\t},\n\t\tset_actions: function() {\n\t\t\tvar data = timeline.$task_data;\n\t\t\tthis._domEvents.attach(data, \"mousemove\", gantt.bind(function(e) {\n\t\t\t\tthis.on_mouse_move(e);\n\t\t\t}, this));\n\t\t\tthis._domEvents.attach(data, \"mousedown\", gantt.bind(function(e) {\n\t\t\t\tthis.on_mouse_down(e);\n\t\t\t}, this));\n\t\t\tthis._domEvents.attach(document.body, \"mouseup\", gantt.bind(function(e) {\n\t\t\t\tthis.on_mouse_up(e);\n\t\t\t}, this));\n\t\t},\n\n\t\tclear_drag_state: function() {\n\t\t\tthis.drag = {\n\t\t\t\tid: null,\n\t\t\t\tmode: null,\n\t\t\t\tpos: null,\n\t\t\t\tstart_x: null,\n\t\t\t\tstart_y: null,\n\t\t\t\tobj: null,\n\t\t\t\tleft: null\n\t\t\t};\n\t\t\tthis.dragMultiple = {};\n\t\t},\n\t\t_resize: function(task, shift, drag) {\n\t\t\tvar cfg = timeline.$getConfig();\n\t\t\tvar coords_x = this._drag_task_coords(task, drag);\n\t\t\tif (drag.left) {\n\t\t\t\ttask.start_date = gantt.dateFromPos(coords_x.start + shift);\n\t\t\t\tif (!task.start_date) {\n\t\t\t\t\ttask.start_date = new Date(gantt.getState().min_date);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttask.end_date = gantt.dateFromPos(coords_x.end + shift);\n\t\t\t\tif (!task.end_date) {\n\t\t\t\t\ttask.end_date = new Date(gantt.getState().max_date);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar minDurationInUnits = this._calculateMinDuration(cfg.min_duration, cfg.duration_unit);\n\t\t\tif (task.end_date - task.start_date < cfg.min_duration) {\n\t\t\t\tif (drag.left)\n\t\t\t\t\ttask.start_date = gantt.calculateEndDate(task.end_date, -minDurationInUnits, cfg.duration_unit, task);\n\t\t\t\telse\n\t\t\t\t\ttask.end_date = gantt.calculateEndDate(task.start_date, minDurationInUnits, cfg.duration_unit, task);\n\t\t\t}\n\t\t\tgantt._init_task_timing(task);\n\t\t},\n\t\t_calculateMinDuration: function(duration, unit) {\n\t\t\tvar inMs = {\n\t\t\t\t\"minute\": 60000,\n\t\t\t\t\"hour\": 3600000,\n\t\t\t\t\"day\": 86400000,\n\t\t\t\t\"week\": 604800000,\n\t\t\t\t\"month\": 2419200000,\n\t\t\t\t\"year\": 31356000000\n\t\t\t};\n\t\t\treturn Math.ceil(duration / inMs[unit]);\n\t\t},\n\t\t_resize_progress: function(task, shift, drag) {\n\t\t\tvar coords_x = this._drag_task_coords(task, drag);\n\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tvar diffValue = !config.rtl ? (drag.pos.x - coords_x.start) : (coords_x.start - drag.pos.x);\n\n\t\t\tvar diff = Math.max(0, diffValue);\n\t\t\ttask.progress = Math.min(1, diff / Math.abs(coords_x.end - coords_x.start));\n\t\t},\n\t\t_find_max_shift: function(dragItems, shift) {\n\t\t\tvar correctShift;\n\t\t\tfor (var i in dragItems) {\n\t\t\t\tvar drag = dragItems[i];\n\t\t\t\tvar task = gantt.getTask(drag.id);\n\n\t\t\t\tvar coords_x = this._drag_task_coords(task, drag);\n\t\t\t\tvar minX = gantt.posFromDate(new Date(gantt.getState().min_date));\n\t\t\t\tvar maxX = gantt.posFromDate(new Date(gantt.getState().max_date));\n\n\t\t\t\tif (coords_x.end + shift > maxX) {\n\t\t\t\t\tvar maxShift = maxX - coords_x.end;\n\t\t\t\t\tif (maxShift < correctShift || correctShift === undefined) {\n\t\t\t\t\t\tcorrectShift = maxShift;\n\t\t\t\t\t}\n\t\t\t\t} else if (coords_x.start + shift < minX) {\n\t\t\t\t\tvar minShift = minX - coords_x.start;\n\t\t\t\t\tif (minShift > correctShift || correctShift === undefined) {\n\t\t\t\t\t\tcorrectShift = minShift;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn correctShift;\n\t\t},\n\t\t_move: function(task, shift, drag) {\n\t\t\tvar coords_x = this._drag_task_coords(task, drag);\n\t\t\tvar new_start = gantt.dateFromPos(coords_x.start + shift),\n\t\t\t\tnew_end = gantt.dateFromPos(coords_x.end + shift);\n\t\t\tif (!new_start) {\n\t\t\t\ttask.start_date = new Date(gantt.getState().min_date);\n\t\t\t\ttask.end_date = gantt.dateFromPos(gantt.posFromDate(task.start_date) + (coords_x.end - coords_x.start));\n\t\t\t} else if (!new_end) {\n\t\t\t\ttask.end_date = new Date(gantt.getState().max_date);\n\t\t\t\ttask.start_date = gantt.dateFromPos(gantt.posFromDate(task.end_date) - (coords_x.end - coords_x.start));\n\t\t\t} else {\n\t\t\t\ttask.start_date = new_start;\n\t\t\t\ttask.end_date = new_end;\n\t\t\t}\n\t\t},\n\t\t_drag_task_coords: function(t, drag) {\n\t\t\tvar start = drag.obj_s_x = drag.obj_s_x || gantt.posFromDate(t.start_date);\n\t\t\tvar end = drag.obj_e_x = drag.obj_e_x || gantt.posFromDate(t.end_date);\n\t\t\treturn {\n\t\t\t\tstart: start,\n\t\t\t\tend: end\n\t\t\t};\n\t\t},\n\t\t_mouse_position_change: function(oldPos, newPos) {\n\t\t\tvar dx = oldPos.x - newPos.x,\n\t\t\t\tdy = oldPos.y - newPos.y;\n\t\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t\t},\n\t\t_is_number: function(n) {\n\t\t\treturn !isNaN(parseFloat(n)) && isFinite(n);\n\t\t},\n\n\t\ton_mouse_move: function(e) {\n\t\t\tif (this.drag.start_drag) {\n\t\t\t\tvar pos = domHelpers.getRelativeEventPosition(e, gantt.$task_data);\n\n\t\t\t\tvar sX = this.drag.start_drag.start_x,\n\t\t\t\t\tsY = this.drag.start_drag.start_y;\n\n\t\t\t\tif ((Date.now() - this.drag.timestamp > 50) ||\n\t\t\t\t\t(this._is_number(sX) && this._is_number(sY) && this._mouse_position_change({\n\t\t\t\t\t\tx: sX,\n\t\t\t\t\t\ty: sY\n\t\t\t\t\t}, pos) > 20)) {\n\t\t\t\t\tthis._start_dnd(e);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar drag = this.drag;\n\n\t\t\tif (drag.mode) {\n\t\t\t\tif (!timeout(this, 40))//limit update frequency\n\t\t\t\t\treturn;\n\n\t\t\t\tthis._update_on_move(e);\n\n\t\t\t}\n\t\t},\n\n\t\t_update_item_on_move: function(shift, id, mode, drag, e) {\n\t\t\tvar task = gantt.getTask(id);\n\t\t\tvar original = gantt.mixin({}, task);\n\t\t\tvar copy = gantt.mixin({}, task);\n\t\t\tthis._handlers[mode].apply(this, [copy, shift, drag]);\n\t\t\tgantt.mixin(task, copy, true);\n\t\t\t//gantt._update_parents(drag.id, true);\n\t\t\tgantt.callEvent(\"onTaskDrag\", [task.id, mode, copy, original, e]);\n\t\t\tgantt.mixin(task, copy, true);\n\t\t\tgantt.refreshTask(id);\n\t\t},\n\n\t\t_update_on_move: function(e) {\n\t\t\tvar drag = this.drag;\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tif (drag.mode) {\n\t\t\t\tvar pos = domHelpers.getRelativeEventPosition(e, timeline.$task_data);\n\t\t\t\tif (drag.pos && drag.pos.x == pos.x)\n\t\t\t\t\treturn;\n\n\t\t\t\tdrag.pos = pos;\n\n\t\t\t\tvar curr_date = gantt.dateFromPos(pos.x);\n\t\t\t\tif (!curr_date || isNaN(curr_date.getTime()))\n\t\t\t\t\treturn;\n\n\n\t\t\t\tvar shift = pos.x - drag.start_x;\n\t\t\t\tvar task = gantt.getTask(drag.id);\n\t\t\t\tif (this._handlers[drag.mode]) {\n\t\t\t\t\tif (drag.mode === config.drag_mode.move) {\n\t\t\t\t\t\tvar dragHash = {};\n\n\t\t\t\t\t\tif (this._isMultiselect()) {\n\t\t\t\t\t\t\tvar selectedTasksIds = gantt.getSelectedTasks();\n\t\t\t\t\t\t\tif (selectedTasksIds.indexOf(drag.id) >= 0) {\n\t\t\t\t\t\t\t\tdragHash = this.dragMultiple;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar dragProject = false;\n\t\t\t\t\t\tif (gantt.isSummaryTask(task) && gantt.config.drag_project) {\n\t\t\t\t\t\t\tvar initialDrag = {};\n\t\t\t\t\t\t\tinitialDrag[drag.id] = utils.copy(drag);\n\t\t\t\t\t\t\tdragProject = true;\n\t\t\t\t\t\t\tdragHash = utils.mixin(initialDrag, this.dragMultiple);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar maxShift = this._find_max_shift(dragHash, shift);\n\t\t\t\t\t\tif (maxShift !== undefined) {\n\t\t\t\t\t\t\tshift = maxShift;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._update_item_on_move(shift, drag.id, drag.mode, drag, e);\n\n\t\t\t\t\t\tfor (var i in dragHash) {\n\t\t\t\t\t\t\tvar childDrag =  dragHash[i];\n\t\t\t\t\t\t\tif(dragProject && childDrag.id != drag.id){\n\t\t\t\t\t\t\t\tgantt._bulk_dnd = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis._update_item_on_move(shift, childDrag.id, childDrag.mode, childDrag, e);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tgantt._bulk_dnd = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// for resize and progress\n\t\t\t\t\t\tthis._update_item_on_move(shift, drag.id, drag.mode, drag, e);\n\t\t\t\t\t}\n\t\t\t\t\tgantt._update_parents(drag.id);\n\t\t\t\t}\n\n\t\t\t}\n\t\t},\n\n\t\ton_mouse_down: function(e, src) {\n\t\t\t// on Mac we do not get onmouseup event when clicking right mouse button leaving us in dnd state\n\t\t\t// let's ignore right mouse button then\n\t\t\tif (e.button == 2 && e.button !== undefined)\n\t\t\t\treturn;\n\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tvar id = gantt.locate(e);\n\t\t\tvar task = null;\n\t\t\tif (gantt.isTaskExists(id)) {\n\t\t\t\ttask = gantt.getTask(id);\n\t\t\t}\n\n\t\t\tif (gantt.isReadonly(task) || this.drag.mode) return;\n\n\t\t\tthis.clear_drag_state();\n\n\t\t\tsrc = src || (e.target || e.srcElement);\n\n\t\t\tvar className = domHelpers.getClassName(src);\n\t\t\tvar drag = this._get_drag_mode(className, src);\n\n\t\t\tif (!className || !drag) {\n\t\t\t\tif (src.parentNode)\n\t\t\t\t\treturn this.on_mouse_down(e, src.parentNode);\n\t\t\t\telse\n\t\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!drag) {\n\t\t\t\tif (gantt.checkEvent(\"onMouseDown\") && gantt.callEvent(\"onMouseDown\", [className.split(\" \")[0]])) {\n\t\t\t\t\tif (src.parentNode)\n\t\t\t\t\t\treturn this.on_mouse_down(e, src.parentNode);\n\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (drag.mode && drag.mode != config.drag_mode.ignore && config[\"drag_\" + drag.mode]) {\n\t\t\t\t\tid = gantt.locate(src);\n\t\t\t\t\ttask = gantt.copy(gantt.getTask(id) || {});\n\n\t\t\t\t\tif (gantt.isReadonly(task)) {\n\t\t\t\t\t\tthis.clear_drag_state();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ((gantt.isSummaryTask(task) && !config.drag_project) && drag.mode != config.drag_mode.progress) {//only progress drag is allowed for tasks with flexible duration\n\t\t\t\t\t\tthis.clear_drag_state();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tdrag.id = id;\n\t\t\t\t\tvar pos = domHelpers.getRelativeEventPosition(e, gantt.$task_data);\n\n\t\t\t\t\tdrag.start_x = pos.x;\n\t\t\t\t\tdrag.start_y = pos.y;\n\t\t\t\t\tdrag.obj = task;\n\t\t\t\t\tthis.drag.start_drag = drag;\n\t\t\t\t\tthis.drag.timestamp = Date.now();\n\n\t\t\t\t} else\n\t\t\t\t\tthis.clear_drag_state();\n\t\t\t}\n\t\t},\n\t\t_fix_dnd_scale_time: function(task, drag) {\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tvar unit = gantt.getScale().unit,\n\t\t\t\tstep = gantt.getScale().step;\n\t\t\tif (!config.round_dnd_dates) {\n\t\t\t\tunit = 'minute';\n\t\t\t\tstep = config.time_step;\n\t\t\t}\n\n\t\t\tfunction fixStart(task) {\n\t\t\t\tif (!gantt.config.correct_work_time)\n\t\t\t\t\treturn;\n\t\t\t\tvar config = timeline.$getConfig();\n\t\t\t\tif (!gantt.isWorkTime(task.start_date, undefined, task))\n\t\t\t\t\ttask.start_date = gantt.calculateEndDate({\n\t\t\t\t\t\tstart_date: task.start_date,\n\t\t\t\t\t\tduration: -1,\n\t\t\t\t\t\tunit: config.duration_unit,\n\t\t\t\t\t\ttask: task\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction fixEnd(task) {\n\t\t\t\tif (!gantt.config.correct_work_time)\n\t\t\t\t\treturn;\n\t\t\t\tvar config = timeline.$getConfig();\n\t\t\t\tif (!gantt.isWorkTime(new Date(task.end_date - 1), undefined, task))\n\t\t\t\t\ttask.end_date = gantt.calculateEndDate({\n\t\t\t\t\t\tstart_date: task.end_date,\n\t\t\t\t\t\tduration: 1,\n\t\t\t\t\t\tunit: config.duration_unit,\n\t\t\t\t\t\ttask: task\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (drag.mode == config.drag_mode.resize) {\n\t\t\t\tif (drag.left) {\n\t\t\t\t\ttask.start_date = gantt.roundDate({date: task.start_date, unit: unit, step: step});\n\t\t\t\t\tfixStart(task);\n\t\t\t\t} else {\n\t\t\t\t\ttask.end_date = gantt.roundDate({date: task.end_date, unit: unit, step: step});\n\t\t\t\t\tfixEnd(task);\n\t\t\t\t}\n\t\t\t} else if (drag.mode == config.drag_mode.move) {\n\t\t\t\ttask.start_date = gantt.roundDate({date: task.start_date, unit: unit, step: step});\n\t\t\t\tfixStart(task);\n\t\t\t\ttask.end_date = gantt.calculateEndDate(task);\n\t\t\t}\n\t\t},\n\t\t_fix_working_times: function(task, drag) {\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tvar drag = drag || {mode: config.drag_mode.move};\n\n\t\t\tif (drag.mode == config.drag_mode.resize) {\n\t\t\t\tif (drag.left) {\n\t\t\t\t\ttask.start_date = gantt.getClosestWorkTime({date: task.start_date, dir: 'future', task: task});\n\t\t\t\t} else {\n\t\t\t\t\ttask.end_date = gantt.getClosestWorkTime({date: task.end_date, dir: 'past', task: task});\n\t\t\t\t}\n\t\t\t} else if (drag.mode == config.drag_mode.move) {\n\t\t\t\tgantt.correctTaskWorkTime(task);\n\t\t\t}\n\t\t},\n\n\t\t_finalize_mouse_up: function(taskId, config, drag, e) {\n\t\t\tvar task = gantt.getTask(taskId);\n\n\t\t\tif (config.work_time && config.correct_work_time) {\n\t\t\t\tthis._fix_working_times(task, drag);\n\t\t\t}\n\n\t\t\tthis._fix_dnd_scale_time(task, drag);\n\n\t\t\tif (!this._fireEvent(\"before_finish\", drag.mode, [taskId, drag.mode, gantt.copy(drag.obj), e])) {\n\t\t\t\t//drag.obj._dhx_changed = false;\n\t\t\t\tthis.clear_drag_state();\n\t\t\t\tif (taskId == drag.id) {\n\t\t\t\t\tdrag.obj._dhx_changed = false;\n\t\t\t\t\tgantt.mixin(task, drag.obj, true);\n\t\t\t\t}\n\n\n\t\t\t\tgantt.refreshTask(task.id);\n\t\t\t} else {\n\t\t\t\tvar drag_id = taskId;\n\n\t\t\t\tgantt._init_task_timing(task);\n\n\t\t\t\tthis.clear_drag_state();\n\t\t\t\tgantt.updateTask(task.id);\n\t\t\t\tthis._fireEvent(\"after_finish\", drag.mode, [drag_id, drag.mode, e]);\n\t\t\t}\n\n\t\t},\n\n\t\ton_mouse_up: function(e) {\n\n\t\t\tvar drag = this.drag;\n\t\t\tif (drag.mode && drag.id) {\n\t\t\t\tvar config = timeline.$getConfig();\n\t\t\t\t//drop\n\t\t\t\tvar task = gantt.getTask(drag.id);\n\t\t\t\tvar dragMultiple = this.dragMultiple;\n\n\t\t\t\tvar finalizingBulkMove = false;\n\t\t\t\tvar moveCount = 0;\n\t\t\t\tif (drag.mode === config.drag_mode.move) {\n\t\t\t\t\tif ((gantt.isSummaryTask(task) && config.drag_project) || (this._isMultiselect())) {\n\t\t\t\t\t\tfinalizingBulkMove = true;\n\t\t\t\t\t\tmoveCount = Object.keys(dragMultiple).length;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar doFinalize = function doFinalize(){\n\t\t\t\t\tif(finalizingBulkMove){\n\t\t\t\t\t\tfor (var i in dragMultiple) {\n\t\t\t\t\t\t\tthis._finalize_mouse_up(dragMultiple[i].id, config, dragMultiple[i], e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis._finalize_mouse_up(drag.id, config, drag, e);\n\t\t\t\t};\n\n\t\t\t\tif(finalizingBulkMove && moveCount > 25){// 25 - arbitrary threshold for bulk dnd at which we start doing complete repaint to refresh\n\t\t\t\t\tgantt.batchUpdate(function(){\n\t\t\t\t\t\tdoFinalize.call(this);\n\t\t\t\t\t}.bind(this));\n\t\t\t\t}else{\n\t\t\t\t\tdoFinalize.call(this);\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tthis.clear_drag_state();\n\t\t},\n\t\t_get_drag_mode: function(className, el) {\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tvar modes = config.drag_mode;\n\t\t\tvar classes = (className || \"\").split(\" \");\n\t\t\tvar classname = classes[0];\n\t\t\tvar drag = {mode: null, left: null};\n\t\t\tswitch (classname) {\n\t\t\t\tcase \"gantt_task_line\":\n\t\t\t\tcase \"gantt_task_content\":\n\t\t\t\t\tdrag.mode = modes.move;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"gantt_task_drag\":\n\t\t\t\t\tdrag.mode = modes.resize;\n\n\t\t\t\t\tvar dragProperty = el.getAttribute(\"data-bind-property\");\n\n\t\t\t\t\tif (dragProperty == \"start_date\") {\n\t\t\t\t\t\tdrag.left = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdrag.left = false;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"gantt_task_progress_drag\":\n\t\t\t\t\tdrag.mode = modes.progress;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"gantt_link_control\":\n\t\t\t\tcase \"gantt_link_point\":\n\t\t\t\t\tdrag.mode = modes.ignore;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tdrag = null;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn drag;\n\n\t\t},\n\n\t\t_start_dnd: function(e) {\n\t\t\tvar drag = this.drag = this.drag.start_drag;\n\t\t\tdelete drag.start_drag;\n\n\t\t\tvar cfg = timeline.$getConfig();\n\t\t\tvar id = drag.id;\n\n\t\t\tif (!cfg[\"drag_\" + drag.mode] || !gantt.callEvent(\"onBeforeDrag\", [id, drag.mode, e]) || !this._fireEvent(\"before_start\", drag.mode, [id, drag.mode, e])) {\n\t\t\t\tthis.clear_drag_state();\n\t\t\t} else {\n\t\t\t\tdelete drag.start_drag;\n\t\t\t\tvar task = gantt.getTask(id);\n\t\t\t\tif (gantt.isReadonly(task)){\n\t\t\t\t\tthis.clear_drag_state();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (this._isMultiselect()) {\n\t\t\t\t\t// for don't move selected tasks when drag unselected task\n\t\t\t\t\tvar selectedTasksIds = gantt.getSelectedTasks();\n\t\t\t\t\tif (selectedTasksIds.indexOf(drag.id) >= 0) {\n\t\t\t\t\t\thelpers.forEach(selectedTasksIds, gantt.bind(function(taskId) {\n\t\t\t\t\t\t\tvar selectedTask = gantt.getTask(taskId);\n\t\t\t\t\t\t\tif (gantt.isSummaryTask(selectedTask) && gantt.config.drag_project && drag.mode == cfg.drag_mode.move) {\n\t\t\t\t\t\t\t\tthis._addSubtasksToDragMultiple(selectedTask.id);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.dragMultiple[taskId] = gantt.mixin({\n\t\t\t\t\t\t\t\tid: selectedTask.id,\n\t\t\t\t\t\t\t\tobj: gantt.copy(selectedTask)\n\t\t\t\t\t\t\t}, this.drag);\n\t\t\t\t\t\t}, this));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// for move unselected summary\n\t\t\t\tif (gantt.isSummaryTask(task) && gantt.config.drag_project && drag.mode == cfg.drag_mode.move) {\n\t\t\t\t\tthis._addSubtasksToDragMultiple(task.id);\n\t\t\t\t}\n\t\t\t\tgantt.callEvent(\"onTaskDragStart\", []);\n\t\t\t}\n\n\t\t},\n\t\t_fireEvent: function(stage, mode, params) {\n\t\t\tgantt.assert(this._events[stage], \"Invalid stage:{\" + stage + \"}\");\n\n\t\t\tvar trigger = this._events[stage][mode];\n\n\t\t\tgantt.assert(trigger, \"Unknown after drop mode:{\" + mode + \"}\");\n\t\t\tgantt.assert(params, \"Invalid event arguments\");\n\n\n\t\t\tif (!gantt.checkEvent(trigger))\n\t\t\t\treturn true;\n\n\t\t\treturn gantt.callEvent(trigger, params);\n\t\t},\n\n\t\tround_task_dates: function(task) {\n\t\t\tvar drag_state = this.drag;\n\t\t\tvar config = timeline.$getConfig();\n\t\t\tif (!drag_state) {\n\t\t\t\tdrag_state = {mode: config.drag_mode.move};\n\t\t\t}\n\t\t\tthis._fix_dnd_scale_time(task, drag_state);\n\t\t},\n\t\tdestructor: function() {\n\t\t\tthis._domEvents.detachAll();\n\t\t},\n\t\t_isMultiselect: function() {\n\t\t\treturn gantt.config.drag_multiple && !!(gantt.getSelectedTasks && gantt.getSelectedTasks().length > 0);\n\t\t},\n\t\t_addSubtasksToDragMultiple: function(summaryId) {\n\t\t\tgantt.eachTask(function(child) {\n\t\t\t\tthis.dragMultiple[child.id] = gantt.mixin({\n\t\t\t\t\tid: child.id,\n\t\t\t\t\tobj: gantt.copy(child)\n\t\t\t\t}, this.drag);\n\t\t\t}, summaryId, this);\n\t\t}\n\t};\n}\n\nfunction initTaskDND() {\n\tvar _tasks_dnd;\n\treturn {\n\t\textend: function(timeline) {\n\t\t\ttimeline.roundTaskDates = function(task) {\n\t\t\t\t_tasks_dnd.round_task_dates(task);\n\t\t\t};\n\n\t\t},\n\t\tinit: function(timeline, gantt) {\n\t\t\t_tasks_dnd = createTaskDND(timeline, gantt);\n\t\t\t// TODO: entry point for touch handlers, move touch to timeline\n\t\t\ttimeline._tasks_dnd = _tasks_dnd;\n\t\t\treturn _tasks_dnd.init(gantt);\n\t\t},\n\t\tdestructor: function() {\n\t\t\tif (_tasks_dnd) {\n\t\t\t\t_tasks_dnd.destructor();\n\t\t\t\t_tasks_dnd = null;\n\t\t\t}\n\t\t}\n\t};\n}\n\nmodule.exports = {\n\tcreateTaskDND: initTaskDND\n};\n","var utils = require(\"../../../utils/utils\"),\n\ttaskDnD = require(\"./tasks_dnd\"),\n\tlinkDnD = require(\"./links_dnd\"),\n\tdomHelpers = require(\"../utils/dom_helpers\");\n\nvar initializer = (function(){\n\treturn function(gantt){\n\t\tvar services = gantt.$services;\n\t\treturn {\n\t\t\tonCreated: function (timeline) {\n\t\t\t\tvar config = timeline.$config;\n\t\t\t\tconfig.bind = utils.defined(config.bind) ? config.bind : \"task\";\n\t\t\t\tconfig.bindLinks = utils.defined(config.bindLinks) ? config.bindLinks : \"link\";\n\n\t\t\t\ttimeline._linksDnD = linkDnD.createLinkDND();\n\t\t\t\ttimeline._tasksDnD = taskDnD.createTaskDND();\n\t\t\t\ttimeline._tasksDnD.extend(timeline);\n\n\t\t\t\tthis._mouseDelegates = require(\"../mouse_event_container\")(gantt);\n\t\t\t},\n\t\t\tonInitialized: function (timeline) {\n\t\t\t\tthis._attachDomEvents(gantt);\n\n\t\t\t\tthis._attachStateProvider(gantt, timeline);\n\n\t\t\t\ttimeline._tasksDnD.init(timeline, gantt);\n\t\t\t\ttimeline._linksDnD.init(timeline, gantt);\n\n\t\t\t\tif(timeline.$config.id == \"timeline\"){\n\t\t\t\t\tthis.extendDom(timeline);\n\t\t\t\t}\n\n\t\t\t},\n\t\t\tonDestroyed: function (timeline) {\n\t\t\t\tthis._clearDomEvents(gantt);\n\t\t\t\tthis._clearStateProvider(gantt);\n\t\t\t\tif (timeline._tasksDnD) {\n\t\t\t\t\ttimeline._tasksDnD.destructor();\n\t\t\t\t}\n\t\t\t},\n\t\t\textendDom: function(timeline){\n\t\t\t\tgantt.$task = timeline.$task;\n\t\t\t\tgantt.$task_scale = timeline.$task_scale;\n\t\t\t\tgantt.$task_data = timeline.$task_data;\n\t\t\t\tgantt.$task_bg = timeline.$task_bg;\n\t\t\t\tgantt.$task_links = timeline.$task_links;\n\t\t\t\tgantt.$task_bars = timeline.$task_bars;\n\t\t\t},\n\n\t\t\t_clearDomEvents: function(){\n\t\t\t\tthis._mouseDelegates.destructor();\n\t\t\t\tthis._mouseDelegates = null;\n\t\t\t},\n\n\t\t\t_attachDomEvents: function(gantt){\n\t\t\t\tfunction _delete_link_handler(id, e) {\n\t\t\t\t\tif (id && this.callEvent(\"onLinkDblClick\", [id, e])) {\n\n\t\t\t\t\t\tvar link = this.getLink(id);\n\t\t\t\t\t\tif (this.isReadonly(link)) return;\n\n\t\t\t\t\t\tvar title = \"\";\n\t\t\t\t\t\tvar question = this.locale.labels.link + \" \" + this.templates.link_description(this.getLink(id)) + \" \" + this.locale.labels.confirm_link_deleting;\n\n\t\t\t\t\t\twindow.setTimeout(function () {\n\t\t\t\t\t\t\tgantt._dhtmlx_confirm(question, title, function () {\n\t\t\t\t\t\t\t\tgantt.deleteLink(id);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, (this.config.touch ? 300 : 1));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_task_link\", gantt.bind(function (e, trg) {\n\t\t\t\t\tvar id = this.locate(e, this.config.link_attribute);\n\t\t\t\t\tif (id) {\n\t\t\t\t\t\tthis.callEvent(\"onLinkClick\", [id, e]);\n\t\t\t\t\t}\n\t\t\t\t}, gantt), this.$task);\n\n\t\t\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_scale_cell\", gantt.bind(function (e, trg) {\n\t\t\t\t\tvar pos = domHelpers.getRelativeEventPosition(e, gantt.$task_data);\n\t\t\t\t\tvar date = gantt.dateFromPos(pos.x);\n\t\t\t\t\tvar coll = Math.floor(gantt.columnIndexByDate(date));\n\n\t\t\t\t\tvar coll_date = gantt.getScale().trace_x[coll];\n\n\t\t\t\t\tgantt.callEvent(\"onScaleClick\", [e, coll_date]);\n\t\t\t\t}, gantt), this.$task);\n\n\t\t\t\tthis._mouseDelegates.delegate(\"doubleclick\", \"gantt_task_link\", gantt.bind(function (e, id, trg) {\n\t\t\t\t\tvar id = this.locate(e, gantt.config.link_attribute);\n\t\t\t\t\t_delete_link_handler.call(this, id, e);\n\t\t\t\t}, gantt), this.$task);\n\n\t\t\t\tthis._mouseDelegates.delegate(\"doubleclick\", \"gantt_link_point\", gantt.bind(function (e, id, trg) {\n\t\t\t\t\tvar id = this.locate(e),\n\t\t\t\t\t\ttask = this.getTask(id);\n\n\t\t\t\t\tvar link = null;\n\t\t\t\t\tif (trg.parentNode && domHelpers.getClassName(trg.parentNode)) {\n\t\t\t\t\t\tif (domHelpers.getClassName(trg.parentNode).indexOf(\"_left\") > -1) {\n\t\t\t\t\t\t\tlink = task.$target[0];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlink = task.$source[0];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (link)\n\t\t\t\t\t\t_delete_link_handler.call(this, link, e);\n\t\t\t\t\treturn false;\n\t\t\t\t}, gantt), this.$task);\n\t\t\t},\n\n\t\t\t_attachStateProvider: function(gantt, timeline){\n\t\t\t\tvar self = timeline;\n\t\t\t\tvar state = services.getService(\"state\");\n\t\t\t\tstate.registerProvider(\"tasksTimeline\", function(){\n\t\t\t\t\treturn {\n\t\t\t\t\t\tscale_unit: self._tasks ? self._tasks.unit : undefined,\n\t\t\t\t\t\tscale_step:  self._tasks ? self._tasks.step  : undefined\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t_clearStateProvider: function(){\n\t\t\t\tvar state = services.getService(\"state\");\n\t\t\t\tstate.unregisterProvider(\"tasksTimeline\");\n\t\t\t}\n\t\t};\n\t};\n\n})();\n\nmodule.exports = initializer;","var domHelpers = require(\"../../utils/dom_helpers\");\n\n/**\n * methods for highlighting current drag and drop position\n */\n\nfunction highlightPosition(target, root, grid){\n\tvar markerPos = getTaskMarkerPosition(target, grid);\n\t// setting position of row\n\troot.marker.style.left = markerPos.x + 9 + \"px\";\n\troot.marker.style.top = markerPos.y + \"px\";\n\tvar markerLine = root.markerLine;\n\tif(!markerLine){\n\t\tmarkerLine = document.createElement(\"div\");\n\t\tmarkerLine.className = \"gantt_drag_marker gantt_grid_dnd_marker\";\n\t\tmarkerLine.innerHTML = \"<div class='gantt_grid_dnd_marker_line'></div>\";\n\t\tmarkerLine.style.pointerEvents = \"none\";\n\t}\n\n\tif(target.child){\n\t\thighlightFolder(target, markerLine, grid);\n\t}else{\n\t\thighlightRow(target, markerLine, grid);\n\t}\n\n\tif(!root.markerLine){\n\t\tdocument.body.appendChild(markerLine);\n\t\troot.markerLine = markerLine;\n\t}\n}\n\nfunction removeLineHighlight(root){\n\tif(root.markerLine && root.markerLine.parentNode){\n\t\troot.markerLine.parentNode.removeChild(root.markerLine);\n\t}\n\troot.markerLine = null;\n}\n\nfunction highlightRow(target, markerLine, grid){\n\tvar linePos = getLineMarkerPosition(target, grid);\n\tvar maxBottom = grid.$grid_data.getBoundingClientRect().bottom;\n\n\tmarkerLine.innerHTML = \"<div class='gantt_grid_dnd_marker_line'></div>\";\n\tmarkerLine.style.left = linePos.x + \"px\";\n\tmarkerLine.style.height = \"4px\";\n\n\tvar markerLineTop = linePos.y - 2;\n\tmarkerLine.style.top = markerLineTop + \"px\";\n\tmarkerLine.style.width = linePos.width + \"px\";\n\n\tif (markerLineTop > maxBottom) {\n\t\tmarkerLine.style.top = maxBottom + 'px';\n\t}\n\n\treturn markerLine;\n}\nfunction highlightFolder(target, markerFolder, grid){\n\tvar id = target.targetParent;\n\tvar pos = gridToPageCoordinates({x: 0, y: grid.getItemTop(id)}, grid);\n\tvar maxBottom = grid.$grid_data.getBoundingClientRect().bottom;\n\n\tmarkerFolder.innerHTML = \"<div class='gantt_grid_dnd_marker_folder'></div>\";\n\tmarkerFolder.style.width = grid.$grid_data.offsetWidth + \"px\";\n\tmarkerFolder.style.top = pos.y + \"px\";\n\tmarkerFolder.style.left = pos.x  + \"px\";\n\tmarkerFolder.style.height = grid.getItemHeight(id) + \"px\";\n\tif (pos.y > maxBottom) {\n\t\tmarkerFolder.style.top = maxBottom + 'px';\n\t}\n\n\treturn markerFolder;\n}\n\nfunction getLineMarkerPosition(target, grid){\n\tvar store = grid.$config.rowStore;\n\tvar pos = {x:0, y:0};\n\tvar indentNode = grid.$grid_data.querySelector(\".gantt_tree_indent\");\n\tvar indent = 15;\n\tvar level = 0;\n\tif(indentNode){\n\t\tindent = indentNode.offsetWidth;\n\t}\n\tvar iconWidth = 40;\n\tif(target.targetId !== store.$getRootId()){\n\t\tvar itemTop = grid.getItemTop(target.targetId);\n\t\tvar itemHeight = grid.getItemHeight(target.targetId);\n\t\tlevel = store.exists(target.targetId) ? store.calculateItemLevel(store.getItem(target.targetId)) : 0;\n\n\t\tif(target.prevSibling){\n\t\t\tpos.y = itemTop;\n\t\t}else if(target.nextSibling){\n\t\t\tvar childCount = 0;\n\t\t\tstore.eachItem(function(child){\n\t\t\t\tif(store.getIndexById(child.id) !== -1)\n\t\t\t\t\tchildCount++;\n\t\t\t}, target.targetId);\n\n\t\t\tpos.y = itemTop + itemHeight + childCount*itemHeight;\n\t\t}else {\n\t\t\tpos.y = itemTop + itemHeight;\n\t\t\tlevel += 1;\n\t\t}\n\t}\n\tpos.x = iconWidth + level * indent;\n\tpos.width = Math.max(grid.$grid_data.offsetWidth - pos.x, 0);\n\treturn gridToPageCoordinates(pos, grid);\n}\n\nfunction gridToPageCoordinates(pos, grid){\n\tvar gridPos = domHelpers.getNodePosition(grid.$grid_data);\n\tpos.x += gridPos.x - grid.$grid.scrollLeft;\n\tpos.y += gridPos.y - grid.$grid_data.scrollTop;\n\treturn pos;\n}\n\nfunction getTaskMarkerPosition(e, grid) {\n\tvar pos = domHelpers.getNodePosition(grid.$grid_data);\n\tvar ePos = domHelpers.getRelativeEventPosition(e, grid.$grid_data);\n\t// row offset\n\tvar x = pos.x;\n\tvar y = ePos.y - 10;\n\n\tvar rowHeight = grid.getItemHeight(e.targetId);\n\t// prevent moving row out of grid_data container\n\tif (y < pos.y) y = pos.y;\n\tvar gridHeight = grid.getTotalHeight();\n\tif (y > pos.y + gridHeight - rowHeight) y = pos.y + gridHeight - rowHeight;\n\n\tpos.x = x;\n\tpos.y = y;\n\treturn pos;\n}\n\nmodule.exports = {\n\tremoveLineHighlight: removeLineHighlight,\n\thighlightPosition: highlightPosition\n};\n","/**\n * resolve dnd position of the task when gantt.config.order_branch_free = true\n */\n\nvar dropTarget = require(\"./drop_target\");\n\nmodule.exports = function getMultiLevelDropPosition(dndTaskId, targetTaskId, relTargetPos, eventTop, store){\n\tvar result;\n\n\tif(targetTaskId !== store.$getRootId()){\n\t\tif(relTargetPos < 0.25){\n\t\t\tresult = dropTarget.prevSiblingTarget(dndTaskId, targetTaskId, store);\n\t\t}else if(relTargetPos > 0.60 && !(store.hasChild(targetTaskId) && store.getItem(targetTaskId).$open)){\n\t\t\tresult = dropTarget.nextSiblingTarget(dndTaskId, targetTaskId, store);\n\t\t}else {\n\t\t\tresult = dropTarget.firstChildTarget(dndTaskId, targetTaskId, store);\n\t\t}\n\t}else{\n\t\tvar rootId = store.$getRootId();\n\t\tif(store.hasChild(rootId) && eventTop >= 0){\n\t\t\tresult = dropTarget.lastChildTarget(dndTaskId, rootId, store);\n\t\t}else{\n\t\t\tresult = dropTarget.firstChildTarget(dndTaskId, rootId, store);\n\t\t}\n\t}\n\n\treturn result;\n};","/**\n * resolve dnd position of the task when gantt.config.order_branch_free = false\n */\n\nvar dropTarget = require(\"./drop_target\");\n\nfunction getLast(store){\n\tvar current = store.getNext();\n\twhile(store.exists(current)){\n\n\t\tvar next = store.getNext(current);\n\t\tif(!store.exists(next)){\n\t\t\treturn current;\n\t\t}else{\n\t\t\tcurrent = next;\n\t\t}\n\t}\n\treturn null;\n}\n\nfunction findClosesTarget(dndTaskId, taskId, allowedLevel, store, up){\n\tvar prev = taskId;\n\twhile(store.exists(prev)){\n\t\tvar targetLevel = store.calculateItemLevel(store.getItem(prev));\n\t\tif((targetLevel === allowedLevel || targetLevel === (allowedLevel - 1)) && store.getBranchIndex(prev) > -1){\n\t\t\tbreak;\n\t\t}else {\n\t\t\tprev = up ? store.getPrev(prev) : store.getNext(prev);\n\t\t}\n\t}\n\n\tif(store.exists(prev)){\n\t\tif(store.calculateItemLevel(store.getItem(prev)) === allowedLevel){\n\t\t\treturn up ? dropTarget.nextSiblingTarget(dndTaskId, prev, store) : dropTarget.prevSiblingTarget(dndTaskId, prev, store);\n\t\t}else{\n\t\t\treturn dropTarget.firstChildTarget(dndTaskId, prev, store);\n\t\t}\n\t}\n\treturn null;\n}\n\nfunction findTargetAbove(dndTaskId, taskId, allowedLevel, store){\n\treturn findClosesTarget(dndTaskId, taskId, allowedLevel, store, true);\n}\nfunction findTargetBelow(dndTaskId, taskId, allowedLevel, store){\n\treturn findClosesTarget(dndTaskId, taskId, allowedLevel, store, false);\n}\n\nmodule.exports = function getSameLevelDropPosition(dndTaskId, targetTaskId, relTargetPos, eventTop, store, level){\n\tvar result;\n\tif(targetTaskId !== store.$getRootId()){\n\t\tvar targetTask = store.getItem(targetTaskId);\n\t\tvar targetLevel = store.calculateItemLevel(targetTask);\n\t\tif(targetLevel === level){\n\t\t\tvar prevSibling = store.getPrevSibling(targetTaskId);\n\t\t\tif(relTargetPos < 0.5 && !prevSibling){\n\t\t\t\tresult = dropTarget.prevSiblingTarget(dndTaskId, targetTaskId, store);\n\t\t\t}else{\n\t\t\t\tif(relTargetPos < 0.5){\n\t\t\t\t\ttargetTaskId = prevSibling;\n\t\t\t\t}\n\t\t\t\tresult = dropTarget.nextSiblingTarget(dndTaskId, targetTaskId, store);\n\t\t\t}\n\t\t}else if(targetLevel > level){\n\t\t\tstore.eachParent(function(parent){\n\t\t\t\tif(store.calculateItemLevel(parent) === level){\n\t\t\t\t\ttargetTaskId = parent.id;\n\t\t\t\t}\n\t\t\t}, targetTask); \n\t\t\tresult = findTargetAbove(dndTaskId, targetTaskId, level, store);\n\t\t}else{\n\t\t\tvar targetAbove = findTargetAbove(dndTaskId, targetTaskId, level, store);\n\t\t\tvar targetBelow = findTargetBelow(dndTaskId, targetTaskId, level, store);\n\t\t\tresult = (relTargetPos < 0.5) ? targetAbove : targetBelow;\n\t\t}\n\t}else{\n\t\tvar rootId = store.$getRootId();\n\t\tvar rootLevel = store.getChildren(rootId);\n\t\tresult = dropTarget.createDropTargetObject();\n\t\tif(rootLevel.length && eventTop >= 0){\n\t\t\tresult = findTargetAbove(dndTaskId, getLast(store), level, store);\n\t\t}else{\n\t\t\tresult = findTargetBelow(dndTaskId, rootId, level, store);\n\t\t}\n\t}\n\n\treturn result;\n};\n","var domHelpers = require(\"../utils/dom_helpers\");\nvar dropTarget = require(\"./tasks_grid_dnd_marker_helpers/drop_target\");\nvar getLockedLevelTarget = require(\"./tasks_grid_dnd_marker_helpers/locked_level\");\nvar getMultiLevelTarget = require(\"./tasks_grid_dnd_marker_helpers/multi_level\");\nvar higlighter = require(\"./tasks_grid_dnd_marker_helpers/highlight\");\n\nfunction _init_dnd(gantt, grid) {\n\tvar DnD = gantt.$services.getService(\"dnd\");\n\n\tif(!grid.$config.bind || !gantt.getDatastore(grid.$config.bind)){\n\t\treturn;\n\t}\n\n\tfunction locate(e){\n\t\treturn domHelpers.locateAttribute(e, grid.$config.item_attribute);\n\t}\n\n\tvar dnd = new DnD(grid.$grid_data, {updates_per_second: 60});\n\tif (gantt.defined(grid.$getConfig().dnd_sensitivity))\n\t\tdnd.config.sensitivity = grid.$getConfig().dnd_sensitivity;\n\n\tdnd.attachEvent(\"onBeforeDragStart\", gantt.bind(function (obj, e) {\n\t\tvar el = locate(e);\n\t\tif (!el) return false;\n\t\tif (gantt.hideQuickInfo) gantt._hideQuickInfo();\n\t\tif (domHelpers.closest(e.target, \".gantt_grid_editor_placeholder\")){\n\t\t\treturn false;\n\t\t}\n\n\t\tvar id = el.getAttribute(grid.$config.item_attribute);\n\t\tvar datastore = grid.$config.rowStore;\n\t\tvar task = datastore.getItem(id);\n\n\t\tif (gantt.isReadonly(task))\n\t\t\treturn false;\n\n\t\tdnd.config.initial_open_state = task.$open;\n\t\tif (!gantt.callEvent(\"onRowDragStart\", [id, e.target || e.srcElement, e])) {\n\t\t\treturn false;\n\t\t}\n\n\t}, gantt));\n\n\tdnd.attachEvent(\"onAfterDragStart\", gantt.bind(function (obj, e) {\n\t\tvar el = locate(e);\n\n\t\tdnd.config.marker.innerHTML = el.outerHTML;\n\t\tvar element = dnd.config.marker.firstChild;\n\t\tif(element){\n\t\t\tdnd.config.marker.style.opacity = 0.4;\n\t\t\telement.style.position = \"static\";\n\t\t\telement.style.pointerEvents = \"none\";\n\t\t}\n\n\t\tdnd.config.id = el.getAttribute(grid.$config.item_attribute);\n\n\t\tvar store = grid.$config.rowStore;\n\n\t\tvar task = store.getItem(dnd.config.id);\n\t\tdnd.config.level = store.calculateItemLevel(task);\n\t\tdnd.config.drop_target = dropTarget.createDropTargetObject({\n\t\t\ttargetParent: store.getParent(task.id),\n\t\t\ttargetIndex: store.getBranchIndex(task.id),\n\t\t\ttargetId: task.id,\n\t\t\tnextSibling: true\n\t\t});\n\n\t\ttask.$open = false;\n\t\ttask.$transparent = true;\n\t\tthis.refreshData();\n\t}, gantt));\n\n\tfunction getTargetTaskId(e){\n\t\tvar y = domHelpers.getRelativeEventPosition(e, grid.$grid_data).y;\n\t\tvar store = grid.$config.rowStore;\n\n\t\ty = y || 0;\n\n\t\t// limits for the marker according to the layout layer\n\t\tvar scrollPos = grid.$state.scrollTop || 0;\n\t\tvar maxBottom = gantt.$grid_data.getBoundingClientRect().height + scrollPos;\n\t\tvar minTop = scrollPos;\n\t\tvar firstVisibleTaskPos = grid.$state.scrollTop / grid.getItemHeight();\n\t\tvar hiddenTaskPart = firstVisibleTaskPos - Math.floor(firstVisibleTaskPos);\n\t\tif (hiddenTaskPart > 0.1 && hiddenTaskPart < 0.9) {\n\t\t\tmaxBottom = maxBottom - grid.getItemHeight() * hiddenTaskPart;\n\t\t\tminTop = minTop + grid.getItemHeight() * (1 - hiddenTaskPart);\n\t\t}\n\n\t\tif (y >= maxBottom) {\n\t\t\ty = maxBottom;\n\t\t} else if (y <= minTop) {\n\t\t\ty = minTop;\n\t\t}\n\n\t\tvar index = Math.floor(y / grid.getItemHeight());\n\n\t\tif (index > store.countVisible() - 1) {\n\t\t\treturn store.$getRootId();\n\t\t}\n\n\t\treturn store.getIdByIndex(index);\n\t}\n\n\tfunction getDropPosition(e){\n\t\tvar targetTaskId = getTargetTaskId(e);\n\t\tvar relTargetPos = null;\n\t\tvar store = grid.$config.rowStore;\n\t\tvar config = grid.$getConfig();\n\t\tvar lockLevel = !config.order_branch_free;\n\n\t\tvar eventTop = domHelpers.getRelativeEventPosition(e, grid.$grid_data).y;\n\n\t\tif(targetTaskId !== store.$getRootId()) {\n\t\t\tvar rowTop = grid.getItemTop(targetTaskId);\n\t\t\tvar rowHeight = grid.getItemHeight(targetTaskId);\n\t\t\trelTargetPos = (eventTop - rowTop) / rowHeight;\n\t\t}\n\n\t\tvar result;\n\t\tif(!lockLevel){\n\t\t\tresult = getMultiLevelTarget(dnd.config.id, targetTaskId, relTargetPos, eventTop, store);\n\t\t}else{\n\t\t\tresult = getLockedLevelTarget(dnd.config.id, targetTaskId, relTargetPos, eventTop, store, dnd.config.level);\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tdnd.attachEvent(\"onDragMove\", gantt.bind(function (obj, e) {\n\t\tvar target = getDropPosition(e);\n\n\t\tif(!target ||\n\t\t\tgantt.callEvent(\"onBeforeRowDragMove\", [dnd.config.id, target.targetParent, target.targetIndex]) === false){\n\t\t\t\ttarget = dropTarget.createDropTargetObject(dnd.config.drop_target);\n\t\t\t}\n\n\t\thiglighter.highlightPosition(target, dnd.config, grid);\n\t\tdnd.config.drop_target = target;\n\n\t\tthis.callEvent(\"onRowDragMove\", [dnd.config.id, target.targetParent, target.targetIndex]);\n\t\treturn true;\n\t}, gantt));\n\n\tdnd.attachEvent(\"onDragEnd\", gantt.bind(function () {\n\t\tvar store = grid.$config.rowStore;\n\t\tvar task = store.getItem(dnd.config.id);\n\n\t\thiglighter.removeLineHighlight(dnd.config);\n\n\t\ttask.$transparent = false;\n\t\ttask.$open = dnd.config.initial_open_state;\n\t\tvar target = dnd.config.drop_target;\n\n\t\tif (this.callEvent(\"onBeforeRowDragEnd\", [dnd.config.id, target.targetParent, target.targetIndex]) === false) {\n\t\t\ttask.$drop_target = null;\n\t\t} else {\n\t\t\tstore.move(dnd.config.id, target.targetIndex, target.targetParent);\n\t\t\tgantt.render();\n\t\t\tthis.callEvent(\"onRowDragEnd\", [dnd.config.id, target.targetParent, target.targetIndex]);\n\t\t}\n\t\tstore.refresh(task.id);\n\t}, gantt));\n}\n\nmodule.exports = {\n\tinit: _init_dnd\n};","var domHelpers = require(\"../utils/dom_helpers\");\n\nfunction _init_dnd(gantt, grid) {\n\tvar DnD = gantt.$services.getService(\"dnd\");\n\n\tif(!grid.$config.bind || !gantt.getDatastore(grid.$config.bind)){\n\t\treturn;\n\t}\n\n\tfunction locate(e){\n\t\treturn domHelpers.locateAttribute(e, grid.$config.item_attribute);\n\t}\n\n\tfunction getStore(){\n\t\treturn gantt.getDatastore(grid.$config.bind);\n\t}\n\n\tvar dnd = new DnD(grid.$grid_data, {updates_per_second: 60});\n\tif (gantt.defined(grid.$getConfig().dnd_sensitivity))\n\t\tdnd.config.sensitivity = grid.$getConfig().dnd_sensitivity;\n\n\tdnd.attachEvent(\"onBeforeDragStart\", gantt.bind(function (obj, e) {\n\t\tvar el = locate(e);\n\t\tif (!el) return false;\n\t\tif (gantt.hideQuickInfo) gantt._hideQuickInfo();\n\n\t\tif (domHelpers.closest(e.target, \".gantt_grid_editor_placeholder\")){\n\t\t\treturn false;\n\t\t}\n\n\t\tvar id = el.getAttribute(grid.$config.item_attribute);\n\n\t\tvar datastore = getStore();\n\n\t\tvar task = datastore.getItem(id);\n\n\t\tif (gantt.isReadonly(task))\n\t\t\treturn false;\n\n\t\tdnd.config.initial_open_state = task.$open;\n\t\tif (!gantt.callEvent(\"onRowDragStart\", [id, e.target || e.srcElement, e])) {\n\t\t\treturn false;\n\t\t}\n\n\t}, gantt));\n\n\tdnd.attachEvent(\"onAfterDragStart\", gantt.bind(function (obj, e) {\n\t\tvar el = locate(e);\n\t\tdnd.config.marker.innerHTML = el.outerHTML;\n\t\tvar element = dnd.config.marker.firstChild;\n\t\tif(element){\n\t\t\telement.style.position = \"static\";\n\t\t}\n\n\t\tdnd.config.id = el.getAttribute(grid.$config.item_attribute);\n\n\t\tvar store = getStore();\n\n\t\tvar task = store.getItem(dnd.config.id);\n\t\tdnd.config.index = store.getBranchIndex(dnd.config.id);\n\t\tdnd.config.parent = task.parent;\n\t\ttask.$open = false;\n\t\ttask.$transparent = true;\n\t\tthis.refreshData();\n\t}, gantt));\n\n\tdnd.lastTaskOfLevel = function (level) {\n\t\tvar last_item = null;\n\t\tvar store = getStore();\n\t\tvar tasks = store.getItems();\n\t\tfor (var i = 0, len = tasks.length; i < len; i++) {\n\t\t\tif (tasks[i].$level == level) {\n\t\t\t\tlast_item = tasks[i];\n\t\t\t}\n\t\t}\n\t\treturn last_item ? last_item.id : null;\n\t};\n\tdnd._getGridPos = gantt.bind(function (e) {\n\t\tvar pos = domHelpers.getNodePosition(grid.$grid_data);\n\t\t// row offset\n\t\tvar x = pos.x;\n\t\tvar y = e.pos.y - 10;\n\n\t\tvar rowHeight = grid.getItemHeight(dnd.config.id);\n\t\t// prevent moving row out of grid_data container\n\t\tif (y < pos.y) y = pos.y;\n\t\tvar gridHeight = grid.getTotalHeight();\n\t\tif (y > pos.y + gridHeight - rowHeight) y = pos.y + gridHeight - rowHeight;\n\n\t\tpos.x = x;\n\t\tpos.y = y;\n\t\treturn pos;\n\t}, gantt);\n\tdnd._getTargetY = gantt.bind(function (e) {\n\t\tvar pos = domHelpers.getNodePosition(grid.$grid_data);\n\t\tvar scrollPos = grid.$state.scrollTop || 0;\n\t\tvar maxBottom = gantt.$grid_data.getBoundingClientRect().height + scrollPos;\n\n\t\tvar y = e.pageY - pos.y + scrollPos;\n\t\tif (y > maxBottom) {\n\t\t\ty = maxBottom;\n\t\t} else if (y < scrollPos) {\n\t\t\ty = scrollPos;\n\t\t}\n\t\treturn y;\n\t}, gantt);\n\tdnd._getTaskByY = gantt.bind(function (y, dropIndex) {\n\n\t\tvar store = getStore();\n\n\t\ty = y || 0;\n\n\t\tvar index = grid.getItemIndexByTopPosition(y);\n\t\tindex = dropIndex < index ? index - 1 : index;\n\n\t\tif (index > store.countVisible() - 1)\n\t\t\treturn null;\n\n\t\treturn store.getIdByIndex(index);\n\t}, gantt);\n\tdnd.attachEvent(\"onDragMove\", gantt.bind(function (obj, e) {\n\t\tvar maxBottom = gantt.$grid_data.getBoundingClientRect().height + (grid.$state.scrollTop || 0);\n\t\tvar dd = dnd.config;\n\t\tvar pos = dnd._getGridPos(e);\n\n\t\tvar config = grid.$getConfig(),\n\t\t\tstore = getStore();\n\n\t\t// setting position of row\n\t\tif (pos.y < maxBottom) {\n\t\t\tdd.marker.style.top = pos.y + \"px\";\n\t\t} else {\n\t\t\tdd.marker.style.top = maxBottom + \"px\";\n\t\t}\n\t\tdd.marker.style.left = pos.x + 10 + \"px\";\n\n\t\t// highlight row when mouseover\n\t\tvar item = store.getItem(dnd.config.id);\n\t\tvar targetY = dnd._getTargetY(e);\n\t\tvar el = dnd._getTaskByY(targetY, store.getIndexById(item.id));\n\n\t\tif (!store.exists(el)) {\n\t\t\tel = dnd.lastTaskOfLevel(config.order_branch_free ? item.$level : 0);\n\t\t\tif (el == dnd.config.id) {\n\t\t\t\tel = null;\n\t\t\t}\n\t\t}\n\n\t\tfunction allowedLevel(next, item) {\n\t\t\treturn (!(store.isChildOf(over.id, item.id)) && (next.$level == item.$level || config.order_branch_free));\n\t\t}\n\n\t\tif (store.exists(el)) {\n\t\t\tvar over = store.getItem(el);\n\n\t\t\tvar itemTop = grid.getItemTop(over.id);\n\t\t\tvar itemHeight = grid.getItemHeight(over.id);\n\t\t\tif (itemTop + itemHeight / 2 < targetY) {\n\t\t\t\t//hovering over bottom part of item, check can be drop to bottom\n\t\t\t\tvar index = store.getIndexById(over.id);\n\t\t\t\tvar nextId = store.getNext(over.id);//adds +1 when hovering over placeholder\n\t\t\t\tvar next = store.getItem(nextId);\n\t\t\t\tif (next) {\n\t\t\t\t\tif (next.id != item.id) {\n\t\t\t\t\t\tover = next; //there is a valid target\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (config.order_branch_free) {\n\t\t\t\t\t\t\tif (!(store.isChildOf(item.id, over.id) && store.getChildren(over.id).length == 1))\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tstore.move(item.id, store.getBranchIndex(over.id) + 1, store.getParent(over.id));\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t//we at end of the list, check and drop at the end of list\n\t\t\t\t\tnextId = store.getIdByIndex(index);\n\t\t\t\t\tnext = store.getItem(nextId);\n\n\t\t\t\t\tif (allowedLevel(next, item) && next.id != item.id) {\n\t\t\t\t\t\tstore.move(item.id, -1, store.getParent(next.id));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (config.order_branch_free) {\n\t\t\t\tif (over.id != item.id && allowedLevel(over, item)) {\n\t\t\t\t\tif (!store.hasChild(over.id)) {\n\t\t\t\t\t\tover.$open = true;\n\t\t\t\t\t\tstore.move(item.id, -1, over.id);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (store.getIndexById(over.id) || itemHeight / 3 < targetY) return;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//if item is on different level, check the one before it\n\t\t\tvar index = store.getIndexById(over.id),\n\t\t\t\tprevId = store.getIdByIndex(index - 1);\n\n\t\t\tvar prev = store.getItem(prevId);\n\n\t\t\tvar shift = 1;\n\t\t\twhile ((!prev || prev.id == over.id) && index - shift >= 0) {\n\n\t\t\t\tprevId = store.getIdByIndex(index - shift);\n\t\t\t\tprev = store.getItem(prevId);\n\t\t\t\tshift++;\n\t\t\t}\n\n\t\t\tif (item.id == over.id) return;\n\t\t\t//replacing item under cursor\n\t\t\tif (allowedLevel(over, item) && item.id != over.id) {\n\t\t\t\tstore.move(item.id, 0, 0, over.id);\n\n\t\t\t} else if (over.$level == item.$level - 1 && !store.getChildren(over.id).length) {\n\t\t\t\tstore.move(item.id, 0, over.id);\n\n\t\t\t} else if (prev && (allowedLevel(prev, item)) && (item.id != prev.id)) {\n\t\t\t\tstore.move(item.id, -1, store.getParent(prev.id));\n\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}, gantt));\n\n\tdnd.attachEvent(\"onDragEnd\", gantt.bind(function () {\n\t\tvar store = getStore();\n\t\tvar task = store.getItem(dnd.config.id);\n\t\ttask.$transparent = false;\n\t\ttask.$open = dnd.config.initial_open_state;\n\n\t\tif (this.callEvent(\"onBeforeRowDragEnd\", [dnd.config.id, dnd.config.parent, dnd.config.index]) === false) {\n\t\t\tstore.move(dnd.config.id, dnd.config.index, dnd.config.parent);\n\t\t\ttask.$drop_target = null;\n\t\t} else {\n\t\t\tthis.callEvent(\"onRowDragEnd\", [dnd.config.id, task.$drop_target]);\n\t\t}\n\t\tgantt.render();\n\t\tthis.refreshData();\n\t}, gantt));\n}\n\nmodule.exports = {\n\tinit: _init_dnd\n};","var utils = require(\"../../../utils/utils\");\nvar rowDnd = require(\"./tasks_grid_dnd\");\nvar rowDndMarker = require(\"./tasks_grid_dnd_marker\");\n\nvar initializer = (function(){\n\treturn function(gantt){\n\t\treturn {\n\t\t\tonCreated: function (grid) {\n\t\t\t\tgrid.$config = utils.mixin(grid.$config, {\n\t\t\t\t\tbind: \"task\"\n\t\t\t\t});\n\t\t\t\tif(grid.$config.id == \"grid\") {\n\t\t\t\t\tthis.extendGantt(grid);\n\t\t\t\t\tgantt.ext.inlineEditors = gantt.ext._inlineEditors.createEditors(grid);\n\t\t\t\t\tgantt.ext.inlineEditors.init();\n\t\t\t\t}\n\n\t\t\t\tthis._mouseDelegates = require(\"../mouse_event_container\")(gantt);\n\t\t\t},\n\t\t\tonInitialized: function (grid) {\n\t\t\t\tvar config = grid.$getConfig();\n\t\t\t\tif (config.order_branch) {\n\t\t\t\t\tif(config.order_branch == \"marker\"){\n\t\t\t\t\t\trowDndMarker.init(grid.$gantt, grid);\n\t\t\t\t\t}else{\n\t\t\t\t\t\trowDnd.init(grid.$gantt, grid);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.initEvents(grid, gantt);\n\t\t\t\tif(grid.$config.id == \"grid\") {\n\t\t\t\t\tthis.extendDom(grid);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonDestroyed: function (grid) {\n\t\t\t\tif(grid.$config.id == \"grid\") {\n\t\t\t\t\tgantt.ext.inlineEditors.destructor();\n\t\t\t\t}\n\t\t\t\tthis.clearEvents(grid, gantt);\n\t\t\t},\n\n\t\t\tinitEvents: function (grid, gantt) {\n\t\t\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_row\", gantt.bind(function (e, id, trg) {\n\t\t\t\t\tvar config = grid.$getConfig();\n\t\t\t\t\tif (id !== null) {\n\t\t\t\t\t\tvar task = this.getTask(id);\n\t\t\t\t\t\tif (config.scroll_on_click && !gantt._is_icon_open_click(e))\n\t\t\t\t\t\t\tthis.showDate(task.start_date);\n\t\t\t\t\t\tgantt.callEvent(\"onTaskRowClick\", [id, trg]);\n\t\t\t\t\t}\n\t\t\t\t}, gantt), grid.$grid);\n\n\t\t\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_grid_head_cell\", gantt.bind(function (e, id, trg) {\n\t\t\t\t\tvar column = trg.getAttribute(\"data-column-id\");\n\n\t\t\t\t\tif (!gantt.callEvent(\"onGridHeaderClick\", [column, e]))\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tvar config = grid.$getConfig();\n\n\t\t\t\t\tif (column == \"add\") {\n\t\t\t\t\t\tvar mouseEvents = gantt.$services.getService(\"mouseEvents\");\n\t\t\t\t\t\tmouseEvents.callHandler(\"click\", \"gantt_add\", grid.$grid, [e, config.root_id]);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (config.sort && column) { // GS-929: if there is no column name, we cannot sort the column\n\t\t\t\t\t\tvar sorting_method = column,\n\t\t\t\t\t\t\tconf;\n\n\t\t\t\t\t\tfor (var i = 0; i < config.columns.length; i++) {\n\t\t\t\t\t\t\tif (config.columns[i].name == column) {\n\t\t\t\t\t\t\t\tconf = config.columns[i];\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (conf && conf.sort !== undefined && conf.sort !== true) {\n\t\t\t\t\t\t\tsorting_method = conf.sort;\n\n\t\t\t\t\t\t\tif (!sorting_method) { // column sort property 'false', no sorting\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar sort = (this._sort && this._sort.direction && this._sort.name == column) ? this._sort.direction : \"desc\";\n\t\t\t\t\t\t// invert sort direction\n\t\t\t\t\t\tsort = (sort == \"desc\") ? \"asc\" : \"desc\";\n\t\t\t\t\t\tthis._sort = {\n\t\t\t\t\t\t\tname: column,\n\t\t\t\t\t\t\tdirection: sort\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.sort(sorting_method, sort == \"desc\");\n\t\t\t\t\t}\n\t\t\t\t}, gantt), grid.$grid);\n\n\t\t\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_add\", gantt.bind(function (e, id, trg) {\n\t\t\t\t\tvar config = grid.$getConfig();\n\t\t\t\t\tif (config.readonly) return;\n\n\t\t\t\t\tvar item = {};\n\t\t\t\t\tthis.createTask(item, id ? id : gantt.config.root_id);\n\n\t\t\t\t\treturn false;\n\t\t\t\t}, gantt), grid.$grid);\n\n\t\t\t},\n\n\t\t\tclearEvents: function(grid, gantt){\n\t\t\t\tthis._mouseDelegates.destructor();\n\t\t\t\tthis._mouseDelegates = null;\n\t\t\t},\n\n\t\t\textendDom: function(grid){\n\t\t\t\tgantt.$grid = grid.$grid;\n\t\t\t\tgantt.$grid_scale = grid.$grid_scale;\n\t\t\t\tgantt.$grid_data = grid.$grid_data;\n\t\t\t},\n\t\t\textendGantt: function(grid){\n\t\t\t\tgantt.getGridColumns = gantt.bind(grid.getGridColumns, grid);\n\n\t\t\t\tgrid.attachEvent(\"onColumnResizeStart\", function(){\n\t\t\t\t\treturn gantt.callEvent(\"onColumnResizeStart\", arguments);\n\t\t\t\t});\n\t\t\t\tgrid.attachEvent(\"onColumnResize\", function(){\n\t\t\t\t\treturn gantt.callEvent(\"onColumnResize\", arguments);\n\t\t\t\t});\n\t\t\t\tgrid.attachEvent(\"onColumnResizeEnd\", function(){\n\t\t\t\t\treturn gantt.callEvent(\"onColumnResizeEnd\", arguments);\n\t\t\t\t});\n\n\t\t\t\tgrid.attachEvent(\"onColumnResizeComplete\", function(columns, totalWidth){\n\t\t\t\t\tgantt.config.grid_width = totalWidth;\n\t\t\t\t});\n\n\t\t\t\tgrid.attachEvent(\"onBeforeRowResize\", function(){\n\t\t\t\t\treturn gantt.callEvent(\"onBeforeRowResize\", arguments);\n\t\t\t\t});\n\t\t\t\tgrid.attachEvent(\"onRowResize\", function(){\n\t\t\t\t\treturn gantt.callEvent(\"onRowResize\", arguments);\n\t\t\t\t});\n\t\t\t\tgrid.attachEvent(\"onBeforeRowResizeEnd\", function(){\n\t\t\t\t\treturn gantt.callEvent(\"onBeforeRowResizeEnd\", arguments);\n\t\t\t\t});\n\t\t\t\tgrid.attachEvent(\"onAfterRowResize\", function(){\n\t\t\t\t\treturn gantt.callEvent(\"onAfterRowResize\", arguments);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t};\n})();\n\nmodule.exports = initializer;","var getRowRectangle = require(\"./viewport/get_grid_row_rectangle\");\nvar getVisibleRange = require(\"./viewport/get_visible_bars_range\");\n\nfunction createGridTaskRowResizerRender(gantt){\n\n\tfunction _render_grid_item(item, view, viewport) {\n\n\t\tvar config = view.$getConfig();\n\t\tvar resize_el = document.createElement(\"div\");\n\t\tresize_el.className = \"gantt_task_grid_row_resize_wrap\";\n\n\t\tresize_el.style.top = (view.getItemTop(item.id) + view.getItemHeight(item.id)) + \"px\";\n\n\t\tresize_el.innerHTML = \"<div class='gantt_task_grid_row_resize'></div>\";\n\t\tresize_el.setAttribute(config.task_grid_row_resizer_attribute, item.id);\n\n\t\tgantt._waiAria.gridSeparatorAttr(resize_el);\n\t\treturn resize_el;\n\t}\n\n\treturn {\n\t\trender: _render_grid_item,\n\t\tupdate: null,\n\t\tgetRectangle: getRowRectangle,\n\t\tgetVisibleRange: getVisibleRange\n\t};\n}\n\nmodule.exports = createGridTaskRowResizerRender;","var getRectangle = require(\"./viewport/get_bg_row_rectangle\");\nvar getVisibleRange = require(\"./viewport/get_visible_bars_range\");\nvar getVisibleCellsRange = require(\"./viewport/get_visible_cells_range\");\nvar isColumnVisible = require(\"./viewport/is_column_visible\");\nvar resourceTimetable = require(\"../../resource_timetable_builder\");\n\nfunction renderBar(level, start, end, timeline){\n\tvar top = (1 - (level*1||0))*100;\n\tvar left = timeline.posFromDate(start);\n\tvar right = timeline.posFromDate(end);\n\tvar element = document.createElement(\"div\");\n\telement.className = \"gantt_histogram_hor_bar\";\n\telement.style.top = top + '%';\n\telement.style.left = left + \"px\";\n\telement.style.width = (right - left + 1) + \"px\";\n\treturn element;\n}\nfunction renderConnection(prevLevel, nextLevel, left){\n\tif(prevLevel === nextLevel){\n\t\treturn null;\n\t}\n\n\tvar top = 1 - Math.max(prevLevel, nextLevel);\n\tvar height = Math.abs(prevLevel - nextLevel);\n\tvar element = document.createElement(\"div\");\n\telement.className = \"gantt_histogram_vert_bar\";\n\telement.style.top = top*100 + \"%\";\n\telement.style.height = height*100 + \"%\";\n\telement.style.left = left + \"px\";\n\n\treturn element;\n}\n\nfunction generateRenderResourceHistogram(gantt){\n\tvar getResourceLoad = resourceTimetable(gantt);\n\tvar renderedHistogramCells = {};\n\tvar renderedHistogramRows = {};\n\tvar renderedHistogramCapacity = {};\n\n\tfunction detachRenderedHistogramCell(id, index){\n\n\t\tvar renderedRow = renderedHistogramCells[id];\n\t\tif(renderedRow && renderedRow[index] &&\n\t\t\trenderedRow[index].parentNode\n\t\t\t){\n\t\t\t\trenderedRow[index].parentNode.removeChild(renderedRow[index]);\n\t\t\t}\n\t}\n\n\tfunction renderHistogramLine(capacity, timeline, maxCapacity, viewport){\n\t\tvar scale = timeline.getScale();\n\n\t\tvar el = document.createElement(\"div\");\n\n\t\tvar range = getVisibleCellsRange(scale, viewport);\n\t\tfor (var i = range.start; i <= range.end; i++) {\n\t\t\tvar colStart = scale.trace_x[i];\n\t\t\tvar colEnd = scale.trace_x[i + 1] || gantt.date.add(colStart, scale.step, scale.unit);\n\t\t\tvar col = scale.trace_x[i].valueOf();\n\t\t\tvar level = Math.min(capacity[col]/maxCapacity, 1) || 0;\n\t\t\t// do not render histogram for lines with below zero capacity, as it's reserved for folders\n\t\t\tif(level < 0){\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tvar nextLevel = Math.min(capacity[colEnd.valueOf()]/maxCapacity, 1) || 0;\n\t\t\tvar bar = renderBar(level, colStart, colEnd, timeline);\n\t\t\tif(bar){\n\t\t\t\tel.appendChild(bar);\n\t\t\t}\n\t\t\tvar connection = renderConnection(level, nextLevel, timeline.posFromDate(colEnd));\n\t\t\tif(connection){\n\t\t\t\tel.appendChild(connection);\n\t\t\t}\n\n\t\t}\n\t\treturn el;\n\t}\n\n\tfunction renderCapacityElement(resource, sizes, capacityMatrix, config, timeline, maxCapacity, viewport){\n\n\t\tvar renderedElement = renderedHistogramCapacity[resource.id];\n\t\tif(renderedElement && renderedElement.parentNode){\n\t\t\trenderedElement.parentNode.removeChild(renderedElement);\n\t\t}\n\n\t\tvar capacityElement = renderHistogramLine(capacityMatrix, timeline, maxCapacity, viewport);\n\t\tif (capacityElement) {\n\t\t\tcapacityElement.setAttribute(\"data-resource-id\", resource.id);\n\t\t\tcapacityElement.setAttribute(timeline.$config.item_attribute, resource.id);\n\t\t\tcapacityElement.style.position = \"absolute\";\n\t\t\tcapacityElement.style.top = (sizes.top + 1) + \"px\";\n\t\t\tcapacityElement.style.height = (timeline.getItemHeight(resource.id) - 1) + \"px\";\n\t\t\tcapacityElement.style.left = 0;\n\t\t}\n\t\treturn capacityElement;\n\t}\n\n\tfunction renderHistogramCell(resource, sizes, maxCapacity, config, templates, day, timeline){\n\t\tvar css = templates.histogram_cell_class(day.start_date, day.end_date, resource, day.tasks, day.assignments);\n\t\tvar content = templates.histogram_cell_label(day.start_date, day.end_date, resource, day.tasks, day.assignments);\n\t\tvar fill = templates.histogram_cell_allocated(day.start_date, day.end_date, resource, day.tasks, day.assignments);\n\t\tvar height = timeline.getItemHeight(resource.id) - 1;\n\t\tif(css || content){\n\t\t\tvar el = document.createElement('div');\n\t\t\tel.className = [\"gantt_histogram_cell\", css].join(\" \");\n\t\t\tel.setAttribute(timeline.$config.item_attribute, resource.id);\n\t\t\tel.style.cssText = [\n\t\t\t\t'left:' + sizes.left + 'px',\n\t\t\t\t'width:' + sizes.width + 'px',\n\t\t\t\t'height:' + (height) + 'px',\n\t\t\t\t'line-height:' + (height) + 'px',\n\t\t\t\t'top:' + (sizes.top + 1) + 'px'\n\t\t\t].join(\";\");\n\n\n\t\t\tif (content) {\n\t\t\t\tcontent = \"<div class='gantt_histogram_label'>\" + content +\"</div>\";\n\t\t\t}\n\n\t\t\tif (fill) {\n\t\t\t\tcontent = \"<div class='gantt_histogram_fill' style='height:\"+(Math.min(fill/maxCapacity||0, 1)*100)+\"%;'></div>\" + content;\n\t\t\t}\n\n\t\t\tif (content) {\n\t\t\t\tel.innerHTML = content;\n\t\t\t}\n\n\t\t\treturn el;\n\t\t}\n\t\treturn null;\n\t}\n\n\tfunction renderResourceHistogram(resource, timeline, config, viewport) {\n\t\tvar templates = timeline.$getTemplates();\n\t\tvar scale = timeline.getScale();\n\t\tvar timetable = getResourceLoad(resource, config.resource_property, scale, timeline);\n\n\t\tvar cells = [];\n\t\tvar capacityMatrix = {};\n\t\tvar maxCapacity = resource.capacity || timeline.$config.capacity || 24;\n\t\trenderedHistogramCells[resource.id] = {};\n\t\trenderedHistogramRows[resource.id] = null;\n\t\trenderedHistogramCapacity[resource.id] = null;\n\n\t\tvar smartRendering = !!viewport;//no viewport means smart rendering is disabled\n\n\t\tvar range = getVisibleCellsRange(scale, viewport);\n\t\tfor (var columnIndex = range.start; columnIndex <= range.end; columnIndex++) {\n\n\t\t\tvar day = timetable[columnIndex];\n\t\t\tif(!day){\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif(smartRendering && !isColumnVisible(columnIndex, scale, viewport, gantt)){\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar capacity = templates.histogram_cell_capacity(day.start_date, day.end_date, resource, day.tasks, day.assignments);\n\t\t\tcapacityMatrix[day.start_date.valueOf()] = capacity || 0;\n\t\t\tvar sizes = timeline.getItemPosition(resource, day.start_date, day.end_date);\n\n\t\t\tvar el = renderHistogramCell(resource, sizes, maxCapacity, config, templates, day, timeline);\n\t\t\tif(el){\n\t\t\t\tcells.push(el);\n\t\t\t\trenderedHistogramCells[resource.id][columnIndex] = el;\n\t\t\t}\n\t\t}\n\n\t\tvar row = null;\n\t\tif (cells.length) {\n\t\t\trow = document.createElement(\"div\");\n\t\t\tfor (var i = 0; i < cells.length; i++) {\n\t\t\t\trow.appendChild(cells[i]);\n\t\t\t}\n\n\t\t\tvar capacityElement = renderCapacityElement(resource, sizes, capacityMatrix, config, timeline, maxCapacity, viewport);\n\t\t\tif(capacityElement){\n\t\t\t\trow.appendChild(capacityElement);\n\t\t\t\trenderedHistogramCapacity[resource.id] = capacityElement;\n\t\t\t}\n\t\t\trenderedHistogramRows[resource.id] = row;\n\t\t}\n\n\t\treturn row;\n\t}\n\n\tfunction updateResourceHistogram(resource, node, timeline, config, viewport) {\n\t\tvar templates = timeline.$getTemplates();\n\t\tvar scale = timeline.getScale();\n\t\tvar timetable = getResourceLoad(resource, config.resource_property, scale, timeline);\n\t\tvar maxCapacity = resource.capacity || timeline.$config.capacity || 24;\n\t\tvar capacityMatrix = {};\n\n\t\tvar smartRendering = !!viewport;//no viewport means smart rendering is disabled\n\n\t\tvar range = getVisibleCellsRange(scale, viewport);\n\n\t\tvar checkedColumns = {};\n\t\tif(renderedHistogramCells && renderedHistogramCells[resource.id]){\n\t\t\tfor(var i in renderedHistogramCells[resource.id]){\n\t\t\t\tcheckedColumns[i] = i;\n\t\t\t}\n\t\t}\n\n\t\tfor (var columnIndex = range.start; columnIndex <= range.end; columnIndex++) {\n\t\t\tvar day = timetable[columnIndex];\n\t\t\tcheckedColumns[columnIndex] = false;\n\t\t\tif(!day){\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar capacity = templates.histogram_cell_capacity(day.start_date, day.end_date, resource, day.tasks, day.assignments);\n\t\t\tcapacityMatrix[day.start_date.valueOf()] = capacity || 0;\n\t\t\tvar sizes = timeline.getItemPosition(resource, day.start_date, day.end_date);\n\n\t\t\tif(smartRendering && !isColumnVisible(columnIndex, scale, viewport, gantt)){\n\t\t\t\tdetachRenderedHistogramCell(resource.id, columnIndex);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar renderedCell = renderedHistogramCells[resource.id];\n\t\t\tif(!renderedCell || !renderedCell[columnIndex]){\n\t\t\t\tvar el = renderHistogramCell(resource, sizes, maxCapacity, config, templates, day, timeline);\n\t\t\t\tif(el){\n\t\t\t\t\tnode.appendChild(el);\n\t\t\t\t\trenderedHistogramCells[resource.id][columnIndex] = el;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(renderedCell && renderedCell[columnIndex] && !renderedCell[columnIndex].parentNode){\n\t\t\t\tnode.appendChild(renderedCell[columnIndex]);\n\t\t\t}\n\t\t}\n\n\t\tfor(var i in checkedColumns){\n\t\t\tif(checkedColumns[i] !== false){\n\t\t\t\tdetachRenderedHistogramCell(resource.id, i);\n\t\t\t}\n\t\t}\n\n\t\tvar capacityElement = renderCapacityElement(resource, sizes, capacityMatrix, config, timeline, maxCapacity, viewport);\n\t\tif(capacityElement){\n\t\t\tnode.appendChild(capacityElement);\n\t\t\trenderedHistogramCapacity[resource.id] = capacityElement;\n\t\t}\n\t}\n\n\treturn {\n\t\trender: renderResourceHistogram,\n\t\tupdate: updateResourceHistogram,\n\t\tgetRectangle: getRectangle,\n\t\tgetVisibleRange: getVisibleRange\n\t};\n}\n\nmodule.exports = generateRenderResourceHistogram;","var getRectangle = require(\"./viewport/get_bg_row_rectangle\");\nvar getVisibleRange = require(\"./viewport/get_visible_bars_range\");\nvar getVisibleCellsRange = require(\"./viewport/get_visible_cells_range\");\nvar isColumnVisible = require(\"./viewport/is_column_visible\");\nvar resourceTimetable = require(\"../../resource_timetable_builder\");\n\nfunction generateRenderResourceLine(gantt){\n\tvar getResourceLoad = resourceTimetable(gantt);\n\tvar renderedResourceLines = {};\n\n\tfunction renderResourceLineCell(resource, day, templates, config, timeline){\n\t\tvar css = templates.resource_cell_class(day.start_date, day.end_date, resource, day.tasks, day.assignments);\n\t\tvar content = templates.resource_cell_value(day.start_date, day.end_date, resource, day.tasks, day.assignments);\n\t\tvar height = timeline.getItemHeight(resource.id) - 1;\n\n\t\tif (css || content){\n\t\t\tvar sizes = timeline.getItemPosition(resource, day.start_date, day.end_date);\n\t\t\tvar el = document.createElement('div');\n\t\t\tel.setAttribute(timeline.$config.item_attribute, resource.id);\n\t\t\tel.className = [\"gantt_resource_marker\", css].join(\" \");\n\n\t\t\tel.style.cssText = [\n\t\t\t\t'left:' + sizes.left + 'px',\n\t\t\t\t'width:' + sizes.width + 'px',\n\t\t\t\t'height:' + (height) + 'px',\n\t\t\t\t'line-height:' + (height) + 'px',\n\t\t\t\t'top:' + sizes.top + 'px'\n\t\t\t].join(\";\");\n\n\t\t\tif(content)\n\t\t\t\tel.innerHTML = content;\n\n\t\t\treturn el;\n\t\t}\n\t\treturn null;\n\t}\n\n\tfunction detachRenderedResourceLine(id, index){\n\t\tif(renderedResourceLines[id] && renderedResourceLines[id][index] &&\n\t\t\trenderedResourceLines[id][index].parentNode\n\t\t\t){\n\t\t\t\trenderedResourceLines[id][index].parentNode.removeChild(renderedResourceLines[id][index]);\n\t\t\t}\n\t}\n\n\tfunction renderResourceLine(resource, timeline, config, viewport) {\n\t\tvar templates = timeline.$getTemplates();\n\t\tvar scale = timeline.getScale();\n\t\tvar timetable = getResourceLoad(resource, config.resource_property, timeline.getScale(), timeline);\n\t\tvar smartRendering = !!viewport;//no viewport means smart rendering is disabled\n\t\tvar cells = [];\n\t\trenderedResourceLines[resource.id] = {};\n\n\t\tvar range = getVisibleCellsRange(scale, viewport);\n\t\tfor (var columnIndex = range.start; columnIndex <= range.end; columnIndex++) {\n\n\t\t\tvar day = timetable[columnIndex];\n\t\t\tif(!day){\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif(smartRendering && !isColumnVisible(columnIndex, scale, viewport, gantt)){\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar cell = renderResourceLineCell(resource, day, templates, config, timeline);\n\t\t\tif(cell){\n\t\t\t\tcells.push(cell);\n\t\t\t\trenderedResourceLines[resource.id][columnIndex] = cell;\n\t\t\t}\n\t\t}\n\n\t\tvar row = null;\n\t\tif(cells.length){\n\t\t\trow = document.createElement(\"div\");\n\t\t\tfor(var i = 0; i < cells.length; i++){\n\t\t\t\trow.appendChild(cells[i]);\n\t\t\t}\n\t\t}\n\t\treturn row;\n\t}\n\n\tfunction updateResourceLine(resource, node, timeline, config, viewport) {\n\t\tvar templates = timeline.$getTemplates();\n\t\tvar scale = timeline.getScale();\n\t\tvar timetable = getResourceLoad(resource, config.resource_property, timeline.getScale(), timeline);\n\n\t\tvar range = getVisibleCellsRange(scale, viewport);\n\n\t\tvar checkedColumns = {};\n\t\tif(renderedResourceLines && renderedResourceLines[resource.id]){\n\t\t\tfor(var i in renderedResourceLines[resource.id]){\n\t\t\t\tcheckedColumns[i] = i;\n\t\t\t}\n\t\t}\n\n\t\tfor (var columnIndex = range.start; columnIndex <= range.end; columnIndex++) {\n\t\t\tvar day = timetable[columnIndex];\n\t\t\tcheckedColumns[columnIndex] = false;\n\t\t\tif(!day){\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif(!isColumnVisible(columnIndex, scale, viewport, gantt)){\n\t\t\t\tdetachRenderedResourceLine(resource.id, columnIndex);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif(!renderedResourceLines[resource.id] || !renderedResourceLines[resource.id][columnIndex]){\n\t\t\t\tvar cell = renderResourceLineCell(resource, day, templates, config, timeline);\n\t\t\t\tif(cell){\n\t\t\t\t\tnode.appendChild(cell);\n\t\t\t\t\trenderedResourceLines[resource.id][columnIndex] = cell;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(renderedResourceLines[resource.id] && renderedResourceLines[resource.id][columnIndex] && !renderedResourceLines[resource.id][columnIndex].parentNode){\n\t\t\t\tnode.appendChild(renderedResourceLines[resource.id][columnIndex]);\n\t\t\t}\n\t\t}\n\n\t\tfor(var i in checkedColumns){\n\t\t\tif(checkedColumns[i] !== false){\n\t\t\t\tdetachRenderedResourceLine(resource.id, i);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\trender: renderResourceLine,\n\t\tupdate: updateResourceLine,\n\t\tgetRectangle: getRectangle,\n\t\tgetVisibleRange: getVisibleRange\n\t};\n}\n\nmodule.exports = generateRenderResourceLine;","var helpers = require(\"../../../utils/helpers\");\nvar getRowRectangle = require(\"./viewport/get_grid_row_rectangle\");\nvar getVisibleRange = require(\"./viewport/get_visible_bars_range\");\n\nfunction createGridLineRender(gantt){\n\n\tfunction _render_grid_item(item, view, config, viewport) {\n\t\tvar columns = view.getGridColumns();\n\t\tvar templates = view.$getTemplates();\n\n\t\tvar store = view.$config.rowStore;\n\n\t\tvar cells = [];\n\t\tvar has_child;\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tvar last = i == columns.length - 1;\n\t\t\tvar col = columns[i];\n\t\t\tvar cell;\n\n\t\t\tvar value;\n\t\t\tvar textValue;\n\t\t\tif (col.name == \"add\") {\n\t\t\t\tvar aria = gantt._waiAria.gridAddButtonAttrString(col);\n\n\t\t\t\tvalue = \"<div \" + aria + \" class='gantt_add'></div>\";\n\t\t\t\ttextValue = \"\";\n\t\t\t} else {\n\t\t\t\tif (col.template)\n\t\t\t\t\tvalue = col.template(item);\n\t\t\t\telse\n\t\t\t\t\tvalue = item[col.name];\n\n\t\t\t\tif (helpers.isDate(value)){\n\t\t\t\t\tvalue = templates.date_grid(value, item, col.name);\n\t\t\t\t}\n\n\t\t\t\tif (value === null || value === undefined) {\n\t\t\t\t\tvalue = \"\";\n\t\t\t\t}\n\n\t\t\t\ttextValue = value;\n\t\t\t\tvalue = \"<div class='gantt_tree_content'>\" + value + \"</div>\";\n\t\t\t}\n\t\t\tvar css = \"gantt_cell\" + (last ? \" gantt_last_cell\" : \"\");\n\n\t\t\tvar tree = [];\n\t\t\tif (col.tree) {\n\t\t\t\tcss += \" gantt_cell_tree\";\n\t\t\t\tfor (var j = 0; j < item.$level; j++)\n\t\t\t\t\ttree.push(templates.grid_indent(item));\n\n\t\t\t\thas_child = store.hasChild(item.id) && !(gantt.isSplitTask(item) && !gantt.config.open_split_tasks);\n\t\t\t\tif (has_child) {\n\t\t\t\t\ttree.push(templates.grid_open(item));\n\t\t\t\t\ttree.push(templates.grid_folder(item));\n\t\t\t\t} else {\n\t\t\t\t\ttree.push(templates.grid_blank(item));\n\t\t\t\t\ttree.push(templates.grid_file(item));\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar style = \"width:\" + (col.width - (last ? 1 : 0)) + \"px;\";\n\t\t\tif (this.defined(col.align)){\n\t\t\t\tvar flexAlign = {\n\t\t\t\t\tright: \"flex-end\",\n\t\t\t\t\tleft: \"flex-start\",\n\t\t\t\t\tcenter: \"center\"\n\t\t\t\t};\n\t\t\t\tvar justifyContent = flexAlign[col.align];\n\n\t\t\t\tstyle += \"text-align:\" + col.align + \";justify-content:\"  + justifyContent + \";\";\n\t\t\t}\n\n\t\t\tvar aria = gantt._waiAria.gridCellAttrString(col, textValue, item);\n\n\t\t\ttree.push(value);\n\t\t\tcell = \"<div class='\" + css + \"' data-column-index='\"+i+\"' data-column-name='\"+col.name+\"' style='\" + style + \"' \" + aria + \">\" + tree.join(\"\") + \"</div>\";\n\t\t\tcells.push(cell);\n\t\t}\n\t\tvar css = gantt.getGlobalTaskIndex(item.id) % 2 === 0 ? \"\" : \" odd\";\n\t\tcss += (item.$transparent) ? \" gantt_transparent\" : \"\";\n\n\t\tcss += (item.$dataprocessor_class ? \" \" + item.$dataprocessor_class : \"\");\n\n\t\tif (templates.grid_row_class) {\n\t\t\tvar css_template = templates.grid_row_class.call(gantt, item.start_date, item.end_date, item);\n\t\t\tif (css_template)\n\t\t\t\tcss += \" \" + css_template;\n\t\t}\n\n\t\tif(store.isSelected(item.id)) {\n\t\t\tcss += \" gantt_selected\";\n\t\t}\n\n\t\tvar el = document.createElement(\"div\");\n\t\tel.className = \"gantt_row\" + css + \" gantt_row_\" + gantt.getTaskType(item.type);\n\t\tvar height = view.getItemHeight(item.id);\n\t\tel.style.height = height + \"px\";\n\t\tel.style.lineHeight = height + \"px\";\n\n\t\tif(config.smart_rendering){\n\t\t\tel.style.position = \"absolute\";\n\t\t\tel.style.left = \"0px\";\n\t\t\tel.style.top = view.getItemTop(item.id) + \"px\";\n\t\t}\n\n\t\tif(view.$config.item_attribute){\n\t\t\tel.setAttribute(view.$config.item_attribute, item.id);\n\t\t\tel.setAttribute(view.$config.bind + \"_id\", item.id); // 'task_id'/'resource_id' for backward compatibility\n\t\t}\n\n\t\tgantt._waiAria.taskRowAttr(item, el);\n\n\t\tel.innerHTML = cells.join(\"\");\n\t\treturn el;\n\t}\n\n\tfunction onrender(item, rowNode, view){\n\t\tvar columns = view.getGridColumns();\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tvar column = columns[i];\n\t\t\tif (column.onrender){\n\n\t\t\t\t// find cell node for current column\n\t\t\t\tvar cellNode = rowNode.querySelector(\"[data-column-name=\" + column.name + \"]\");\n\t\t\t\tif (cellNode) {\n\t\t\t\t\tvar content = column.onrender(item, cellNode);\n\t\t\t\t\tif (content && typeof content === \"string\") {\n\t\t\t\t\t\tcellNode.innerHTML = content;\n\t\t\t\t\t} else if (content && typeof content === \"object\") {\n\t\t\t\t\t\t// render object to node using additional functionality\n\t\t\t\t\t\tif (gantt.config.external_render){\n\t\t\t\t\t\t\tvar adapter = gantt.config.external_render;\n\t\t\t\t\t\t\tif (adapter.isElement(content)){\n\t\t\t\t\t\t\t\tadapter.renderElement(content, cellNode);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\trender: _render_grid_item,\n\t\tupdate: null,\n\t\tgetRectangle: getRowRectangle,\n\t\tgetVisibleRange: getVisibleRange,\n\t\tonrender: onrender\n\t};\n}\n\nmodule.exports = createGridLineRender;","\n// optimized checker for links smart rendering\n\n// first check the vertical position since it's easier to calculate\n\nmodule.exports = function isLinkInViewPort(item, viewport, view, config, gantt){\n\tvar source = view.$gantt.getTask(item.source);\n\tvar target = view.$gantt.getTask(item.target);\n\t// check vertical visibility first since it's a lighter check\n\tvar sourceTop = view.getItemTop(source.id);\n\tvar sourceHeight = view.getItemHeight(source.id);\n\n\tvar targetTop = view.getItemTop(target.id);\n\tvar targetHeight = view.getItemHeight(target.id);\n\n\tif(viewport.y > sourceTop + sourceHeight &&\n\t\tviewport.y > targetTop + targetHeight){\n\t\treturn false;\n\t}\n\n\tif(viewport.y_end < targetTop &&\n\t\tviewport.y_end < sourceTop){\n\t\treturn false;\n\t}\n\n\tvar padding = 100;\n\tvar sourceLeft = view.posFromDate(source.start_date);\n\tvar sourceRight = view.posFromDate(source.end_date);\n\tvar targetLeft = view.posFromDate(target.start_date);\n\tvar targetRight = view.posFromDate(target.end_date);\n\n\tif(sourceLeft > sourceRight){\n\t\t// rtl\n\t\tvar tmp = sourceRight;\n\t\tsourceRight = sourceLeft;\n\t\tsourceLeft = tmp;\n\t}\n\tif(targetLeft > targetRight){\n\t\t// rtl\n\t\tvar tmp = targetRight;\n\t\ttargetRight = targetLeft;\n\t\ttargetLeft = tmp;\n\t}\n\tsourceLeft += -padding; // add buffer for custom elements\n\tsourceRight += padding;\n\ttargetLeft += -padding; // add buffer for custom elements\n\ttargetRight += padding;\n\n\tif(viewport.x > sourceRight &&\n\t\tviewport.x > targetRight){\n\t\treturn false;\n\t}\n\n\tif(viewport.x_end < sourceLeft &&\n\t\tviewport.x_end < targetLeft){\n\t\treturn false;\n\t}\n\treturn true;\n};\n","var isInViewPort = require(\"./viewport/is_link_in_viewport\");\n\nfunction createLinkRender(gantt){\n\nfunction _render_link_element(link, view, config) {\n\tvar source = gantt.getTask(link.source);\n\tif(source.hide_bar){\n\t\treturn;\n\t}\n\n\tvar target = gantt.getTask(link.target);\n\tif(target.hide_bar){\n\t\treturn;\n\t}\n\n\tvar pt = path_builder.get_endpoint(link, view, source, target);\n\tvar dy = pt.e_y - pt.y;\n\tvar dx = pt.e_x - pt.x;\n\tif(!dx && !dy){\n\t\treturn null;\n\t}\n\n\n\tvar dots = path_builder.get_points(link, view, source, target);\n\tvar lines = drawer.get_lines(dots, view);\n\n\tvar div = document.createElement(\"div\");\n\n\tvar css = \"gantt_task_link\";\n\n\tif (link.color) {\n\t\tcss += \" gantt_link_inline_color\";\n\t}\n\tvar cssTemplate = gantt.templates.link_class ? gantt.templates.link_class(link) : \"\";\n\tif (cssTemplate) {\n\t\tcss += \" \" + cssTemplate;\n\t}\n\n\tif (config.highlight_critical_path && gantt.isCriticalLink) {\n\t\tif (gantt.isCriticalLink(link))\n\t\t\tcss += \" gantt_critical_link\";\n\t}\n\n\tdiv.className = css;\n\n\tif(view.$config.link_attribute){\n\t\tdiv.setAttribute(view.$config.link_attribute, link.id);\n\t\tdiv.setAttribute(\"link_id\", link.id);\n\t}\n\n\tfor (var i = 0; i < lines.length; i++) {\n\t\tif (i == lines.length - 1) {\n\t\t\tlines[i].size -= config.link_arrow_size;\n\t\t}\n\t\tvar el = drawer.render_line(lines[i], lines[i + 1], view, link.source);\n\t\tif (link.color) {\n\t\t\tel.firstChild.style.backgroundColor = link.color;\n\t\t}\n\t\tdiv.appendChild(el);\n\t}\n\n\tvar direction = lines[lines.length - 1].direction;\n\tvar endpoint = _render_link_arrow(dots[dots.length - 1], direction, view, link.source);\n\tif (link.color) {\n\t\tendpoint.style.borderColor = link.color;\n\t}\n\tdiv.appendChild(endpoint);\n\n\tgantt._waiAria.linkAttr(link, div);\n\n\treturn div;\n}\n\nfunction _render_link_arrow(point, direction, view, targetId) {\n\tvar config = view.$getConfig();\n\tvar div = document.createElement(\"div\");\n\tvar top = point.y;\n\tvar left = point.x;\n\n\tvar size = config.link_arrow_size;\n\n\tvar className = \"gantt_link_arrow gantt_link_arrow_\" + direction;\n\tswitch (direction) {\n\t\tcase drawer.dirs.right:\n\t\t\ttop -= (size) / 2;\n\t\t\tleft -= size;\n\t\t\tbreak;\n\t\tcase drawer.dirs.left:\n\t\t\ttop -= (size ) / 2;\n\t\t\tbreak;\n\t\tcase drawer.dirs.up:\n\t\t\tleft -= size;\n\t\t\tbreak;\n\t\tcase drawer.dirs.down:\n\t\t\ttop += size * 2;\n\t\t\tleft -= size;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\tdiv.style.cssText = [\n\t\t\"top:\" + top + \"px\",\n\t\t\"left:\" + left + 'px'].join(';');\n\tdiv.className = className;\n\n\treturn div;\n}\n\n\nvar drawer = {\n\tcurrent_pos: null,\n\tdirs: {\"left\": 'left', \"right\": 'right', \"up\": 'up', \"down\": 'down'},\n\tpath: [],\n\tclear: function () {\n\t\tthis.current_pos = null;\n\t\tthis.path = [];\n\t},\n\tpoint: function (pos) {\n\t\tthis.current_pos = gantt.copy(pos);\n\t},\n\tget_lines: function (dots) {\n\t\tthis.clear();\n\t\tthis.point(dots[0]);\n\t\tfor (var i = 1; i < dots.length; i++) {\n\t\t\tthis.line_to(dots[i]);\n\t\t}\n\t\treturn this.get_path();\n\t},\n\tline_to: function (pos) {\n\t\tvar next = gantt.copy(pos);\n\t\tvar prev = this.current_pos;\n\n\t\tvar line = this._get_line(prev, next);\n\t\tthis.path.push(line);\n\t\tthis.current_pos = next;\n\t},\n\tget_path: function () {\n\t\treturn this.path;\n\t},\n\tget_wrapper_sizes: function (v, view, itemId) {\n\t\tvar config = view.$getConfig();\n\t\tvar res,\n\t\t\twrapper_size = config.link_wrapper_width,\n\t\t\ty = v.y - (wrapper_size) / 2;\n\t\tswitch (v.direction) {\n\t\t\tcase this.dirs.left:\n\t\t\t\tres = {\n\t\t\t\t\ttop: y,\n\t\t\t\t\theight: wrapper_size,\n\t\t\t\t\tlineHeight: wrapper_size,\n\t\t\t\t\tleft: v.x - v.size - wrapper_size / 2,\n\t\t\t\t\twidth: v.size + wrapper_size\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase this.dirs.right:\n\t\t\t\tres = {\n\t\t\t\t\ttop: y,\n\t\t\t\t\tlineHeight: wrapper_size,\n\t\t\t\t\theight: wrapper_size,\n\t\t\t\t\tleft: v.x - wrapper_size / 2,\n\t\t\t\t\twidth: v.size + wrapper_size\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase this.dirs.up:\n\t\t\t\tres = {\n\t\t\t\t\ttop: y - v.size,\n\t\t\t\t\tlineHeight: v.size + wrapper_size,\n\t\t\t\t\theight: v.size + wrapper_size,\n\t\t\t\t\tleft: v.x - wrapper_size / 2,\n\t\t\t\t\twidth: wrapper_size\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase this.dirs.down:\n\t\t\t\tres = {\n\t\t\t\t\ttop: y /*- wrapper_size/2*/,\n\t\t\t\t\tlineHeight: v.size + wrapper_size,\n\t\t\t\t\theight: v.size + wrapper_size,\n\t\t\t\t\tleft: v.x - wrapper_size / 2,\n\t\t\t\t\twidth: wrapper_size\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn res;\n\t},\n\tget_line_sizes: function (v, view) {\n\t\tvar config = view.$getConfig();\n\t\tvar res,\n\t\t\tline_size = config.link_line_width,\n\t\t\twrapper_size = config.link_wrapper_width,\n\t\t\tsize = v.size + line_size;\n\t\tswitch (v.direction) {\n\t\t\tcase this.dirs.left:\n\t\t\tcase this.dirs.right:\n\t\t\t\tres = {\n\t\t\t\t\theight: line_size,\n\t\t\t\t\twidth: size,\n\t\t\t\t\tmarginTop: (wrapper_size - line_size) / 2,\n\t\t\t\t\tmarginLeft: (wrapper_size - line_size) / 2\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tcase this.dirs.up:\n\t\t\tcase this.dirs.down:\n\t\t\t\tres = {\n\t\t\t\t\theight: size,\n\t\t\t\t\twidth: line_size,\n\t\t\t\t\tmarginTop: (wrapper_size - line_size) / 2,\n\t\t\t\t\tmarginLeft: (wrapper_size - line_size) / 2\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\n\t\treturn res;\n\t},\n\trender_line: function (v, end, view, itemId) {\n\t\tvar pos = this.get_wrapper_sizes(v, view, itemId);\n\t\tvar wrapper = document.createElement(\"div\");\n\t\twrapper.style.cssText = [\n\t\t\t\"top:\" + pos.top + \"px\",\n\t\t\t\"left:\" + pos.left + \"px\",\n\t\t\t\"height:\" + pos.height + \"px\",\n\t\t\t\"width:\" + pos.width + \"px\"\n\t\t].join(';');\n\t\twrapper.className = \"gantt_line_wrapper\";\n\n\t\tvar innerPos = this.get_line_sizes(v, view);\n\t\tvar inner = document.createElement(\"div\");\n\t\tinner.style.cssText = [\n\t\t\t\"height:\" + innerPos.height + \"px\",\n\t\t\t\"width:\" + innerPos.width + \"px\",\n\t\t\t\"margin-top:\" + innerPos.marginTop + \"px\",\n\t\t\t\"margin-left:\" + innerPos.marginLeft + \"px\"\n\t\t].join(\";\");\n\n\t\tinner.className = \"gantt_link_line_\" + v.direction;\n\t\twrapper.appendChild(inner);\n\n\t\treturn wrapper;\n\t},\n\t_get_line: function (from, to) {\n\t\tvar direction = this.get_direction(from, to);\n\t\tvar vect = {\n\t\t\tx: from.x,\n\t\t\ty: from.y,\n\t\t\tdirection: this.get_direction(from, to)\n\t\t};\n\t\tif (direction == this.dirs.left || direction == this.dirs.right) {\n\t\t\tvect.size = Math.abs(from.x - to.x);\n\t\t} else {\n\t\t\tvect.size = Math.abs(from.y - to.y);\n\t\t}\n\t\treturn vect;\n\t},\n\tget_direction: function (from, to) {\n\t\tvar direction = 0;\n\t\tif (to.x < from.x) {\n\t\t\tdirection = this.dirs.left;\n\t\t} else if (to.x > from.x) {\n\t\t\tdirection = this.dirs.right;\n\t\t} else if (to.y > from.y) {\n\t\t\tdirection = this.dirs.down;\n\t\t} else {\n\t\t\tdirection = this.dirs.up;\n\t\t}\n\t\treturn direction;\n\t}\n\n};\n\nvar path_builder = {\n\n\tpath: [],\n\tclear: function () {\n\t\tthis.path = [];\n\t},\n\tcurrent: function () {\n\t\treturn this.path[this.path.length - 1];\n\t},\n\tpoint: function (next) {\n\t\tif (!next)\n\t\t\treturn this.current();\n\n\t\tthis.path.push(gantt.copy(next));\n\t\treturn next;\n\t},\n\tpoint_to: function (direction, diff, point) {\n\t\tif (!point)\n\t\t\tpoint = gantt.copy(this.point());\n\t\telse\n\t\t\tpoint = {x: point.x, y: point.y};\n\t\tvar dir = drawer.dirs;\n\t\tswitch (direction) {\n\t\t\tcase (dir.left):\n\t\t\t\tpoint.x -= diff;\n\t\t\t\tbreak;\n\t\t\tcase (dir.right):\n\t\t\t\tpoint.x += diff;\n\t\t\t\tbreak;\n\t\t\tcase (dir.up):\n\t\t\t\tpoint.y -= diff;\n\t\t\t\tbreak;\n\t\t\tcase (dir.down):\n\t\t\t\tpoint.y += diff;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn this.point(point);\n\t},\n\tget_points: function (link, view, source, target) {\n\t\tvar pt = this.get_endpoint(link, view, source, target);\n\t\tvar xy = gantt.config;\n\n\t\tvar dy = pt.e_y - pt.y;\n\t\tvar dx = pt.e_x - pt.x;\n\n\t\tvar dir = drawer.dirs;\n\n\t\tvar rowHeight = view.getItemHeight(link.source);\n\n\t\tthis.clear();\n\t\tthis.point({x: pt.x, y: pt.y});\n\n\t\tvar shiftX = 2 * xy.link_arrow_size;//just random size for first line\n\t\tvar lineType = this.get_line_type(link, view.$getConfig());\n\n\t\tvar forward = (pt.e_x > pt.x);\n\t\tif (lineType.from_start && lineType.to_start) {\n\t\t\tthis.point_to(dir.left, shiftX);\n\t\t\tif (forward) {\n\t\t\t\tthis.point_to(dir.down, dy);\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t} else {\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t\tthis.point_to(dir.down, dy);\n\t\t\t}\n\t\t\tthis.point_to(dir.right, shiftX);\n\n\t\t} else if (!lineType.from_start && lineType.to_start) {\n\t\t\tforward = (pt.e_x > (pt.x + 2 * shiftX));\n\t\t\tthis.point_to(dir.right, shiftX);\n\t\t\tif (forward) {\n\t\t\t\tdx -= shiftX;\n\t\t\t\tthis.point_to(dir.down, dy);\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t} else {\n\t\t\t\tdx -= 2 * shiftX;\n\t\t\t\tvar sign = dy > 0 ? 1 : -1;\n\n\t\t\t\tthis.point_to(dir.down, sign * (rowHeight / 2));\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t\tthis.point_to(dir.down, sign * ( Math.abs(dy) - (rowHeight / 2)));\n\t\t\t\tthis.point_to(dir.right, shiftX);\n\t\t\t}\n\n\t\t} else if (!lineType.from_start && !lineType.to_start) {\n\t\t\tthis.point_to(dir.right, shiftX);\n\t\t\tif (forward) {\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t\tthis.point_to(dir.down, dy);\n\t\t\t} else {\n\t\t\t\tthis.point_to(dir.down, dy);\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t}\n\t\t\tthis.point_to(dir.left, shiftX);\n\t\t} else if (lineType.from_start && !lineType.to_start) {\n\n\t\t\tforward = (pt.e_x > (pt.x - 2 * shiftX));\n\t\t\tthis.point_to(dir.left, shiftX);\n\n\t\t\tif (!forward) {\n\t\t\t\tdx += shiftX;\n\t\t\t\tthis.point_to(dir.down, dy);\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t} else {\n\t\t\t\tdx += 2 * shiftX;\n\t\t\t\tvar sign = dy > 0 ? 1 : -1;\n\t\t\t\tthis.point_to(dir.down, sign * (rowHeight / 2));\n\t\t\t\tthis.point_to(dir.right, dx);\n\t\t\t\tthis.point_to(dir.down, sign * ( Math.abs(dy) - (rowHeight / 2)));\n\t\t\t\tthis.point_to(dir.left, shiftX);\n\t\t\t}\n\n\t\t}\n\n\t\treturn this.path;\n\t},\n\tget_line_type: function(link, config){\n\t\tvar types = config.links;\n\t\tvar from_start = false, to_start = false;\n\t\tif (link.type == types.start_to_start) {\n\t\t\tfrom_start = to_start = true;\n\t\t} else if (link.type == types.finish_to_finish) {\n\t\t\tfrom_start = to_start = false;\n\t\t} else if (link.type == types.finish_to_start) {\n\t\t\tfrom_start = false;\n\t\t\tto_start = true;\n\t\t} else if (link.type == types.start_to_finish) {\n\t\t\tfrom_start = true;\n\t\t\tto_start = false;\n\t\t} else {\n\t\t\tgantt.assert(false, \"Invalid link type\");\n\t\t}\n\n\t\tif(config.rtl){\n\t\t\tfrom_start = !from_start;\n\t\t\tto_start = !to_start;\n\t\t}\n\n\t\treturn {from_start: from_start, to_start: to_start};\n\t},\n\n\tget_endpoint: function (link, view, source, target) {\n\t\tvar config = view.$getConfig();\n\n\t\tvar lineType = this.get_line_type(link, config);\n\t\tvar from_start = lineType.from_start,\n\t\t\tto_start = lineType.to_start;\n\n\t\tvar from = getMilestonePosition(source, view, config),\n\t\t\tto = getMilestonePosition(target, view, config);\n\n\t\treturn {\n\t\t\tx: from_start ? from.left : (from.left + from.width),\n\t\t\te_x: to_start ? to.left : (to.left + to.width),\n\t\t\ty: from.top + (from.rowHeight/2) - 1,\n\t\t\te_y: to.top + (to.rowHeight/2) - 1\n\t\t};\n\t}\n};\n\nfunction getMilestonePosition(task, view, config){\n\tvar pos = view.getItemPosition(task);\n\n\tif(gantt.getTaskType(task.type) == config.types.milestone){\n\t\tvar milestoneHeight = view.getBarHeight(task.id, true);\n\t\tvar milestoneWidth = Math.sqrt(2*milestoneHeight*milestoneHeight);\n\t\tpos.left -= milestoneWidth / 2;\n\t\tpos.width = milestoneWidth;\n\t}\n\n\treturn pos;\n}\n\n\nreturn {\n\trender: _render_link_element,\n\tupdate: null,\n\t//getRectangle: getLinkRectangle\n\tisInViewPort: isInViewPort\n};\n}\n\nmodule.exports = createLinkRender;","var getRowRectangle = require(\"./viewport/get_bg_row_rectangle\");\nvar isLegacyRender = require(\"./is_legacy_smart_render\");\nvar getVisibleRange = require(\"./viewport/get_visible_bars_range\");\nvar getVisibleCellsRange = require(\"./viewport/get_visible_cells_range\");\nvar isColumnVisible = require(\"./viewport/is_column_visible\");\n\nfunction createTaskBgRender(gantt){\n\tvar renderedCells = {};\n\tvar visibleCells = {};\n\n\tfunction isRendered(item, columnIndex){\n\t\tif(renderedCells[item.id][columnIndex] && renderedCells[item.id][columnIndex].parentNode){\n\t\t\treturn true;\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tfunction detachRenderedCell(itemId, columnIndex){\n\t\tif(renderedCells[itemId] && renderedCells[itemId][columnIndex] &&\n\t\t\trenderedCells[itemId][columnIndex].parentNode\n\t\t\t){\n\t\t\t\trenderedCells[itemId][columnIndex].parentNode.removeChild(renderedCells[itemId][columnIndex]);\n\t\t\t}\n\t}\n\n\tfunction getCellTemplate(view){\n\t\tvar templates = view.$getTemplates();\n\t\tvar cssTemplate;\n\t\tif (typeof templates.task_cell_class !== \"undefined\") {\n\t\t\tcssTemplate = templates.task_cell_class;\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tvar log = console.warn || console.log;\n\t\t\tlog('gantt.templates.task_cell_class template is deprecated and will be removed soon. Please use gantt.templates.timeline_cell_class instead.');\n\t\t} else {\n\t\t\tcssTemplate = templates.timeline_cell_class;\n\t\t}\n\t\treturn cssTemplate;\n\t}\n\n\tfunction renderCells(item, node, view, config, viewPort){\n\t\tvar cfg = view.getScale();\n\t\tvar count = cfg.count;\n\t\tvar cssTemplate = getCellTemplate(view);\n\n\t\tif (config.show_task_cells) {\n\t\t\tif(!renderedCells[item.id]){\n\t\t\t\trenderedCells[item.id] = {};\n\t\t\t}\n\t\t\tif(!visibleCells[item.id]){\n\t\t\t\tvisibleCells[item.id] = {};\n\t\t\t}\n\n\t\t\tvar range = getVisibleCellsRange(cfg, viewPort);\n\n\t\t\tfor(var i in visibleCells[item.id]){\n\t\t\t\tvar index = visibleCells[item.id][i];\n\n\t\t\t\tif(Number(index) < range.start || Number(index) > range.end){\n\t\t\t\t\tdetachRenderedCell(item.id, index);\n\t\t\t\t}\n\t\t\t}\n\t\t\tvisibleCells[item.id] = {};\n\t\t\t// TODO: do not iterate all cell, only ones in the viewport and once that are already rendered\n\t\t\tfor (var columnIndex = range.start; columnIndex <= range.end; columnIndex++) {\n\t\t\t\tvar cell = renderOneCell(cfg, columnIndex, item, viewPort, count, cssTemplate, config);\n\t\t\t\tif(!cell && isRendered(item, columnIndex)){\n\t\t\t\t\tdetachRenderedCell(item.id, columnIndex);\n\t\t\t\t}else if (cell && !cell.parentNode){\n\t\t\t\t\tnode.appendChild(cell);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction renderOneCell(scale, columnIndex, item, viewPort, count, cssTemplate, config){\n\t\tvar width = scale.width[columnIndex],\n\t\t\tcssclass = \"\";\n\n\t\tif (isColumnVisible(columnIndex, scale, viewPort, gantt)) {//do not render skipped columns\n\n\t\t\tvar cssTemplateContent = cssTemplate(item, scale.trace_x[columnIndex]);\n\n\t\t\tif(config.static_background){\n\t\t\t\t// if cell render in static background is not allowed, or if it's a blank cell\n\t\t\t\tif(!(config.static_background_cells && cssTemplateContent)){\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(renderedCells[item.id][columnIndex]){\n\t\t\t\tvisibleCells[item.id][columnIndex] = columnIndex;\n\t\t\t\treturn renderedCells[item.id][columnIndex];\n\t\t\t}\n\t\t\tvar cell = document.createElement(\"div\");\n\t\t\tcell.style.width = (width) + \"px\";\n\n\t\t\tcssclass = \"gantt_task_cell\" + (columnIndex == count - 1 ? \" gantt_last_cell\" : \"\");\n\t\t\tif (cssTemplateContent) {\n\t\t\t\tcssclass += \" \" + cssTemplateContent;\n\t\t\t}\n\t\t\tcell.className = cssclass;\n\n\t\t\tcell.style.position = \"absolute\";\n\t\t\tcell.style.left = scale.left[columnIndex] + \"px\";\n\t\t\trenderedCells[item.id][columnIndex] = cell;\n\t\t\tvisibleCells[item.id][columnIndex] = columnIndex;\n\n\t\t\treturn cell;\n\t\t}\n\t\treturn null;\n\t}\n\n\tfunction _render_bg_line(item, view, config, viewPort) {\n\t\tvar templates = view.$getTemplates();\n\t\tvar cfg = view.getScale();\n\t\tvar count = cfg.count;\n\n\t\tif(config.static_background && !config.static_background_cells){\n\t\t\treturn null;\n\t\t}\n\n\t\tvar row = document.createElement(\"div\");\n\n\t\tvar cellTemplate = getCellTemplate(view);\n\n\t\tvar range;\n\n\t\tif(!viewPort || !config.smart_rendering || isLegacyRender(gantt)){\n\t\t\trange = {\n\t\t\t\tstart: 0,\n\t\t\t\tend: count - 1\n\t\t\t};\n\t\t} else {\n\t\t\trange = getVisibleCellsRange(cfg, viewPort.x);\n\t\t}\n\t\tif (config.show_task_cells) {\n\t\t\trenderedCells[item.id] = {};\n\t\t\tvisibleCells[item.id] = {};\n\t\t\tfor (var columnIndex = range.start; columnIndex <= range.end; columnIndex++) {\n\t\t\t\tvar cell = renderOneCell(cfg, columnIndex, item, viewPort, count, cellTemplate, config);\n\t\t\t\tif(cell){\n\t\t\t\t\trow.appendChild(cell);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tvar odd = gantt.getGlobalTaskIndex(item.id) % 2 !== 0;\n\t\tvar cssTemplate = templates.task_row_class(item.start_date, item.end_date, item);\n\t\tvar css = \"gantt_task_row\" + (odd ? \" odd\" : \"\") + (cssTemplate ? ' ' + cssTemplate : '');\n\n\t\tvar store = view.$config.rowStore;\n\t\tif(store.isSelected(item.id)) {\n\t\t\tcss += \" gantt_selected\";\n\t\t}\n\n\t\trow.className = css;\n\n\t\tif (config.smart_rendering) {\n\t\t\trow.style.position = \"absolute\";\n\t\t\trow.style.top = view.getItemTop(item.id) + \"px\";\n\t\t\trow.style.width = \"100%\";\n\t\t}else{\n\t\t\trow.style.position = \"relative\";\n\t\t}\n\t\trow.style.height = (view.getItemHeight(item.id)) + \"px\";\n\n\t\tif(view.$config.item_attribute){\n\t\t\trow.setAttribute(view.$config.item_attribute, item.id);\n\t\t\trow.setAttribute(view.$config.bind + \"_id\", item.id); // 'task_id'/'resource_id' for backward compatibility\n\t\t}\n\n\t\treturn row;\n\t}\n\n\treturn {\n\t\trender: _render_bg_line,\n\t\tupdate: renderCells,\n\t\tgetRectangle: getRowRectangle,\n\t\tgetVisibleRange: getVisibleRange\n\t};\n}\n\nmodule.exports = createTaskBgRender;\n","var createBaseBarRender = require(\"./task_bar_render\");\nvar isInViewPort = require(\"./viewport/is_bar_in_viewport\");\nvar getVisibleRange = require(\"./viewport/get_visible_bars_range\");\n\nfunction createTaskRenderer(gantt){\n\tvar defaultRender = createBaseBarRender(gantt);\n\n\tfunction renderSplitTask(task, timeline) {\n\t\tif (task.$rollup && task.$rollup.length) {\n\t\t\tvar el = document.createElement('div'),\n\t\t\t\tsizes = gantt.getTaskPosition(task);\n\n\t\t\ttask.$rollup.forEach(function(itemId){\n\t\t\t\tvar child = gantt.getTask(itemId);\n\t\t\t\tvar element = defaultRender(child, timeline);\n\t\t\t\tif(!element)\n\t\t\t\t\treturn;\n\n\t\t\t\tvar height = timeline.getBarHeight(task.id, child.type == gantt.config.types.milestone);\n\t\t\t\tvar padding = Math.floor((timeline.getItemHeight(task.id) - height) / 2);\n\n\t\t\t\telement.style.top = (sizes.top + padding) + \"px\";\n\t\t\t\telement.classList.add(\"gantt_rollup_child\");\n\t\t\t\tel.appendChild(element);\n\t\t\t});\n\n\t\t\treturn el;\n\t\t}\n\t\treturn false;\n\t}\n\treturn {\n\t\trender: renderSplitTask,\n\t\tupdate: null,\n\t\t//getRectangle: getBarRectangle\n\t\tisInViewPort: isInViewPort,\n\t\tgetVisibleRange: getVisibleRange\n\t};\n}\n\nmodule.exports = createTaskRenderer;","var isBarInViewport = require(\"./is_bar_in_viewport\");\nmodule.exports = function isSplitTaskInViewport(item, viewport, view, config, gantt){\n\tif (!gantt.isSplitTask(item)) {\n\t\treturn false;\n\t}\n\n\tvar range = gantt.getSubtaskDates(item.id);\n\n\treturn isBarInViewport({\n\t\tid: item.id,\n\t\tstart_date: range.start_date,\n\t\tend_date: range.end_date,\n\t\tparent: item.parent\n\t}, viewport, view, gantt);\n};","var createBaseBarRender = require(\"./task_bar_render\");\nvar isInViewPort = require(\"./viewport/is_split_task_in_viewport\");\nvar getVisibleRange = require(\"./viewport/get_visible_bars_range\");\n\nfunction createTaskRenderer(gantt){\n\tvar defaultRender = createBaseBarRender(gantt);\n\n\tfunction renderSplitTask(task, timeline) {\n\t\tif (gantt.isSplitTask(task) && ((gantt.config.open_split_tasks && !task.$open) || !gantt.config.open_split_tasks)) {\n\t\t\tvar el = document.createElement('div'),\n\t\t\t\tsizes = gantt.getTaskPosition(task);\n\n\t\t\tif(gantt.hasChild(task.id)){\n\t\t\t\tgantt.eachTask(function(child){\n\t\t\t\t\tvar isProject = gantt.isSummaryTask(child);\n\t\t\t\t\tif(isProject){\n\t\t\t\t\t\tgantt.resetProjectDates(child);\n\t\t\t\t\t}\n\n\t\t\t\t\tif(child.hide_bar){\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar element = defaultRender(child, timeline);\n\t\t\t\t\tif(!element)\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tvar height = timeline.getBarHeight(task.id, child.type == gantt.config.types.milestone);\n\t\t\t\t\tvar padding = Math.floor((timeline.getItemHeight(task.id) - height) / 2);\n\n\t\t\t\t\telement.style.top = (sizes.top + padding) + \"px\";\n\t\t\t\t\telement.classList.add(\"gantt_split_child\");\n\t\t\t\t\tif(isProject){\n\t\t\t\t\t\telement.classList.add(\"gantt_split_subproject\");\n\t\t\t\t\t}\n\n\t\t\t\t\tel.appendChild(element);\n\t\t\t\t}, task.id);\n\t\t\t}\n\t\t\treturn el;\n\t\t}\n\t\treturn false;\n\t}\n\treturn {\n\t\trender: renderSplitTask,\n\t\tupdate: null,\n\t\t//getRectangle: getBarRectangle\n\t\tisInViewPort: isInViewPort,\n\t\tgetVisibleRange: getVisibleRange\n\t};\n}\n\nmodule.exports = createTaskRenderer;","var isInViewPort = require(\"./viewport/is_bar_in_viewport\");\nvar getVisibleRange = require(\"./viewport/get_visible_bars_range\");\nvar createBaseBarRender = require(\"./task_bar_render\");\n\nmodule.exports = function createTaskRenderer(gantt){\n\tvar defaultRender = createBaseBarRender(gantt);\n\treturn {\n\t\trender: defaultRender,\n\t\tupdate: null,\n\t\t//getRectangle: getBarRectangle\n\t\tisInViewPort: isInViewPort,\n\t\tgetVisibleRange: getVisibleRange\n\t};\n};","module.exports = function (gantt) {\n\treturn function processTaskDateProperties(item, mapTo, mode) {\n\t\tif (mode == \"keepDates\") {\n\t\t\tkeepDatesOnEdit(item, mapTo);\n\t\t} else if (mode == \"keepDuration\") {\n\t\t\tkeepDurationOnEdit(item, mapTo);\n\t\t} else {\n\t\t\tdefaultActionOnEdit(item, mapTo);\n\t\t}\n\t};\n\n\t// resize task\n\t// resize task when start/end/duration changes\n\tfunction keepDatesOnEdit(item, mapTo) {\n\t\tif (mapTo == \"duration\") {\n\t\t\titem.end_date = gantt.calculateEndDate(item);\n\t\t} else if (mapTo == \"end_date\" || mapTo == \"start_date\") {\n\t\t\titem.duration = gantt.calculateDuration(item);\n\t\t}\n\t}\n\n\t// move task(before 6.2)\n\t// move task when start/end dates changes\n\t// resize task when duration changes\n\tfunction keepDurationOnEdit(item, mapTo) {\n\t\tif (mapTo == \"end_date\") {\n\t\t\titem.start_date = gantt.calculateEndDate({\n\t\t\t\tstart_date: item.end_date,\n\t\t\t\tduration: -item.duration,\n\t\t\t\ttask: item\n\t\t\t}\n\t\t\t);\n\t\t} else if (mapTo == \"start_date\" || mapTo == \"duration\") {\n\t\t\titem.end_date = gantt.calculateEndDate(item);\n\t\t}\n\t}\n\n\t// default behavior\n\t// move task when start date changes\n\t// resize task when end date/duration changes\n\tfunction defaultActionOnEdit(item, mapTo) {\n\t\tif (mapTo == \"start_date\" || mapTo == \"duration\") {\n\t\t\titem.end_date = gantt.calculateEndDate(item);\n\t\t} else if (mapTo == \"end_date\") {\n\t\t\titem.duration = gantt.calculateDuration(item);\n\t\t}\n\t}\n};","module.exports = function(gantt) {\n\n\tvar BaseEditor = require(\"./base\")(gantt),\n\t\tutils = require(\"../../../../../utils/utils\");\n\tvar __extends = require(\"../../../../../utils/extends\");\n\n\tfunction TextEditor() {\n\t\tvar self = BaseEditor.apply(this, arguments) || this;\n\t\treturn self;\n\t}\n\n\t__extends(TextEditor, BaseEditor);\n\n\tfunction getFormatter(config) {\n\t\treturn config.formatter || gantt.ext.formatters.durationFormatter();\n\t}\n\tutils.mixin(TextEditor.prototype, {\n\t\tshow: function (id, column, config, placeholder) {\n\t\t\tvar html = \"<div><input type='text' name='\" + column.name + \"'></div>\";\n\t\t\tplaceholder.innerHTML = html;\n\t\t},\n\t\tset_value: function (value, id, column, node) {\n\t\t\tthis.get_input(node).value = getFormatter(column.editor).format(value);\n\t\t},\n\t\tget_value: function (id, column, node) {\n\t\t\treturn getFormatter(column.editor).parse(this.get_input(node).value || \"\");\n\t\t}\n\t}, true);\n\n\treturn TextEditor;\n};","module.exports = function (gantt) {\n\n\tvar BaseEditor = require(\"./base\")(gantt),\n\t\tutils = require(\"../../../../../utils/utils\");\n\tvar __extends = require(\"../../../../../utils/extends\");\n\n\tfunction PredecessorEditor() {\n\t\tvar self = BaseEditor.apply(this, arguments) || this;\n\t\treturn self;\n\t}\n\n\t__extends(PredecessorEditor, BaseEditor);\n\n\tfunction getFormatter(config) {\n\t\treturn config.formatter || gantt.ext.formatters.linkFormatter();\n\t}\n\n\tfunction parseInputString(value, config) {\n\t\tvar predecessors = (value || \"\").split(config.delimiter || \",\");\n\t\tfor (var i = 0; i < predecessors.length; i++) {\n\t\t\tvar val = predecessors[i].trim();\n\t\t\tif (val) {\n\t\t\t\tpredecessors[i] = val;\n\t\t\t} else {\n\t\t\t\tpredecessors.splice(i, 1);\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\t\tpredecessors.sort();\n\t\treturn predecessors;\n\t}\n\n\tfunction formatPredecessors(task, config, gantt) {\n\t\tvar links = task.$target;\n\t\tvar labels = [];\n\t\tfor (var i = 0; i < links.length; i++) {\n\t\t\tvar link = gantt.getLink(links[i]);\n\t\t\tlabels.push(getFormatter(config).format(link));\n\t\t}\n\t\treturn labels.join((config.delimiter || \",\") + \" \");\n\t}\n\n\tfunction getSelectedLinks(taskId, predecessorCodes, config) {\n\t\tvar links = [];\n\t\tpredecessorCodes.forEach(function (code) {\n\t\t\tvar link = getFormatter(config).parse(code);\n\t\t\tif(link){\n\t\t\t\tlink.target = taskId;\n\t\t\t\t// GS-1290 A way to preserve the link. Otherwise validation will return false\n\t\t\t\t// because the existing link ID is not passed there\n\t\t\t\tlink.id = \"predecessor_generated\";\n\t\t\t\tif (gantt.isLinkAllowed(link)) {\n\t\t\t\t\tlink.id = undefined;\n\t\t\t\t\tlinks.push(link);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn links;\n\t}\n\n\tfunction formatLinkKey(link){\n\t\treturn link.source + \"_\" + link.target + \"_\" + link.type + \"_\" + (link.lag||0);\n\t}\n\n\tfunction getLinksDiff(task, predecessorCodes, config) {\n\t\tvar selectedLinks = getSelectedLinks(task.id, predecessorCodes, config);\n\t\tvar existingLinksSearch = {};\n\t\ttask.$target.forEach(function (linkId) {\n\t\t\tvar link = gantt.getLink(linkId);\n\t\t\texistingLinksSearch[formatLinkKey(link)] = link.id;\n\t\t});\n\n\t\tvar linksToAdd = [];\n\t\tselectedLinks.forEach(function (link) {\n\t\t\tvar linkKey = formatLinkKey(link);\n\t\t\tif (!existingLinksSearch[linkKey]) {\n\t\t\t\tlinksToAdd.push(link);\n\t\t\t} else {\n\t\t\t\tdelete existingLinksSearch[linkKey];\n\t\t\t}\n\t\t});\n\n\t\tvar linksToDelete = [];\n\t\tfor (var i in existingLinksSearch) {\n\t\t\tlinksToDelete.push(existingLinksSearch[i]);\n\t\t}\n\n\t\treturn {\n\t\t\tadd: linksToAdd,\n\t\t\tremove: linksToDelete\n\t\t};\n\t}\n\n\tutils.mixin(PredecessorEditor.prototype, {\n\t\tshow: function (id, column, config, placeholder) {\n\t\t\tvar html = \"<div><input type='text' name='\" + column.name + \"'></div>\";\n\t\t\tplaceholder.innerHTML = html;\n\t\t},\n\t\thide: function () {\n\t\t},\n\t\tset_value: function (value, id, column, node) {\n\t\t\tthis.get_input(node).value = formatPredecessors(value, column.editor, gantt);\n\t\t},\n\t\tget_value: function (id, column, node) {\n\t\t\treturn parseInputString((this.get_input(node).value || \"\"), column.editor);\n\t\t},\n\t\tsave: function (id, column, node) {\n\t\t\tvar task = gantt.getTask(id);\n\n\t\t\tvar linksDiff = getLinksDiff(task, this.get_value(id, column, node), column.editor);\n\n\t\t\tif (linksDiff.add.length || linksDiff.remove.length) {\n\t\t\t\tgantt.batchUpdate(function () {\n\t\t\t\t\tlinksDiff.add.forEach(function (link) {\n\t\t\t\t\t\tgantt.addLink(link);\n\t\t\t\t\t});\n\t\t\t\t\tlinksDiff.remove.forEach(function (linkId) {\n\t\t\t\t\t\tgantt.deleteLink(linkId);\n\t\t\t\t\t});\n\n\t\t\t\t\tif (gantt.autoSchedule)\n\t\t\t\t\t\tgantt.autoSchedule();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tis_changed: function (value, id, column, node) {\n\t\t\tvar inputPredecessors = this.get_value(id, column, node);\n\t\t\tvar taskPredecessors = parseInputString(formatPredecessors(value, column.editor, gantt), column.editor);\n\n\t\t\treturn inputPredecessors.join() !== taskPredecessors.join();\n\t\t}\n\t}, true);\n\n\treturn PredecessorEditor;\n};","module.exports = function (gantt) {\n\tvar BaseEditor = require(\"./base\")(gantt),\n\t\tutils = require(\"../../../../../utils/utils\");\n\tvar __extends = require(\"../../../../../utils/extends\");\n\n\tvar html5DateFormat = \"%Y-%m-%d\";\n\n\tvar dateToStr = null;\n\tvar strToDate = null;\n\n\tfunction init() {\n\t\tif (!dateToStr) {\n\t\t\tdateToStr = gantt.date.date_to_str(html5DateFormat);\n\t\t}\n\t\tif (!strToDate) {\n\t\t\tstrToDate = gantt.date.str_to_date(html5DateFormat);\n\t\t}\n\t}\n\n\tfunction DateEditor() {\n\t\tvar self = BaseEditor.apply(this, arguments) || this;\n\n\t\treturn self;\n\t}\n\n\t__extends(DateEditor, BaseEditor);\n\n\tutils.mixin(DateEditor.prototype, {\n\t\tshow: function (id, column, config, placeholder) {\n\t\t\tinit();\n\t\t\tvar minValue = null;\n\t\t\tvar maxValue = null;\n\n\t\t\tif(typeof config.min === \"function\"){\n\t\t\t\tminValue = config.min(id, column);\n\t\t\t}else{\n\t\t\t\tminValue = config.min;\n\t\t\t}\n\n\t\t\tif(typeof config.max === \"function\"){\n\t\t\t\tmaxValue = config.max(id, column);\n\t\t\t}else{\n\t\t\t\tmaxValue = config.max;\n\t\t\t}\n\n\t\t\tvar minAttr = minValue ? \" min='\" + dateToStr(minValue)+\"' \"  : \"\";\n\t\t\tvar maxAttr = maxValue ? \" max='\" + dateToStr(maxValue)+\"' \"  : \"\";\n\t\t\tvar html = \"<div style='width:140px'><input type='date' \" + minAttr + maxAttr + \" name='\" + column.name + \"'></div>\";\n\t\t\tplaceholder.innerHTML = html;\n\t\t},\n\t\tset_value: function (value, id, column, node) {\n\t\t\tif (value && value.getFullYear) {\n\t\t\t\tthis.get_input(node).value = dateToStr(value);\n\t\t\t} else {\n\t\t\t\tthis.get_input(node).value = value;\n\t\t\t}\n\t\t},\n\t\tis_valid: function (value, id, column, node) {\n\t\t\tif (!value || isNaN(value.getTime()))\n\t\t\t\treturn false;\n\t\t\treturn true;\n\t\t},\n\t\tget_value: function (id, column, node) {\n\t\t\tvar parsed;\n\t\t\ttry {\n\t\t\t\tparsed = strToDate(this.get_input(node).value || \"\");\n\t\t\t} catch (e) {\n\t\t\t\tparsed = null;// return null will cancel changes\n\t\t\t}\n\n\t\t\treturn parsed;\n\t\t}\n\t}, true);\n\n\treturn DateEditor;\n};\n","module.exports = function(gantt) {\n\tvar BaseEditor = require(\"./base\")(gantt),\n\t\tutils = require(\"../../../../../utils/utils\");\n\tvar __extends = require(\"../../../../../utils/extends\");\n\n\tfunction SelectEditor() {\n\t\tvar self = BaseEditor.apply(this, arguments) || this;\n\t\treturn self;\n\t}\n\n\t__extends(SelectEditor, BaseEditor);\n\n\tutils.mixin(SelectEditor.prototype, {\n\t\tshow: function (id, column, config, placeholder) {\n\t\t\tvar html = \"<div><select name='\" + column.name + \"'>\";\n\t\t\tvar optionsHtml = [],\n\t\t\t\toptions = config.options || [];\n\n\t\t\tfor (var i = 0; i < options.length; i++) {\n\t\t\t\toptionsHtml.push(\"<option value='\" + config.options[i].key + \"'>\" + options[i].label + \"</option>\");\n\t\t\t}\n\n\t\t\thtml += optionsHtml.join(\"\") + \"</select></div>\";\n\t\t\tplaceholder.innerHTML = html;\n\t\t},\n\t\tget_input: function (node) {\n\t\t\treturn node.querySelector(\"select\");\n\t\t}\n\t}, true);\n\n\treturn SelectEditor;\n};","module.exports = function (gantt) {\n\n\tvar BaseEditor = require(\"./base\")(gantt),\n\t\tutils = require(\"../../../../../utils/utils\");\n\tvar __extends = require(\"../../../../../utils/extends\");\n\n\tfunction NumberEditor() {\n\t\tvar self = BaseEditor.apply(this, arguments) || this;\n\t\treturn self;\n\t}\n\n\t__extends(NumberEditor, BaseEditor);\n\n\tutils.mixin(NumberEditor.prototype, {\n\t\tshow: function (id, column, config, placeholder) {\n\t\t\tvar min = config.min || 0,\n\t\t\t\tmax = config.max || 100;\n\n\t\t\tvar html = \"<div><input type='number' min='\" + min + \"' max='\" + max + \"' name='\" + column.name + \"'></div>\";\n\t\t\tplaceholder.innerHTML = html;\n\t\t},\n\t\tget_value: function (id, column, node) {\n\t\t\treturn this.get_input(node).value || \"\";\n\t\t},\n\t\tis_valid: function (value, id, column, node) {\n\t\t\treturn !isNaN(parseInt(value, 10));\n\t\t}\n\t}, true);\n\n\treturn NumberEditor;\n};","module.exports = function(gantt) {\n\n\tvar BaseEditor = require(\"./base\")(gantt),\n\t\tutils = require(\"../../../../../utils/utils\");\n\tvar __extends = require(\"../../../../../utils/extends\");\n\n\tfunction TextEditor() {\n\t\tvar self = BaseEditor.apply(this, arguments) || this;\n\t\treturn self;\n\t}\n\n\t__extends(TextEditor, BaseEditor);\n\n\tutils.mixin(TextEditor.prototype, {\n\t\tshow: function (id, column, config, placeholder) {\n\t\t\tvar html = \"<div><input type='text' name='\" + column.name + \"'></div>\";\n\t\t\tplaceholder.innerHTML = html;\n\t\t}\n\t}, true);\n\n\treturn TextEditor;\n};","module.exports = {\n\tinit: function(controller, grid){\n\t\tvar self = controller;\n\t\tvar gantt = grid.$gantt;\n\n\t\tvar onBlurDelay = null;\n\t\tvar keyNav = gantt.ext.keyboardNavigation;\n\t\tkeyNav.attachEvent(\"onBeforeFocus\", function (node) {\n\t\t\tvar activeCell = controller.locateCell(node);\n\t\t\tclearTimeout(onBlurDelay);\n\t\t\tif (activeCell) {\n\t\t\t\tvar columnName = activeCell.columnName;\n\t\t\t\tvar id = activeCell.id;\n\n\t\t\t\tvar editorState = self.getState();\n\t\t\t\tif(self.isVisible()){\n\t\t\t\t\tif(editorState.id == id && editorState.columnName === columnName) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tkeyNav.attachEvent(\"onFocus\", function (node) {\n\t\t\tvar activeCell = controller.locateCell(node);\n\t\t\tvar state = controller.getState();\n\t\t\tclearTimeout(onBlurDelay);\n\t\t\tif (activeCell && !(activeCell.id == state.id && activeCell.columnName == state.columnName)) {\n\t\t\t\tif(self.isVisible()){\n\t\t\t\t\tself.save();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tcontroller.attachEvent(\"onHide\", function(){\n\t\t\tclearTimeout(onBlurDelay);\n\t\t});\n\n\t\tkeyNav.attachEvent(\"onBlur\", function () {\n\t\t\tonBlurDelay = setTimeout(function(){\n\t\t\t\tself.save();\n\t\t\t});\n\n\t\t\treturn true;\n\t\t});\n\n\t\tgantt.attachEvent(\"onTaskDblClick\", function(id,e){\n\t\t\t// block lightbox on double click inside editor\n\t\t\tvar state = controller.getState();\n\t\t\tvar cell = controller.locateCell(e.target);\n\t\t\tif(cell && controller.isVisible() && cell.columnName == state.columnName){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tgantt.attachEvent(\"onTaskClick\", function (id, e) {\n\t\t\tif(gantt._is_icon_open_click(e))\n\t\t\t\treturn true;\n\n\t\t\tvar state = controller.getState();\n\t\t\tvar cell = controller.locateCell(e.target);\n\n\t\t\tif (cell && controller.getEditorConfig(cell.columnName)) {\n\t\t\t\tif(controller.isVisible() && state.id == cell.id && state.columnName == cell.columnName){\n\t\t\t\t\t// do nothing if editor is already active in this cell\n\t\t\t\t}else{\n\t\t\t\t\tcontroller.startEdit(cell.id, cell.columnName);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t\tgantt.attachEvent(\"onEmptyClick\", function () {\n\t\t\tself.save();\n\t\t\treturn true;\n\t\t});\n\n\t\tkeyNav.attachEvent(\"onKeyDown\", function(command, e){\n\t\t\tvar activeCell = controller.locateCell(e.target);\n\t\t\tvar hasEditor = activeCell ? controller.getEditorConfig(activeCell.columnName) : false;\n\n\t\t\tvar state = controller.getState();\n\t\t\tvar keyboard = gantt.constants.KEY_CODES;\n\t\t\tvar keyCode = e.keyCode;\n\t\t\tvar preventKeyNav = false;\n\n\t\t\tswitch (keyCode){\n\t\t\t\tcase keyboard.ENTER:\n\t\t\t\t\tif(controller.isVisible()){\n\t\t\t\t\t\tcontroller.save();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}else if(hasEditor && !(e.ctrlKey || e.metaKey || e.shiftKey)){\n\t\t\t\t\t\tself.startEdit(activeCell.id, activeCell.columnName);\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyboard.ESC:\n\t\t\t\t\tif(controller.isVisible()){\n\t\t\t\t\t\tcontroller.hide();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyboard.UP:\n\t\t\t\tcase keyboard.DOWN:\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyboard.LEFT:\n\t\t\t\tcase keyboard.RIGHT:\n\t\t\t\t\tif((hasEditor && controller.isVisible()) || state.editorType === \"date\"){\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyboard.SPACE:\n\t\t\t\t\tif(controller.isVisible()){\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(hasEditor && !controller.isVisible()){\n\t\t\t\t\t\tself.startEdit(activeCell.id, activeCell.columnName);\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyboard.DELETE:\n\t\t\t\t\tif(hasEditor && !controller.isVisible()){\n\t\t\t\t\t\tself.startEdit(activeCell.id, activeCell.columnName);\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t} else if(hasEditor && controller.isVisible()){\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyboard.TAB:\n\t\t\t\t\tif(controller.isVisible()){\n\n\t\t\t\t\t\tif(e.shiftKey){\n\t\t\t\t\t\t\tcontroller.editPrevCell(true);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tcontroller.editNextCell(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar newState = controller.getState();\n\t\t\t\t\t\tif(newState.id){\n\t\t\t\t\t\t\tkeyNav.focus({type:\"taskCell\", id: newState.id, column:newState.columnName});\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tif(controller.isVisible())\n\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\telse{\n\n\t\t\t\t\t\t// start editing on character key\n\t\t\t\t\t\tif((keyCode >= 48 && keyCode <= 57) || // [0-9]\n\t\t\t\t\t\t\t(keyCode > 95 && keyCode < 112) || // numpad\n\t\t\t\t\t\t\t(keyCode >= 64 && keyCode <= 91) || // [a-z]\n\t\t\t\t\t\t\t(keyCode > 185 && keyCode < 193) || //;=-,etc\n\t\t\t\t\t\t\t(keyCode > 218  && keyCode < 223)\n\t\t\t\t\t\t){\n\t\t\t\t\t\t\tvar modifiers = command.modifiers;\n\n\t\t\t\t\t\t\tvar anyModifier = modifiers.alt || modifiers.ctrl || modifiers.meta || modifiers.shift;\n\t\t\t\t\t\t\tif(modifiers.alt){\n\t\t\t\t\t\t\t\t// don't start editing on alt+key\n\t\t\t\t\t\t\t}else if (anyModifier && keyNav.getCommandHandler(command, \"taskCell\")){\n\t\t\t\t\t\t\t\t// don't start editing if command already have a keyboard shortcut\n\t\t\t\t\t\t\t}else if(hasEditor && !controller.isVisible()){\n\t\t\t\t\t\t\t\tself.startEdit(activeCell.id, activeCell.columnName);\n\t\t\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (preventKeyNav){\n\t\t\t\treturn false;\n\t\t\t} else{\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t});\n\t},\n\tonShow: function(controller, placeholder, grid){},\n\tonHide: function(controller, placeholder, grid){\n\t\tvar gantt = grid.$gantt;\n\t\tgantt.focus();\n\n\t},\n\tdestroy: function(){}\n};\n\n","module.exports = {\n\tinit: function (controller, grid) {\n\t\tvar gantt = grid.$gantt;\n\n\t\tgantt.attachEvent(\"onTaskClick\", function (id, e) {\n\t\t\tif (gantt._is_icon_open_click(e))\n\t\t\t\treturn true;\n\t\t\tvar state = controller.getState();\n\t\t\tvar cell = controller.locateCell(e.target);\n\n\t\t\tif (cell && controller.getEditorConfig(cell.columnName)) {\n\t\t\t\tif (controller.isVisible() && state.id == cell.id && state.columnName == cell.columnName) {\n\t\t\t\t\t// do nothing if editor is already active in this cell\n\t\t\t\t} else {\n\t\t\t\t\tcontroller.startEdit(cell.id, cell.columnName);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tgantt.attachEvent(\"onEmptyClick\", function () {\n\t\t\tif (controller.isVisible() && controller.isChanged()) {\n\t\t\t\tcontroller.save();\n\t\t\t} else {\n\t\t\t\tcontroller.hide();\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tgantt.attachEvent(\"onTaskDblClick\", function (id, e) {\n\t\t\tvar state = controller.getState();\n\t\t\tvar cell = controller.locateCell(e.target);\n\t\t\tif (cell && controller.isVisible() && cell.columnName == state.columnName) {\n\t\t\t\t//GS-933 probably, we don't need to hide the inline editor because the lightbox cannot be opened if you double-click on an inline editor\n\t\t\t\t//remove this code later if people don't complain\n\t\t\t\t//controller.hide();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t},\n\n\tonShow: function (controller, placeholder, grid) {\n\t\tvar gantt = grid.$gantt;\n\t\t\n\n\t\tif(gantt.ext && gantt.ext.keyboardNavigation){\n\t\t\tvar keyNav = gantt.ext.keyboardNavigation;\n\t\t\tkeyNav.attachEvent(\"onKeyDown\", function(command, e){\n\t\t\t\tvar keyboard = gantt.constants.KEY_CODES;\n\t\t\t\tvar keyCode = e.keyCode;\n\t\t\t\tvar preventKeyNav = false;\n\n\t\t\t\tswitch (keyCode){\n\t\t\t\t\tcase keyboard.SPACE:\n\t\t\t\t\t\tif(controller.isVisible()){\n\t\t\t\t\t\t\tpreventKeyNav = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (preventKeyNav){\n\t\t\t\t\treturn false;\n\t\t\t\t} else{\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\n\t\tplaceholder.onkeydown = function (e) {\n\t\t\te = e || window.event;\n\n\t\t\tvar keyboard = gantt.constants.KEY_CODES;\n\t\t\tif (e.defaultPrevented || (e.shiftKey && e.keyCode != keyboard.TAB)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar shouldPrevent = true;\n\t\t\tswitch (e.keyCode) {\n\t\t\t\tcase gantt.keys.edit_save:\n\t\t\t\t\tcontroller.save();\n\t\t\t\t\tbreak;\n\t\t\t\tcase gantt.keys.edit_cancel:\n\t\t\t\t\tcontroller.hide();\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyboard.UP:\n\t\t\t\tcase keyboard.DOWN:\n\t\t\t\t\tif (controller.isVisible()) {\n\t\t\t\t\t\tcontroller.hide();\n\t\t\t\t\t\tshouldPrevent = false;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyboard.TAB:\n\t\t\t\t\tif (e.shiftKey) {\n\t\t\t\t\t\tcontroller.editPrevCell(true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontroller.editNextCell(true);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tshouldPrevent = false;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (shouldPrevent) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t};\n\t},\n\tonHide: function () {\n\n\t},\n\n\tdestroy: function () {\n\n\t}\n};\n\n","var defaultMapping = require(\"./keyboard_mappings/default\");\nvar keyNavMappings = require(\"./keyboard_mappings/keyboard_navigation\");\n\nmodule.exports = function(gantt){\n\n\tvar mapping = null;\n\n\treturn {\n\t\tsetMapping: function(map){\n\t\t\tmapping = map;\n\t\t},\n\t\tgetMapping: function(){\n\n\t\t\tif(mapping){\n\t\t\t\treturn mapping;\n\t\t\t}else if(gantt.config.keyboard_navigation_cells && gantt.ext.keyboardNavigation){\n\t\t\t\treturn keyNavMappings;\n\t\t\t}else{\n\t\t\t\treturn defaultMapping;\n\t\t\t}\n\t\t}\n\t};\n};\n","var getKeyboardMapping = require(\"./keyboard_mappings\");\nvar textEditorFactory = require(\"./editors/text\"),\n\tnumberEditorFactory = require(\"./editors/number\"),\n\tselectEditorFactory = require(\"./editors/select\"),\n\tdateEditorFactory = require(\"./editors/date\"),\n\tpredecessorEditorFactory = require(\"./editors/predecessor\"),\n\tdurationEditorFactory = require(\"./editors/duration\");\nvar utils = require(\"../../../../utils/utils\");\nvar domHelpers = require(\"../../utils/dom_helpers\");\nvar eventable = require(\"../../../../utils/eventable\");\nvar linkedPropertiesProcessor = require(\"./linked_properties\");\n\nfunction initConfigs(gantt){\n\tgantt.config.editor_types = {\n\t\ttext: new (textEditorFactory(gantt))(),\n\t\tnumber: new (numberEditorFactory(gantt))(),\n\t\tselect: new (selectEditorFactory(gantt))(),\n\t\tdate: new (dateEditorFactory(gantt))(),\n\t\tpredecessor: new (predecessorEditorFactory(gantt))(),\n\t\tduration: new (durationEditorFactory(gantt))()\n\t};\n}\n\nfunction create(gantt){\n\tvar keyboardMapping = getKeyboardMapping(gantt);\n\n\tvar eventBus = {};\n\teventable(eventBus);\n\n\tfunction createGridEditors(grid) {\n\n\t\tfunction _getGridCellFromNode(node){\n\t\t\tif(!domHelpers.isChildOf(node, grid.$grid)){\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tvar row = domHelpers.locateAttribute(node, grid.$config.item_attribute);\n\t\t\tvar cell = domHelpers.locateAttribute(node, \"data-column-name\");\n\t\t\tif(cell){\n\t\t\t\tvar columnName = cell.getAttribute(\"data-column-name\");\n\t\t\t\tvar id = row.getAttribute(grid.$config.item_attribute);\n\t\t\t\treturn {\n\t\t\t\t\tid: id,\n\t\t\t\t\tcolumnName: columnName\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn null;\n\n\t\t}\n\n\t\tfunction _getEditorPosition(itemId, columnName) {\n\t\t\tvar config = grid.$getConfig();\n\t\t\tvar top = grid.getItemTop(itemId);\n\t\t\tvar height = grid.getItemHeight(itemId);\n\t\t\tvar cols = grid.getGridColumns();\n\t\t\tvar left = 0,\n\t\t\t\tright = 0,\n\t\t\t\twidth = 0;\n\n\t\t\tfor (var i = 0; i < cols.length; i++) {\n\t\t\t\tif (cols[i].name == columnName) {\n\t\t\t\t\twidth = cols[i].width;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (config.rtl) {\n\t\t\t\t\tright += cols[i].width;\n\t\t\t\t}\telse {\n\t\t\t\t\tleft += cols[i].width;\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tif (config.rtl) {\n\t\t\t\treturn {\n\t\t\t\t\ttop: top,\n\t\t\t\t\tright: right,\n\t\t\t\t\theight: height,\n\t\t\t\t\twidth: width\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\ttop: top,\n\t\t\t\t\tleft: left,\n\t\t\t\t\theight: height,\n\t\t\t\t\twidth: width\n\t\t\t\t};\n\t\t\t}\n\n\t\t}\n\n\t\tfunction findVisibleIndex(grid, columnName) {\n\t\t\tvar columns = grid.getGridColumns();\n\t\t\tfor (var i = 0; i < columns.length; i++){\n\t\t\t\tif(columns[i].name == columnName){\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn 0;\n\t\t}\n\n\t\tfunction _createPlaceholder(itemId, columnName) {\n\t\t\tvar config = grid.$getConfig();\n\t\t\tvar pos = _getEditorPosition(itemId, columnName);\n\t\t\tvar el = document.createElement(\"div\");\n\t\t\tel.className = \"gantt_grid_editor_placeholder\";\n\t\t\tel.setAttribute(grid.$config.item_attribute, itemId);\n\t\t\tel.setAttribute(grid.$config.bind + \"_id\", itemId);// for backward compatibility\n\n\t\t\tel.setAttribute(\"data-column-name\", columnName);\n\n\t\t\tvar visibleIndex = findVisibleIndex(grid, columnName);\n\t\t\tel.setAttribute(\"data-column-index\", visibleIndex);\n\n\t\t\tif (config.rtl) {\n\t\t\t\tel.style.cssText = [\n\t\t\t\t\t\"top:\" + pos.top + \"px\",\n\t\t\t\t\t\"right:\" + pos.right + \"px\",\n\t\t\t\t\t\"width:\" + pos.width + \"px\",\n\t\t\t\t\t\"height:\" + pos.height + \"px\"\n\t\t\t\t].join(\";\");\n\t\t\t} else {\n\t\t\t\tel.style.cssText = [\n\t\t\t\t\t\"top:\" + pos.top + \"px\",\n\t\t\t\t\t\"left:\" + pos.left + \"px\",\n\t\t\t\t\t\"width:\" + pos.width + \"px\",\n\t\t\t\t\t\"height:\" + pos.height + \"px\"\n\t\t\t\t].join(\";\");\n\t\t\t}\n\n\t\t\treturn el;\n\t\t}\n\n\t\tvar updateTaskDateProperties = linkedPropertiesProcessor(gantt);\n\n\t\tvar handlers = [];\n\t\tvar ganttHandlers = [];\n\t\tvar store = null;\n\t\tvar controller = {\n\t\t\t_itemId: null,\n\t\t\t_columnName: null,\n\t\t\t_editor: null,\n\t\t\t_editorType: null,\n\t\t\t_placeholder: null,\n\n\t\t\tlocateCell: _getGridCellFromNode,\n\t\t\tgetEditorConfig: function (columnName) {\n\t\t\t\tvar column = grid.getColumn(columnName);\n\t\t\t\treturn column.editor;\n\t\t\t},\n\n\t\t\tinit: function () {\n\t\t\t\tvar mapping = keyboardMapping.getMapping();\n\t\t\t\tif(mapping.init){\n\t\t\t\t\tmapping.init(this, grid);\n\t\t\t\t}\n\n\t\t\t\tstore = grid.$gantt.getDatastore(grid.$config.bind);\n\n\t\t\t\tvar self = this;\n\n\t\t\t\thandlers.push(store.attachEvent(\"onIdChange\", function(oldId, newId){\n\t\t\t\t\tif(self._itemId == oldId){\n\t\t\t\t\t\tself._itemId = newId;\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t\thandlers.push(store.attachEvent(\"onStoreUpdated\", function(){\n\t\t\t\t\tif(grid.$gantt.getState(\"batchUpdate\").batch_update){\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(self.isVisible() && !store.isVisible(self._itemId)){\n\t\t\t\t\t\tself.hide();\n\t\t\t\t\t}\n\t\t\t\t}));\n\n\t\t\t\tganttHandlers.push(gantt.attachEvent(\"onDataRender\", function(){\n\t\t\t\t\tif(self._editor && self._placeholder && !domHelpers.isChildOf(self._placeholder, gantt.$root)){\n\t\t\t\t\t\tgrid.$grid_data.appendChild(self._placeholder);\n\t\t\t\t\t}\n\t\t\t\t}));\n\n\t\t\t\tthis.init = function(){};\n\t\t\t},\n\n\t\t\tgetState: function(){\n\t\t\t\treturn {\n\t\t\t\t\teditor: this._editor,\n\t\t\t\t\teditorType: this._editorType,\n\t\t\t\t\tplaceholder: this._placeholder,\n\t\t\t\t\tid: this._itemId,\n\t\t\t\t\tcolumnName: this._columnName\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tstartEdit: function(itemId, columnName) {\n\t\t\t\tif (this.isVisible()) {\n\t\t\t\t\tthis.save();\n\t\t\t\t}\n\n\t\t\t\tif(!store.exists(itemId)){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar editorState = {id: itemId, columnName: columnName};\n\t\t\t\tif (gantt.isReadonly(store.getItem(itemId))) {\n\t\t\t\t\tthis.callEvent(\"onEditPrevent\", [editorState]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (this.callEvent(\"onBeforeEditStart\", [editorState]) === false) {\n\t\t\t\t\tthis.callEvent(\"onEditPrevent\", [editorState]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.show(editorState.id, editorState.columnName);\n\t\t\t\tthis.setValue();\n\n\t\t\t\tthis.callEvent(\"onEditStart\", [editorState]);\n\t\t\t},\n\t\t\tisVisible: function(){\n\t\t\t\treturn !!(this._editor && domHelpers.isChildOf(this._placeholder, gantt.$root));\n\t\t\t},\n\t\t\tshow: function (itemId, columnName) {\n\t\t\t\tif (this.isVisible()) {\n\t\t\t\t\tthis.save();\n\t\t\t\t}\n\t\t\t\tvar editorState = {id: itemId, columnName: columnName};\n\n\t\t\t\tvar column = grid.getColumn(editorState.columnName);\n\t\t\t\tvar editorConfig = this.getEditorConfig(column.name);\n\t\t\t\tif(!editorConfig)\n\t\t\t\t\treturn;\n\n\t\t\t\tvar editor = grid.$getConfig().editor_types[editorConfig.type];\n\n\t\t\t\tvar placeholder = _createPlaceholder(editorState.id, editorState.columnName);\n\t\t\t\tgrid.$grid_data.appendChild(placeholder);\n\t\t\t\teditor.show(editorState.id, column, editorConfig, placeholder);\n\t\t\t\tthis._editor = editor;\n\t\t\t\tthis._placeholder = placeholder;\n\t\t\t\tthis._itemId = editorState.id;\n\t\t\t\tthis._columnName = editorState.columnName;\n\t\t\t\tthis._editorType = editorConfig.type;\n\n\t\t\t\tvar mapping = keyboardMapping.getMapping();\n\t\t\t\tif(mapping.onShow){\n\t\t\t\t\tmapping.onShow(this, placeholder, grid);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tsetValue: function () {\n\t\t\t\tvar state = this.getState();\n\t\t\t\tvar itemId = state.id,\n\t\t\t\t\tcolumnName = state.columnName;\n\n\t\t\t\tvar column = grid.getColumn(columnName);\n\t\t\t\tvar item = store.getItem(itemId);\n\t\t\t\tvar editorConfig = this.getEditorConfig(columnName);\n\n\t\t\t\tif(!editorConfig)\n\t\t\t\t\treturn;\n\n\t\t\t\tvar value = item[editorConfig.map_to];\n\t\t\t\tif(editorConfig.map_to == \"auto\"){\n\t\t\t\t\tvalue = store.getItem(itemId);\n\t\t\t\t}\n\n\t\t\t\tthis._editor.set_value(value, itemId, column, this._placeholder);\n\t\t\t\tthis.focus();\n\t\t\t},\n\n\t\t\tfocus: function(){\n\t\t\t\tthis._editor.focus(this._placeholder);\n\t\t\t},\n\n\t\t\tgetValue: function () {\n\t\t\t\tvar column = grid.getColumn(this._columnName);\n\t\t\t\treturn this._editor.get_value(this._itemId, column, this._placeholder);\n\t\t\t},\n\n\t\t\t_getItemValue: function() {\n\t\t\t\tvar editorConfig = this.getEditorConfig(this._columnName);\n\n\t\t\t\tif(!editorConfig)\n\t\t\t\t\treturn;\n\n\t\t\t\tvar item = gantt.getTask(this._itemId);\n\t\t\t\tvar value = item[editorConfig.map_to];\n\t\t\t\tif(editorConfig.map_to == \"auto\"){\n\t\t\t\t\tvalue = store.getItem(this._itemId);\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t},\n\n\t\t\tisChanged: function(){\n\n\t\t\t\tvar column = grid.getColumn(this._columnName);\n\n\t\t\t\tvar value = this._getItemValue();\n\n\t\t\t\treturn this._editor.is_changed(value, this._itemId, column, this._placeholder);\n\t\t\t},\n\n\t\t\thide: function () {\n\t\t\t\tif(!this._itemId)\n\t\t\t\t\treturn;\n\n\t\t\t\tvar itemId = this._itemId,\n\t\t\t\t\tcolumnName = this._columnName;\n\n\t\t\t\tvar mapping = keyboardMapping.getMapping();\n\t\t\t\tif(mapping.onHide){\n\t\t\t\t\tmapping.onHide(this, this._placeholder, grid);\n\t\t\t\t}\n\n\t\t\t\tthis._itemId = null;\n\t\t\t\tthis._columnName = null;\n\t\t\t\tthis._editorType = null;\n\t\t\t\tif (!this._placeholder) return;\n\n\t\t\t\tif (this._editor && this._editor.hide) {\n\t\t\t\t\tthis._editor.hide(this._placeholder);\n\t\t\t\t}\n\t\t\t\tthis._editor = null;\n\t\t\t\tif (this._placeholder.parentNode) {\n\t\t\t\t\tthis._placeholder.parentNode.removeChild(this._placeholder);\n\t\t\t\t}\n\t\t\t\tthis._placeholder = null;\n\n\t\t\t\tthis.callEvent(\"onEditEnd\", [{id: itemId, columnName: columnName}]);\n\t\t\t},\n\t\t\tsave: function () {\n\t\t\t\tif(!(this.isVisible() && store.exists(this._itemId) && this.isChanged())) {\n\t\t\t\t\tthis.hide();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar itemId = this._itemId,\n\t\t\t\t\tcolumnName = this._columnName;\n\n\t\t\t\tif(!store.exists(itemId)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar item = store.getItem(itemId);\n\t\t\t\tvar editorConfig = this.getEditorConfig(columnName);\n\t\t\t\tvar editorState = {\n\t\t\t\t\tid: itemId,\n\t\t\t\t\tcolumnName: columnName,\n\t\t\t\t\tnewValue: this.getValue(),\n\t\t\t\t\toldValue: this._getItemValue()\n\t\t\t\t};\n\t\t\t\tif (this.callEvent(\"onBeforeSave\", [editorState]) !== false) {\n\t\t\t\t\tif (!this._editor.is_valid || this._editor.is_valid(editorState.newValue, editorState.id, editorState.columnName, this._placeholder)) {\n\n\t\t\t\t\t\tvar mapTo = editorConfig.map_to;\n\t\t\t\t\t\tvar value = editorState.newValue;\n\t\t\t\t\t\tif (mapTo != \"auto\") {\n\t\t\t\t\t\t\titem[mapTo] = value;\n\t\t\t\t\t\t\tupdateTaskDateProperties(item, mapTo, gantt.config.inline_editors_date_processing);\n\n\t\t\t\t\t\t\tstore.updateItem(itemId);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._editor.save(itemId, grid.getColumn(columnName), this._placeholder);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.callEvent(\"onSave\", [editorState]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.hide();\n\t\t\t},\n\n\t\t\t_findEditableCell: function findEditableCell(start, direction){\n\t\t\t\tvar nextIndex = start;\n\t\t\t\tvar columns = grid.getGridColumns();\n\t\t\t\tvar nextColumn = columns[nextIndex];\n\n\t\t\t\tvar columnName = nextColumn ? nextColumn.name : null;\n\t\t\t\tif(columnName){\n\t\t\t\t\twhile(columnName && !this.getEditorConfig(columnName)){\n\t\t\t\t\t\tcolumnName = this._findEditableCell(start + direction, direction);\n\t\t\t\t\t}\n\t\t\t\t\treturn columnName;\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t},\n\n\t\t\tgetNextCell: function moveCell(dir){\n\t\t\t\t// GS-1257. true means to exclude hidden columns\n\t\t\t\treturn this._findEditableCell(grid.getColumnIndex(this._columnName, true) + dir, dir);\n\t\t\t},\n\n\t\t\tgetFirstCell: function getFirstCell(){\n\t\t\t\treturn this._findEditableCell(0, 1);\n\t\t\t},\n\n\t\t\tgetLastCell: function getLastCell(){\n\t\t\t\treturn this._findEditableCell(grid.getGridColumns().length - 1, -1);\n\t\t\t},\n\n\t\t\teditNextCell: function nextCell(canChangeRow){\n\t\t\t\tvar cell = this.getNextCell(1);\n\t\t\t\tif(cell){\n\t\t\t\t\tvar nextColumn = this.getNextCell(1);\n\t\t\t\t\tif(nextColumn && this.getEditorConfig(nextColumn)){\n\t\t\t\t\t\tthis.startEdit(this._itemId, nextColumn);\n\t\t\t\t\t}\n\t\t\t\t}else if(canChangeRow && this.moveRow(1)){\n\t\t\t\t\tvar task = this.moveRow(1);\n\t\t\t\t\tcell = this.getFirstCell();\n\t\t\t\t\tif(cell && this.getEditorConfig(cell)){\n\t\t\t\t\t\tthis.startEdit(task, cell);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\teditPrevCell: function prevCell(canChangeRow){\n\t\t\t\tvar cell = this.getNextCell(-1);\n\t\t\t\tif(cell){\n\t\t\t\t\tvar nextColumn = this.getNextCell(-1);\n\t\t\t\t\tif(nextColumn && this.getEditorConfig(nextColumn)){\n\t\t\t\t\t\tthis.startEdit(this._itemId, nextColumn);\n\t\t\t\t\t}\n\t\t\t\t}else if(canChangeRow && this.moveRow(-1)){\n\t\t\t\t\tvar task = this.moveRow(-1);\n\t\t\t\t\tcell = this.getLastCell();\n\t\t\t\t\tif(cell && this.getEditorConfig(cell)){\n\t\t\t\t\t\tthis.startEdit(task, cell);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tmoveRow: function moveRow(dir) {\n\t\t\t\tvar moveTask = dir > 0 ? gantt.getNext : gantt.getPrev;\n\t\t\t\tmoveTask = gantt.bind(moveTask, gantt);\n\n\t\t\t\tvar nextItem = moveTask(this._itemId);\n\t\t\t\t// skip readonly rows\n\t\t\t\twhile (gantt.isTaskExists(nextItem) && gantt.isReadonly(gantt.getTask(nextItem))) {\n\t\t\t\t\tnextItem = moveTask(nextItem);\n\t\t\t\t}\n\t\t\t\treturn nextItem;\n\t\t\t},\n\n\t\t\teditNextRow: function nextRow(){\n\t\t\t\tvar row = this.getNextCell(1);\n\t\t\t\tif(row){\n\t\t\t\t\tthis.startEdit(row, this._columnName);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\teditPrevRow: function prevRow(){\n\t\t\t\tvar row = this.getNextCell(-1);\n\t\t\t\tif(row){\n\t\t\t\t\tthis.startEdit(row, this._columnName);\n\t\t\t\t}\n\t\t\t},\n\t\t\tdestructor: function(){\n\t\t\t\thandlers.forEach(function(handlerId){\n\t\t\t\t\tstore.detachEvent(handlerId);\n\t\t\t\t});\n\n\t\t\t\tganttHandlers.forEach(function(handlerId){\n\t\t\t\t\tgantt.detachEvent(handlerId);\n\t\t\t\t});\n\t\t\t\thandlers = [];\n\t\t\t\tganttHandlers = [];\n\n\t\t\t\tstore = null;\n\t\t\t\tthis.hide();\n\t\t\t\tthis.detachAllEvents();\n\t\t\t}\n\t\t};\n\n\t\tutils.mixin(controller, keyboardMapping);\n\t\tutils.mixin(controller, eventBus);\n\n\t\treturn controller;\n\t}\n\n\n\tvar inlineEditController = {\n\t\tinit: initConfigs,\n\t\tcreateEditors: createGridEditors\n\t};\n\n\tutils.mixin(inlineEditController, keyboardMapping);\n\tutils.mixin(inlineEditController, eventBus);\n\n\treturn inlineEditController;\n}\n\n\n\n\nmodule.exports = create;","var utils = require(\"../../../utils/utils\");\nvar ResourceTimeline = require(\"./resource_timeline\");\nvar resourceStoreMixin = require(\"../resource_store_mixin\");\nvar __extends = require(\"../../../utils/extends\");\n\nvar ResourceHistogram = (function (_super) {\n\n\tfunction ResourceHistogram(parent, config, factory, gantt) {\n\t\tvar self = _super.apply(this, arguments) || this;\n\t\tself.$config.bindLinks = null;\n\t\treturn self;\n\t}\n\n\t__extends(ResourceHistogram, _super);\n\n\tutils.mixin(ResourceHistogram.prototype, {\n\t\t_createLayerConfig: function(){\n\t\t\tvar self = this;\n\t\t\tvar taskFilter = function(){\n\t\t\t\treturn self.isVisible();\n\t\t\t};\n\n\t\t\tvar taskLayers = [\n\t\t\t\t{\n\t\t\t\t\trenderer: this.$gantt.$ui.layers.resourceHistogram(),\n\t\t\t\t\tcontainer: this.$task_bars,\n\t\t\t\t\tfilter: [taskFilter]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\trenderer: this.$gantt.$ui.layers.taskBg(),\n\t\t\t\t\tcontainer: this.$task_bg,\n\t\t\t\t\tfilter: [taskFilter]\n\t\t\t\t}\n\t\t\t];\n\n\t\t\tvar linkLayers = [];\n\n\t\t\treturn {\n\t\t\t\ttasks: taskLayers,\n\t\t\t\tlinks: linkLayers\n\t\t\t};\n\t\t}\n\n\t}, true);\n\n\tutils.mixin(ResourceHistogram.prototype, resourceStoreMixin(_super), true);\n\n\treturn ResourceHistogram;\n})(ResourceTimeline);\n\n\nmodule.exports = ResourceHistogram;\n\n\n","var domHelpers = require(\"../utils/dom_helpers\"),\n\tutils = require(\"../../../utils/utils\"),\n\tresourceStoreMixin = require(\"../resource_store_mixin\"),\n\tGrid = require(\"./grid\");\nvar __extends = require(\"../../../utils/extends\");\n\nvar ResourceGrid = (function (_super) {\n\n\tfunction ResourceGrid(parent, config, factory, gantt) {\n\t\treturn _super.apply(this, arguments) || this;\n\t}\n\n\t__extends(ResourceGrid, _super);\n\n\tutils.mixin(ResourceGrid.prototype, {\n\t\tinit: function(){\n\t\t\tif(this.$config.bind === undefined){\n\t\t\t\tthis.$config.bind = this.$getConfig().resource_store;\n\t\t\t}\n\t\t\t_super.prototype.init.apply(this, arguments);\n\t\t},\n\n\t\t_initEvents: function(){\n\t\t\tvar gantt = this.$gantt;\n\t\t\t_super.prototype._initEvents.apply(this, arguments);\n\t\t\tthis._mouseDelegates.delegate(\"click\", \"gantt_row\", gantt.bind(function (e, id, trg) {\n\t\t\t\tvar store = this.$config.rowStore;\n\t\t\t\tif(!store) return true;\n\n\t\t\t\tvar target = domHelpers.locateAttribute(e, this.$config.item_attribute);\n\t\t\t\tif(target){\n\t\t\t\t\tstore.select(target.getAttribute(this.$config.item_attribute));\n\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}, this), this.$grid);\n\n\t\t}\n\n\t}, true);\n\n\tutils.mixin(ResourceGrid.prototype, resourceStoreMixin(ResourceGrid), true);\n\n\treturn ResourceGrid;\n})(Grid);\n\nmodule.exports = ResourceGrid;","var utils = require(\"../../../utils/utils\"),\n\tenv = require(\"../../../utils/env\");\n\nvar createStaticBgHelper = function(utils, env){\n\n\tvar canvasBgCache = {};\n\tvar staticBgStyleId = \"gantt-static-bg-styles-\" + utils.uid();\n\n\tfunction renderBgCanvas(targetNode, config, scale, totalHeight, itemHeight) {\n\t\tif (!config.static_background) return;\n\n\t\tvar canvas = document.createElement(\"canvas\");\n\t\tif (!canvas.getContext) return; // if canvas is not supported (for IE8)\n\n\t\t// clear previous bg data\n\t\ttargetNode.innerHTML = \"\";\n\n\t\tvar styleParams = getCellStyles(targetNode);\n\t\tvar png = createBackgroundTiles(styleParams, config, scale, itemHeight);\n\t\tvar bgDivs = createBgDivs(png, config, scale, totalHeight);\n\n\t\tvar fragment = document.createDocumentFragment();\n\n\t\tbgDivs.forEach(function (div) {\n\t\t\tfragment.appendChild(div);\n\t\t});\n\n\t\ttargetNode.appendChild(fragment);\n\t}\n\n\tfunction getColumnWidths(scale) {\n\t\tvar widths = scale.width;\n\t\tvar differentWidths = {};\n\t\tfor (var i = 0; i < widths.length; i++) {\n\t\t\tif (widths[i] * 1)\n\t\t\t\tdifferentWidths[widths[i]] = true;\n\t\t}\n\t\treturn differentWidths;\n\t}\n\n\tfunction parseRgb(rgbCss) {\n\t\tvar result = /^rgba?\\(([\\d]{1,3}), *([\\d]{1,3}), *([\\d]{1,3}) *(,( *[\\d.]+ *))?\\)$/i.exec(rgbCss);\n\t\treturn result ? {\n\t\t\tr: result[1] * 1,\n\t\t\tg: result[2] * 1,\n\t\t\tb: result[3] * 1,\n\t\t\ta: (result[5] * 255) || 255\n\t\t} : null;\n\t}\n\n\tfunction getUrlFromCache(key) {\n\t\treturn canvasBgCache[key] || null;\n\t}\n\n\tfunction getHashKey(width, height, cellStyles) {\n\t\treturn (width + '' + height + cellStyles.bottomBorderColor + cellStyles.rightBorderColor).replace(/[^\\w\\d]/g, '');\n\t}\n\n\tfunction getStyleElement() {\n\t\tvar style = document.getElementById(staticBgStyleId);\n\n\t\tif (!style) {\n\t\t\tstyle = document.createElement(\"style\");\n\t\t\tstyle.id = staticBgStyleId;\n\t\t\tdocument.body.appendChild(style);\n\t\t}\n\t\treturn style;\n\t}\n\n\tfunction cleanup() {\n\t\tvar style = document.getElementById(staticBgStyleId);\n\t\tif (style && style.parentNode) {\n\t\t\tstyle.parentNode.removeChild(style);\n\t\t}\n\t}\n\n\tfunction cacheUrl(key, url) {\n\t\tcanvasBgCache[key] = url;\n\t}\n\n\tfunction generateBgUrl(width, height, cellStyles) {\n\t\t// use relatively big bg image about 500*500px in order to reduce misalignments due browser zoom\n\t\tvar cols = Math.floor(500 / width) || 1;\n\t\tvar rows = Math.floor(500 / height) || 1;\n\n\t\tvar canvas = document.createElement(\"canvas\");\n\t\tcanvas.height = height * rows;\n\t\tcanvas.width = width * cols;\n\n\t\tvar context = canvas.getContext(\"2d\");\n\n\t\tdrawGrid(height, width, rows, cols, context, cellStyles);\n\n\t\treturn canvas.toDataURL();\n\n\t\tfunction drawGrid(rowHeight, colWidth, rows, cols, context, styles) {\n\t\t\t// paint pixels manually instead of using lineTo in order to prevent canvas aliasing\n\t\t\tvar image = context.createImageData(colWidth * cols, rowHeight * rows);\n\t\t\timage.imageSmoothingEnabled = false;\n\n\t\t\tvar verticalLineWidth = styles.rightBorderWidth * 1;\n\t\t\tvar verticalLineColor = parseRgb(styles.rightBorderColor);\n\n\t\t\tvar x = 0,\n\t\t\t\ty = 0,\n\t\t\t\tw = 0;\n\n\t\t\tfor (var col = 1; col <= cols; col++) {\n\t\t\t\tx = col * colWidth - 1;\n\t\t\t\tfor (w = 0; w < verticalLineWidth; w++) {\n\t\t\t\t\tfor (y = 0; y < rowHeight * rows; y++) {\n\t\t\t\t\t\tdrawDot(x - w, y, verticalLineColor, image);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar horizontalLineWidth = styles.bottomBorderWidth * 1;\n\t\t\tvar horizontalLineColor = parseRgb(styles.bottomBorderColor);\n\n\t\t\ty = 0;\n\t\t\tfor (var row = 1; row <= rows; row++) {\n\t\t\t\ty = row * rowHeight - 1;\n\t\t\t\tfor (w = 0; w < horizontalLineWidth; w++) {\n\t\t\t\t\tfor (x = 0; x < colWidth * cols; x++) {\n\t\t\t\t\t\tdrawDot(x, y - w, horizontalLineColor, image);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tcontext.putImageData(image, 0, 0);\n\t\t}\n\n\t\tfunction drawDot(x, y, color, matrix) {\n\t\t\tvar rowLength = width * cols;\n\n\t\t\tvar index = (y * rowLength + x) * 4;\n\n\t\t\tmatrix.data[index] = color.r;\n\t\t\tmatrix.data[index + 1] = color.g;\n\t\t\tmatrix.data[index + 2] = color.b;\n\t\t\tmatrix.data[index + 3] = color.a;\n\t\t}\n\t}\n\n\tfunction getCssClass(key) {\n\t\treturn \"gantt-static-bg-\" + key;\n\t}\n\n\tfunction createBackgroundTiles(cellStyles, config, scale, itemHeight) {\n\t\tvar data = {};\n\t\tvar widths = getColumnWidths(scale),\n\t\t\theight = itemHeight;\n\n\t\tvar styleHTML = \"\";\n\t\tfor (var i in widths) {\n\n\t\t\tvar width = i * 1;\n\t\t\tvar key = getHashKey(width, height, cellStyles);\n\t\t\tvar cachedUrl = getUrlFromCache(key);\n\n\t\t\tif (!cachedUrl) {\n\t\t\t\tvar bgImage = generateBgUrl(width, height, cellStyles);\n\t\t\t\tcacheUrl(key, bgImage);\n\t\t\t\tstyleHTML += \".\" + getCssClass(key) + \"{ background-image: url('\" + bgImage + \"');}\";\n\t\t\t}\n\n\t\t\tdata[i] = getCssClass(key);\n\t\t}\n\n\t\tif (styleHTML) {\n\t\t\tvar style = getStyleElement();\n\t\t\tstyle.innerHTML += styleHTML;\n\t\t}\n\n\t\treturn data;\n\t}\n\n\tfunction createBgDivs(bgTiles, config, scale, dataHeight) {\n\t\tvar divs = [];\n\t\tvar tile,\n\t\t\tprevWidth = 0,\n\t\t\tprevCell;\n\n\t\tvar widths = scale.width.filter(function (i) {\n\t\t\treturn !!i;\n\t\t});\n\n\t\tvar leftPos = 0;\n\n\t\t//TODO: fixme\n\t\t// bg image misalignments on horizontal scroll on very large time scales, especially in IE/Edge browsers\n\t\t// limiting max tile width seems to solve the issue, but can increase rendering time\n\t\tvar maxTileSize = 100000;\n\t\tif (env.isIE) {\n\t\t\t// special case for IE11 on win7x and probably 8x\n\t\t\tvar appVersion = navigator.appVersion || \"\";\n\t\t\tif (appVersion.indexOf(\"Windows NT 6.2\") != -1 ||\n\t\t\t\tappVersion.indexOf(\"Windows NT 6.1\") != -1 ||\n\t\t\t\tappVersion.indexOf(\"Windows NT 6.0\") != -1) {\n\n\t\t\t\tmaxTileSize = 20000;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i < widths.length; i++) {\n\t\t\t//var currentWidth = cells[i].clientWidth;\n\t\t\tvar cell = widths[i];\n\n\t\t\tif ((cell != prevCell && prevCell !== undefined) || (i == widths.length - 1) || (prevWidth > maxTileSize)) {\n\n\t\t\t\tvar totalHeight = dataHeight,\n\t\t\t\t\tcurrentTop = 0,\n\t\t\t\t\trowHeight = Math.floor(maxTileSize / config.row_height) * config.row_height;\n\n\t\t\t\tvar tileWidth = prevWidth;\n\n\t\t\t\twhile (totalHeight > 0) {\n\t\t\t\t\tvar currentHeight = Math.min(totalHeight, rowHeight);\n\t\t\t\t\ttotalHeight -= rowHeight;\n\n\t\t\t\t\ttile = document.createElement(\"div\");\n\n\t\t\t\t\ttile.style.height = currentHeight + \"px\";\n\t\t\t\t\ttile.style.position = \"absolute\";\n\t\t\t\t\ttile.style.top = currentTop + \"px\";\n\t\t\t\t\ttile.style.left = leftPos + \"px\";\n\t\t\t\t\ttile.style.pointerEvents = \"none\";\n\n\t\t\t\t\ttile.style.whiteSpace = \"no-wrap\";\n\t\t\t\t\ttile.className = bgTiles[prevCell || cell];\n\n\t\t\t\t\t// if last - short by 1 px (bug fix)\n\t\t\t\t\tif (i == widths.length - 1) {\n\t\t\t\t\t\ttileWidth = cell + tileWidth - 1;\n\t\t\t\t\t}\n\t\t\t\t\ttile.style.width = tileWidth + \"px\";\n\n\t\t\t\t\tdivs.push(tile);\n\t\t\t\t\tcurrentTop += currentHeight;\n\t\t\t\t}\n\t\t\t\tprevWidth = 0;\n\t\t\t\tleftPos += tileWidth;\n\n\t\t\t\t//cell = 0;\n\t\t\t}\n\t\t\tif (cell) {\n\t\t\t\tprevWidth += cell;\n\t\t\t\tprevCell = cell;\n\t\t\t}\n\n\t\t}\n\n\t\treturn divs;\n\t}\n\n\n\tfunction createProbeElement(){\n\t\tvar cell = document.createElement(\"div\");\n\t\tcell.className = \"gantt_task_cell\";\n\t\tvar row = document.createElement(\"div\");\n\t\trow.className = \"gantt_task_row\";\n\t\trow.appendChild(cell);\n\t\treturn row;\n\t}\n\tfunction getCellStyles(targetNode) {\n\t\t// creating temp DOM structure for resolving style parameters. Will be removed after calculating.\n\t\t// Add two rows and read styles from the first one. \n\t\t// Some skins (e.g. material) define special styles for the last row, so we add a couple and read styles from one which is not the :last-child;\n\t\tvar firstRow = createProbeElement();\n\t\tvar secondRow = createProbeElement();\n\n\t\ttargetNode.appendChild(firstRow);\n\t\ttargetNode.appendChild(secondRow);\n\n\t\tvar firstRowCell = firstRow.firstChild;\n\n\t\tvar rowStyles = getComputedStyle(firstRow),\n\t\t\tcellStyles = getComputedStyle(firstRowCell);\n\n\t\tvar params = {\n\t\t\tbottomBorderWidth: rowStyles.getPropertyValue(\"border-bottom-width\").replace(\"px\", \"\"),\n\t\t\trightBorderWidth: cellStyles.getPropertyValue(\"border-right-width\").replace(\"px\", \"\"),\n\t\t\tbottomBorderColor: rowStyles.getPropertyValue(\"border-bottom-color\"),\n\t\t\trightBorderColor: cellStyles.getPropertyValue(\"border-right-color\")\n\t\t};\n\n\t\ttargetNode.removeChild(firstRow);\n\t\ttargetNode.removeChild(secondRow);\n\n\t\treturn params;\n\t}\n\n\treturn {\n\t\trender: renderBgCanvas,\n\t\tdestroy: cleanup\n\t};\n};\n\nmodule.exports = {\n\tcreate: function(){\n\t\treturn createStaticBgHelper(utils, env);\n\t}\n};\n\n","var __extends = require(\"../../../utils/extends\"),\n\tdomHelpers = require(\"../utils/dom_helpers\"),\n\tutils = require(\"../../../utils/utils\"),\n\tenv = require(\"../../../utils/env\"),\n\tCell = require(\"./cell\");\n\nvar ScrollbarCell = (function (_super) {\n\t\"use strict\";\n\n\tvar SCROLL_MODIFIER_KEYS = [\"altKey\", \"shiftKey\", \"metaKey\"]; // it's no way to disable ctrl+wheel\n\t__extends(ScrollbarCell, _super);\n\tfunction ScrollbarCell(parent, config, factory, gantt) {\n\n\t\tvar _this = _super.apply(this, arguments) || this;\n\t\tthis.$config = utils.mixin(config, {scroll: \"x\"});\n\t\t_this._scrollHorizontalHandler = utils.bind(_this._scrollHorizontalHandler, _this);\n\t\t_this._scrollVerticalHandler = utils.bind(_this._scrollVerticalHandler, _this);\n\t\t_this._outerScrollVerticalHandler = utils.bind(_this._outerScrollVerticalHandler, _this);\n\t\t_this._outerScrollHorizontalHandler = utils.bind(_this._outerScrollHorizontalHandler, _this);\n\t\t_this._mouseWheelHandler = utils.bind(_this._mouseWheelHandler, _this);\n\n\t\tthis.$config.hidden = true;\n\t\tvar size = gantt.config.scroll_size;\n\n\t\tif(gantt.env.isIE){\n\t\t\t// full element height/width must be bigger than just a browser scrollbar,\n\t\t\t// otherwise the scrollbar element won't be scrolled on click\n\t\t\tsize += 1;\n\t\t}\n\n\t\tif(this._isHorizontal()){\n\t\t\t_this.$config.height = size;\n\t\t\t_this.$parent.$config.height = size;\n\t\t}else{\n\t\t\t_this.$config.width = size;\n\t\t\t_this.$parent.$config.width = size;\n\t\t}\n\n\t\tthis.$config.scrollPosition = 0;\n\n\t\t_this.$name = \"scroller\";\n\t\treturn _this;\n\t}\n\n\tScrollbarCell.prototype.init = function(container){\n\t\tcontainer.innerHTML = this.$toHTML();\n\t\tthis.$view = container.firstChild;\n\n\t\tif(!this.$view){\n\t\t\tthis.init();\n\t\t}\n\t\tif(this._isVertical()){\n\t\t\tthis._initVertical();\n\t\t}else{\n\t\t\tthis._initHorizontal();\n\t\t}\n\t\tthis._initMouseWheel();\n\t\tthis._initLinkedViews();\n\t};\n\n\tScrollbarCell.prototype.$toHTML = function () {\n\t\tvar className = this._isHorizontal() ? \"gantt_hor_scroll\" : \"gantt_ver_scroll\";\n\t\treturn \"<div class='gantt_layout_cell \"+className+\"'><div style='\"+(this._isHorizontal() ? \"width:2000px\" : \"height:2000px\")+\"'></div></div>\";\n\t};\n\n\tScrollbarCell.prototype._getRootParent = function(){\n\t\tvar parent = this.$parent;\n\t\twhile(parent && parent.$parent){\n\t\t\tparent = parent.$parent;\n\t\t}\n\t\tif(parent){\n\t\t\treturn parent;\n\t\t}\n\t};\n\n\n\tfunction eachCell(root, res){\n\t\tres.push(root);\n\t\tif(root.$cells){\n\t\t\tfor(var i = 0; i < root.$cells.length; i++){\n\t\t\t\teachCell(root.$cells[i], res);\n\t\t\t}\n\t\t}\n\t}\n\tScrollbarCell.prototype._eachView = function(){\n\t\tvar res = [];\n\t\teachCell(this._getRootParent(), res);\n\t\treturn res;\n\t};\n\n\tScrollbarCell.prototype._getLinkedViews = function(){\n\t\tvar views = this._eachView();\n\t\tvar res = [];\n\t\tfor(var i = 0; i < views.length; i++){\n\t\t\tif(views[i].$config && ((this._isVertical() && views[i].$config.scrollY == this.$id) || (this._isHorizontal() && views[i].$config.scrollX == this.$id)) ){\n\t\t\t\tres.push(views[i]);\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t};\n\n\n\tScrollbarCell.prototype._initHorizontal = function(){\n\t\tthis.$scroll_hor = this.$view;\n\t\tthis.$domEvents.attach(this.$view, \"scroll\", this._scrollHorizontalHandler);\n\n\t};\n\n\tScrollbarCell.prototype._initLinkedViews = function(){\n\t\tvar views = this._getLinkedViews();\n\t\tvar css = this._isVertical() ?\"gantt_layout_outer_scroll gantt_layout_outer_scroll_vertical\" : \"gantt_layout_outer_scroll gantt_layout_outer_scroll_horizontal\";\n\t\tfor(var i = 0; i < views.length; i++){\n\t\t\t//views[i].$config.css = [views[i].$config.css || \"\", css].join(\" \");\n\t\t\tdomHelpers.addClassName(views[i].$view || views[i].getNode(), css);\n\t\t}\n\t};\n\n\tScrollbarCell.prototype._initVertical = function(){\n\t\tthis.$scroll_ver = this.$view;\n\t\tthis.$domEvents.attach(this.$view, \"scroll\", this._scrollVerticalHandler);\n\t};\n\n\tScrollbarCell.prototype._updateLinkedViews = function(){\n\t};\n\n\tScrollbarCell.prototype._initMouseWheel = function(){\n\t\tvar ff = env.isFF;\n\t\tif (ff)\n\t\t\tthis.$domEvents.attach(this._getRootParent().$view, \"wheel\", this._mouseWheelHandler);\n\t\telse\n\t\t\tthis.$domEvents.attach(this._getRootParent().$view, \"mousewheel\", this._mouseWheelHandler);\n\t};\n\n\n\n\n\tScrollbarCell.prototype.scrollHorizontally = function(left){\n\t\tif(this._scrolling) return;\n\t\tthis._scrolling = true;\n\n\t\tthis.$scroll_hor.scrollLeft = left;\n\t\tthis.$config.codeScrollLeft = left;\n\t\tleft = this.$scroll_hor.scrollLeft;\n\n\t\tvar views = this._getLinkedViews();\n\t\tfor(var i = 0; i < views.length; i++){\n\t\t\tif(views[i].scrollTo){\n\t\t\t\tviews[i].scrollTo(left, undefined);\n\t\t\t}\n\t\t}\n\t\tvar oldSize = this.$config.scrollPosition;\n\t\tthis.$config.scrollPosition = left;\n\t\tthis.callEvent(\"onScroll\", [oldSize, left, this.$config.scroll]);\n\t\tthis._scrolling = false;\n\t};\n\tScrollbarCell.prototype.scrollVertically = function(top){\n\t\tif(this._scrolling) return;\n\t\tthis._scrolling = true;\n\n\t\tthis.$scroll_ver.scrollTop = top;\n\t\ttop = this.$scroll_ver.scrollTop;\n\n\t\tvar views = this._getLinkedViews();\n\n\t\tfor(var i = 0; i < views.length; i++){\n\t\t\tif(views[i].scrollTo){\n\t\t\t\tviews[i].scrollTo(undefined, top);\n\t\t\t}\n\t\t}\n\t\tvar oldSize = this.$config.scrollPosition;\n\t\tthis.$config.scrollPosition = top;\n\t\tthis.callEvent(\"onScroll\", [oldSize, top, this.$config.scroll]);\n\t\tthis._scrolling = false;\n\t};\n\n\tScrollbarCell.prototype._isVertical = function(){\n\t\treturn this.$config.scroll == \"y\";\n\t};\n\tScrollbarCell.prototype._isHorizontal = function(){\n\t\treturn this.$config.scroll == \"x\";\n\t};\n\tScrollbarCell.prototype._scrollHorizontalHandler = function (e) {\n\t\tif(this._isVertical() || this._scrolling){\n\t\t\treturn;\n\t\t}\n\n\t\t//in safari we can catch previous onscroll after setting new value from mouse-wheel event\n\t\t//set delay to prevent value drifiting\n\t\tif ((new Date()) - ( this._wheel_time || 0 ) < 100) return true;\n\t\t//if (this.$gantt._touch_scroll_active) return;\n\t\tvar left = this.$scroll_hor.scrollLeft;\n\n\t\tthis.scrollHorizontally(left);\n\n\t\tthis._oldLeft = this.$scroll_hor.scrollLeft;\n\t};\n\tScrollbarCell.prototype._outerScrollHorizontalHandler = function(e){\n\t\tif(this._isVertical()){\n\t\t\treturn;\n\t\t}\n\t};\n\n\tScrollbarCell.prototype.show = function(){\n\t\tthis.$parent.show();\n\t};\n\tScrollbarCell.prototype.hide = function(){\n\t\tthis.$parent.hide();\n\t};\n\n\tScrollbarCell.prototype._getScrollSize = function(){\n\t\tvar scrollSize = 0;\n\t\tvar outerSize = 0;\n\t\tvar isHorizontal = this._isHorizontal();\n\n\t\tvar linked = this._getLinkedViews();\n\t\tvar view;\n\t\tvar scrollProperty = isHorizontal ? \"scrollWidth\" : \"scrollHeight\",\n\t\t\tinnerSizeProperty = isHorizontal ? \"contentX\" : \"contentY\";\n\t\tvar outerProperty = isHorizontal ? \"x\" : \"y\";\n\t\tvar offset = this._getScrollOffset();\n\n\t\tfor(var i = 0; i < linked.length; i++){\n\t\t\tview = linked[i];\n\t\t\tif(!(view && view.$content && view.$content.getSize && !view.$config.hidden)) continue;\n\n\t\t\tvar sizes = view.$content.getSize();\n\t\t\tvar cellScrollSize;\n\t\t\tif(sizes.hasOwnProperty(scrollProperty)){\n\t\t\t\tcellScrollSize = sizes[scrollProperty];\n\t\t\t}else{\n\t\t\t\tcellScrollSize = sizes[innerSizeProperty];\n\t\t\t}\n\n\t\t\tif(offset){\n\t\t\t\t// precalculated vertical/horizontal offsets of scrollbar to emulate 4.x look\n\t\t\t\tif(sizes[innerSizeProperty] > sizes[outerProperty] && sizes[innerSizeProperty] > scrollSize && (cellScrollSize > (sizes[outerProperty] - offset + 2))){\n\t\t\t\t\tscrollSize = cellScrollSize + (isHorizontal ? 0 : 2);\n\t\t\t\t\touterSize = sizes[outerProperty];\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tvar nonScrollableSize = Math.max(sizes[innerSizeProperty] - cellScrollSize, 0);\n\t\t\t\tvar scrollableViewPortSize = Math.max(sizes[outerProperty] - nonScrollableSize, 0);\n\t\t\t\tcellScrollSize = cellScrollSize + nonScrollableSize;\n\n\t\t\t\tif(cellScrollSize > scrollableViewPortSize && (cellScrollSize > scrollSize) ){\n\t\t\t\t\t//|| (cellScrollSize === scrollSize && sizes[outerProperty] < outerSize) // same scroll width but smaller scrollable view port\n\n\t\t\t\t\tscrollSize = cellScrollSize;\n\t\t\t\t\touterSize = sizes[outerProperty];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\touterScroll: outerSize,\n\t\t\tinnerScroll: scrollSize\n\t\t};\n\t};\n\n\tScrollbarCell.prototype.scroll = function(position){\n\t\tif(this._isHorizontal()){\n\t\t\tthis.scrollHorizontally(position);\n\t\t}else{\n\t\t\tthis.scrollVertically(position);\n\t\t}\n\t};\n\n\tScrollbarCell.prototype.getScrollState = function(){\n\t\treturn {\n\t\t\tvisible: this.isVisible(),\n\t\t\tdirection: this.$config.scroll,\n\t\t\tsize: this.$config.outerSize,\n\t\t\tscrollSize: this.$config.scrollSize || 0,\n\t\t\tposition: this.$config.scrollPosition || 0\n\t\t};\n\t};\n\n\tScrollbarCell.prototype.setSize = function(width, height){\n\t\t_super.prototype.setSize.apply(this, arguments);\n\n\t\tvar scrollSizes = this._getScrollSize();\n\n\t\tvar ownSize = (this._isVertical() ? height : width) - this._getScrollOffset() + (this._isHorizontal() ? 1 : 0);\n\n\t\tif(scrollSizes.innerScroll && ownSize > scrollSizes.outerScroll){\n\t\t\tscrollSizes.innerScroll += (ownSize - scrollSizes.outerScroll);\n\t\t}\n\t\tthis.$config.scrollSize = scrollSizes.innerScroll;\n\n\t\tthis.$config.width = width;\n\t\tthis.$config.height = height;\n\t\tthis._setScrollSize(scrollSizes.innerScroll);\n\t};\n\n\tScrollbarCell.prototype.isVisible = function(){\n\t\treturn !!(this.$parent && this.$parent.$view.parentNode);\n\t};\n\n\tScrollbarCell.prototype.shouldShow = function(){\n\t\tvar scrollSizes = this._getScrollSize();\n\t\tif(!scrollSizes.innerScroll && (this.$parent && this.$parent.$view.parentNode)){\n\t\t\treturn false;\n\t\t}else if(scrollSizes.innerScroll && !(this.$parent && this.$parent.$view.parentNode)){\n\t\t\treturn true;\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tScrollbarCell.prototype.shouldHide = function(){\n\t\tvar scrollSizes = this._getScrollSize();\n\t\tif(!scrollSizes.innerScroll && (this.$parent && this.$parent.$view.parentNode)){\n\t\t\treturn true;\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\t};\n\n\n\tScrollbarCell.prototype.toggleVisibility = function(){\n\t\tif(this.shouldHide()){\n\t\t\tthis.hide();\n\t\t}else if(this.shouldShow()){\n\t\t\tthis.show();\n\t\t}\n\t};\n\n\tScrollbarCell.prototype._getScaleOffset = function(view){\n\t\tvar offset = 0;\n\t\tif(view && (view.$config.view == \"timeline\" || view.$config.view == \"grid\")){\n\t\t\toffset = view.$content.$getConfig().scale_height;\n\t\t}\n\t\treturn offset;\n\t};\n\n\tScrollbarCell.prototype._getScrollOffset = function(){\n\t\tvar offset = 0;\n\t\tif(this._isVertical()){\n\t\t\tvar parentLayout = this.$parent.$parent;\n\t\t\toffset = Math.max(\n\t\t\t\tthis._getScaleOffset(parentLayout.getPrevSibling(this.$parent.$id)),\n\t\t\t\tthis._getScaleOffset(parentLayout.getNextSibling(this.$parent.$id))\n\t\t\t\t);\n\t\t}else{\n\t\t\tvar linked = this._getLinkedViews();\n\n\t\t\tfor (var i = 0; i < linked.length; i++) {\n\t\t\t\tvar view = linked[i],\n\t\t\t\t\tvparent = view.$parent;\n\t\t\t\tvar cells = vparent.$cells;\n\n\t\t\t\tvar last = cells[cells.length - 1];\n\n\t\t\t\tif (last && last.$config.view == \"scrollbar\" && last.$config.hidden === false) {\n\t\t\t\t\toffset = last.$config.width;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t\treturn offset || 0;\n\t};\n\n\tScrollbarCell.prototype._setScrollSize = function(size){\n\t\tvar property = this._isHorizontal() ? \"width\" : \"height\";\n\t\tvar scrollbar = this._isHorizontal() ? this.$scroll_hor : this.$scroll_ver;\n\n\t\tvar offset = this._getScrollOffset();\n\n\t\tvar node = scrollbar.firstChild;\n\n\t\tif(offset){\n\t\t\tif(this._isVertical()){\n\n\t\t\t\tthis.$config.outerSize = (this.$config.height - offset + 3);\n\t\t\t\tscrollbar.style.height = this.$config.outerSize + \"px\";\n\t\t\t\tscrollbar.style.top = (offset-1) + \"px\";\n\t\t\t\tdomHelpers.addClassName(scrollbar, this.$parent._borders.top);\n\t\t\t\tdomHelpers.addClassName(scrollbar.parentNode, \"gantt_task_vscroll\");\n\t\t\t}else{\n\t\t\t\tthis.$config.outerSize = (this.$config.width - offset + 1);\n\t\t\t\tscrollbar.style.width = this.$config.outerSize + \"px\";\n\t\t\t\t//domHelpers.addClassName(scrollbar, this.$parent._borders.right);\n\t\t\t}\n\t\t}else{\n\t\t\tscrollbar.style.top = \"auto\";\n\t\t\tdomHelpers.removeClassName(scrollbar, this.$parent._borders.top);\n\t\t\tdomHelpers.removeClassName(scrollbar.parentNode, \"gantt_task_vscroll\");\n\t\t\tthis.$config.outerSize = this.$config.height;\n\t\t}\n\n\t\tnode.style[property] = size + \"px\";\n\t};\n\n\tScrollbarCell.prototype._scrollVerticalHandler = function (e) {\n\t\tif(this._scrollHorizontalHandler() || this._scrolling){\n\t\t\treturn;\n\t\t}\n\n\t\t//if (this.$gantt._touch_scroll_active) return;\n\t\tvar top = this.$scroll_ver.scrollTop;\n\t\tvar prev = this._oldTop;\n\t\tif(top == prev) return;\n\n\t\tthis.scrollVertically(top);\n\n\t\tthis._oldTop = this.$scroll_ver.scrollTop;\n\n\t};\n\tScrollbarCell.prototype._outerScrollVerticalHandler = function(e){\n\t\tif(this._scrollHorizontalHandler()){\n\t\t\treturn;\n\t\t}\n\t};\n\n\tScrollbarCell.prototype._checkWheelTarget = function(targetNode){\n\t\tvar connectedViews = this._getLinkedViews().concat(this);\n\n\t\tfor(var i = 0; i < connectedViews.length; i++){\n\t\t\tvar node = connectedViews[i].$view;\n\t\t\tif(domHelpers.isChildOf(targetNode, node)){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tScrollbarCell.prototype._mouseWheelHandler = function(e){\n\t\tvar target = e.target || e.srcElement;\n\n\t\tif(!this._checkWheelTarget(target))\n\t\t\treturn;\n\n\t\tthis._wheel_time = new Date();\n\n\t\tvar res = {};\n\n\t\tvar wheelSpeed = {x: 1, y: 1};\n\t\tvar wheelSpeedConfig = this.$gantt.config.wheel_scroll_sensitivity;\n\n\t\tif (typeof wheelSpeedConfig == \"number\" && !!wheelSpeedConfig) {\n\t\t\twheelSpeed = {x: wheelSpeedConfig, y: wheelSpeedConfig};\n\t\t}\n\t\telse if (({}).toString.apply(wheelSpeedConfig) == \"[object Object]\") {\n\t\t\twheelSpeed = {x: wheelSpeedConfig.x, y: wheelSpeedConfig.y};\n\t\t}\n\n\t\tvar ff = env.isFF;\n\t\tvar wx = ff ? (e.deltaX * -20 * wheelSpeed.x) : e.wheelDeltaX * 2 * wheelSpeed.x;\n\t\tvar wy = ff ? (e.deltaY * -40 * wheelSpeed.y) : e.wheelDelta * wheelSpeed.y;\n\n\t\tvar horizontalScrollModifier = this.$gantt.config.horizontal_scroll_key;\n\n\t\tif (horizontalScrollModifier !== false) {\n\t\t\tif (SCROLL_MODIFIER_KEYS.indexOf(horizontalScrollModifier) >= 0) {\n\t\t\t\tif(e[horizontalScrollModifier] && !(e.deltaX || e.wheelDeltaX)){\n\t\t\t\t\t// shift+mousewheel for horizontal scroll\n\t\t\t\t\twx = wy*2;\n\t\t\t\t\twy = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\t\tif (wx && Math.abs(wx) > Math.abs(wy)){\n\t\t\tif(this._isVertical()){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(res.x) return true;//no horisontal scroll, must not block scrolling\n\t\t\tif(!this.$scroll_hor || !this.$scroll_hor.offsetWidth) return true;\n\n\t\t\tvar dir  = wx/-40;\n\t\t\tvar oldLeft = this._oldLeft;\n\t\t\tvar left = oldLeft+dir*30;\n\t\t\tthis.scrollHorizontally(left);\n\t\t\tthis.$scroll_hor.scrollLeft = left;\n\t\t\t// not block scroll if position hasn't changed\n\t\t\tif(oldLeft == this.$scroll_hor.scrollLeft){\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tthis._oldLeft = this.$scroll_hor.scrollLeft;\n\t\t} else {\n\t\t\tif(this._isHorizontal()){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(res.y) return true;//no vertical scroll, must not block scrolling\n\t\t\tif(!this.$scroll_ver || !this.$scroll_ver.offsetHeight) return true;\n\n\t\t\tvar dir  = wy/-40;\n\t\t\tif (typeof wy == \"undefined\")\n\t\t\t\tdir = e.detail;\n\n\t\t\tvar oldTop = this._oldTop;\n\t\t\tvar top = this.$scroll_ver.scrollTop+dir*30;\n\n\t\t\t//if(!this.$gantt.config.prevent_default_scroll &&\n\t\t\t//\t(this.$gantt._cached_scroll_pos && ((this.$gantt._cached_scroll_pos.y == top) || (this.$gantt._cached_scroll_pos.y <= 0 && top <= 0)))) return true;\n\n\n\t\t\tthis.scrollVertically(top);\n\t\t\tthis.$scroll_ver.scrollTop = top;\n\n\t\t\t// not block scroll if position hasn't changed\n\t\t\tif(oldTop == this.$scroll_ver.scrollTop){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tthis._oldTop = this.$scroll_ver.scrollTop;\n\t\t}\n\n\t\tif (e.preventDefault)\n\t\t\te.preventDefault();\n\t\te.cancelBubble=true;\n\t\treturn false;\n\t};\n\n\treturn ScrollbarCell;\n})(Cell);\n\nmodule.exports = ScrollbarCell;","var __extends = require(\"../../../utils/extends\"),\n\tdomHelpers = require(\"../utils/dom_helpers\"),\n\tutils = require(\"../../../utils/utils\"),\n\tCell = require(\"./cell\");\n\nvar ResizerCell = (function (_super) {\n\t\"use strict\";\n\n\t__extends(ResizerCell, _super);\n\tfunction ResizerCell(parent, config, factory) {\n\t\tvar _this = _super.apply(this, arguments) || this;\n\n\t\tvar startBackSize, startFrontSize;\n\n\t\tfunction getPageCoordinates(e){\n\t\t\tvar x = e.pageX;\n\t\t\tvar y = e.pageY;\n\n\t\t\tif (e.touches){\n\t\t\t\tx =  e.touches[0].pageX;\n\t\t\t\ty =  e.touches[0].pageY;\n\t\t\t}\n\n\t\t\treturn {x:x,y:y};\n\t\t}\n\n\t\t_this._moveHandler = function (e) {\n\t\t\t_this._moveResizer(_this._resizer, getPageCoordinates(e).x, getPageCoordinates(e).y);\n\t\t};\n\t\t_this._upHandler = function (e) {\n\t\t\tvar newSizes = _this._getNewSizes();\n\t\t\tif(_this.callEvent(\"onResizeEnd\", [startBackSize, startFrontSize, newSizes ? newSizes.back : 0, newSizes ? newSizes.front : 0]) !== false){\n\t\t\t\t_this._setSizes();\n\t\t\t}\n\n\t\t\t_this._setBackground(false);\n\t\t\t_this._clearResizer();\n\t\t\t_this._clearListeneres();\n\n\t\t\tif (e.touches) _this.$gantt._prevent_touch_scroll = false;\n\t\t};\n\n\t\t_this._clearListeneres = function(){\n\t\t\tthis.$domEvents.detach(document, \"mouseup\", _this._upHandler);\n\t\t\tthis.$domEvents.detach(document, \"mousemove\", _this._moveHandler);\n\t\t\tthis.$domEvents.detach(document, \"mousemove\", _this._startOnMove);\n\t\t\tthis.$domEvents.detach(document, \"mouseup\", _this._cancelDND);\n\n\t\t\tthis.$domEvents.detach(document, \"touchend\", _this._upHandler);\n\t\t\tthis.$domEvents.detach(document, \"touchmove\", _this._startOnMove);\n\t\t\tthis.$domEvents.detach(document, \"touchstart\", _this._downHandler);\n\t\t};\n\n\t\t_this._callStartDNDEvent = function(){\n\t\t\tif (this._xMode) {\n\t\t\t\tstartBackSize = this._behind.$config.width || this._behind.$view.offsetWidth;\n\t\t\t\tstartFrontSize = this._front.$config.width || this._front.$view.offsetWidth;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tstartBackSize = this._behind.$config.height || this._behind.$view.offsetHeight;\n\t\t\t\tstartFrontSize = this._front.$config.height || this._front.$view.offsetHeight;\n\t\t\t}\n\n\t\t\tif(_this.callEvent(\"onResizeStart\", [startBackSize, startFrontSize]) === false){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t};\n\n\t\t_this._startDND = function(e){\n\t\t\tvar res = this._callStartDNDEvent();\n\t\t\tif(res === false){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar stop = false;\n\t\t\tthis._eachGroupItem(function(resizer){\n\t\t\t\tresizer._getSiblings();\n\t\t\t\tif(resizer._callStartDNDEvent() === false){\n\t\t\t\t\tstop = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(stop){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_this._moveHandler(e);\n\n\t\t\t_this.$domEvents.attach(document, \"mousemove\", _this._moveHandler);\n\t\t\t_this.$domEvents.attach(document, \"mouseup\", _this._upHandler);\n\t\t};\n\n\t\t_this._cancelDND = function(){\n\t\t\t_this._setBackground(false);\n\t\t\t_this._clearResizer();\n\t\t\t_this._clearListeneres();\n\t\t};\n\n\t\t_this._startOnMove = function(e){\n\t\t\t// don't scroll the timeline on touch devices\n\t\t\tif (e.touches) _this.$gantt._prevent_touch_scroll = true;\n\n\t\t\tif(_this._isPosChanged(e)){\n\t\t\t\t_this._clearListeneres();\n\t\t\t\t_this._startDND(e);\n\t\t\t}\n\t\t};\n\n\t\t_this._downHandler = function (e) {\n\t\t\t_this._getSiblings();\n\n\t\t\tif (_this._behind.$config.collapsed || _this._front.$config.collapsed) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_this._setBackground(true);\n\t\t\t_this._resizer = _this._setResizer();\n\n\t\t\t_this._positions = {\n\t\t\t\tx: getPageCoordinates(e).x,\n\t\t\t\ty: getPageCoordinates(e).y,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t};\n\n\t\t\t_this.$domEvents.attach(document, \"mousemove\", _this._startOnMove);\n\t\t\t_this.$domEvents.attach(document, \"mouseup\", _this._cancelDND);\n\t\t};\n\t\t_this.$name = \"resizer\";\n\t\treturn _this;\n\t}\n\tResizerCell.prototype.init = function () {\n\t\tvar _this = this;\n\t\t_super.prototype.init.call(this);\n\t\tthis._xMode = this.$config.mode === \"x\";\n\t\tif (this._xMode && !this.$config.width) {\n\t\t\tthis.$config.width = this.$config.minWidth = 1;\n\t\t}\n\t\telse if (!this._xMode && !this.$config.height) {\n\t\t\tthis.$config.height = this.$config.minHeight = 1;\n\t\t}\n\n\t\tthis.$config.margin = -1;\n\n\t\tthis.$domEvents.attach(this.$view, \"mousedown\", _this._downHandler);\n\n\t\tthis.$domEvents.attach(this.$view, \"touchstart\", _this._downHandler);\n\t\tthis.$domEvents.attach(this.$view, \"touchmove\",  _this._startOnMove);\n\t\tthis.$domEvents.attach(this.$view, \"touchend\",  _this._upHandler);\n\t};\n\tResizerCell.prototype.$toHTML = function () {\n\t\tvar mode = this.$config.mode;\n\t\tvar css = this.$config.css || \"\";\n\t\treturn \"<div class='gantt_layout_cell gantt_resizer gantt_resizer_\"+mode+\"'><div class='gantt_layout_content gantt_resizer_\" + mode + (css ? (\" \" + css) : \"\") + \"'></div></div>\";\n\t};\n\n\tResizerCell.prototype._clearResizer = function(){\n\t\tif(this._resizer){\n\t\t\tif(this._resizer.parentNode){\n\t\t\t\tthis._resizer.parentNode.removeChild(this._resizer);\n\t\t\t}\n\t\t\tthis._resizer = null;\n\t\t}\n\t};\n\n\tResizerCell.prototype._isPosChanged = function(e){\n\t\tif(!this._positions){\n\t\t\treturn false;\n\t\t}\n\n\t\tif(Math.abs(this._positions.x - e.pageX) > 3 || Math.abs(this._positions.y - e.pageY) > 3){\n\t\t\treturn true;\n\t\t}\n\n\t\tif(Date.now() - this._positions.timestamp > 300){\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tResizerCell.prototype._getSiblings = function () {\n\t\tvar cells = this.$parent.getCells();\n\n\t\tif(this.$config.prev){\n\t\t\tthis._behind = this.$factory.getView(this.$config.prev);\n\t\t\tif(!(this._behind instanceof Cell)){\n\t\t\t\tthis._behind = this._behind.$parent;\n\t\t\t}\n\t\t}\n\t\tif(this.$config.next){\n\t\t\tthis._front = this.$factory.getView(this.$config.next);\n\t\t\tif(!(this._front instanceof Cell)){\n\t\t\t\tthis._front = this._behind.$parent;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i < cells.length; i++) {\n\t\t\tif (this === cells[i]) {\n\t\t\t\tif(!this._behind)\n\t\t\t\t\tthis._behind = cells[i - 1];\n\t\t\t\tif(!this._front)\n\t\t\t\t\tthis._front = cells[i + 1];\n\t\t\t}\n\t\t}\n\t};\n\tResizerCell.prototype._setBackground = function (state) {\n\t\tvar classes = \"gantt_resizing\";\n\t\tif (!state) {\n\t\t\tdomHelpers.removeClassName(this._behind.$view, classes);\n\t\t\tdomHelpers.removeClassName(this._front.$view, classes);\n\t\t\tdomHelpers.removeClassName(document.body, 'gantt_noselect');\n\t\t\treturn;\n\t\t}\n\t\tdomHelpers.addClassName(this._behind.$view, classes, true);\n\t\tdomHelpers.addClassName(this._front.$view, classes, true);\n\t\tdomHelpers.addClassName(document.body, 'gantt_noselect', true);\n\t};\n\tResizerCell.prototype._setResizer = function () {\n\t\tvar resizer = document.createElement(\"div\");\n\t\tresizer.className = \"gantt_resizer_stick\";\n\t\tthis.$view.appendChild(resizer);\n\t\tthis.$view.style.overflow = \"visible\";\n\t\tresizer.style.height = this.$view.style.height;\n\t\treturn resizer;\n\t};\n\n\tResizerCell.prototype._getDirection = function(x, y){\n\t\tvar shift;\n\t\tif (this._xMode) {\n\t\t\tshift = x - this._positions.x;\n\t\t}else{\n\t\t\tshift = y - this._positions.y;\n\t\t}\n\t\treturn shift ? shift < 0 ? -1 : 1 : 0;\n\t};\n\n\tResizerCell.prototype._getResizePosition = function(x, y){\n\t\tvar size;\n\t\tvar behindSide;\n\t\tvar behindMin;\n\t\tvar frontSide;\n\t\tvar frontMin;\n\t\tif (this._xMode) {\n\t\t\tsize = x - this._positions.x;\n\t\t\tbehindSide = this._behind.$config.width || this._behind.$view.offsetWidth;\n\t\t\tfrontSide = this._front.$config.width || this._front.$view.offsetWidth;\n\t\t\tbehindMin = this._behind.$config.minWidth;\n\t\t\tfrontMin = this._front.$config.minWidth;\n\t\t}\n\t\telse {\n\t\t\tsize = y - this._positions.y;\n\t\t\tbehindSide = this._behind.$config.height || this._behind.$view.offsetHeight;\n\t\t\tfrontSide = this._front.$config.height || this._front.$view.offsetHeight;\n\t\t\tbehindMin = this._front.$config.minHeight;\n\t\t\tfrontMin = this._front.$config.minHeight;\n\t\t}\n\t\tvar direction = this._getDirection(x, y);\n\t\tvar newBehindSide,\n\t\t\tnewFrontSide;\n\n\t\tif (direction === -1) {\n\t\t\tnewFrontSide = frontSide - size;\n\t\t\tnewBehindSide = behindSide - Math.abs(size);\n\n\t\t\tif (frontSide - size > this._front.$config.maxWidth) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (Math.abs(size) >= behindSide) {\n\t\t\t\tsize = -Math.abs(behindSide - 2);\n\t\t\t}\n\t\t\t// if min width\n\t\t\tif (behindSide - Math.abs(size) <= behindMin) {\n\t\t\t\t//this._resizer.style.background = \"red\";\n\t\t\t\tsize = -Math.abs(behindSide - behindMin);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tnewFrontSide = frontSide - Math.abs(size);\n\t\t\tnewBehindSide = behindSide + size;\n\n\t\t\tif (behindSide + size > this._behind.$config.maxWidth) {\n\t\t\t\tsize = this._behind.$config.maxWidth - behindSide;\n\t\t\t\t// return;\n\t\t\t}\n\t\t\tif (Math.abs(size) >= frontSide) {\n\t\t\t\tsize = frontSide - 2;\n\t\t\t}\n\t\t\t// if min width\n\t\t\tif (frontSide - Math.abs(size) <= frontMin) {\n\t\t\t\tsize = Math.abs(frontSide - frontMin);\n\t\t\t}\n\t\t}\n\n\t\tif (direction === -1) {\n\t\t\tnewFrontSide = frontSide - size;\n\t\t\tnewBehindSide = behindSide - Math.abs(size);\n\t\t} else {\n\t\t\tnewFrontSide = frontSide - Math.abs(size);\n\t\t\tnewBehindSide = behindSide + size;\n\t\t}\n\n\t\treturn {\n\t\t\tsize: size,\n\t\t\tnewFrontSide: newFrontSide,\n\t\t\tnewBehindSide: newBehindSide\n\t\t};\n\t};\n\n\tResizerCell.prototype._getGroupName = function(){\n\t\tthis._getSiblings();\n\t\treturn this._front.$config.group || this._behind.$config.group;\n\t};\n\n\tResizerCell.prototype._eachGroupItem = function(callback, master){\n\t\tvar layout = this.$factory.getView(\"main\");\n\n\t\tvar group = this._getGroupName();\n\n\t\tvar resizers = layout.getCellsByType(\"resizer\");\n\t\tfor(var i = 0; i < resizers.length; i++) {\n\t\t\tif (resizers[i]._getGroupName() == group && resizers[i] != this) {\n\t\t\t\tcallback.call(master || this, resizers[i]);\n\t\t\t}\n\t\t}\n\t};\n\n\tResizerCell.prototype._getGroupResizePosition = function(x, y){\n\t\tvar sizes = this._getResizePosition(x, y);\n\n\t\tif(!this._getGroupName()){\n\t\t\treturn sizes;\n\t\t}\n\n\t\tvar positions = [sizes];\n\n\t\tthis._eachGroupItem(function(resizer){\n\t\t\tresizer._getSiblings();\n\t\t\tvar pos = utils.copy(this._positions);\n\t\t\tif(this._xMode){\n\t\t\t\tpos.x += (resizer._behind.$config.width - this._behind.$config.width);\n\t\t\t}else{\n\t\t\t\tpos.y += (resizer._behind.$config.height - this._behind.$config.height);\n\t\t\t}\n\t\t\tresizer._positions = pos;\n\t\t\tpositions.push(resizer._getResizePosition(x, y));\n\t\t});\n\n\t\tvar minMax;\n\t\tfor(var i =0; i < positions.length; i++){\n\t\t\tif(!positions[i]) return;\n\t\t\tif(minMax === undefined){\n\t\t\t\tminMax = positions[i];\n\t\t\t}else if(positions[i].newBehindSide > minMax.newBehindSide){\n\t\t\t\tminMax = positions[i];\n\t\t\t}\n\t\t}\n\n\t/*\tif(minMax != sizes){\n\t\t\tminMax.size = minMax.size;\n\t\t}*/\n\n\t\treturn minMax;\n\t};\n\n\tResizerCell.prototype._moveResizer = function (av, x, y) {\n\t\tif (x === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar sizes = this._getGroupResizePosition(x, y);\n\t\tif(!sizes)\n\t\t\treturn;\n\n\t\tif (Math.abs(sizes.size) === 1) {\n\t\t\treturn;\n\t\t}\n\t\tif (this._xMode) {\n\t\t\tav.style.left = sizes.size + 'px';\n\t\t\tthis._positions.nextX = sizes.size || 0;\n\t\t}\n\t\telse {\n\t\t\tav.style.top = sizes.size + 'px';\n\t\t\tthis._positions.nextY = sizes.size || 0;\n\t\t}\n\n\t\tthis.callEvent(\"onResize\", [sizes.newBehindSide, sizes.newFrontSide]);\n\t};\n\tResizerCell.prototype._setGravity = function (cell) {\n\t\tvar size = this._xMode ? \"offsetWidth\" : \"offsetHeight\";\n\t\tvar position = this._xMode ? this._positions.nextX : this._positions.nextY;\n\t\tvar frontSize = this._front.$view[size];\n\t\tvar behindSize = this._behind.$view[size];\n\t\tvar frontG = this._front.getSize().gravity;\n\t\tvar behindG = this._behind.getSize().gravity;\n\t\tvar newFrontG = (frontSize - position) / frontSize * frontG;\n\t\tvar newBehindG = (behindSize + position) / behindSize * behindG;\n\t\tif (cell !== \"front\") {\n\t\t\tthis._front.$config.gravity = newFrontG;\n\t\t}\n\t\tif (cell !== \"behind\") {\n\t\t\tthis._behind.$config.gravity = newBehindG;\n\t\t}\n\t};\n\n/*\tResizerCell.prototype.setSize = function(){\n\t\t_super.apply(this, arguments)\n\t};*/\n\n\tResizerCell.prototype._getNewSizes = function(){\n\t\tvar behindSize = this._xMode ? this._behind.$config.width : this._behind.$config.height;\n\t\tvar frontSize = this._xMode ? this._front.$config.width : this._front.$config.height;\n\t\tvar position = this._xMode ? this._positions.nextX : this._positions.nextY;\n\n\t\tif(!frontSize && !behindSize){\n\t\t\treturn null;\n\t\t}\n\n\t\treturn {\n\t\t\tfront: frontSize ? ((frontSize - position) || 1) : 0,\n\t\t\tback: behindSize ? ((behindSize + position) || 1) : 0\n\t\t};\n\t};\n\n\tResizerCell.prototype._assignNewSizes = function(newSizes){\n\t\tthis._getSiblings();\n\t\tvar side = this._xMode ? 'width' : 'height';\n\n\t\t// if only gravity cells\n\t\tif (!newSizes) {\n\t\t\tthis._setGravity();\n\t\t}\n\t\telse {\n\t\t\tif (!newSizes.front) {\n\t\t\t\tthis._setGravity(\"behind\");\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis._front.$config[side] = newSizes.front;\n\t\t\t}\n\t\t\tif (!newSizes.back) {\n\t\t\t\tthis._setGravity(\"front\");\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis._behind.$config[side] = newSizes.back;\n\t\t\t}\n\t\t}\n\n\t};\n\n\tResizerCell.prototype._setSizes = function () {\n\t\tif (this._resizer) {\n\t\t\tthis.$view.removeChild(this._resizer);\n\t\t}\n\t\tvar newSizes = this._getNewSizes();\n\n\t\tif (this._positions.nextX || this._positions.nextY) {\n\t\t\tthis._assignNewSizes(newSizes);\n\n\t\t\tvar side = this._xMode ? 'width' : 'height';\n\t\t\tif(this._front.$config.group){\n\t\t\t\tthis.$gantt.$layout._syncCellSizes(this._front.$config.group, this._front.$config[side]);\n\t\t\t}else if(this._behind.$config.group){\n\t\t\t\tthis.$gantt.$layout._syncCellSizes(this._behind.$config.group, this._behind.$config[side]);\n\t\t\t}\n\n\t\t\tif(this._getGroupName()){\n\t\t\t\tthis.$factory.getView(\"main\").resize();\n\t\t\t}else{\n\t\t\t\tthis.$parent.resize();\n\t\t\t}\n\n\t\t}\n\t};\n\treturn ResizerCell;\n}(Cell));\n\nmodule.exports = ResizerCell;","var __extends = require(\"../../../utils/extends\"),\n\tutils = require(\"../../../utils/utils\"),\n\tCell = require(\"./cell\");\n\nvar ViewCell = (function (_super) {\n\t\"use strict\";\n\n\t__extends(ViewCell, _super);\n\tfunction ViewCell(parent, config, factory) {\n\n\t\tvar _this = _super.apply(this, arguments) || this;\n\n\t\tif(config.view){\n\t\t\tif(config.id){\n\t\t\t\t// pass id to the nested view\n\t\t\t\tthis.$id = utils.uid();\n\t\t\t}\n\t\t\tvar childConfig = utils.copy(config);\n\t\t\tdelete childConfig.config;\n\t\t\tdelete childConfig.templates;\n\n\t\t\tthis.$content = this.$factory.createView(config.view, this, childConfig, this);\n\t\t\tif(!this.$content)\n\t\t\t\treturn false;\n\t\t}\n\n\t\t_this.$name = \"viewCell\";\n\t\treturn _this;\n\t}\n\n\tViewCell.prototype.destructor = function(){\n\t\tthis.clear();\n\t\t_super.prototype.destructor.call(this);\n\t};\n\n\tViewCell.prototype.clear = function(){\n\n\t\tthis.$initialized = false;\n\n\t\t// call destructor\n\t\tif (this.$content){\n\t\t\tvar method = this.$content.unload || this.$content.destructor;\n\t\t\tif (method){\n\t\t\t\tmethod.call(this.$content);\n\t\t\t}\n\t\t}\n\n\t\t_super.prototype.clear.call(this);\n\n\t};\n\n\tViewCell.prototype.scrollTo = function(left, top){\n\n\t\tif(this.$content && this.$content.scrollTo){\n\t\t\tthis.$content.scrollTo(left, top);\n\t\t}else{\n\t\t\t_super.prototype.scrollTo.call(this, left, top);\n\t\t}\n\t};\n\n\tViewCell.prototype._setContentSize = function(x, y){\n\t\tvar borders = this._getBorderSizes();\n\t\tif(typeof x === \"number\"){\n\t\t\tvar outerX = x + borders.horizontal;\n\t\t\tthis.$config.width = outerX;\n\t\t}\n\t\tif(typeof y === \"number\"){\n\t\t\tvar outerY = y + borders.vertical;\n\t\t\tthis.$config.height = outerY;\n\t\t}\n\t};\n\n\tViewCell.prototype.setSize = function(x, y){\n\t\t_super.prototype.setSize.call(this, x, y);\n\n\t\tif(!this.$preResize && this.$content) {\n\t\t\tif (!this.$initialized) {\n\t\t\t\tthis.$initialized = true;\n\t\t\t\tvar header = this.$view.childNodes[0];\n\t\t\t\tvar content = this.$view.childNodes[1];\n\t\t\t\tif(!content) content = header;\n\n\t\t\t\t/*if(this.$content.$config){\n\t\t\t\t\tthis.$content.$config.width = this.$lastSize.contentX;\n\t\t\t\t\tthis.$content.$config.height = this.$lastSize.contentY;\n\t\t\t\t}*/\n\t\t\t\tthis.$content.init(content);\n\t\t\t}\n\t\t}\n\t};\n\n\tViewCell.prototype.setContentSize = function(){\n\t\tif(!this.$preResize && this.$content) {\n\t\t\tif (this.$initialized) {\n\t\t\t\tthis.$content.setSize(this.$lastSize.contentX, this.$lastSize.contentY);\n\t\t\t}\n\t\t}\n\t};\n\n\n\tViewCell.prototype.getContentSize = function(){\n\t\tvar size = _super.prototype.getContentSize.call(this);\n\n\t\tif(this.$content && this.$initialized){\n\t\t\tvar childSize = this.$content.getSize();\n\t\t\tsize.width = childSize.contentX === undefined ? childSize.width : childSize.contentX;\n\t\t\tsize.height = childSize.contentY === undefined ? childSize.height : childSize.contentY;\n\t\t}\n\n\t\tvar borders = this._getBorderSizes();\n\t\tsize.width += borders.horizontal;\n\t\tsize.height += borders.vertical;\n\n\t\treturn size;\n\t};\n\n\treturn ViewCell;\n}(Cell));\n\nmodule.exports = ViewCell;","var __extends = require(\"../../../utils/extends\"),\n\tLayout = require(\"./layout\"),\n\tCell = require(\"./cell\");\n\nvar ViewLayout = (function (_super) {\n\t\"use strict\";\n\n\t__extends(ViewLayout, _super);\n\tfunction ViewLayout(parent, config, factory) {\n\t\tvar _this = _super.apply(this, arguments) || this;\n\t\tfor (var i = 0; i < _this.$cells.length; i++) {\n\t\t\t_this.$cells[i].$config.hidden = (i !== 0);\n\t\t}\n\t\t_this.$cell = _this.$cells[0];\n\t\t_this.$name = \"viewLayout\";\n\n\t\treturn _this;\n\t}\n\tViewLayout.prototype.cell = function (id) {\n\t\tvar cell = _super.prototype.cell.call(this, id);\n\t\tif (!cell.$view) {\n\t\t\tthis.$fill(null, this);\n\t\t}\n\t\treturn cell;\n\t};\n\tViewLayout.prototype.moveView = function (view) {\n\t\tvar body = this.$view;\n\t\tif (this.$cell) {\n\t\t\tthis.$cell.$config.hidden = true;\n\t\t\tbody.removeChild(this.$cell.$view);\n\t\t}\n\t\tthis.$cell = view;\n\t\tbody.appendChild(view.$view);\n\t};\n\tViewLayout.prototype.setSize = function (x, y) {\n\t\tCell.prototype.setSize.call(this, x, y);\n\t};\n\n\tViewLayout.prototype.setContentSize = function(){\n\t\tvar size = this.$lastSize;\n\t\tthis.$cell.setSize(size.contentX, size.contentY);\n\t};\n\n\tViewLayout.prototype.getSize = function () {\n\t\tvar sizes = _super.prototype.getSize.call(this);\n\t\tif (this.$cell) {\n\t\t\tvar cellSize = this.$cell.getSize();\n\t\t\tif (this.$config.byMaxSize) {\n\t\t\t\tfor (var i = 0; i < this.$cells.length; i++) {\n\t\t\t\t\tvar otherCell = this.$cells[i].getSize();\n\t\t\t\t\tfor (var cell in cellSize) {\n\t\t\t\t\t\tcellSize[cell] = Math.max(cellSize[cell], otherCell[cell]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var size in sizes) {\n\t\t\t\tsizes[size] = sizes[size] || cellSize[size];\n\t\t\t}\n\t\t\tsizes.gravity = Math.max(sizes.gravity, cellSize.gravity);\n\t\t}\n\t\treturn sizes;\n\t};\n\treturn ViewLayout;\n}(Layout));\n\nmodule.exports = ViewLayout;","module.exports = function(viewport, box){\n\tif(!box){\n\t\treturn false;\n\t}\n\n\tif(box.left > viewport.x_end || box.left + box.width < viewport.x){\n\t\treturn false;\n\t}\n\n\tif(box.top > viewport.y_end || box.top + box.height < viewport.y){\n\t\treturn false;\n\t}\n\n\treturn true;\n};","var genericViewPortChecker = require(\"./viewport/is_in_viewport\");\nvar isLegacyRender = require(\"./is_legacy_smart_render\");\nvar basicGetRectangle = require(\"./viewport/get_grid_row_rectangle\");\nvar basicGetRange = require(\"./viewport/get_visible_bars_range\");\nvar rendererFactory = function(gantt){\n\n\t//hash of dom elements is needed to redraw single bar/link\n\tvar task_area_pulls = {},\n\t\ttask_area_renderers = {};\n\n\tfunction getView(layer){\n\t\tvar view = null;\n\t\tif (typeof layer.view === \"string\") {\n\t\t\tview = gantt.$ui.getView(layer.view);\n\t\t} else if (layer.view) {\n\t\t\tview = layer.view;\n\t\t}\n\t\treturn view;\n\t}\n\n\tfunction getRenderer(id, layer, node) {\n\n\t\tif (task_area_renderers[id])\n\t\t\treturn task_area_renderers[id];\n\n\t\tif (!layer.renderer)\n\t\t\tgantt.assert(false, \"Invalid renderer call\");\n\n\t\tvar renderMethod = null;\n\t\tvar updateMethod = null;\n\t\tvar getRectangle = null;\n\t\tvar renderCallbackMethod = null;\n\t\tvar specializedViewPortChecker = null;\n\n\t\tif(typeof layer.renderer === \"function\"){\n\t\t\trenderMethod = layer.renderer;\n\t\t\tgetRectangle = basicGetRectangle;\n\t\t}else{\n\t\t\trenderMethod = layer.renderer.render;\n\t\t\tupdateMethod = layer.renderer.update;\n\t\t\trenderCallbackMethod = layer.renderer.onrender;\n\t\t\t\n\t\t\tif(layer.renderer.isInViewPort){\n\t\t\t\tspecializedViewPortChecker = layer.renderer.isInViewPort;\n\t\t\t}else{\n\t\t\t\tgetRectangle = layer.renderer.getRectangle;\n\t\t\t}\n\n\t\t\tif (!getRectangle && getRectangle !== null) {\n\t\t\t\tgetRectangle = basicGetRectangle;\n\t\t\t}\n\t\t}\n\n\t\tvar filter = layer.filter;\n\n\t\tif (node)\n\t\t\tnode.setAttribute(gantt.config.layer_attribute, true);\n\n\t\ttask_area_renderers[id] = {\n\t\t\trender_item: function (item, container, viewPort, layerView, viewConfig) {\n\t\t\t\tcontainer = container || node;\n\t\t\t\tif (filter) {\n\t\t\t\t\tif (!filter(item)) {\n\t\t\t\t\t\tthis.remove_item(item.id);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar view = layerView || getView(layer);\n\t\t\t\tvar config = viewConfig || (view ? view.$getConfig() : null);\n\t\t\t\tvar rendererViewPort = viewPort;\n\t\t\t\tif(!rendererViewPort && config && config.smart_rendering){\n\t\t\t\t\trendererViewPort = view.getViewPort();\n\t\t\t\t}\n\n\t\t\t\tvar dom = null;\n\t\t\t\tif(!isLegacyRender(gantt) && (getRectangle || specializedViewPortChecker) && rendererViewPort){\n\t\t\t\t\tvar isVisible = false;\n\t\t\t\t\tif(specializedViewPortChecker){\n\t\t\t\t\t\tisVisible = specializedViewPortChecker(item, rendererViewPort, view, config, gantt);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tisVisible = genericViewPortChecker(rendererViewPort, getRectangle(item, view, config, gantt));\n\t\t\t\t\t}\n\t\t\t\t\tif(isVisible){\n\t\t\t\t\t\tdom = renderMethod.call(gantt, item, view, config, rendererViewPort);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tdom = renderMethod.call(gantt, item, view, config, rendererViewPort);\n\t\t\t\t}\n\t\t\t\tthis.append(item, dom, container);\n\n\t\t\t\tvar useBuffer = container.nodeType == 11;//DocumentFragment\n\t\t\t\tif(renderCallbackMethod && !useBuffer && dom) {\n\t\t\t\t\trenderCallbackMethod.call(gantt, item, dom, view);\n\t\t\t\t} \n\t\t\t},\n\n\t\t\tclear: function (container) {\n\n\t\t\t\tthis.rendered = task_area_pulls[id] = {};\n\t\t\t\tif(!layer.append)\n\t\t\t\t\tthis.clear_container(container);\n\t\t\t},\n\t\t\tclear_container: function (container) {\n\t\t\t\tcontainer = container || node;\n\t\t\t\tif (container)\n\t\t\t\t\tcontainer.innerHTML = \"\";\n\t\t\t},\n\t\t\tget_visible_range: function(datastore){\n\t\t\t\tvar view = getView(layer);\n\t\t\t\tvar viewport;\n\t\t\t\tvar viewConfig = view ? view.$getConfig() : null;\n\t\t\t\tif(viewConfig && viewConfig.smart_rendering){\n\t\t\t\t\tviewport = view.getViewPort();\n\t\t\t\t}\n\n\t\t\t\tvar range;\n\t\t\t\tif(view && viewport){\n\t\t\t\t\tif(typeof layer.renderer === \"function\"){\n\t\t\t\t\t\trange = basicGetRange(gantt, view, viewConfig, datastore, viewport);\n\t\t\t\t\t}else if(layer.renderer && layer.renderer.getVisibleRange){\n\t\t\t\t\t\trange = layer.renderer.getVisibleRange(gantt, view, viewConfig, datastore, viewport);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(!range){\n\t\t\t\t\trange = {\n\t\t\t\t\t\tstart: 0,\n\t\t\t\t\t\tend: datastore.count()\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn range;\n\t\t\t},\n\t\t\trender_items: function (items, container) {\n\t\t\t\tcontainer = container || node;\n\n\t\t\t\tvar buffer = document.createDocumentFragment();\n\t\t\t\tthis.clear(container);\n\n\t\t\t\tvar viewPort = null;\n\t\t\t\tvar view = getView(layer);\n\t\t\t\tvar viewConfig = view ? view.$getConfig() : null;\n\t\t\t\tif(viewConfig && viewConfig.smart_rendering){\n\t\t\t\t\tviewPort = view.getViewPort();\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, vis = items.length; i < vis; i++) {\n\t\t\t\t\tthis.render_item(items[i], buffer, viewPort, view, viewConfig);\n\t\t\t\t}\n\n\t\t\t\tcontainer.appendChild(buffer, container);\n\n\t\t\t\tvar itemsSearch = {};\n\t\t\t\titems.forEach(function(item){\n\t\t\t\t\titemsSearch[item.id] = item;\n\t\t\t\t});\n\t\t\t\tvar renderedItems = {};\n\t\t\t\tif (renderCallbackMethod) {\n\t\t\t\t\tvar newElements = {};\n\t\t\t\t\tfor(var i in this.rendered) {\n\t\t\t\t\t\tif(!renderedItems[i]){\n\t\t\t\t\t\t\tnewElements[i] = this.rendered[i];\n\t\t\t\t\t\t\trenderCallbackMethod.call(gantt, itemsSearch[i], this.rendered[i], view);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tupdate_items: function (items, container) {\n\t\t\t\tvar view = getView(layer);\n\t\t\t\tvar viewConfig = view ? view.$getConfig() : null;\n\t\t\t\tif(!view || !view.$getConfig().smart_rendering || isLegacyRender(gantt)){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif(!this.rendered){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif(!(getRectangle || specializedViewPortChecker)){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tcontainer = container || node;\n\n\t\t\t\tvar buffer = document.createDocumentFragment();\n\n\t\t\t\tvar viewPort = null;\n\t\t\t\tif(view){\n\t\t\t\t\tviewPort = view.getViewPort();\n\t\t\t\t}\n\n\t\t\t\tvar itemsSearch = {};\n\t\t\t\titems.forEach(function(item){\n\t\t\t\t\titemsSearch[item.id] = item;\n\t\t\t\t});\n\t\t\t\tvar renderedItems = {};\n\n\t\t\t\tvar nodesToRemove = {};\n\t\t\t\tfor(var i in this.rendered){\n\t\t\t\t\tnodesToRemove[i] = true;\n\t\t\t\t\trenderedItems[i] = true;\n\t\t\t\t}\n\t\t\t\tfor (var i = 0, vis = items.length; i < vis; i++) {\n\t\t\t\t\tvar item = items[i];\n\t\t\t\t\tvar itemNode = this.rendered[item.id];\n\t\t\t\t\tnodesToRemove[item.id] = false;\n\t\t\t\t\tif (itemNode && itemNode.parentNode) {\n\t\t\t\t\t\tvar isVisible = false;\n\t\t\t\t\t\tif(specializedViewPortChecker){\n\t\t\t\t\t\t\tisVisible = specializedViewPortChecker(item, viewPort, view, viewConfig, gantt);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tisVisible = genericViewPortChecker(viewPort, getRectangle(item, view, viewConfig, gantt));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!isVisible) {\n\t\t\t\t\t\t\tnodesToRemove[item.id] = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif(updateMethod){\n\t\t\t\t\t\t\t\tupdateMethod.call(gantt, item, itemNode, view, viewConfig, viewPort);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.restore(item, buffer);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.render_item(items[i], buffer, viewPort, view, viewConfig);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor(var i in nodesToRemove){\n\t\t\t\t\tif(nodesToRemove[i]){\n\t\t\t\t\t\tthis.hide(i);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(buffer.childNodes.length){\n\t\t\t\t\tcontainer.appendChild(buffer, container);\n\t\t\t\t}\n\n\t\t\t\tif (renderCallbackMethod) {\n\t\t\t\t\tvar newElements = {};\n\t\t\t\t\tfor(var i in this.rendered) {\n\t\t\t\t\t\tif(!renderedItems[i]){\n\t\t\t\t\t\t\tnewElements[i] = this.rendered[i];\n\t\t\t\t\t\t\trenderCallbackMethod.call(gantt, itemsSearch[i], this.rendered[i], view);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tappend: function (item, node, container) {\n\t\t\t\tif(!this.rendered){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (!node) {\n\t\t\t\t\tif (this.rendered[item.id]) {\n\t\t\t\t\t\tthis.remove_item(item.id);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (this.rendered[item.id] && this.rendered[item.id].parentNode) {\n\t\t\t\t\tthis.replace_item(item.id, node);\n\t\t\t\t} else {\n\t\t\t\t\tcontainer.appendChild(node);\n\t\t\t\t}\n\t\t\t\tthis.rendered[item.id] = node;\n\t\t\t},\n\t\t\treplace_item: function (item_id, newNode) {\n\t\t\t\tvar item = this.rendered[item_id];\n\t\t\t\tif (item && item.parentNode) {\n\t\t\t\t\titem.parentNode.replaceChild(newNode, item);\n\n\t\t\t\t}\n\t\t\t\tthis.rendered[item_id] = newNode;\n\t\t\t},\n\t\t\tremove_item: function (item_id) {\n\t\t\t\tthis.hide(item_id);\n\t\t\t\tdelete this.rendered[item_id];\n\t\t\t},\n\t\t\thide: function (item_id) {\n\t\t\t\tvar item = this.rendered[item_id];\n\t\t\t\tif (item && item.parentNode) {\n\t\t\t\t\titem.parentNode.removeChild(item);\n\t\t\t\t}\n\t\t\t},\n\t\t\trestore: function (item, container) {\n\t\t\t\tvar dom = this.rendered[item.id];\n\t\t\t\tif (dom) {\n\t\t\t\t\tif (!dom.parentNode) {\n\t\t\t\t\t\tthis.append(item, dom, container || node);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.render_item(item, container || node);\n\t\t\t\t}\n\t\t\t},\n\t\t\tchange_id: function (oldid, newid) {\n\t\t\t\tthis.rendered[newid] = this.rendered[oldid];\n\t\t\t\tdelete this.rendered[oldid];\n\t\t\t},\n\t\t\trendered: task_area_pulls[id],\n\t\t\tnode: node,\n\t\t\tdestructor: function () {\n\t\t\t\tthis.clear();\n\t\t\t\tdelete task_area_renderers[id];\n\t\t\t\tdelete task_area_pulls[id];\n\t\t\t}\n\t\t};\n\n\t\treturn task_area_renderers[id];\n\t}\n\n\n\tfunction clearRenderers() {\n\t\tfor (var i in task_area_renderers) {\n\t\t\tgetRenderer(i).destructor();\n\t\t}\n\t}\n\n\treturn {\n\t\tgetRenderer: getRenderer,\n\t\tclearRenderers: clearRenderers\n\t};\n\n};\n\nmodule.exports = rendererFactory;","var renderFactoryProvider = require(\"./render_factory\");\nvar utils = require(\"../../../utils/utils\"),\n\tdomHelpers = require(\"../utils/dom_helpers\"),\n\tisLegacyRender = require(\"./is_legacy_smart_render\");\n\nvar layerFactory = function(gantt){\n\n\tvar renderFactory = renderFactoryProvider(gantt);\n\treturn {\n\tcreateGroup: function (getContainer, relativeRoot, defaultFilters, initLayer) {\n\n\t\tvar renderGroup = {\n\t\t\ttempCollection: [],\n\t\t\trenderers: {},\n\t\t\tcontainer: getContainer,\n\t\t\tfilters: [],\n\t\t\tgetLayers: function () {\n\t\t\t\tthis._add();// add pending layers\n\n\t\t\t\tvar res = [];\n\t\t\t\tfor (var i in this.renderers) {\n\t\t\t\t\tres.push(this.renderers[i]);\n\t\t\t\t}\n\t\t\t\treturn res;\n\t\t\t},\n\t\t\tgetLayer: function (id) {\n\t\t\t\treturn this.renderers[id];\n\t\t\t},\n\t\t\t_add: function (layer) {\n\t\t\t\tif (layer) {\n\t\t\t\t\tlayer.id = layer.id || utils.uid();\n\t\t\t\t\tthis.tempCollection.push(layer);\n\t\t\t\t}\n\n\t\t\t\tvar container = this.container();\n\n\t\t\t\tvar pending = this.tempCollection;\n\t\t\t\tfor (var i = 0; i < pending.length; i++) {\n\t\t\t\t\tlayer = pending[i];\n\n\t\t\t\t\tif (!this.container() && !(layer && layer.container && domHelpers.isChildOf(layer.container, document.body))) continue;\n\n\t\t\t\t\tvar node = layer.container,\n\t\t\t\t\t\tid = layer.id,\n\t\t\t\t\t\ttopmost = layer.topmost;\n\t\t\t\t\tif (!node.parentNode) {\n\t\t\t\t\t\t//insert on top or below the tasks\n\t\t\t\t\t\tif (topmost) {\n\t\t\t\t\t\t\tcontainer.appendChild(node);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar rel = relativeRoot ? relativeRoot() : container.firstChild;\n\t\t\t\t\t\t\t// GS-1274: if we don't add the second check, Gantt stops working if\n\t\t\t\t\t\t\t// we add the task layer without the timeline and switch to a layout with the timeline\n\t\t\t\t\t\t\tif (rel && rel.parentNode == container)\n\t\t\t\t\t\t\t\tcontainer.insertBefore(node, rel);\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tcontainer.appendChild(node);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.renderers[id] = renderFactory.getRenderer(\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tlayer,\n\t\t\t\t\t\tnode\n\t\t\t\t\t);\n\n\t\t\t\t\tif (initLayer) {\n\t\t\t\t\t\tinitLayer(layer, gantt);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.tempCollection.splice(i, 1);\n\t\t\t\t\ti--;\n\t\t\t\t}\n\t\t\t},\n\t\t\taddLayer: function (config) {\n\t\t\t\tif(config){\n\t\t\t\t\tif(typeof config == \"function\"){\n\t\t\t\t\t\tconfig = {renderer: config};\n\t\t\t\t\t}\n\n\t\t\t\t\tif(config.filter === undefined){\n\t\t\t\t\t\tconfig.filter = mergeFilters(defaultFilters || []);\n\t\t\t\t\t}else if(config.filter instanceof Array){\n\t\t\t\t\t\tconfig.filter.push(defaultFilters);\n\t\t\t\t\t\tconfig.filter = mergeFilters(config.filter);\n\t\t\t\t\t}\n\n\t\t\t\t\tif(!config.container){\n\t\t\t\t\t\tconfig.container = document.createElement(\"div\");\n\t\t\t\t\t}\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tconfig.requestUpdate = function(){\n\t\t\t\t\t\tif(gantt.config.smart_rendering && !isLegacyRender(gantt)){\n\t\t\t\t\t\t\tif(self.renderers[config.id]){\n\t\t\t\t\t\t\t\tself.onUpdateRequest(self.renderers[config.id]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tthis._add(config);\n\t\t\t\treturn (config ? config.id : undefined);\n\t\t\t},\n\t\t\tonUpdateRequest: function(layer){\n\n\t\t\t},\n\n\t\t\teachLayer: function(code){\n\t\t\t\tfor (var i in this.renderers) {\n\t\t\t\t\tcode(this.renderers[i]);\n\t\t\t\t}\n\t\t\t},\n\t\t\tremoveLayer: function (id) {\n\t\t\t\tif(!this.renderers[id])\n\t\t\t\t\treturn;\n\t\t\t\tthis.renderers[id].destructor();\n\t\t\t\tdelete this.renderers[id];\n\t\t\t},\n\t\t\tclear: function () {\n\t\t\t\tfor (var i in this.renderers) {\n\t\t\t\t\tthis.renderers[i].destructor();\n\t\t\t\t}\n\t\t\t\tthis.renderers = {};\n\t\t\t}//,\n\t\t\t//prepareConfig: prepareConfig\n\t\t};\n\n\t\tgantt.attachEvent(\"onDestroy\", function(){\n\t\t\trenderGroup.clear();\n\t\t\trenderGroup = null;\n\t\t});\n\n\t\treturn renderGroup;\n\t}\n};};\n\n\nfunction mergeFilters(filter_methods){\n\tif(!(filter_methods instanceof Array)){\n\t\tfilter_methods = Array.prototype.slice.call(arguments, 0);\n\t}\n\n\treturn function(obj){\n\t\tvar res = true;\n\t\tfor(var i = 0, len = filter_methods.length; i < len; i++){\n\t\t\tvar filter_method = filter_methods[i];\n\t\t\tif(filter_method){\n\t\t\t\tres = res && (filter_method(obj.id, obj) !== false);\n\t\t\t}\n\t\t}\n\n\t\treturn res;\n\t};\n}\n\n\nmodule.exports = layerFactory;\n","var createLayerFactory = require(\"./render/layer_engine\");\n\nfunction initLayer(layer, gantt){\n\tif(!layer.view){\n\t\treturn;\n\t}\n\n\tvar view = layer.view;\n\tif(typeof view === \"string\"){\n\t\tview = gantt.$ui.getView(view);\n\t}\n\n\tif(view && view.attachEvent){\n\t\tview.attachEvent(\"onScroll\", function(){\n\t\t\tvar state = gantt.$services.getService(\"state\");\n\t\t\t// don't repaint if we're inside batchUpdate, a complete repaint will be called afterwards\n\t\t\tif(!state.getState(\"batchUpdate\").batch_update && !view.$config.$skipSmartRenderOnScroll){\n\t\t\t\tif(layer.requestUpdate){\n\t\t\t\t\tlayer.requestUpdate();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nvar createLayerEngine = function(gantt){\n\tvar factory = createLayerFactory(gantt);\n\treturn {\n\t\tgetDataRender: function(name){\n\t\t\treturn gantt.$services.getService(\"layer:\" + name) || null;\n\t\t},\n\t\tcreateDataRender: function(config){\n\t\t\tvar name = config.name,\n\t\t\t\tdefaultContainer = config.defaultContainer,\n\t\t\t\tpreviusSiblingContainer = config.defaultContainerSibling;\n\n\t\t\tvar layers = factory.createGroup(\n\t\t\t\tdefaultContainer,\n\t\t\t\tpreviusSiblingContainer,\n\t\t\t\tfunction(itemId, item){\n\t\t\t\t\tif(layers.filters){\n\t\t\t\t\t\tfor(var i = 0; i < layers.filters.length; i++){\n\t\t\t\t\t\t\tif(layers.filters[i](itemId, item) === false){\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tinitLayer\n\t\t\t);\n\n\t\t\tgantt.$services.setService(\"layer:\" + name, function(){\n\t\t\t\treturn layers;\n\t\t\t});\n\n\t\t\tgantt.attachEvent(\"onGanttReady\", function () {\n\t\t\t\tlayers.addLayer();// init layers on start\n\t\t\t});\n\n\t\t\treturn layers;\n\t\t},\n\t\tinit: function(){\n\t\t\tvar taskLayers = this.createDataRender({\n\t\t\t\tname: \"task\",\n\t\t\t\tdefaultContainer: function(){\n\t\t\t\t\tif(gantt.$task_data){\n\t\t\t\t\t\treturn gantt.$task_data;\n\t\t\t\t\t}else if(gantt.$ui.getView(\"timeline\")){\n\t\t\t\t\t\treturn gantt.$ui.getView(\"timeline\").$task_data;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdefaultContainerSibling: function(){\n\t\t\t\t\tif(gantt.$task_links){\n\t\t\t\t\t\treturn gantt.$task_links;\n\t\t\t\t\t}else if(gantt.$ui.getView(\"timeline\")){\n\t\t\t\t\t\treturn gantt.$ui.getView(\"timeline\").$task_links;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfilter: function(item){\n\n\t\t\t\t}\n\t\t\t}, gantt);\n\n\t\t\tvar linkLayers = this.createDataRender({\n\t\t\t\tname: \"link\",\n\t\t\t\tdefaultContainer: function(){\n\t\t\t\t\tif(gantt.$task_data){\n\t\t\t\t\t\treturn gantt.$task_data;\n\t\t\t\t\t}else if(gantt.$ui.getView(\"timeline\")){\n\t\t\t\t\t\treturn gantt.$ui.getView(\"timeline\").$task_data;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, gantt);\n\n\t\t\treturn {\n\t\t\t\taddTaskLayer: function(config){\n\t\t\t\t\tif(typeof config === \"function\"){\n\t\t\t\t\t\tconfig = {\n\t\t\t\t\t\t\trenderer: config\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tconfig.view = \"timeline\";\n\n\t\t\t\t\treturn taskLayers.addLayer(config);\n\t\t\t\t},\n\n\t\t\t\t_getTaskLayers: function(){\n\t\t\t\t\treturn taskLayers.getLayers();\n\t\t\t\t},\n\t\t\t\tremoveTaskLayer: function(id){\n\t\t\t\t\ttaskLayers.removeLayer(id);\n\t\t\t\t},\n\n\t\t\t\t_clearTaskLayers: function(){\n\t\t\t\t\ttaskLayers.clear();\n\t\t\t\t},\n\t\t\t\taddLinkLayer: function(config){\n\t\t\t\t\tif(typeof config === \"function\"){\n\t\t\t\t\t\tconfig = {\n\t\t\t\t\t\t\trenderer: {\n\t\t\t\t\t\t\t\trender: config\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tconfig.view = \"timeline\";\n\t\t\t\t\treturn linkLayers.addLayer(config);\n\t\t\t\t},\n\n\t\t\t\t_getLinkLayers: function(){\n\t\t\t\t\treturn linkLayers.getLayers();\n\t\t\t\t},\n\t\t\t\tremoveLinkLayer: function(id){\n\t\t\t\t\tlinkLayers.removeLayer(id);\n\t\t\t\t},\n\n\t\t\t\t_clearLinkLayers: function(){\n\t\t\t\t\tlinkLayers.clear();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t};\n};\n\nmodule.exports = createLayerEngine;","var domHelpers = require(\"./utils/dom_helpers\");\n\nvar createMouseHandler = (function(domHelpers) {\n\treturn function (gantt) {\n\t\tvar eventHandlers = {\n\t\t\t\"click\": {},\n\t\t\t\"doubleclick\": {},\n\t\t\t\"contextMenu\": {}\n\t\t};\n\n\t\tfunction addEventTarget(event, className, handler, root) {\n\t\t\tif(!eventHandlers[event][className]){\n\t\t\t\teventHandlers[event][className] = [];\n\t\t\t}\n\n\t\t\teventHandlers[event][className].push({\n\t\t\t\thandler: handler,\n\t\t\t\troot: root\n\t\t\t});\n\t\t}\n\n\t\tfunction callHandler(eventName, className, root, args) {\n\t\t\tvar handlers = eventHandlers[eventName][className];\n\t\t\tif(handlers){\n\t\t\t\tfor(var i = 0; i < handlers.length; i++){\n\t\t\t\t\tif(!(root || handlers[i].root) || handlers[i].root === root){\n\t\t\t\t\t\thandlers[i].handler.apply(this, args);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction onClick(e) {\n\t\t\te = e || window.event;\n\t\t\tvar id = gantt.locate(e);\n\n\t\t\tvar handlers = findEventHandlers(e, eventHandlers.click);\n\t\t\tvar res = true;\n\t\t\tif (id !== null) {\n\t\t\t\tres = !gantt.checkEvent(\"onTaskClick\") || gantt.callEvent(\"onTaskClick\", [id, e]);\n\t\t\t} else {\n\t\t\t\tgantt.callEvent(\"onEmptyClick\", [e]);\n\t\t\t}\n\n\t\t\tif (res) {\n\t\t\t\tvar default_action = callEventHandlers(handlers, e, id);\n\t\t\t\tif (!default_action)\n\t\t\t\t\treturn;\n\n\t\t\t\t// GS-1025: if we don't do that, the dropdown or date select will be closed for unselected tasks\n\t\t\t\t// GS-1078: or for the built-in select inline editor\n\t\t\t\tswitch(e.target.nodeName) {\n\t\t\t\t\tcase \"SELECT\":\n\t\t\t\t\tcase 'INPUT':\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t//allow task selection when the multiselect plugin is not enabled\n\t\t\t\tif (id && gantt.getTask(id) && !gantt._multiselect && gantt.config.select_task) {\n\t\t\t\t\tgantt.selectTask(id);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction onContextMenu(e) {\n\t\t\te = e || window.event;\n\t\t\tvar src = e.target || e.srcElement,\n\t\t\t\ttaskId = gantt.locate(src),\n\t\t\t\tlinkId = gantt.locate(src, gantt.config.link_attribute);\n\n\t\t\tvar res = !gantt.checkEvent(\"onContextMenu\") || gantt.callEvent(\"onContextMenu\", [taskId, linkId, e]);\n\t\t\tif (!res) {\n\t\t\t\tif (e.preventDefault)\n\t\t\t\t\te.preventDefault();\n\t\t\t\telse\n\t\t\t\t\te.returnValue = false;\n\t\t\t}\n\t\t\treturn res;\n\t\t}\n\n\t\tfunction findEventHandlers(e, hash){\n\t\t\tvar trg = e.target || e.srcElement;\n\t\t\tvar handlers = [];\n\t\t\twhile (trg) {\n\t\t\t\tvar css = domHelpers.getClassName(trg);\n\t\t\t\tif (css) {\n\t\t\t\t\tcss = css.split(\" \");\n\t\t\t\t\tfor (var i = 0; i < css.length; i++) {\n\t\t\t\t\t\tif (!css[i]) continue;\n\t\t\t\t\t\tif (hash[css[i]]) {\n\t\t\t\t\t\t\tvar delegateHandlers = hash[css[i]];\n\n\t\t\t\t\t\t\tfor(var h = 0; h < delegateHandlers.length; h++){\n\t\t\t\t\t\t\t\tif(delegateHandlers[h].root){\n\t\t\t\t\t\t\t\t\tif(!domHelpers.isChildOf(trg, delegateHandlers[h].root)){\n\t\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\thandlers.push(delegateHandlers[h].handler);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttrg = trg.parentNode;\n\t\t\t}\n\t\t\treturn handlers;\n\t\t}\n\n\t\tfunction callEventHandlers(handlers, e, id){\n\t\t\tvar res = true;\n\n\t\t\tfor(var i = 0; i < handlers.length; i++){\n\t\t\t\tvar handlerResult =  handlers[i].call(gantt, e, id, e.target || e.srcElement);\n\t\t\t\tres = res && !(typeof handlerResult != \"undefined\" && handlerResult !== true);\n\t\t\t}\n\n\t\t\treturn res;\n\t\t}\n\n\n\t\tfunction onDoubleClick(e) {\n\t\t\te = e || window.event;\n\t\t\tvar id = gantt.locate(e);\n\n\t\t\tvar handlers = findEventHandlers(e, eventHandlers.doubleclick);\n\t\t\t// when doubleclick fired not on task, id === null\n\t\t\tvar res = !gantt.checkEvent(\"onTaskDblClick\") || id === null || gantt.callEvent(\"onTaskDblClick\", [id, e]);\n\t\t\tif (res) {\n\t\t\t\tvar default_action = callEventHandlers(handlers, e, id);\n\t\t\t\tif (!default_action)\n\t\t\t\t\treturn;\n\n\t\t\t\tif (id !== null && gantt.getTask(id)) {\n\t\t\t\t\tif (res && gantt.config.details_on_dblclick && !gantt.isReadonly()) {\n\t\t\t\t\t\tgantt.showLightbox(id);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction onMouseMove(e) {\n\t\t\tif (gantt.checkEvent(\"onMouseMove\")) {\n\t\t\t\tvar id = gantt.locate(e);\n\t\t\t\tgantt._last_move_event = e;\n\t\t\t\tgantt.callEvent(\"onMouseMove\", [id, e]);\n\t\t\t}\n\t\t}\n\n\t\tfunction detach(eventName, className, handler, root) {\n\t\t\tif (eventHandlers[eventName] && eventHandlers[eventName][className]) {\n\t\t\t\tvar handlers = eventHandlers[eventName];\n\t\t\t\tvar elementHandlers = handlers[className];\n\t\t\t\tfor(var i = 0; i < elementHandlers.length; i++){\n\t\t\t\t\tif(elementHandlers[i].root == root){\n\t\t\t\t\t\telementHandlers.splice(i, 1);\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(!elementHandlers.length){\n\t\t\t\t\tdelete handlers[className];\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tvar domEvents = gantt._createDomEventScope();\n\n\t\tfunction reset(node){\n\n\t\t\tdomEvents.detachAll();\n\n\t\t\tif(node){\n\t\t\t\tdomEvents.attach(node, \"click\", onClick);\n\t\t\t\tdomEvents.attach(node, \"dblclick\", onDoubleClick);\n\t\t\t\tdomEvents.attach(node, \"mousemove\", onMouseMove);\n\t\t\t\tdomEvents.attach(node, \"contextmenu\", onContextMenu);\n\t\t\t}\n\t\t}\n\n\n\n\t\treturn {\n\t\t\treset: reset,\n\t\t\tglobal: function(event, classname, handler){\n\t\t\t\taddEventTarget(event, classname, handler, null);\n\t\t\t},\n\t\t\tdelegate: addEventTarget,\n\t\t\tdetach: detach,\n\t\t\tcallHandler: callHandler,\n\t\t\tonDoubleClick: onDoubleClick,\n\t\t\tonMouseMove: onMouseMove,\n\t\t\tonContextMenu: onContextMenu,\n\t\t\tonClick: onClick,\n\t\t\tdestructor: function(){\n\t\t\t\treset();\n\t\t\t\teventHandlers = null;\n\t\t\t\tdomEvents = null;\n\t\t\t}\n\n\t\t};\n\t};\n\n})(domHelpers);\n\n\nmodule.exports = {\n\tinit:createMouseHandler\n};","var utils = require(\"../../utils/utils\");\n\nfunction ViewSettings(config){\n\tutils.mixin(this, config, true);\n}\n\n\nfunction extendSettings (store, parentSettings){\n\tvar own = this.$config[store];\n\n\tif(own){\n\t\tif(own instanceof ViewSettings){\n\t\t\treturn own;\n\t\t}else{\n\t\t\tViewSettings.prototype = parentSettings;\n\t\t\tthis.$config[store] = new ViewSettings(own);\n\t\t\treturn this.$config[store];\n\t\t}\n\t}else{\n\t\treturn parentSettings;\n\t}\n}\n\nvar configurable = function(parentView){\n\tvar parentConfig,\n\t\tparentTemplates;\n\n\treturn {\n\t\t$getConfig: function(){\n\t\t\tif(!parentConfig){\n\t\t\t\tparentConfig = parentView ? parentView.$getConfig() : this.$gantt.config;\n\t\t\t}\n\t\t\tif(!this.$config.config){\n\t\t\t\treturn parentConfig;\n\t\t\t}else{\n\t\t\t\treturn extendSettings.call(this, \"config\", parentConfig);\n\t\t\t}\n\t\t},\n\t\t$getTemplates: function(){\n\t\t\tif(!parentTemplates){\n\t\t\t\tparentTemplates = parentView ? parentView.$getTemplates() : this.$gantt.templates;\n\t\t\t}\n\t\t\tif(!this.$config.templates){\n\t\t\t\treturn parentTemplates;\n\t\t\t}else{\n\t\t\t\treturn extendSettings.call(this, \"templates\", parentTemplates);\n\t\t\t}\n\t\t}\n\t};\n};\n\nmodule.exports = function(obj, parent){\n\tutils.mixin(obj, configurable(parent));\n};","var utils = require(\"../../utils/utils\"),\n\tconfigurable = require(\"./configurable\");\n\nvar uiFactory = function createFactory(gantt){\n\tvar views = {};\n\n\tfunction ui(cell, parentView) {\n\t\tvar content;\n\t\tvar view = \"cell\";\n\t\tif (cell.view){\n\t\t\tview = \"viewcell\";\n\t\t}else if (cell.resizer) {\n\t\t\tview = \"resizer\";\n\t\t}\n\t\telse if (cell.rows || cell.cols) {\n\t\t\tview = \"layout\";\n\t\t}\n\t\telse if (cell.views) {\n\t\t\tview = \"multiview\";\n\t\t}\n\n\t\tcontent = createView.call(this, view, null, cell, parentView);\n\t\treturn content;\n\t}\n\t\n\tvar createdViews = {};\n\n\tfunction createView(name, parent, config, parentView) {\n\t\tvar creator = views[name];\n\n\t\tif(!creator || !creator.create)\n\t\t\treturn false;\n\n\t\tif(name == \"resizer\" && !config.mode){\n\t\t\tif(parentView.$config.cols){\n\t\t\t\tconfig.mode = \"x\";\n\t\t\t}else{\n\t\t\t\tconfig.mode = \"y\";\n\t\t\t}\n\t\t}\n\n\t\tif(name == \"viewcell\" && config.view == \"scrollbar\" && !config.scroll){\n\t\t\tif(parentView.$config.cols){\n\t\t\t\tconfig.scroll = \"y\";\n\t\t\t}else{\n\t\t\t\tconfig.scroll = \"x\";\n\t\t\t}\n\t\t}\n\n\t\tvar config = utils.copy(config);\n\n\t\tif(!config.id && !createdViews[config.view]){\n\t\t\tconfig.id = config.view;\n\t\t}\n\n\t\tif(config.id && !config.css){\n\t\t\tconfig.css = config.id+\"_cell\";\n\t\t}\n\n\t\tvar view = new creator.create(parent, config, this, gantt);\n\n\t\tif(creator.configure){\n\t\t\tcreator.configure(view);\n\t\t}\n\n\t\tconfigurable(view, parentView);\n\t\tif(!view.$id){\n\t\t\tview.$id = config.id || gantt.uid();\n\t\t}\n\n\t\tif(!view.$parent && typeof parent == \"object\"){\n\t\t\tview.$parent = parent;\n\t\t}\n\t\tif(!view.$config){\n\t\t\tview.$config = config;\n\t\t}\n\n\t\tif(createdViews[view.$id]){\n\t\t\tview.$id = gantt.uid();\n\t\t}\n\n\t\tcreatedViews[view.$id] = view;\n\n\t\treturn view;\n\t}\n\n\tfunction reset(){\n\t\tcreatedViews = {};\n\t}\n\n\tfunction register(name, viewConstructor, configure){\n\t\tviews[name] = {create: viewConstructor, configure: configure};\n\t}\n\n\tfunction getView(id){\n\t\treturn createdViews[id];\n\t}\n\n\tvar factory = {\n\t\tinitUI:ui,\n\t\treset: reset,\n\t\tregisterView: register,\n\t\tcreateView: createView,\n\t\tgetView: getView\n\t};\n\n\treturn factory;\n};\n\nmodule.exports = {\n\tcreateFactory: uiFactory\n};\n\n","var uiFactory = require(\"./ui_factory\"),\n\tmouseEvents = require(\"./mouse\"),\n\tcreateLayers = require(\"./gantt_layers\"),\n\tCell = require(\"./layout/cell\"),\n\tLayout = require(\"./layout/layout\"),\n\tViewLayout = require(\"./layout/view_layout\"),\n\tViewCell = require(\"./layout/view_cell\"),\n\tResizer = require(\"./layout/resizer_cell\"),\n\tScrollbar = require(\"./layout/scrollbar_cell\"),\n\tTimeline = require(\"./timeline/timeline\"),\n\tGrid = require(\"./grid/grid\"),\n\tResourceGrid = require(\"./grid/resource_grid\"),\n\tResourceTimeline = require(\"./timeline/resource_timeline\"),\n\tResourceHistogram = require(\"./timeline/resource_histogram\");\n\n\nvar gridEditorsFactory = require(\"./grid/editors/controller\");\n\n\nvar renderTaskBar = require(\"./render/task_bar_smart_render\"),\n\trenderSplitTaskBar = require(\"./render/task_split_render\"),\n\trenderRollupTaskBar = require(\"./render/task_rollup_render\"),\n\trenderTaskBg = require(\"./render/task_bg_render\"),\n\trenderLink = require(\"./render/link_render\"),\n\tgridRenderer = require(\"./render/task_grid_line_render\"),\n\tresourceMatrixRenderer = require(\"./render/resource_matrix_render\"),\n\tresourceHistogramRenderer = require(\"./render/resource_histogram_render\"),\n\tgridTaskRowResizerRenderer = require(\"./render/task_grid_row_resize_render\");\n\nvar mainGridInitializer = require(\"./grid/main_grid_initializer\");\nvar mainTimelineInitializer = require(\"./timeline/main_timeline_initializer\");\nvar mainLayoutInitializer = require(\"./main_layout_initializer\");\n\nfunction initUI(gantt){\n\tfunction attachInitializer(view, initializer){\n\t\tvar ext = initializer(gantt);\n\t\tif(ext.onCreated)\n\t\t\text.onCreated(view);\n\t\tview.attachEvent(\"onReady\", function(){\n\t\t\tif(ext.onInitialized)\n\t\t\t\text.onInitialized(view);\n\t\t});\n\t\tview.attachEvent(\"onDestroy\", function(){\n\t\t\tif(ext.onDestroyed)\n\t\t\t\text.onDestroyed(view);\n\t\t});\n\t}\n\n\tvar factory = uiFactory.createFactory(gantt);\n\tfactory.registerView(\"cell\", Cell);\n\tfactory.registerView(\"resizer\", Resizer);\n\tfactory.registerView(\"scrollbar\", Scrollbar);\n\tfactory.registerView(\"layout\", Layout, function(view){\n\t\tvar id = view.$config ? view.$config.id : null;\n\t\tif(id === \"main\"){\n\t\t\tattachInitializer(view, mainLayoutInitializer);\n\t\t}\n\t});\n\tfactory.registerView(\"viewcell\", ViewCell);\n\tfactory.registerView(\"multiview\", ViewLayout);\n\tfactory.registerView(\"timeline\", Timeline, function(view){\n\t\tvar id = view.$config ? view.$config.id : null;\n\t\tif(id === \"timeline\" || view.$config.bind == \"task\"){\n\t\t\tattachInitializer(view, mainTimelineInitializer);\n\t\t}\n\t});\n\tfactory.registerView(\"grid\", Grid, function(view){\n\t\tvar id = view.$config ? view.$config.id : null;\n\t\tif(id === \"grid\" || view.$config.bind == \"task\"){\n\t\t\tattachInitializer(view, mainGridInitializer);\n\t\t}\n\t});\n\n\tfactory.registerView(\"resourceGrid\", ResourceGrid);\n\tfactory.registerView(\"resourceTimeline\", ResourceTimeline);\n\tfactory.registerView(\"resourceHistogram\", ResourceHistogram);\n\n\tvar layersEngine = createLayers(gantt);\n\n\tvar inlineEditors = gridEditorsFactory(gantt);\n\n\tgantt.ext.inlineEditors = inlineEditors;\n\tgantt.ext._inlineEditors = inlineEditors;\n\tinlineEditors.init(gantt);\n\n\treturn {\n\t\tfactory:factory,\n\t\tmouseEvents: mouseEvents.init(gantt),\n\t\tlayersApi: layersEngine.init(),\n\t\trender:{\n\t\t\tgridLine: function(){\n\t\t\t\treturn gridRenderer(gantt);\n\t\t\t},\n\t\t\ttaskBg: function(){\n\t\t\t\treturn renderTaskBg(gantt);\n\t\t\t},\n\t\t\ttaskBar: function(){\n\t\t\t\treturn renderTaskBar(gantt);\n\t\t\t},\n\t\t\ttaskRollupBar: function() {\n\t\t\t\treturn renderRollupTaskBar(gantt);\n\t\t\t},\n\t\t\ttaskSplitBar: function(){\n\t\t\t\treturn renderSplitTaskBar(gantt);\n\t\t\t},\n\t\t\tlink: function(){\n\t\t\t\treturn renderLink(gantt);\n\t\t\t},\n\t\t\tresourceRow: function(){\n\t\t\t\treturn resourceMatrixRenderer(gantt);\n\t\t\t},\n\t\t\tresourceHistogram: function(){\n\t\t\t\treturn resourceHistogramRenderer(gantt);\n\t\t\t},\n\t\t\tgridTaskRowResizer: function(){\n\t\t\t\treturn gridTaskRowResizerRenderer(gantt);\n\t\t\t}\n\t\t},\n\t\tlayersService: {\n\t\t\tgetDataRender: function(name){\n\t\t\t\treturn layersEngine.getDataRender(name, gantt);\n\t\t\t},\n\t\t\tcreateDataRender: function(config){\n\t\t\t\treturn layersEngine.createDataRender(config, gantt);\n\t\t\t}\n\t\t}\n\t};\n}\n\nmodule.exports = {\n\tinit: initUI\n};","var utils = require(\"../../utils/utils\");\nvar domHelpers = require(\"./utils/dom_helpers\");\n\nmodule.exports = function(gantt) {\n\n\tvar boxAttribute = \"data-dhxbox\";\n\n\tvar _dhx_msg_cfg = null;\n\n\tfunction callback(config, result) {\n\t\tvar usercall = config.callback;\n\t\tmodalBox.hide(config.box);\n\n\t\t_dhx_msg_cfg = config.box = null;\n\t\tif (usercall)\n\t\t\tusercall(result);\n\t}\n\n\tfunction modal_key(event) {\n\t\tif (_dhx_msg_cfg) {\n\n\t\t\tvar code = event.which || event.keyCode;\n\t\t\tvar preventDefault = false;\n\n\t\t\tif (messageBox.keyboard) {\n\t\t\t\tif (code == 13 || code == 32) {\n\t\t\t\t\t// default behavior is to confirm/submit popup on space/enter\n\t\t\t\t\t// if browser focus is set on button element - do button click instead of default behavior\n\t\t\t\t\tvar target = event.target || event.srcElement;\n\t\t\t\t\tif (domHelpers.getClassName(target).indexOf(\"gantt_popup_button\") > -1 && target.click) {\n\t\t\t\t\t\ttarget.click();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcallback(_dhx_msg_cfg, true);\n\t\t\t\t\t\tpreventDefault = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (code == 27) {\n\t\t\t\t\tcallback(_dhx_msg_cfg, false);\n\t\t\t\t\tpreventDefault = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (preventDefault) {\n\t\t\t\tif (event.preventDefault){\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t\treturn !(event.cancelBubble = true);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t}\n\n\tgantt.event(document, \"keydown\", modal_key, true);\n\n\tfunction modality(mode) {\n\t\tif (!modality.cover) {\n\t\t\tmodality.cover = document.createElement(\"div\");\n\t\t\t//necessary for IE only\n\t\t\tmodality.cover.onkeydown = modal_key;\n\t\t\tmodality.cover.className = \"dhx_modal_cover\";\n\t\t\tdocument.body.appendChild(modality.cover);\n\t\t}\n\n\t\tmodality.cover.style.display = mode ? \"inline-block\" : \"none\";\n\t}\n\n\tfunction button(text, className, result) {\n\t\tvar buttonAriaAttrs = gantt._waiAria.messageButtonAttrString(text);\n\t\tvar name = className.toLowerCase().replace(/ /g, \"_\");\n\t\tvar button_css = \"gantt_\" + name + \"_button\" + \" dhtmlx_\" + name + \"_button\"; // dhtmlx_ok_button, dhtmlx_click_me_button\n\t\treturn \"<div \" + buttonAriaAttrs + \" class='gantt_popup_button dhtmlx_popup_button \" + button_css + \"' data-result='\" + result + \"' result='\" + result + \"' ><div>\" + text + \"</div></div>\";\n\t}\n\n\tfunction info(text) {\n\t\tif (!messageBox.area) {\n\t\t\tmessageBox.area = document.createElement(\"div\");\n\t\t\tmessageBox.area.className = \"gantt_message_area dhtmlx_message_area\";\n\t\t\tmessageBox.area.style[messageBox.position] = \"5px\";\n\t\t\tdocument.body.appendChild(messageBox.area);\n\t\t}\n\n\t\tmessageBox.hide(text.id);\n\t\tvar message = document.createElement(\"div\");\n\t\tmessage.innerHTML = \"<div>\" + text.text + \"</div>\";\n\t\tmessage.className = \"gantt-info dhtmlx-info gantt-\" + text.type + \" dhtmlx-\" + text.type;\n\t\tmessage.onclick = function () {\n\t\t\tmessageBox.hide(text.id);\n\t\t\ttext = null;\n\t\t};\n\n\t\tgantt._waiAria.messageInfoAttr(message);\n\n\t\tif (messageBox.position == \"bottom\" && messageBox.area.firstChild)\n\t\t\tmessageBox.area.insertBefore(message, messageBox.area.firstChild);\n\t\telse\n\t\t\tmessageBox.area.appendChild(message);\n\n\t\tif (text.expire > 0)\n\t\t\tmessageBox.timers[text.id] = window.setTimeout(function () {\n\t\t\t\t// GS-1213: We need that when Gantt is destroyed\n\t\t\t\tif (messageBox) messageBox.hide(text.id);\n\t\t\t}, text.expire);\n\n\t\tmessageBox.pull[text.id] = message;\n\t\tmessage = null;\n\n\t\treturn text.id;\n\t}\n\n\tfunction getFirstDefined() {\n\t\tvar values = [].slice.apply(arguments, [0]);\n\n\t\tfor (var i = 0; i < values.length; i++) {\n\t\t\tif (values[i]) {\n\t\t\t\treturn values[i];\n\t\t\t}\n\t\t}\n\n\t}\n\n\tfunction _boxStructure(config, ok, cancel) {\n\t\tvar box = document.createElement(\"div\");\n\n\t\tvar contentId = utils.uid();\n\t\tgantt._waiAria.messageModalAttr(box, contentId);\n\n\n\t\tbox.className = \" gantt_modal_box dhtmlx_modal_box gantt-\" + config.type + \" dhtmlx-\" + config.type;\n\t\tbox.setAttribute(boxAttribute, 1);\n\n\t\tvar inner = '';\n\n\t\tif (config.width)\n\t\t\tbox.style.width = config.width;\n\t\tif (config.height)\n\t\t\tbox.style.height = config.height;\n\t\tif (config.title)\n\t\t\tinner += '<div class=\"gantt_popup_title dhtmlx_popup_title\">' + config.title + '</div>';\n\t\tinner += '<div class=\"gantt_popup_text dhtmlx_popup_text\" id=\"' + contentId + '\"><span>' + (config.content ? '' : config.text) + '</span></div><div  class=\"gantt_popup_controls dhtmlx_popup_controls\">';\n\t\tif (ok)\n\t\t\tinner += button(getFirstDefined(config.ok, gantt.locale.labels.message_ok, \"OK\"), \"ok\", true);\n\t\tif (cancel)\n\t\t\tinner += button(getFirstDefined(config.cancel, gantt.locale.labels.message_cancel, \"Cancel\"), \"cancel\", false);\n\n\t\tif (config.buttons) {\n\t\t\tfor (var i = 0; i < config.buttons.length; i++) {\n\t\t\t\tvar btn = config.buttons[i];\n\t\t\t\tif (typeof btn == \"object\") {\n\t\t\t\t\t// Support { label:\"Save\", css:\"main_button\", value:\"save\" }\n\t\t\t\t\tvar label = btn.label;\n\t\t\t\t\tvar css = btn.css || (\"gantt_\" + btn.label.toLowerCase() + \"_button dhtmlx_\" + btn.label.toLowerCase() + \"_button\");\n\t\t\t\t\tvar value = btn.value || i;\n\t\t\t\t\tinner += button(label, css, value);\n\t\t\t\t} else {\n\t\t\t\t\tinner += button(btn, btn, i);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tinner += '</div>';\n\t\tbox.innerHTML = inner;\n\n\t\tif (config.content) {\n\t\t\tvar node = config.content;\n\t\t\tif (typeof node == \"string\")\n\t\t\t\tnode = document.getElementById(node);\n\t\t\tif (node.style.display == 'none')\n\t\t\t\tnode.style.display = \"\";\n\t\t\tbox.childNodes[config.title ? 1 : 0].appendChild(node);\n\t\t}\n\n\t\tbox.onclick = function (event) {\n\t\t\tvar source = event.target || event.srcElement;\n\t\t\tif (!source.className) source = source.parentNode;\n\t\t\tif (domHelpers.closest(source, \".gantt_popup_button\")) {\n\t\t\t\tvar result = source.getAttribute(\"data-result\");\n\t\t\t\tresult = (result == \"true\") || (result == \"false\" ? false : result);\n\t\t\t\tcallback(config, result);\n\t\t\t}\n\t\t};\n\t\tconfig.box = box;\n\t\tif (ok || cancel)\n\t\t\t_dhx_msg_cfg = config;\n\n\t\treturn box;\n\t}\n\n\tfunction _createBox(config, ok, cancel) {\n\t\tvar box = config.tagName ? config : _boxStructure(config, ok, cancel);\n\n\t\tif (!config.hidden)\n\t\t\tmodality(true);\n\t\tdocument.body.appendChild(box);\n\t\tvar x = Math.abs(Math.floor(((window.innerWidth || document.documentElement.offsetWidth) - box.offsetWidth) / 2));\n\t\tvar y = Math.abs(Math.floor(((window.innerHeight || document.documentElement.offsetHeight) - box.offsetHeight) / 2));\n\t\tif (config.position == \"top\")\n\t\t\tbox.style.top = \"-3px\";\n\t\telse\n\t\t\tbox.style.top = y + 'px';\n\t\tbox.style.left = x + 'px';\n\t\t//necessary for IE only\n\t\tbox.onkeydown = modal_key;\n\n\t\tmodalBox.focus(box);\n\n\t\tif (config.hidden)\n\t\t\tmodalBox.hide(box);\n\n\t\tgantt.callEvent(\"onMessagePopup\", [box]);\n\t\treturn box;\n\t}\n\n\tfunction alertPopup(config) {\n\t\treturn _createBox(config, true, false);\n\t}\n\n\tfunction confirmPopup(config) {\n\t\treturn _createBox(config, true, true);\n\t}\n\n\tfunction boxPopup(config) {\n\t\treturn _createBox(config);\n\t}\n\n\tfunction box_params(text, type, callback) {\n\t\tif (typeof text != \"object\") {\n\t\t\tif (typeof type == \"function\") {\n\t\t\t\tcallback = type;\n\t\t\t\ttype = \"\";\n\t\t\t}\n\t\t\ttext = {text: text, type: type, callback: callback};\n\t\t}\n\t\treturn text;\n\t}\n\n\tfunction params(text, type, expire, id) {\n\t\tif (typeof text != \"object\")\n\t\t\ttext = {text: text, type: type, expire: expire, id: id};\n\t\ttext.id = text.id || utils.uid();\n\t\ttext.expire = text.expire || messageBox.expire;\n\t\treturn text;\n\t}\n\n\tvar alertBox = function () {\n\t\tvar text = box_params.apply(this, arguments);\n\t\ttext.type = text.type || \"confirm\";\n\t\treturn alertPopup(text);\n\t};\n\tvar confirmBox = function () {\n\t\tvar text = box_params.apply(this, arguments);\n\t\ttext.type = text.type || \"alert\";\n\t\treturn confirmPopup(text);\n\t};\n\tvar modalBox = function () {\n\t\tvar text = box_params.apply(this, arguments);\n\t\ttext.type = text.type || \"alert\";\n\t\treturn boxPopup(text);\n\t};\n\tmodalBox.hide = function (node) {\n\t\twhile (node && node.getAttribute && !node.getAttribute(boxAttribute))\n\t\t\tnode = node.parentNode;\n\t\tif (node) {\n\t\t\tnode.parentNode.removeChild(node);\n\t\t\tmodality(false);\n\n\t\t\tgantt.callEvent(\"onAfterMessagePopup\", [node]);\n\t\t}\n\t};\n\n\tmodalBox.focus = function (node) {\n\t\tsetTimeout(function () {\n\t\t\tvar focusable = domHelpers.getFocusableNodes(node);\n\t\t\tif (focusable.length) {\n\t\t\t\tif (focusable[0].focus) focusable[0].focus();\n\t\t\t}\n\t\t}, 1);\n\t};\n\n\tvar messageBox = function (text, type, expire, id) {\n\t\ttext = params.apply(this, arguments);\n\t\ttext.type = text.type || \"info\";\n\n\t\tvar subtype = text.type.split(\"-\")[0];\n\t\tswitch (subtype) {\n\t\t\tcase \"alert\":\n\t\t\t\treturn alertPopup(text);\n\t\t\tcase \"confirm\":\n\t\t\t\treturn confirmPopup(text);\n\t\t\tcase \"modalbox\":\n\t\t\t\treturn boxPopup(text);\n\t\t\tdefault:\n\t\t\t\treturn info(text);\n\t\t}\n\t};\n\n\tmessageBox.seed = (new Date()).valueOf();\n\tmessageBox.uid = utils.uid;\n\tmessageBox.expire = 4000;\n\tmessageBox.keyboard = true;\n\tmessageBox.position = \"top\";\n\tmessageBox.pull = {};\n\tmessageBox.timers = {};\n\n\tmessageBox.hideAll = function () {\n\t\tfor (var key in messageBox.pull)\n\t\t\tmessageBox.hide(key);\n\t};\n\tmessageBox.hide = function (id) {\n\t\tvar obj = messageBox.pull[id];\n\t\tif (obj && obj.parentNode) {\n\t\t\twindow.setTimeout(function () {\n\t\t\t\tobj.parentNode.removeChild(obj);\n\t\t\t\tobj = null;\n\t\t\t}, 2000);\n\t\t\tobj.className += \" hidden\";\n\n\t\t\tif (messageBox.timers[id])\n\t\t\t\twindow.clearTimeout(messageBox.timers[id]);\n\t\t\tdelete messageBox.pull[id];\n\t\t}\n\t};\n\n\tvar popups = [];\n\tgantt.attachEvent(\"onMessagePopup\", function(box){\n\t\tpopups.push(box);\n\t});\n\tgantt.attachEvent(\"onAfterMessagePopup\", function(box){\n\t\tfor(var i = 0; i < popups.length; i++){\n\t\t\tif(popups[i] === box){\n\t\t\t\tpopups.splice(i, 1);\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\t});\n\n\tgantt.attachEvent(\"onDestroy\", function(){\n\t\tif(modality.cover && modality.cover.parentNode){\n\t\t\tmodality.cover.parentNode.removeChild(modality.cover);\n\t\t}\n\n\t\tfor(var i = 0; i < popups.length; i++){\n\t\t\tif(popups[i].parentNode){\n\t\t\t\tpopups[i].parentNode.removeChild(popups[i]);\n\t\t\t}\n\t\t}\n\t\tpopups = null;\n\n\t\tif(messageBox.area && messageBox.area.parentNode){\n\t\t\tmessageBox.area.parentNode.removeChild(messageBox.area);\n\t\t}\n\t\tmessageBox = null;\n\t});\n\n\treturn {\n\t\talert: alertBox,\n\t\tconfirm: confirmBox,\n\t\tmessage: messageBox,\n\t\tmodalbox: modalBox\n\t};\n};","module.exports = function(gantt) {\n\tvar utils = require(\"../utils/utils\");\n\tvar env = require(\"../utils/env\");\n\tvar isHeadless = require(\"../utils/is_headless\");\n\n\tif(!env.isNode){\n\t\tvar domHelpers = require(\"./ui/utils/dom_helpers\");\n\n\t\tvar codeHelpers = require(\"../utils/helpers\");\n\t\tgantt.utils = {\n\t\t\tarrayFind: codeHelpers.arrayFind,\n\t\t\tdom: {\n\t\t\t\tgetNodePosition: domHelpers.getNodePosition,\n\t\t\t\tgetRelativeEventPosition: domHelpers.getRelativeEventPosition,\n\t\t\t\tisChildOf: domHelpers.isChildOf,\n\t\t\t\thasClass: domHelpers.hasClass,\n\t\t\t\tclosest: domHelpers.closest\n\t\t\t}\n\t\t};\n\n\t\tvar domEvents = require(\"./ui/utils/dom_event_scope\")();\n\t\tgantt.event = domEvents.attach;\n\t\tgantt.eventRemove = domEvents.detach;\n\t\tgantt._eventRemoveAll = domEvents.detachAll;\n\t\tgantt._createDomEventScope = domEvents.extend;\n\n\t\tutils.mixin(gantt, require(\"./ui/message\")(gantt));\n\t\tvar uiApi = require(\"./ui/index\").init(gantt);\n\t\tgantt.$ui = uiApi.factory;\n\t\tgantt.$ui.layers = uiApi.render;\n\t\tgantt.$mouseEvents = uiApi.mouseEvents;\n\t\tgantt.$services.setService(\"mouseEvents\", function () {\n\t\t\treturn gantt.$mouseEvents;\n\t\t});\n\t\tgantt.mixin(gantt, uiApi.layersApi);\n\n\t\trequire(\"./data_task_layers\")(gantt);\n\n\t\tgantt.$services.setService(\"layers\", function () {\n\t\t\treturn uiApi.layersService;\n\t\t});\n\n\t\tvar createLayoutFacade = require(\"./facades/layout\");\n\t\tgantt.mixin(gantt, createLayoutFacade());\n\t\trequire(\"./ui/skin\")(gantt);\n\t\trequire(\"../css/skins/skyblue\")(gantt);\n\t\trequire(\"../css/skins/meadow\")(gantt);\n\t\trequire(\"../css/skins/terrace\")(gantt);\n\t\trequire(\"../css/skins/broadway\")(gantt);\n\t\trequire(\"../css/skins/material\")(gantt);\n\t\trequire(\"../css/skins/contrast_black\")(gantt);\n\t\trequire(\"../css/skins/contrast_white\")(gantt);\n\t\trequire(\"./ui/plugins\")(gantt);\n\t\trequire(\"./ui/touch\")(gantt);\n\t\trequire(\"./ui/lightbox\")(gantt);\n\t\trequire(\"./ui/lightbox/lightbox_optional_time\")(gantt);\n\t\trequire(\"./ui/wai_aria\")(gantt);\n\n\t\tgantt.locate = function(e) {\n\t\t\tvar trg = domHelpers.getTargetNode(e);\n\n\t\t\t// ignore empty rows/cells of the timeline\n\t\t\tif(domHelpers.closest(trg, \".gantt_task_row\")){\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tvar targetAttribute = arguments[1] || this.config.task_attribute;\n\n\t\t\tvar node = domHelpers.locateAttribute(trg, targetAttribute);\n\t\t\tif(node){\n\t\t\t\treturn node.getAttribute(targetAttribute);\n\t\t\t}else{\n\t\t\t\treturn null;\n\t\t\t}\n\t\t};\n\n\t\tgantt._locate_css = function(e, classname, strict){\n\t\t\treturn domHelpers.locateClassName(e, classname, strict);\n\t\t};\n\n\t\tgantt._locateHTML = function(e, attribute) {\n\t\t\treturn domHelpers.locateAttribute(e, attribute || this.config.task_attribute);\n\t\t};\n\t}\n\n\tgantt.attachEvent(\"onParse\", function(){\n\t\tif(!isHeadless(gantt)){\n\t\t\tgantt.attachEvent(\"onGanttRender\", function(){\n\t\t\t\tif(gantt.config.initial_scroll){\n\t\t\t\t\tvar firstTask = gantt.getTaskByIndex(0);\n\t\t\t\t\tvar id = firstTask ? firstTask.id : gantt.config.root_id;\n\t\t\t\t\tif(gantt.isTaskExists(id))\n\t\t\t\t\tgantt.showTask(id);\n\t\t\t\t}\n\t\t\t}, {once: true});\n\t\t}\n\n\t});\n\n\tgantt.attachEvent(\"onBeforeGanttReady\", function(){\n\t\tif (!this.config.scroll_size)\n\t\t\tthis.config.scroll_size = domHelpers.getScrollSize() || 1;\n\n\t\tif(!isHeadless(gantt)){\n\t\t\t// detach listeners before clearing old DOM, possible IE errors when accessing detached nodes\n\t\t\tthis._eventRemoveAll();\n\t\t\tthis.$mouseEvents.reset();\n\n\t\t\tthis.resetLightbox();\n\t\t}\n\n\t});\n\n\t// GS-1261: scroll the views to the right side when RTL is enabled\n\tgantt.attachEvent(\"onGanttReady\", function(){\n\t\tif(!isHeadless(gantt) && gantt.config.rtl){\n\t\t\tgantt.$layout.getCellsByType(\"viewCell\").forEach(function(cell){ \n\t\t\t\tvar attachedScrollbar = cell.$config.scrollX;\n\t\t\t\tif (!attachedScrollbar) return;\n\n\t\t\t\tvar scrollbar = gantt.$ui.getView(attachedScrollbar);\n\t\t\t\tif (scrollbar) scrollbar.scrollTo(scrollbar.$config.scrollSize,0);\n\n\t\t\t});\n\t\t}\n\t});\n};","const locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"Січень\", \"Лютий\", \"Березень\", \"Квітень\", \"Травень\", \"Червень\", \"Липень\", \"Серпень\", \"Вересень\", \"Жовтень\", \"Листопад\", \"Грудень\"],\n\t\tmonth_short: [\"Січ\", \"Лют\", \"Бер\", \"Кві\", \"Тра\", \"Чер\", \"Лип\", \"Сер\", \"Вер\", \"Жов\", \"Лис\", \"Гру\"],\n\t\tday_full: [\"Неділя\", \"Понеділок\", \"Вівторок\", \"Середа\", \"Четвер\", \"П'ятниця\", \"Субота\"],\n\t\tday_short: [\"Нед\", \"Пон\", \"Вів\", \"Сер\", \"Чет\", \"Птн\", \"Суб\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"Нове завдання\",\n\t\ticon_save: \"Зберегти\",\n\t\ticon_cancel: \"Відміна\",\n\t\ticon_details: \"Деталі\",\n\t\ticon_edit: \"Редагувати\",\n\t\ticon_delete: \"Вилучити\",\n\t\tconfirm_closing: \"\", // Ваші зміни втратяться. Ви впевнені ?\n\t\tconfirm_deleting: \"Подія вилучиться назавжди. Ви впевнені?\",\n\t\tsection_description: \"Опис\",\n\t\tsection_time: \"Часовий проміжок\",\n\t\tsection_type: \"Тип\",\n\t\t/* grid columns */\n\n\t\tcolumn_wbs: \"WBS\",\n\t\tcolumn_text: \"Task name\",\n\t\tcolumn_start_date: \"Start time\",\n\t\tcolumn_duration: \"Duration\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Link\",\n\t\tconfirm_link_deleting: \"will be deleted\",\n\t\tlink_start: \" (start)\",\n\t\tlink_end: \" (end)\",\n\n\t\ttype_task: \"Task\",\n\t\ttype_project: \"Project\",\n\t\ttype_milestone: \"Milestone\",\n\n\n\t\tminutes: \"Minutes\",\n\t\thours: \"Hours\",\n\t\tdays: \"Days\",\n\t\tweeks: \"Week\",\n\t\tmonths: \"Months\",\n\t\tyears: \"Years\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"Відміна\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n\nexport default locale;","/*\n * updated by @levkar at https://github.com/DHTMLX/gantt/pull/10\n */\nconst locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"Ocak\", \"Şubat\", \"Mart\", \"Nisan\", \"Mayıs\", \"Haziran\", \"Temmuz\", \"Ağustos\", \"Eylül\", \"Ekim\", \"Kasım\", \"Aralık\"],\n\t\tmonth_short: [\"Oca\", \"Şub\", \"Mar\", \"Nis\", \"May\", \"Haz\", \"Tem\", \"Ağu\", \"Eyl\", \"Eki\", \"Kas\", \"Ara\"],\n\t\tday_full: [\"Pazar\", \"Pazartesi\", \"Salı\", \"Çarşamba\", \"Perşembe\", \"Cuma\", \"Cumartesi\"],\n\t\tday_short: [\"Paz\", \"Pzt\", \"Sal\", \"Çar\", \"Per\", \"Cum\", \"Cmt\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"Yeni görev\",\n\t\ticon_save: \"Kaydet\",\n\t\ticon_cancel: \"İptal\",\n\t\ticon_details: \"Detaylar\",\n\t\ticon_edit: \"Düzenle\",\n\t\ticon_delete: \"Sil\",\n\t\tconfirm_closing: \"\", // Your changes will be lost, are your sure ?\n\t\tconfirm_deleting: \"Görev silinecek, emin misiniz?\",\n\t\tsection_description: \"Açıklama\",\n\t\tsection_time: \"Zaman Aralığı\",\n\t\tsection_type: \"Tip\",\n\t\t/* grid columns */\n\n\t\tcolumn_wbs: \"WBS\",\n\t\tcolumn_text: \"Görev Adı\",\n\t\tcolumn_start_date: \"Başlangıç\",\n\t\tcolumn_duration: \"Süre\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Bağlantı\",\n\t\tconfirm_link_deleting: \"silinecek\",\n\t\tlink_start: \" (başlangıç)\",\n\t\tlink_end: \" (bitiş)\",\n\n\t\ttype_task: \"Görev\",\n\t\ttype_project: \"Proje\",\n\t\ttype_milestone: \"Kilometretaşı\",\n\n\n\t\tminutes: \"Dakika\",\n\t\thours: \"Saat\",\n\t\tdays: \"Gün\",\n\t\tweeks: \"Hafta\",\n\t\tmonths: \"Ay\",\n\t\tyears: \"Yıl\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"Ýptal\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n\nexport default locale;","/*\n\tTranslation by Peter Eriksson\n */\nconst locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"Januari\", \"Februari\", \"Mars\", \"April\", \"Maj\", \"Juni\", \"Juli\", \"Augusti\", \"September\", \"Oktober\", \"November\", \"December\"],\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Maj\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dec\"],\n\t\tday_full: [\"Söndag\", \"Måndag\", \"Tisdag\", \"Onsdag\", \"Torsdag\", \"Fredag\", \"Lördag\"],\n\t\tday_short: [\"Sön\", \"Mån\", \"Tis\", \"Ons\", \"Tor\", \"Fre\", \"Lör\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"Ny uppgift\",\n\t\ticon_save: \"Spara\",\n\t\ticon_cancel: \"Avbryt\",\n\t\ticon_details: \"Detajer\",\n\t\ticon_edit: \"Ändra\",\n\t\ticon_delete: \"Ta bort\",\n\t\tconfirm_closing: \"\",\n\t\tconfirm_deleting: \"Är du säker på att du vill ta bort händelsen permanent?\",\n\t\tsection_description: \"Beskrivning\",\n\t\tsection_time: \"Tid\",\n\t\tsection_type: \"Typ\",\n\n\t\t/* grid columns */\n\n\t\tcolumn_wbs: \"WBS\",\n\t\tcolumn_text: \"Uppgiftsnamn\",\n\t\tcolumn_start_date: \"Starttid\",\n\t\tcolumn_duration: \"Varaktighet\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\n\t\tlink: \"Länk\",\n\t\tconfirm_link_deleting: \"kommer tas bort\",\n\t\tlink_start: \" (start)\",\n\t\tlink_end: \" (slut)\",\n\t\ttype_task: \"Uppgift\",\n\t\ttype_project: \"Projekt\",\n\t\ttype_milestone: \"Milstolpe\",\n\n\t\tminutes: \"Minuter\",\n\t\thours: \"Timmar\",\n\t\tdays: \"Dagar\",\n\t\tweeks: \"Veckor\",\n\t\tmonths: \"Månader\",\n\t\tyears: \"År\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"Avbryt\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n\nexport default locale;","const locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"Január\", \"Február\", \"Marec\", \"Apríl\", \"Máj\", \"Jún\", \"Júl\", \"August\", \"September\", \"Október\", \"November\", \"December\"],\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Máj\", \"Jún\", \"Júl\", \"Aug\", \"Sept\", \"Okt\", \"Nov\", \"Dec\"],\n\t\tday_full: [\"Nedeľa\", \"Pondelok\", \"Utorok\", \"Streda\", \"Štvrtok\", \"Piatok\", \"Sobota\"],\n\t\tday_short: [\"Ne\", \"Po\", \"Ut\", \"St\", \"Št\", \"Pi\", \"So\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"Nová úloha\",\n\t\ticon_save: \"Uložiť\",\n\t\ticon_cancel: \"Späť\",\n\t\ticon_details: \"Detail\",\n\t\ticon_edit: \"Edituj\",\n\t\ticon_delete: \"Zmazať\",\n\t\tconfirm_closing: \"Vaše zmeny nebudú uložené. Skutočne?\", // Vaše změny budou ztraceny, opravdu ?\n\t\tconfirm_deleting: \"Udalosť bude natrvalo vymazaná. Skutočne?\",\n\t\tsection_description: \"Poznámky\",\n\t\tsection_time: \"Doba platnosti\",\n\t\tsection_type: \"Type\",\n\t\t/* grid columns */\n\n\t\tcolumn_wbs: \"WBS\",\n\t\tcolumn_text: \"Task name\",\n\t\tcolumn_start_date: \"Start time\",\n\t\tcolumn_duration: \"Duration\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Link\",\n\t\tconfirm_link_deleting: \"will be deleted\",\n\t\tlink_start: \" (start)\",\n\t\tlink_end: \" (end)\",\n\n\t\ttype_task: \"Task\",\n\t\ttype_project: \"Project\",\n\t\ttype_milestone: \"Milestone\",\n\n\n\t\tminutes: \"Minutes\",\n\t\thours: \"Hours\",\n\t\tdays: \"Days\",\n\t\tweeks: \"Week\",\n\t\tmonths: \"Months\",\n\t\tyears: \"Years\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"Späť\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n\nexport default locale;","const locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"Januar\", \"Februar\", \"Marec\", \"April\", \"Maj\", \"Junij\", \"Julij\", \"Avgust\", \"September\", \"Oktober\", \"November\", \"December\"],\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Maj\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dec\"],\n\t\tday_full: [\"Nedelja\", \"Ponedeljek\", \"Torek\", \"Sreda\", \"Četrtek\", \"Petek\", \"Sobota\"],\n\t\tday_short: [\"Ned\", \"Pon\", \"Tor\", \"Sre\", \"Čet\", \"Pet\", \"Sob\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"Nova naloga\",\n\t\ticon_save: \"Shrani\",\n\t\ticon_cancel: \"Prekliči\",\n\t\ticon_details: \"Podrobnosti\",\n\t\ticon_edit: \"Uredi\",\n\t\ticon_delete: \"Izbriši\",\n\t\tconfirm_closing: \"\", // Spremembe ne bodo shranjene. Želite nadaljevati ?\n\t\tconfirm_deleting: \"Dogodek bo izbrisan. Želite nadaljevati?\",\n\t\tsection_description: \"Opis\",\n\t\tsection_time: \"Časovni okvir\",\n\t\tsection_type: \"Type\",\n\t\t/* grid columns */\n\n\t\tcolumn_wbs: \"WBS\",\n\t\tcolumn_text: \"Task name\",\n\t\tcolumn_start_date: \"Start time\",\n\t\tcolumn_duration: \"Duration\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Link\",\n\t\tconfirm_link_deleting: \"will be deleted\",\n\t\tlink_start: \" (start)\",\n\t\tlink_end: \" (end)\",\n\n\t\ttype_task: \"Task\",\n\t\ttype_project: \"Project\",\n\t\ttype_milestone: \"Milestone\",\n\n\n\t\tminutes: \"Minutes\",\n\t\thours: \"Hours\",\n\t\tdays: \"Days\",\n\t\tweeks: \"Week\",\n\t\tmonths: \"Months\",\n\t\tyears: \"Years\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"Prekliči\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n\nexport default locale;","const locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"Январь\", \"Февраль\", \"Март\", \"Апрель\", \"Maй\", \"Июнь\", \"Июль\", \"Август\", \"Сентябрь\", \"Oктябрь\", \"Ноябрь\", \"Декабрь\"],\n\t\tmonth_short: [\"Янв\", \"Фев\", \"Maр\", \"Aпр\", \"Maй\", \"Июн\", \"Июл\", \"Aвг\", \"Сен\", \"Окт\", \"Ноя\", \"Дек\"],\n\t\tday_full: [\"Воскресенье\", \"Понедельник\", \"Вторник\", \"Среда\", \"Четверг\", \"Пятница\", \"Суббота\"],\n\t\tday_short: [\"Вс\", \"Пн\", \"Вт\", \"Ср\", \"Чт\", \"Пт\", \"Сб\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"Новое задание\",\n\t\ticon_save: \"Сохранить\",\n\t\ticon_cancel: \"Отменить\",\n\t\ticon_details: \"Детали\",\n\t\ticon_edit: \"Изменить\",\n\t\ticon_delete: \"Удалить\",\n\t\tconfirm_closing: \"\", // Ваши изменения будут потеряны, продолжить?\n\t\tconfirm_deleting: \"Событие будет удалено безвозвратно, продолжить?\",\n\t\tsection_description: \"Описание\",\n\t\tsection_time: \"Период времени\",\n\t\tsection_type: \"Тип\",\n\t\t/* grid columns */\n\n\t\tcolumn_wbs: \"ИСР\",\n\t\tcolumn_text: \"Задача\",\n\t\tcolumn_start_date: \"Начало\",\n\t\tcolumn_duration: \"Длительность\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Связь\",\n\t\tconfirm_link_deleting: \"будет удалена\",\n\t\tlink_start: \" (начало)\",\n\t\tlink_end: \" (конец)\",\n\n\t\ttype_task: \"Task\",\n\t\ttype_project: \"Project\",\n\t\ttype_milestone: \"Milestone\",\n\n\n\t\tminutes: \"Минута\",\n\t\thours: \"Час\",\n\t\tdays: \"День\",\n\t\tweeks: \"Неделя\",\n\t\tmonths: \"Месяц\",\n\t\tyears: \"Год\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"Отменить\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"начните вводить слово для фильтрации\",\n\t\tresources_filter_label: \"спрятать не установленные\"\n\t}\n};\n\nexport default locale;","/*\n\tTraducere de Ovidiu Lixandru: http://www.madball.ro\n */\n\nconst locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"Ianuarie\", \"Februarie\", \"Martie\", \"Aprilie\", \"Mai\", \"Iunie\", \"Iulie\", \"August\", \"Septembrie\", \"Octombrie\", \"November\", \"December\"],\n\t\tmonth_short: [\"Ian\", \"Feb\", \"Mar\", \"Apr\", \"Mai\", \"Iun\", \"Iul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n\t\tday_full: [\"Duminica\", \"Luni\", \"Marti\", \"Miercuri\", \"Joi\", \"Vineri\", \"Sambata\"],\n\t\tday_short: [\"Du\", \"Lu\", \"Ma\", \"Mi\", \"Jo\", \"Vi\", \"Sa\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"Sarcina noua\",\n\t\ticon_save: \"Salveaza\",\n\t\ticon_cancel: \"Anuleaza\",\n\t\ticon_details: \"Detalii\",\n\t\ticon_edit: \"Editeaza\",\n\t\ticon_delete: \"Sterge\",\n\t\tconfirm_closing: \"Schimbarile nu vor fi salvate, esti sigur?\",// Your changes will be lost, are your sure ?\n\t\tconfirm_deleting: \"Evenimentul va fi sters permanent, esti sigur?\",\n\t\tsection_description: \"Descriere\",\n\t\tsection_time: \"Interval\",\n\t\tsection_type: \"Type\",\n\t\t/* grid columns */\n\n\t\tcolumn_wbs: \"WBS\",\n\t\tcolumn_text: \"Task name\",\n\t\tcolumn_start_date: \"Start time\",\n\t\tcolumn_duration: \"Duration\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Link\",\n\t\tconfirm_link_deleting: \"will be deleted\",\n\t\tlink_start: \" (start)\",\n\t\tlink_end: \" (end)\",\n\n\t\ttype_task: \"Task\",\n\t\ttype_project: \"Project\",\n\t\ttype_milestone: \"Milestone\",\n\n\n\t\tminutes: \"Minutes\",\n\t\thours: \"Hours\",\n\t\tdays: \"Days\",\n\t\tweeks: \"Week\",\n\t\tmonths: \"Months\",\n\t\tyears: \"Years\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"Anuleaza\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n\nexport default locale;","/*\n\n TRANSLATION BY MATTHEUS PIROVANI RORIZ GONЗALVES\n\n mattheusroriz@hotmail.com / mattheus.pirovani@gmail.com /\n\n www.atrixian.com.br\n\n\n Updated by Jorge Albernaz Martins\n\n jorgefox@hotmail.com\n\n www.redfox.inf.br\n\n JorgeFox\n\n*/\n\nconst locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"Janeiro\", \"Fevereiro\", \"Março\", \"Abril\", \"Maio\", \"Junho\", \"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\", \"Dezembro\"],\n\t\tmonth_short: [\"Jan\", \"Fev\", \"Mar\", \"Abr\", \"Mai\", \"Jun\", \"Jul\", \"Ago\", \"Set\", \"Out\", \"Nov\", \"Dez\"],\n\t\tday_full: [\"Domingo\", \"Segunda\", \"Terça\", \"Quarta\", \"Quinta\", \"Sexta\", \"Sábado\"],\n\t\tday_short: [\"Dom\", \"Seg\", \"Ter\", \"Qua\", \"Qui\", \"Sex\", \"Sab\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"Nova tarefa\",\n\t\ticon_save: \"Salvar\",\n\t\ticon_cancel: \"Cancelar\",\n\t\ticon_details: \"Detalhes\",\n\t\ticon_edit: \"Editar\",\n\t\ticon_delete: \"Excluir\",\n\t\tconfirm_closing: \"\",// Suas alterações serão perdidas, confirme?\n\t\tconfirm_deleting: \"As tarefas serão excluidas permanentemente, confirme?\",\n\t\tsection_description: \"Descrição\",\n\t\tsection_time: \"Período\",\n\t\tsection_type: \"Tipo\",\n\t\t/* grid columns */\n\n\t\tcolumn_wbs: \"EAP\",\n\t\tcolumn_text: \"Nome tarefa\",\n\t\tcolumn_start_date: \"Data início\",\n\t\tcolumn_duration: \"Duração\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Link\",\n\t\tconfirm_link_deleting: \"Será excluído!\",\n\t\tlink_start: \" (início)\",\n\t\tlink_end: \" (fim)\",\n\n\t\ttype_task: \"Task\",\n\t\ttype_project: \"Projeto\",\n\t\ttype_milestone: \"Marco\",\n\n\n\t\tminutes: \"Minutos\",\n\t\thours: \"Horas\",\n\t\tdays: \"Dias\",\n\t\tweeks: \"Semanas\",\n\t\tmonths: \"Meses\",\n\t\tyears: \"Anos\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"Cancelar\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Restrição\",\n\t\tconstraint_type: \"Tipo Restrição\",\n\t\tconstraint_date: \"Data restrição\",\n\t\tasap: \"Mais breve possível\",\n\t\talap: \"Mais tarde possível\",\n\t\tsnet: \"Não começar antes de\",\n\t\tsnlt: \"Não começar depois de\",\n\t\tfnet: \"Não terminar antes de\",\n\t\tfnlt: \"Não terminar depois de\",\n\t\tmso: \"Precisa começar em\",\n\t\tmfo: \"Precisa terminar em\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"Tipo de filtros\",\n\t\tresources_filter_label: \"Ocultar vazios\"\n\t}\n};\n\nexport default locale;","const locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"Styczeń\", \"Luty\", \"Marzec\", \"Kwiecień\", \"Maj\", \"Czerwiec\", \"Lipiec\", \"Sierpień\", \"Wrzesień\", \"Październik\", \"Listopad\", \"Grudzień\"],\n\t\tmonth_short: [\"Sty\", \"Lut\", \"Mar\", \"Kwi\", \"Maj\", \"Cze\", \"Lip\", \"Sie\", \"Wrz\", \"Paź\", \"Lis\", \"Gru\"],\n\t\tday_full: [\"Niedziela\", \"Poniedziałek\", \"Wtorek\", \"Środa\", \"Czwartek\", \"Piątek\", \"Sobota\"],\n\t\tday_short: [\"Nie\", \"Pon\", \"Wto\", \"Śro\", \"Czw\", \"Pią\", \"Sob\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"Nowe zadanie\",\n\t\ticon_save: \"Zapisz\",\n\t\ticon_cancel: \"Anuluj\",\n\t\ticon_details: \"Szczegóły\",\n\t\ticon_edit: \"Edytuj\",\n\t\ticon_delete: \"Usuń\",\n\t\tconfirm_closing: \"\", // Zmiany zostaną usunięte, jesteś pewien?\n\t\tconfirm_deleting: \"Zdarzenie zostanie usunięte na zawsze, kontynuować?\",\n\t\tsection_description: \"Opis\",\n\t\tsection_time: \"Okres czasu\",\n\t\tsection_type: \"Typ\",\n\t\t/* grid columns */\n\n\t\tcolumn_wbs: \"WBS\",\n\t\tcolumn_text: \"Nazwa zadania\",\n\t\tcolumn_start_date: \"Początek\",\n\t\tcolumn_duration: \"Czas trwania\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Link\",\n\t\tconfirm_link_deleting: \"zostanie usunięty\",\n\t\tlink_start: \" (początek)\",\n\t\tlink_end: \" (koniec)\",\n\n\t\ttype_task: \"Zadanie\",\n\t\ttype_project: \"Projekt\",\n\t\ttype_milestone: \"Milestone\",\n\n\n\t\tminutes: \"Minuty\",\n\t\thours: \"Godziny\",\n\t\tdays: \"Dni\",\n\t\tweeks: \"Tydzień\",\n\t\tmonths: \"Miesiące\",\n\t\tyears: \"Lata\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"Anuluj\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n\nexport default locale;","const locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"Januar\", \"Februar\", \"Mars\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Desember\"],\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Mai\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Des\"],\n\t\tday_full: [\"Søndag\", \"Mandag\", \"Tirsdag\", \"Onsdag\", \"Torsdag\", \"Fredag\", \"Lørdag\"],\n\t\tday_short: [\"Søn\", \"Man\", \"Tir\", \"Ons\", \"Tor\", \"Fre\", \"Lør\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"Ny oppgave\",\n\t\ticon_save: \"Lagre\",\n\t\ticon_cancel: \"Avbryt\",\n\t\ticon_details: \"Detaljer\",\n\t\ticon_edit: \"Endre\",\n\t\ticon_delete: \"Slett\",\n\t\tconfirm_closing: \"Endringer blir ikke lagret, er du sikker?\", // Endringer blir ikke lagret, er du sikker?\n\t\tconfirm_deleting: \"Oppføringen vil bli slettet, er du sikker?\",\n\t\tsection_description: \"Beskrivelse\",\n\t\tsection_time: \"Tidsperiode\",\n\t\tsection_type: \"Type\",\n\t\t/* grid columns */\n\n\t\tcolumn_wbs: \"WBS\",\n\t\tcolumn_text: \"Task name\",\n\t\tcolumn_start_date: \"Start time\",\n\t\tcolumn_duration: \"Duration\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Link\",\n\t\tconfirm_link_deleting: \"will be deleted\",\n\t\tlink_start: \" (start)\",\n\t\tlink_end: \" (end)\",\n\n\t\ttype_task: \"Task\",\n\t\ttype_project: \"Project\",\n\t\ttype_milestone: \"Milestone\",\n\n\n\t\tminutes: \"Minutes\",\n\t\thours: \"Hours\",\n\t\tdays: \"Days\",\n\t\tweeks: \"Week\",\n\t\tmonths: \"Months\",\n\t\tyears: \"Years\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"Avbryt\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n\nexport default locale;","const locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"Januari\", \"Februari\", \"Maart\", \"April\", \"Mei\", \"Juni\", \"Juli\", \"Augustus\", \"September\", \"Oktober\", \"November\", \"December\"],\n\t\tmonth_short: [\"Jan\", \"Feb\", \"mrt\", \"Apr\", \"Mei\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dec\"],\n\t\tday_full: [\"Zondag\", \"Maandag\", \"Dinsdag\", \"Woensdag\", \"Donderdag\", \"Vrijdag\", \"Zaterdag\"],\n\t\tday_short: [\"Zo\", \"Ma\", \"Di\", \"Wo\", \"Do\", \"Vr\", \"Za\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"Nieuwe taak\",\n\t\ticon_save: \"Opslaan\",\n\t\ticon_cancel: \"Annuleren\",\n\t\ticon_details: \"Details\",\n\t\ticon_edit: \"Bewerken\",\n\t\ticon_delete: \"Verwijderen\",\n\t\tconfirm_closing: \"\", // Your changes will be lost, are your sure ?\n\t\tconfirm_deleting: \"Item zal permanent worden verwijderd, doorgaan?\",\n\t\tsection_description: \"Beschrijving\",\n\t\tsection_time: \"Tijd periode\",\n\t\tsection_type: \"Type\",\n\t\t/* grid columns */\n\n\t\tcolumn_wbs: \"WBS\",\n\t\tcolumn_text: \"Taak omschrijving\",\n\t\tcolumn_start_date: \"Startdatum\",\n\t\tcolumn_duration: \"Duur\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Koppeling\",\n\t\tconfirm_link_deleting: \"zal worden verwijderd\",\n\t\tlink_start: \" (start)\",\n\t\tlink_end: \" (eind)\",\n\n\t\ttype_task: \"Task\",\n\t\ttype_project: \"Project\",\n\t\ttype_milestone: \"Milestone\",\n\n\n\t\tminutes: \"minuten\",\n\t\thours: \"uren\",\n\t\tdays: \"dagen\",\n\t\tweeks: \"weken\",\n\t\tmonths: \"maanden\",\n\t\tyears: \"jaren\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"Annuleren\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n\nexport default locale;","const locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"Januar\", \"Februar\", \"Mars\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Desember\"],\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Mai\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Des\"],\n\t\tday_full: [\"Søndag\", \"Mandag\", \"Tirsdag\", \"Onsdag\", \"Torsdag\", \"Fredag\", \"Lørdag\"],\n\t\tday_short: [\"Søn\", \"Mon\", \"Tir\", \"Ons\", \"Tor\", \"Fre\", \"Lør\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"Ny oppgave\",\n\t\ticon_save: \"Lagre\",\n\t\ticon_cancel: \"Avbryt\",\n\t\ticon_details: \"Detaljer\",\n\t\ticon_edit: \"Rediger\",\n\t\ticon_delete: \"Slett\",\n\t\tconfirm_closing: \"\", // Your changes will be lost, are your sure ?\n\t\tconfirm_deleting: \"Hendelsen vil bli slettet permanent. Er du sikker?\",\n\t\tsection_description: \"Beskrivelse\",\n\t\tsection_time: \"Tidsperiode\",\n\t\tsection_type: \"Type\",\n\t\t/* grid columns */\n\n\t\tcolumn_wbs: \"WBS\",\n\t\tcolumn_text: \"Task name\",\n\t\tcolumn_start_date: \"Start time\",\n\t\tcolumn_duration: \"Duration\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Link\",\n\t\tconfirm_link_deleting: \"will be deleted\",\n\t\tlink_start: \" (start)\",\n\t\tlink_end: \" (end)\",\n\n\t\ttype_task: \"Task\",\n\t\ttype_project: \"Project\",\n\t\ttype_milestone: \"Milestone\",\n\n\n\t\tminutes: \"Minutes\",\n\t\thours: \"Hours\",\n\t\tdays: \"Days\",\n\t\tweeks: \"Week\",\n\t\tmonths: \"Months\",\n\t\tyears: \"Years\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"Avbryt\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n\nexport default locale;","export default class LocaleManager{\n\tprivate _locales:{[key:string]: IGanttLocale };\n\n\tconstructor(config: {[key:string]: IGanttLocale }){\n\t\tthis._locales = {};\n\t\tfor(const i in config){\n\t\t\tthis._locales[i] = config[i];\n\t\t}\n\t}\n\n\taddLocale = (name: string, locale: IGanttLocale) => {\n\t\tthis._locales[name] = locale;\n\t}\n\n\tgetLocale = (name: string): IGanttLocale => {\n\t\treturn this._locales[name];\n\t}\n}","/*\n\tTranslated by cjkim@dbvalley.com\n*/\n\nconst locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"1월\", \"2월\", \"3월\", \"4월\", \"5월\", \"6월\", \"7월\", \"8월\", \"9월\", \"10월\", \"11월\", \"12월\"],\n\t\tmonth_short: [\"1월\", \"2월\", \"3월\", \"4월\", \"5월\", \"6월\", \"7월\", \"8월\", \"9월\", \"10월\", \"11월\", \"12월\"],\n\t\tday_full: [\"일요일\", \"월요일\", \"화요일\", \"수요일\", \"목요일\", \"금요일\", \"토요일\"],\n\t\tday_short: [\"일\", \"월\", \"화\", \"수\", \"목\", \"금\", \"토\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"이름없는 작업\",\n\t\ticon_save: \"저장\",\n\t\ticon_cancel: \"취소\",\n\t\ticon_details: \"세부 사항\",\n\t\ticon_edit: \"수정\",\n\t\ticon_delete: \"삭제\",\n\t\tconfirm_closing: \"\",\n\t\tconfirm_deleting: \"작업을 삭제하시겠습니까?\",\n\t\tsection_description: \"설명\",\n\t\tsection_time: \"기간\",\n\t\tsection_type: \"Type\",\n\t\tcolumn_wbs: \"WBS\",\n\t\tcolumn_text: \"작업명\",\n\t\tcolumn_start_date: \"시작일\",\n\t\tcolumn_duration: \"기간\",\n\t\tcolumn_add: \"\",\n\t\tlink: \"전제\",\n\t\tconfirm_link_deleting: \"삭제 하시겠습니까?\",\n\t\tlink_start: \" (start)\",\n\t\tlink_end: \" (end)\",\n\t\ttype_task: \"작업\",\n\t\ttype_project: \"프로젝트\",\n\t\ttype_milestone: \"마일스톤\",\n\t\tminutes: \"분\",\n\t\thours: \"시간\",\n\t\tdays: \"일\",\n\t\tweeks: \"주\",\n\t\tmonths: \"달\",\n\t\tyears: \"년\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"취소\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n\nexport default locale;","/*\n Translation by Genexus Japan Inc.\n */\n\nconst locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"],\n\t\tmonth_short: [\"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"],\n\t\tday_full: [\"日曜日\", \"月曜日\", \"火曜日\", \"水曜日\", \"木曜日\", \"金曜日\", \"土曜日\"],\n\t\tday_short: [\"日\", \"月\", \"火\", \"水\", \"木\", \"金\", \"土\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"新しい仕事\",\n\t\ticon_save: \"保存\",\n\t\ticon_cancel: \"キャンセル\",\n\t\ticon_details: \"詳細\",\n\t\ticon_edit: \"編集\",\n\t\ticon_delete: \"削除\",\n\t\tconfirm_closing: \"\", // 変更が取り消されます、宜しいですか？\n\t\tconfirm_deleting: \"イベント完全に削除されます、宜しいですか？\",\n\t\tsection_description: \"デスクリプション\",\n\t\tsection_time: \"期間\",\n\t\tsection_type: \"Type\",\n\t\t/* grid columns */\n\n\t\tcolumn_wbs: \"WBS\",\n\t\tcolumn_text: \"Task name\",\n\t\tcolumn_start_date: \"Start time\",\n\t\tcolumn_duration: \"Duration\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Link\",\n\t\tconfirm_link_deleting: \"will be deleted\",\n\t\tlink_start: \" (start)\",\n\t\tlink_end: \" (end)\",\n\n\t\ttype_task: \"Task\",\n\t\ttype_project: \"Project\",\n\t\ttype_milestone: \"Milestone\",\n\n\n\t\tminutes: \"Minutes\",\n\t\thours: \"Hours\",\n\t\tdays: \"Days\",\n\t\tweeks: \"Week\",\n\t\tmonths: \"Months\",\n\t\tyears: \"Years\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"キャンセル\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n\nexport default locale;","/*\n Update 29/12/2015:\n New labels translation by ARCANGELI CLAUDIO\n\n */\n\nconst locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"Gennaio\", \"Febbraio\", \"Marzo\", \"Aprile\", \"Maggio\", \"Giugno\", \"Luglio\", \"Agosto\", \"Settembre\", \"Ottobre\", \"Novembre\", \"Dicembre\"],\n\t\tmonth_short: [\"Gen\", \"Feb\", \"Mar\", \"Apr\", \"Mag\", \"Giu\", \"Lug\", \"Ago\", \"Set\", \"Ott\", \"Nov\", \"Dic\"],\n\t\tday_full: [\"Domenica\", \"Lunedì\", \"Martedì\", \"Mercoledì\", \"Giovedì\", \"Venerdì\", \"Sabato\"],\n\t\tday_short: [\"Dom\", \"Lun\", \"Mar\", \"Mer\", \"Gio\", \"Ven\", \"Sab\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"Nuovo compito\",\n\t\ticon_save: \"Salva\",\n\t\ticon_cancel: \"Chiudi\",\n\t\ticon_details: \"Dettagli\",\n\t\ticon_edit: \"Modifica\",\n\t\ticon_delete: \"Elimina\",\n\t\tconfirm_closing: \"\",// \"Sei sicuro di confermare la chiusura?\",\n\t\tconfirm_deleting: \"Sei sicuro di confermare l'eliminazione?\",\n\t\tsection_description: \"Descrizione\",\n\t\tsection_time: \"Periodo di tempo\",\n\t\tsection_type: \"Tipo\",\n\t\t/* grid columns */\n\n\t\tcolumn_wbs: \"WBS\",\n\t\tcolumn_text: \"Nome Attività\",\n\t\tcolumn_start_date: \"Inizio\",\n\t\tcolumn_duration: \"Durata\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Link\",\n\t\tconfirm_link_deleting: \"sarà eliminato\",\n\t\tlink_start: \" (inizio)\",\n\t\tlink_end: \" (fine)\",\n\n\t\ttype_task: \"Task\",\n\t\ttype_project: \"Project\",\n\t\ttype_milestone: \"Milestone\",\n\n\n\t\tminutes: \"Minuti\",\n\t\thours: \"Ore\",\n\t\tdays: \"Giorni\",\n\t\tweeks: \"Settimane\",\n\t\tmonths: \"Mesi\",\n\t\tyears: \"Anni\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"Chiudi\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n\nexport default locale;","const locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"Januari\", \"Februari\", \"Maret\", \"April\", \"Mei\", \"Juni\", \"Juli\", \"Agustus\", \"September\", \"Oktober\", \"November\", \"Desember\"],\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Mei\", \"Jun\", \"Jul\", \"Ags\", \"Sep\", \"Okt\", \"Nov\", \"Des\"],\n\t\tday_full: [\"Minggu\", \"Senin\", \"Selasa\", \"Rabu\", \"Kamis\", \"Jumat\", \"Sabtu\"],\n\t\tday_short: [\"Ming\", \"Sen\", \"Sel\", \"Rab\", \"Kam\", \"Jum\", \"Sab\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"Tugas baru\",\n\t\ticon_save: \"Simpan\",\n\t\ticon_cancel: \"Batal\",\n\t\ticon_details: \"Detail\",\n\t\ticon_edit: \"Edit\",\n\t\ticon_delete: \"Hapus\",\n\t\tconfirm_closing: \"\", /* Perubahan tidak akan disimpan ? */\n\t\tconfirm_deleting: \"Acara akan dihapus\",\n\t\tsection_description: \"Keterangan\",\n\t\tsection_time: \"Periode\",\n\t\tsection_type: \"Type\",\n\t\t/* grid columns */\n\n\t\tcolumn_wbs: \"WBS\",\n\t\tcolumn_text: \"Task name\",\n\t\tcolumn_start_date: \"Start time\",\n\t\tcolumn_duration: \"Duration\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Link\",\n\t\tconfirm_link_deleting: \"will be deleted\",\n\t\tlink_start: \" (start)\",\n\t\tlink_end: \" (end)\",\n\n\t\ttype_task: \"Task\",\n\t\ttype_project: \"Project\",\n\t\ttype_milestone: \"Milestone\",\n\n\n\t\tminutes: \"Minutes\",\n\t\thours: \"Hours\",\n\t\tdays: \"Days\",\n\t\tweeks: \"Week\",\n\t\tmonths: \"Months\",\n\t\tyears: \"Years\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"Batal\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n\nexport default locale;","const locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"Január\", \"Február\", \"Március\", \"Április\", \"Május\", \"Június\", \"Július\", \"Augusztus\", \"Szeptember\", \"Október\", \"November\", \"December\"],\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Már\", \"Ápr\", \"Máj\", \"Jún\", \"Júl\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dec\"],\n\t\tday_full: [\"Vasárnap\", \"Hétfõ\", \"Kedd\", \"Szerda\", \"Csütörtök\", \"Péntek\", \"szombat\"],\n\t\tday_short: [\"Va\", \"Hé\", \"Ke\", \"Sze\", \"Csü\", \"Pé\", \"Szo\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"Új feladat\",\n\t\ticon_save: \"Mentés\",\n\t\ticon_cancel: \"Mégse\",\n\t\ticon_details: \"Részletek\",\n\t\ticon_edit: \"Szerkesztés\",\n\t\ticon_delete: \"Törlés\",\n\t\tconfirm_closing: \"\", // A változások elvesznek, biztosan folytatja? \"\n\t\tconfirm_deleting: \"Az esemény törölve lesz, biztosan folytatja?\",\n\t\tsection_description: \"Leírás\",\n\t\tsection_time: \"Idõszak\",\n\t\tsection_type: \"Type\",\n\t\t/* grid columns */\n\n\t\tcolumn_wbs: \"WBS\",\n\t\tcolumn_text: \"Task name\",\n\t\tcolumn_start_date: \"Start time\",\n\t\tcolumn_duration: \"Duration\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Link\",\n\t\tconfirm_link_deleting: \"will be deleted\",\n\t\tlink_start: \" (start)\",\n\t\tlink_end: \" (end)\",\n\n\t\ttype_task: \"Task\",\n\t\ttype_project: \"Project\",\n\t\ttype_milestone: \"Milestone\",\n\n\n\t\tminutes: \"Minutes\",\n\t\thours: \"Hours\",\n\t\tdays: \"Days\",\n\t\tweeks: \"Week\",\n\t\tmonths: \"Months\",\n\t\tyears: \"Years\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"Mégse\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n\nexport default locale;","/*\n  Translation by Davor\n http://docs.dhtmlx.com/gantt/desktop__localization.html#comment-2569116291\n */\n\nconst locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"Siječanj\", \"Veljača\", \"Ožujak\", \"Travanj\", \"Svibanj\", \"Lipanj\", \"Srpanj\", \"Kolovoz\", \"Rujan\", \"Listopad\", \"Studeni\", \"Prosinac\"],\n\t\tmonth_short: [\"Sij\", \"Velj\", \"Ožu\", \"Tra\", \"Svi\", \"Lip\", \"Srp\", \"Kol\", \"Ruj\", \"Lis\", \"Stu\", \"Pro\"],\n\t\tday_full: [\"Nedjelja\", \"Ponedjeljak\", \"Utorak\", \"Srijeda\", \"Četvrtak\", \"Petak\", \"Subota\"],\n\t\tday_short: [\"Ned\", \"Pon\", \"Uto\", \"Sri\", \"Čet\", \"Pet\", \"Sub\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"Novi Zadatak\",\n\t\ticon_save: \"Spremi\",\n\t\ticon_cancel: \"Odustani\",\n\t\ticon_details: \"Detalji\",\n\t\ticon_edit: \"Izmjeni\",\n\t\ticon_delete: \"Obriši\",\n\t\tconfirm_closing: \"\",\n\t\tconfirm_deleting: \"Zadatak će biti trajno izbrisan, jeste li sigurni?\",\n\t\tsection_description: \"Opis\",\n\t\tsection_time: \"Vremenski Period\",\n\t\tsection_type: \"Tip\",\n\n\t\t/* grid columns */\n\t\tcolumn_wbs: \"WBS\",\n\t\tcolumn_text: \"Naziv Zadatka\",\n\t\tcolumn_start_date: \"Početno Vrijeme\",\n\t\tcolumn_duration: \"Trajanje\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Poveznica\",\n\t\tconfirm_link_deleting: \"će biti izbrisan\",\n\t\tlink_start: \" (početak)\",\n\t\tlink_end: \" (kraj)\",\n\n\t\ttype_task: \"Zadatak\",\n\t\ttype_project: \"Projekt\",\n\t\ttype_milestone: \"Milestone\",\n\n\t\tminutes: \"Minute\",\n\t\thours: \"Sati\",\n\t\tdays: \"Dani\",\n\t\tweeks: \"Tjedni\",\n\t\tmonths: \"Mjeseci\",\n\t\tyears: \"Godine\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"Odustani\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n\nexport default locale;","const locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"ינואר\", \"פברואר\", \"מרץ\", \"אפריל\", \"מאי\", \"יוני\", \"יולי\", \"אוגוסט\", \"ספטמבר\", \"אוקטובר\", \"נובמבר\", \"דצמבר\"],\n\t\tmonth_short: [\"ינו\", \"פבר\", \"מרץ\", \"אפר\", \"מאי\", \"יונ\", \"יול\", \"אוג\", \"ספט\", \"אוק\", \"נוב\", \"דצמ\"],\n\t\tday_full: [\"ראשון\", \"שני\", \"שלישי\", \"רביעי\", \"חמישי\", \"שישי\", \"שבת\"],\n\t\tday_short: [\"א\", \"ב\", \"ג\", \"ד\", \"ה\", \"ו\", \"ש\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"משימה חדש\",\n\t\ticon_save: \"שמור\",\n\t\ticon_cancel: \"בטל\",\n\t\ticon_details: \"פרטים\",\n\t\ticon_edit: \"ערוך\",\n\t\ticon_delete: \"מחק\",\n\t\tconfirm_closing: \"\", // Your changes will be lost, are your sure ?\n\t\tconfirm_deleting: \"ארוע ימחק סופית.להמשיך?\",\n\t\tsection_description: \"הסבר\",\n\t\tsection_time: \"תקופה\",\n\t\tsection_type: \"Type\",\n\t\t/* grid columns */\n\n\t\tcolumn_wbs: \"WBS\",\n\t\tcolumn_text: \"Task name\",\n\t\tcolumn_start_date: \"Start time\",\n\t\tcolumn_duration: \"Duration\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Link\",\n\t\tconfirm_link_deleting: \"will be deleted\",\n\t\tlink_start: \" (start)\",\n\t\tlink_end: \" (end)\",\n\n\t\ttype_task: \"Task\",\n\t\ttype_project: \"Project\",\n\t\ttype_milestone: \"Milestone\",\n\n\n\t\tminutes: \"Minutes\",\n\t\thours: \"Hours\",\n\t\tdays: \"Days\",\n\t\tweeks: \"Week\",\n\t\tmonths: \"Months\",\n\t\tyears: \"Years\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"בטל\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n\nexport default locale;","const locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"Janvier\", \"Février\", \"Mars\", \"Avril\", \"Mai\", \"Juin\", \"Juillet\", \"Août\", \"Septembre\", \"Octobre\", \"Novembre\", \"Décembre\"],\n\t\tmonth_short: [\"Jan\", \"Fév\", \"Mar\", \"Avr\", \"Mai\", \"Juin\", \"Juil\", \"Aoû\", \"Sep\", \"Oct\", \"Nov\", \"Déc\"],\n\t\tday_full: [\"Dimanche\", \"Lundi\", \"Mardi\", \"Mercredi\", \"Jeudi\", \"Vendredi\", \"Samedi\"],\n\t\tday_short: [\"Dim\", \"Lun\", \"Mar\", \"Mer\", \"Jeu\", \"Ven\", \"Sam\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"Nouvelle tâche\",\n\t\ticon_save: \"Enregistrer\",\n\t\ticon_cancel: \"Annuler\",\n\t\ticon_details: \"Détails\",\n\t\ticon_edit: \"Modifier\",\n\t\ticon_delete: \"Effacer\",\n\t\tconfirm_closing: \"\",// Vos modifications seront perdus, êtes-vous sûr ?\n\t\tconfirm_deleting: \"L'événement sera effacé sans appel, êtes-vous sûr ?\",\n\n\t\tsection_description: \"Description\",\n\t\tsection_time: \"Période\",\n\t\tsection_type: \"Type\",\n\n\t\t/* grid columns */\n\n\t\tcolumn_wbs: \"OTP\",\n\t\tcolumn_text: \"Nom de la tâche\",\n\t\tcolumn_start_date: \"Date initiale\",\n\t\tcolumn_duration: \"Durée\",\n\t\tcolumn_add: \"\",\n\n\n\t\t/* link confirmation */\n\t\tlink: \"Le lien\",\n\t\tconfirm_link_deleting: \"sera supprimé\",\n\t\tlink_start: \"(début)\",\n\t\tlink_end: \"(fin)\",\n\n\t\ttype_task: \"Task\",\n\t\ttype_project: \"Project\",\n\t\ttype_milestone: \"Milestone\",\n\n\n\t\tminutes: \"Minutes\",\n\t\thours: \"Heures\",\n\t\tdays: \"Jours\",\n\t\tweeks: \"Semaines\",\n\t\tmonths: \"Mois\",\n\t\tyears: \"Années\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"Annuler\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n\nexport default locale;","const locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"Tammikuu\", \"Helmikuu\", \"Maaliskuu\", \"Huhtikuu\", \"Toukokuu\", \"Kes&auml;kuu\", \"Hein&auml;kuu\", \"Elokuu\", \"Syyskuu\", \"Lokakuu\", \"Marraskuu\", \"Joulukuu\"],\n\t\tmonth_short: [\"Tam\", \"Hel\", \"Maa\", \"Huh\", \"Tou\", \"Kes\", \"Hei\", \"Elo\", \"Syy\", \"Lok\", \"Mar\", \"Jou\"],\n\t\tday_full: [\"Sunnuntai\", \"Maanantai\", \"Tiistai\", \"Keskiviikko\", \"Torstai\", \"Perjantai\", \"Lauantai\"],\n\t\tday_short: [\"Su\", \"Ma\", \"Ti\", \"Ke\", \"To\", \"Pe\", \"La\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"Uusi tehtävä\",\n\t\ticon_save: \"Tallenna\",\n\t\ticon_cancel: \"Peru\",\n\t\ticon_details: \"Tiedot\",\n\t\ticon_edit: \"Muokkaa\",\n\t\ticon_delete: \"Poista\",\n\t\tconfirm_closing: \"\", // Your changes will be lost, are your sure ?\n\t\tconfirm_deleting: \"Haluatko varmasti poistaa tapahtuman?\",\n\t\tsection_description: \"Kuvaus\",\n\t\tsection_time: \"Aikajakso\",\n\t\tsection_type: \"Type\",\n\t\t/* grid columns */\n\n\t\tcolumn_wbs: \"WBS\",\n\t\tcolumn_text: \"Task name\",\n\t\tcolumn_start_date: \"Start time\",\n\t\tcolumn_duration: \"Duration\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Link\",\n\t\tconfirm_link_deleting: \"will be deleted\",\n\t\tlink_start: \" (start)\",\n\t\tlink_end: \" (end)\",\n\n\t\ttype_task: \"Task\",\n\t\ttype_project: \"Project\",\n\t\ttype_milestone: \"Milestone\",\n\n\n\t\tminutes: \"Minutes\",\n\t\thours: \"Hours\",\n\t\tdays: \"Days\",\n\t\tweeks: \"Week\",\n\t\tmonths: \"Months\",\n\t\tyears: \"Years\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"Peru\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n\nexport default locale;","/*\n dhtmlxGantt Persian (Farsi, fa_IR) locale by Mohammad Shokri http://slashsbin.com/\n */\n\nconst locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\n\t\t\t\"ژانویه\",\n\t\t\t\"فوریه\",\n\t\t\t\"مارس\",\n\t\t\t\"آوریل\",\n\t\t\t\"مه\",\n\t\t\t\"ژوئن\",\n\t\t\t\"ژوئیه\",\n\t\t\t\"اوت\",\n\t\t\t\"سپتامبر\",\n\t\t\t\"اکتبر\",\n\t\t\t\"نوامبر\",\n\t\t\t\"دسامبر\"\n\t\t],\n\t\tmonth_short: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\", \"12\"],\n\t\tday_full: [\n\t\t\t\"يکشنبه\",\n\t\t\t\"دوشنبه\",\n\t\t\t\"سه‌شنبه\",\n\t\t\t\"چهارشنبه\",\n\t\t\t\"پنجشنبه\",\n\t\t\t\"جمعه\",\n\t\t\t\"شنبه\"\n\t\t],\n\t\tday_short: [\n\t\t\t\"ی\",\n\t\t\t\"د\",\n\t\t\t\"س\",\n\t\t\t\"چ\",\n\t\t\t\"پ\",\n\t\t\t\"ج\",\n\t\t\t\"ش\"\n\t\t]\n\t},\n\tlabels: {\n\t\tnew_task: \"وظیفه جدید\",\n\t\ticon_save: \"ذخیره\",\n\t\ticon_cancel: \"لغو\",\n\t\ticon_details: \"جزییات\",\n\t\ticon_edit: \"ویرایش\",\n\t\ticon_delete: \"حذف\",\n\t\tconfirm_closing: \"تغییرات شما ازدست خواهد رفت، آیا مطمئن هستید؟\",\n\t\tconfirm_deleting: \"این مورد برای همیشه حذف خواهد شد، آیا مطمئن هستید؟\",\n\t\tsection_description: \"توضیحات\",\n\t\tsection_time: \"مدت زمان\",\n\t\tsection_type: \"نوع\",\n\n\t\t/* grid columns */\n\n\t\tcolumn_wbs: \"WBS\",\n\t\tcolumn_text: \"عنوان\",\n\t\tcolumn_start_date: \"زمان شروع\",\n\t\tcolumn_duration: \"مدت\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"ارتباط\",\n\t\tconfirm_link_deleting: \"حذف خواهد شد\",\n\t\tlink_start: \" (آغاز)\",\n\t\tlink_end: \" (پایان)\",\n\n\t\ttype_task: \"وظیفه\",\n\t\ttype_project: \"پروژه\",\n\t\ttype_milestone: \"نگارش\",\n\n\t\tminutes: \"دقایق\",\n\t\thours: \"ساعات\",\n\t\tdays: \"روزها\",\n\t\tweeks: \"هفته\",\n\t\tmonths: \"ماه‌ها\",\n\t\tyears: \"سال‌ها\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"تایید\",\n\t\tmessage_cancel: \"لغو\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\n\t}\n};\n\nexport default locale;","/*\n @Autor Manuel Fernandez Panzuela - www.mfernandez.es\n\n Update 30/10/2015:\n Translation of new labels by Jorge Macias\n https://disqus.com/by/disqus_bTuZk1voC7/\n */\n\nconst locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\", \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"],\n\t\tmonth_short: [\"Ene\", \"Feb\", \"Mar\", \"Abr\", \"May\", \"Jun\", \"Jul\", \"Ago\", \"Sep\", \"Oct\", \"Nov\", \"Dic\"],\n\t\tday_full: [\"Domingo\", \"Lunes\", \"Martes\", \"Miércoles\", \"Jueves\", \"Viernes\", \"Sábado\"],\n\t\tday_short: [\"Dom\", \"Lun\", \"Mar\", \"Mié\", \"Jue\", \"Vie\", \"Sáb\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"Nueva tarea\",\n\t\ticon_save: \"Guardar\",\n\t\ticon_cancel: \"Cancelar\",\n\t\ticon_details: \"Detalles\",\n\t\ticon_edit: \"Editar\",\n\t\ticon_delete: \"Eliminar\",\n\t\tconfirm_closing: \"\", // \"Sus cambios se perderán, continuar ?\"\n\t\tconfirm_deleting: \"El evento se borrará definitivamente, ¿continuar?\",\n\t\tsection_description: \"Descripción\",\n\t\tsection_time: \"Período\",\n\t\tsection_type: \"Tipo\",\n\t\t/* grid columns */\n\n\t\tcolumn_wbs: \"EDT\",\n\t\tcolumn_text: \"Tarea\",\n\t\tcolumn_start_date: \"Inicio\",\n\t\tcolumn_duration: \"Duración\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Enlace\",\n\t\tconfirm_link_deleting: \"será borrada\",\n\t\tlink_start: \" (inicio)\",\n\t\tlink_end: \" (fin)\",\n\n\t\ttype_task: \"Tarea\",\n\t\ttype_project: \"Proyecto\",\n\t\ttype_milestone: \"Hito\",\n\n\n\t\tminutes: \"Minutos\",\n\t\thours: \"Horas\",\n\t\tdays: \"Días\",\n\t\tweeks: \"Semanas\",\n\t\tmonths: \"Meses\",\n\t\tyears: \"Años\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"Cancelar\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n\nexport default locale;","const locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n\t\tday_full: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n\t\tday_short: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"New task\",\n\t\ticon_save: \"Save\",\n\t\ticon_cancel: \"Cancel\",\n\t\ticon_details: \"Details\",\n\t\ticon_edit: \"Edit\",\n\t\ticon_delete: \"Delete\",\n\t\tconfirm_closing: \"\",// Your changes will be lost, are you sure?\n\t\tconfirm_deleting: \"Task will be deleted permanently, are you sure?\",\n\t\tsection_description: \"Description\",\n\t\tsection_time: \"Time period\",\n\t\tsection_type: \"Type\",\n\n\t\t/* grid columns */\n\t\tcolumn_wbs: \"WBS\",\n\t\tcolumn_text: \"Task name\",\n\t\tcolumn_start_date: \"Start time\",\n\t\tcolumn_duration: \"Duration\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Link\",\n\t\tconfirm_link_deleting: \"will be deleted\",\n\t\tlink_start: \" (start)\",\n\t\tlink_end: \" (end)\",\n\n\t\ttype_task: \"Task\",\n\t\ttype_project: \"Project\",\n\t\ttype_milestone: \"Milestone\",\n\n\t\tminutes: \"Minutes\",\n\t\thours: \"Hours\",\n\t\tdays: \"Days\",\n\t\tweeks: \"Week\",\n\t\tmonths: \"Months\",\n\t\tyears: \"Years\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"Cancel\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n\nexport default locale;","const locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"Ιανουάριος\", \"Φεβρουάριος\", \"Μάρτιος\", \"Απρίλιος\", \"Μάϊος\", \"Ιούνιος\", \"Ιούλιος\", \"Αύγουστος\", \"Σεπτέμβριος\", \"Οκτώβριος\", \"Νοέμβριος\", \"Δεκέμβριος\"],\n\t\tmonth_short: [\"ΙΑΝ\", \"ΦΕΒ\", \"ΜΑΡ\", \"ΑΠΡ\", \"ΜΑΙ\", \"ΙΟΥΝ\", \"ΙΟΥΛ\", \"ΑΥΓ\", \"ΣΕΠ\", \"ΟΚΤ\", \"ΝΟΕ\", \"ΔΕΚ\"],\n\t\tday_full: [\"Κυριακή\", \"Δευτέρα\", \"Τρίτη\", \"Τετάρτη\", \"Πέμπτη\", \"Παρασκευή\", \"Κυριακή\"],\n\t\tday_short: [\"ΚΥ\", \"ΔΕ\", \"ΤΡ\", \"ΤΕ\", \"ΠΕ\", \"ΠΑ\", \"ΣΑ\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"Νέα εργασία\",\n\t\ticon_save: \"Αποθήκευση\",\n\t\ticon_cancel: \"Άκυρο\",\n\t\ticon_details: \"Λεπτομέρειες\",\n\t\ticon_edit: \"Επεξεργασία\",\n\t\ticon_delete: \"Διαγραφή\",\n\t\tconfirm_closing: \"\", // Your changes will be lost, are your sure ?\n\t\tconfirm_deleting: \"Το έργο θα διαγραφεί οριστικά. Θέλετε να συνεχίσετε;\",\n\t\tsection_description: \"Περιγραφή\",\n\t\tsection_time: \"Χρονική περίοδος\",\n\t\tsection_type: \"Type\",\n\t\t/* grid columns */\n\n\t\tcolumn_wbs: \"WBS\",\n\t\tcolumn_text: \"Task name\",\n\t\tcolumn_start_date: \"Start time\",\n\t\tcolumn_duration: \"Duration\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Link\",\n\t\tconfirm_link_deleting: \"will be deleted\",\n\t\tlink_start: \" (start)\",\n\t\tlink_end: \" (end)\",\n\n\t\ttype_task: \"Task\",\n\t\ttype_project: \"Project\",\n\t\ttype_milestone: \"Milestone\",\n\n\n\t\tminutes: \"Minutes\",\n\t\thours: \"Hours\",\n\t\tdays: \"Days\",\n\t\tweeks: \"Week\",\n\t\tmonths: \"Months\",\n\t\tyears: \"Years\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"Άκυρο\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n\nexport default locale;","const locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\" Januar\", \" Februar\", \" März \", \" April\", \" Mai\", \" Juni\", \" Juli\", \" August\", \" September \", \" Oktober\", \" November \", \" Dezember\"],\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Mär\", \"Apr\", \"Mai\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dez\"],\n\t\tday_full: [\"Sonntag\", \"Montag\", \"Dienstag\", \" Mittwoch\", \" Donnerstag\", \"Freitag\", \"Samstag\"],\n\t\tday_short: [\"So\", \"Mo\", \"Di\", \"Mi\", \"Do\", \"Fr\", \"Sa\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"Neue Aufgabe\",\n\t\ticon_save: \"Speichern\",\n\t\ticon_cancel: \"Abbrechen\",\n\t\ticon_details: \"Details\",\n\t\ticon_edit: \"Ändern\",\n\t\ticon_delete: \"Löschen\",\n\t\tconfirm_closing: \"\", // \"Ihre Veränderungen werden verloren sein, wollen Sie ergänzen? \"\n\t\tconfirm_deleting: \"Der Eintrag wird gelöscht\",\n\t\tsection_description: \"Beschreibung\",\n\t\tsection_time: \"Zeitspanne\",\n\t\tsection_type: \"Type\",\n\t\t/* grid columns */\n\n\t\tcolumn_wbs: \"PSP\",\n\t\tcolumn_text: \"Task-Namen\",\n\t\tcolumn_start_date: \"Startzeit\",\n\t\tcolumn_duration: \"Dauer\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Link\",\n\t\tconfirm_link_deleting: \"werden gelöscht\",\n\t\tlink_start: \"(starten)\",\n\t\tlink_end: \"(ende)\",\n\n\t\ttype_task: \"Task\",\n\t\ttype_project: \"Project\",\n\t\ttype_milestone: \"Milestone\",\n\n\n\t\tminutes: \"Minuten\",\n\t\thours: \"Stunden\",\n\t\tdays: \"Tage\",\n\t\tweeks: \"Wochen\",\n\t\tmonths: \"Monate\",\n\t\tyears: \"Jahre\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"Abbrechen\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n\nexport default locale;","const locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"Januar\", \"Februar\", \"Marts\", \"April\", \"Maj\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"December\"],\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Maj\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dec\"],\n\t\tday_full: [\"Søndag\", \"Mandag\", \"Tirsdag\", \"Onsdag\", \"Torsdag\", \"Fredag\", \"Lørdag\"],\n\t\tday_short: [\"Søn\", \"Man\", \"Tir\", \"Ons\", \"Tor\", \"Fre\", \"Lør\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"Ny opgave\",\n\t\ticon_save: \"Gem\",\n\t\ticon_cancel: \"Fortryd\",\n\t\ticon_details: \"Detaljer\",\n\t\ticon_edit: \"Tilret\",\n\t\ticon_delete: \"Slet\",\n\t\tconfirm_closing: \"Dine rettelser vil gå tabt.. Er dy sikker?\", // Your changes will be lost, are your sure ?\n\t\tconfirm_deleting: \"Bigivenheden vil blive slettet permanent. Er du sikker?\",\n\t\tsection_description: \"Beskrivelse\",\n\t\tsection_time: \"Tidsperiode\",\n\t\tsection_type: \"Type\",\n\t\t/* grid columns */\n\n\t\tcolumn_wbs: \"WBS\",\n\t\tcolumn_text: \"Task name\",\n\t\tcolumn_start_date: \"Start time\",\n\t\tcolumn_duration: \"Duration\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Link\",\n\t\tconfirm_link_deleting: \"will be deleted\",\n\t\tlink_start: \" (start)\",\n\t\tlink_end: \" (end)\",\n\n\t\ttype_task: \"Task\",\n\t\ttype_project: \"Project\",\n\t\ttype_milestone: \"Milestone\",\n\n\n\t\tminutes: \"Minutes\",\n\t\thours: \"Hours\",\n\t\tdays: \"Days\",\n\t\tweeks: \"Week\",\n\t\tmonths: \"Months\",\n\t\tyears: \"Years\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"Fortryd\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n\nexport default locale;","const locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"Leden\", \"Únor\", \"Březen\", \"Duben\", \"Květen\", \"Červen\", \"Červenec\", \"Srpen\", \"Září\", \"Říjen\", \"Listopad\", \"Prosinec\"],\n\t\tmonth_short: [\"Led\", \"Ún\", \"Bře\", \"Dub\", \"Kvě\", \"Čer\", \"Čec\", \"Srp\", \"Září\", \"Říj\", \"List\", \"Pro\"],\n\t\tday_full: [\"Neděle\", \"Pondělí\", \"Úterý\", \"Středa\", \"Čtvrtek\", \"Pátek\", \"Sobota\"],\n\t\tday_short: [\"Ne\", \"Po\", \"Út\", \"St\", \"Čt\", \"Pá\", \"So\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"Nová práce\",\n\t\ticon_save: \"Uložit\",\n\t\ticon_cancel: \"Zpět\",\n\t\ticon_details: \"Detail\",\n\t\ticon_edit: \"Edituj\",\n\t\ticon_delete: \"Smazat\",\n\t\tconfirm_closing: \"\", // Vaše změny budou ztraceny, opravdu ?\n\t\tconfirm_deleting: \"Událost bude trvale smazána, opravdu?\",\n\t\tsection_description: \"Poznámky\",\n\t\tsection_time: \"Doba platnosti\",\n\t\tsection_type: \"Type\",\n\t\t/* grid columns */\n\n\t\tcolumn_wbs: \"WBS\",\n\t\tcolumn_text: \"Task name\",\n\t\tcolumn_start_date: \"Start time\",\n\t\tcolumn_duration: \"Duration\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Link\",\n\t\tconfirm_link_deleting: \"will be deleted\",\n\t\tlink_start: \" (start)\",\n\t\tlink_end: \" (end)\",\n\n\t\ttype_task: \"Task\",\n\t\ttype_project: \"Project\",\n\t\ttype_milestone: \"Milestone\",\n\n\n\t\tminutes: \"Minutes\",\n\t\thours: \"Hours\",\n\t\tdays: \"Days\",\n\t\tweeks: \"Week\",\n\t\tmonths: \"Months\",\n\t\tyears: \"Years\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"Zpět\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n\nexport default locale;","/*\nTranslation by FreezeSoul\n\nUpdate 26/10/2015:\nTranslation of new labels by zwh8800\n https://github.com/DHTMLX/gantt/pull/7\n\n*/\n\nconst locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一月\", \"十二月\"],\n\t\tmonth_short: [\"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"],\n\t\tday_full: [\"星期日\", \"星期一\", \"星期二\", \"星期三\", \"星期四\", \"星期五\", \"星期六\"],\n\t\tday_short: [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"新任務\",\n\t\ticon_save: \"保存\",\n\t\ticon_cancel: \"关闭\",\n\t\ticon_details: \"详细\",\n\t\ticon_edit: \"编辑\",\n\t\ticon_delete: \"删除\",\n\t\tconfirm_closing: \"请确认是否撤销修改!\", // Your changes will be lost, are your sure?\n\t\tconfirm_deleting: \"是否删除日程?\",\n\t\tsection_description: \"描述\",\n\t\tsection_time: \"时间范围\",\n\t\tsection_type: \"类型\",\n\n\t\t/* grid columns */\n\n\t\tcolumn_wbs: \"工作分解结构\",\n\t\tcolumn_text: \"任务名\",\n\t\tcolumn_start_date: \"开始时间\",\n\t\tcolumn_duration: \"持续时间\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\n\t\tlink: \"关联\",\n\t\tconfirm_link_deleting: \"将被删除\",\n\t\tlink_start: \" (开始)\",\n\t\tlink_end: \" (结束)\",\n\n\t\ttype_task: \"任务\",\n\t\ttype_project: \"项目\",\n\t\ttype_milestone: \"里程碑\",\n\n\t\tminutes: \"分钟\",\n\t\thours: \"小时\",\n\t\tdays: \"天\",\n\t\tweeks: \"周\",\n\t\tmonths: \"月\",\n\t\tyears: \"年\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"关闭\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n\nexport default locale;","/*\n @Traducido por Vicente Adria Bohigues - vicenteadria@hotmail.com\n */\n\nconst locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"Gener\", \"Febrer\", \"Març\", \"Abril\", \"Maig\", \"Juny\", \"Juliol\", \"Agost\", \"Setembre\", \"Octubre\", \"Novembre\", \"Desembre\"],\n\t\tmonth_short: [\"Gen\", \"Feb\", \"Mar\", \"Abr\", \"Mai\", \"Jun\", \"Jul\", \"Ago\", \"Set\", \"Oct\", \"Nov\", \"Des\"],\n\t\tday_full: [\"Diumenge\", \"Dilluns\", \"Dimarts\", \"Dimecres\", \"Dijous\", \"Divendres\", \"Dissabte\"],\n\t\tday_short: [\"Dg\", \"Dl\", \"Dm\", \"Dc\", \"Dj\", \"Dv\", \"Ds\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"Nova tasca\",\n\t\ticon_save: \"Guardar\",\n\t\ticon_cancel: \"Cancel·lar\",\n\t\ticon_details: \"Detalls\",\n\t\ticon_edit: \"Editar\",\n\t\ticon_delete: \"Esborrar\",\n\t\tconfirm_closing: \"\", // \"Els seus canvis es perdràn, continuar ?\"\n\t\tconfirm_deleting: \"L'esdeveniment s'esborrarà definitivament, continuar ?\",\n\t\tsection_description: \"Descripció\",\n\t\tsection_time: \"Periode de temps\",\n\t\tsection_type: \"Type\",\n\t\t/* grid columns */\n\n\t\tcolumn_wbs: \"WBS\",\n\t\tcolumn_text: \"Task name\",\n\t\tcolumn_start_date: \"Start time\",\n\t\tcolumn_duration: \"Duration\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Link\",\n\t\tconfirm_link_deleting: \"will be deleted\",\n\t\tlink_start: \" (start)\",\n\t\tlink_end: \" (end)\",\n\n\t\ttype_task: \"Task\",\n\t\ttype_project: \"Project\",\n\t\ttype_milestone: \"Milestone\",\n\n\n\t\tminutes: \"Minutes\",\n\t\thours: \"Hours\",\n\t\tdays: \"Days\",\n\t\tweeks: \"Week\",\n\t\tmonths: \"Months\",\n\t\tyears: \"Years\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"Cancel·lar\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n\nexport default locale;","const locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"Студзень\", \"Люты\", \"Сакавік\", \"Красавік\", \"Maй\", \"Чэрвень\", \"Ліпень\", \"Жнівень\", \"Верасень\", \"Кастрычнік\", \"Лістапад\", \"Снежань\"],\n\t\tmonth_short: [\"Студз\", \"Лют\", \"Сак\", \"Крас\", \"Maй\", \"Чэр\", \"Ліп\", \"Жнів\", \"Вер\", \"Каст\", \"Ліст\", \"Снеж\"],\n\t\tday_full: [\"Нядзеля\", \"Панядзелак\", \"Аўторак\", \"Серада\", \"Чацвер\", \"Пятніца\", \"Субота\"],\n\t\tday_short: [\"Нд\", \"Пн\", \"Аўт\", \"Ср\", \"Чцв\", \"Пт\", \"Сб\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"Новае заданне\",\n\t\ticon_save: \"Захаваць\",\n\t\ticon_cancel: \"Адмяніць\",\n\t\ticon_details: \"Дэталі\",\n\t\ticon_edit: \"Змяніць\",\n\t\ticon_delete: \"Выдаліць\",\n\t\tconfirm_closing: \"\", // Унесеныя змены будуць страчаны, працягнуць?\n\t\tconfirm_deleting: \"Падзея будзе выдалена незваротна, працягнуць?\",\n\t\tsection_description: \"Апісанне\",\n\t\tsection_time: \"Перыяд часу\",\n\t\tsection_type: \"Тып\",\n\t\t/* grid columns */\n\n\t\tcolumn_wbs: \"ІСР\",\n\t\tcolumn_text: \"Задача\",\n\t\tcolumn_start_date: \"Пачатак\",\n\t\tcolumn_duration: \"Працяг\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Сувязь\",\n\t\tconfirm_link_deleting: \"будзе выдалена\",\n\t\tlink_start: \"(пачатак)\",\n\t\tlink_end: \"(канец)\",\n\n\t\ttype_task: \"Task\",\n\t\ttype_project: \"Project\",\n\t\ttype_milestone: \"Milestone\",\n\n\n\t\tminutes: \"Хвiлiна\",\n\t\thours: \"Гадзiна\",\n\t\tdays: \"Дзень\",\n\t\tweeks: \"Тыдзень\",\n\t\tmonths: \"Месяц\",\n\t\tyears: \"Год\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"Адмяніць\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n\nexport default locale;","const locale: IGanttLocale = {\n\tdate: {\n\t\tmonth_full: [\"كانون الثاني\", \"شباط\", \"آذار\", \"نيسان\", \"أيار\", \"حزيران\", \"تموز\", \"آب\", \"أيلول\", \"تشرين الأول\", \"تشرين الثاني\", \"كانون الأول\"],\n\t\tmonth_short: [\"يناير\", \"فبراير\", \"مارس\", \"أبريل\", \"مايو\", \"يونيو\", \"يوليو\", \"أغسطس\", \"سبتمبر\", \"أكتوبر\", \"نوفمبر\", \"ديسمبر\"],\n\t\tday_full: [\"الأحد\", \"الأثنين\", \"ألثلاثاء\", \"الأربعاء\", \"ألحميس\", \"ألجمعة\", \"السبت\"],\n\t\tday_short: [\"احد\", \"اثنين\", \"ثلاثاء\", \"اربعاء\", \"خميس\", \"جمعة\", \"سبت\"]\n\t},\n\tlabels: {\n\t\tnew_task: \"مهمة جديد\",\n\t\ticon_save: \"اخزن\",\n\t\ticon_cancel: \"الغاء\",\n\t\ticon_details: \"تفاصيل\",\n\t\ticon_edit: \"تحرير\",\n\t\ticon_delete: \"حذف\",\n\t\tconfirm_closing: \"التغييرات سوف تضيع, هل انت متأكد؟\", // Your changes will be lost, are your sure ?\n\t\tconfirm_deleting: \"الحدث سيتم حذفها نهائيا ، هل أنت متأكد؟\",\n\t\tsection_description: \"الوصف\",\n\t\tsection_time: \"الفترة الزمنية\",\n\t\tsection_type: \"Type\",\n\t\t/* grid columns */\n\n\t\tcolumn_wbs: \"WBS\",\n\t\tcolumn_text: \"Task name\",\n\t\tcolumn_start_date: \"Start time\",\n\t\tcolumn_duration: \"Duration\",\n\t\tcolumn_add: \"\",\n\n\t\t/* link confirmation */\n\t\tlink: \"Link\",\n\t\tconfirm_link_deleting: \"will be deleted\",\n\t\tlink_start: \" (start)\",\n\t\tlink_end: \" (end)\",\n\n\t\ttype_task: \"Task\",\n\t\ttype_project: \"Project\",\n\t\ttype_milestone: \"Milestone\",\n\n\t\tminutes: \"Minutes\",\n\t\thours: \"Hours\",\n\t\tdays: \"Days\",\n\t\tweeks: \"Week\",\n\t\tmonths: \"Months\",\n\t\tyears: \"Years\",\n\n\t\t/* message popup */\n\t\tmessage_ok: \"OK\",\n\t\tmessage_cancel: \"الغاء\",\n\n\t\t/* constraints */\n\t\tsection_constraint: \"Constraint\",\n\t\tconstraint_type: \"Constraint type\",\n\t\tconstraint_date: \"Constraint date\",\n\t\tasap: \"As Soon As Possible\",\n\t\talap: \"As Late As Possible\",\n\t\tsnet: \"Start No Earlier Than\",\n\t\tsnlt: \"Start No Later Than\",\n\t\tfnet: \"Finish No Earlier Than\",\n\t\tfnlt: \"Finish No Later Than\",\n\t\tmso: \"Must Start On\",\n\t\tmfo: \"Must Finish On\",\n\n\t\t/* resource control */\n\t\tresources_filter_placeholder: \"type to filter\",\n\t\tresources_filter_label: \"hide empty\"\n\t}\n};\n\nexport default locale;","import ar from \"./locale_ar\";\nimport be from \"./locale_be\";\nimport ca from \"./locale_ca\";\nimport cn from \"./locale_cn\";\nimport cs from \"./locale_cs\";\nimport da from \"./locale_da\";\nimport de from \"./locale_de\";\nimport el from \"./locale_el\";\nimport en from \"./locale_en\";\nimport es from \"./locale_es\";\nimport fa from \"./locale_fa\";\nimport fi from \"./locale_fi\";\nimport fr from \"./locale_fr\";\nimport he from \"./locale_he\";\nimport hr from \"./locale_hr\";\nimport hu from \"./locale_hu\";\nimport id from \"./locale_id\";\nimport it from \"./locale_it\";\nimport jp from \"./locale_jp\";\nimport kr from \"./locale_kr\";\n\nimport LocaleManager from \"./locale_manager\";\n\nimport nb from \"./locale_nb\";\nimport nl from \"./locale_nl\";\nimport no from \"./locale_no\";\nimport pl from \"./locale_pl\";\nimport pt from \"./locale_pt\";\nimport ro from \"./locale_ro\";\nimport ru from \"./locale_ru\";\nimport si from \"./locale_si\";\nimport sk from \"./locale_sk\";\nimport sv from \"./locale_sv\";\nimport tr from \"./locale_tr\";\nimport ua from \"./locale_ua\";\n\nexport default function(){\n\treturn new LocaleManager({\n\t\ten,\n\t\tar,\n\t\tbe,\n\t\tca,\n\t\tcn,\n\t\tcs,\n\t\tda,\n\t\tde,\n\t\tel,\n\t\tes,\n\t\tfa,\n\t\tfi,\n\t\tfr,\n\t\the,\n\t\thr,\n\t\thu,\n\t\tid,\n\t\tit,\n\t\tjp,\n\t\tkr,\n\t\tnb,\n\t\tnl,\n\t\tno,\n\t\tpl,\n\t\tpt,\n\t\tro,\n\t\tru,\n\t\tsi,\n\t\tsk,\n\t\tsv,\n\t\ttr,\n\t\tua\n\t});\n}","// all builds except for evaluation version get this mockup\n// the evaluation build gets actual codes\nexport default () => {};","function extend(gantt){\n\n\tgantt.destructor = function(){\n\t\tthis.clearAll();\n\t\tthis.callEvent(\"onDestroy\", []);\n\n\t\tif(this.$root){\n\t\t\tdelete this.$root.gantt;\n\t\t}\n\n\t\tif(this._eventRemoveAll){\n\t\t\tthis._eventRemoveAll();\n\t\t}\n\n\t\tif(this.$layout){\n\t\t\tthis.$layout.destructor();\n\t\t}\n\n\t\tif(this.resetLightbox){\n\t\t\tthis.resetLightbox();\n\t\t}\n\n\n\t\tif(this._dp && this._dp.destructor){\n\t\t\tthis._dp.destructor();\n\t\t}\n\t\tthis.$services.destructor();\n\n\t\t// detachAllEvents should be called last, because in components may be attached events\n\t\tthis.detachAllEvents();\n\n\t\tfor(var i in this){\n\t\t\tif(i.indexOf(\"$\") === 0){\n\t\t\t\tdelete this[i];\n\t\t\t}\n\t\t}\n\t\tthis.$destroyed = true;\n\t};\n}\n\nmodule.exports = extend;\n","/*\n \tasserts will be removed in final code, so you can place them anythere\n\twithout caring about performance impacts\n*/\n\nmodule.exports = function(gantt){\n\treturn function assert(check, message){\n\t\tif (!check){\n\t\t\tif(gantt.config.show_errors && gantt.callEvent(\"onError\",[message]) !== false) {\n\t\t\t\tif (gantt.message) {\n\t\t\t\t\tgantt.message({type: \"error\", text: message, expire: -1});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// eslint-disable-next-line\n\t\t\t\t\tconsole.log(message);\n\t\t\t\t}\n\n\t\t\t\t// eslint-disable-next-line no-debugger\n\t\t\t\tdebugger;\n\t\t\t}\n\t\t}\n\t};\n};","function addResizeListener(gantt){\n\tvar containerStyles = window.getComputedStyle(gantt.$root);\n\tif(containerStyles.getPropertyValue(\"position\") == \"static\"){\n\t\tgantt.$root.style.position = \"relative\";\n\t}\n\n\tvar resizeWatcher = document.createElement('iframe');\n\tresizeWatcher.className = \"gantt_container_resize_watcher\";\n\tresizeWatcher.tabIndex = -1;\n\tif(gantt.config.wai_aria_attributes){\n\t\tresizeWatcher.setAttribute(\"role\", \"none\");\n\t\tresizeWatcher.setAttribute(\"aria-hidden\", true);\n\t}\n\n\tvar salesforce_environment = !!window[\"Sfdc\"] || !!window[\"$A\"] || window[\"Aura\"];\n\tif (salesforce_environment){\n\t\tgantt.config.container_resize_method = \"timeout\";\n\t}\n\n\t// in some environments (namely, in SalesForce) iframe.contentWindow is not available\n\tgantt.$root.appendChild(resizeWatcher);\n\tif (resizeWatcher.contentWindow) {\n\t\tlistenWindowResize(gantt, resizeWatcher.contentWindow);\n\t} else {\n\t\t// if so - ditch the iframe and fallback to listening the main window resize\n\t\tgantt.$root.removeChild(resizeWatcher);\n\t\tlistenWindowResize(gantt, window);\n\t}\n}\n\nfunction listenWindowResize(gantt, window){\n\tvar resizeTimeout = gantt.config.container_resize_timeout || 20;\n\tvar resizeDelay;\n\n\tif (gantt.config.container_resize_method == \"timeout\"){\n\t\tlowlevelResizeWatcher();\n\t}\n\telse {\n\t\ttry {\n\t\t\tgantt.event(window, \"resize\", function () {\n\t\t\t\tif (gantt.$scrollbarRepaint) {\n\t\t\t\t\tgantt.$scrollbarRepaint = null;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\trepaintGantt();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tcatch (e) {\n\t\t\tlowlevelResizeWatcher();\n\t\t}\n\t}\n\n\tfunction repaintGantt(){\n\t\tclearTimeout(resizeDelay);\n\t\tresizeDelay = setTimeout(function(){\n\t\t\tgantt.render();\n\t\t}, resizeTimeout);\n\t}\n\n\tvar previousHeight = gantt.$root.offsetHeight;\n\tvar previousWidth = gantt.$root.offsetWidth;\t\n\n\tfunction lowlevelResizeWatcher(){\n\t\tif (gantt.$root.offsetHeight != previousHeight ||\n\t\t\t\tgantt.$root.offsetWidth != previousWidth){\n\t\t\t\trepaintGantt();\n\t\t}\n\n\t\tpreviousHeight = gantt.$root.offsetHeight;\n\t\tpreviousWidth = gantt.$root.offsetWidth;\n\n\t\tsetTimeout(lowlevelResizeWatcher, resizeTimeout);\n\t}\n}\n\nmodule.exports = addResizeListener;","var domHelpers = require(\"./ui/utils/dom_helpers\"),\n\thelpers = require(\"../utils/helpers\");\nvar isHeadless = require(\"../utils/is_headless\");\nvar addResizeListener = require(\"./ui/resize_listener\");\n\nmodule.exports = function(gantt){\n\tvar calculateScaleRange = require(\"./gantt_data_range\");\n\n\tgantt.assert = require(\"./common/assert\")(gantt);\n\n\tfunction isHTMLElement(node){\n\t\ttry {\n\t\t\tnode.cloneNode(false);\n\t\t}\n\t\tcatch (e){\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tvar invalidContainerMessage = \"Invalid value of the first argument of `gantt.init`. Supported values: HTMLElement, String (element id).\" +\n\t\"This error means that either invalid object is passed into `gantt.init` or that the element with the specified ID doesn't exist on the page when `gantt.init` is called.\";\n\n\tfunction validateNode(node){\n\t\tif (!node || (typeof node == 'string' && document.getElementById(node))) return true;\n\t\tif (isHTMLElement(node)) return true;\n\n\t\tgantt.assert(false, invalidContainerMessage);\n\t\tthrow new Error(invalidContainerMessage);\n\t}\n\n//initial initialization\n\tgantt.init = function(node, from, to){\n\t\tif (gantt.env.isNode) { \n\t\t\tnode = null; // for the nodejs version\n\t\t} else {\n\t\t\tvalidateNode(node); // for the web version\n\t\t}\n\n\t\tif(from && to){\n\t\t\tthis.config.start_date = this._min_date = new Date(from);\n\t\t\tthis.config.end_date = this._max_date = new Date(to);\n\t\t}\n\t\tthis.date.init();\n\n\t\t//can be called only once\n\t\tthis.init = function(node){\n\t\t\tif (gantt.env.isNode) { \n\t\t\t\tnode = null; // for the nodejs version\n\t\t\t} else {\n\t\t\t\tvalidateNode(node); // for the web version\n\t\t\t}\n\n\t\t\tif (this.$container && this.$container.parentNode){\n\t\t\t\tthis.$container.parentNode.removeChild(this.$container);\n\t\t\t\tthis.$container = null;\n\t\t\t}\n\n\t\t\tif(this.$layout){\n\t\t\t\tthis.$layout.clear();\n\t\t\t}\n\t\t\tthis._reinit(node);\n\t\t};\n\n\t\tthis._reinit(node);\n\t};\n\n\tgantt._quickRefresh = function(code){\n\t\tvar stores = this._getDatastores.call(this);\n\t\tfor(var i = 0; i < stores.length; i++){\n\t\t\tstores[i]._quick_refresh = true;\n\t\t}\n\n\t\tcode();\n\n\t\tfor(var i = 0; i < stores.length; i++){\n\t\t\tstores[i]._quick_refresh = false;\n\t\t}\n\t};\n\n\tvar dropLayout = (function dropLayout(){\n\t\tif(this._clearTaskLayers){\n\t\t\tthis._clearTaskLayers();\n\t\t}\n\n\t\tif(this._clearLinkLayers){\n\t\t\tthis._clearLinkLayers();\n\t\t}\n\n\t\tif(this.$layout){\n\t\t\tthis.$layout.destructor();\n\t\t\tthis.$layout = null;\n\t\t\tthis.$ui.reset();\n\t\t}\n\t}).bind(gantt);\n\n\tvar rebuildLayout = (function rebuildLayout(){\n\t\tif(isHeadless(gantt)){\n\t\t\treturn;\n\t\t}\n\n\t\tthis.$root.innerHTML = \"\";\n\n\t\tthis.$root.gantt = this;\n\t\tcalculateScaleRange(this);\n\t\tthis.config.layout.id = \"main\";\n\t\tthis.$layout = this.$ui.createView(\"layout\", this.$root, this.config.layout);\n\n\t\tthis.$layout.attachEvent(\"onBeforeResize\", function(){\n\t\t\tvar storeNames = gantt.$services.getService(\"datastores\");\n\t\t\tfor(var i = 0; i < storeNames.length; i++){\n\t\t\t\tgantt.getDatastore(storeNames[i]).filter();\n\t\t\t\tgantt.getDatastore(storeNames[i]).callEvent(\"onBeforeRefreshAll\", []);\n\t\t\t}\n\t\t});\n\n\t\tthis.$layout.attachEvent(\"onResize\", function(){\n\t\t\tgantt._quickRefresh(function(){\n\t\t\t\tgantt.refreshData();\n\t\t\t});\n\t\t});\n\n\t\tthis.callEvent(\"onGanttLayoutReady\", []);\n\t\tthis.$layout.render();\n\n\t\tthis.$container = this.$layout.$container.firstChild;\n\n\t\taddResizeListener(this);\n\t}).bind(gantt);\n\n\tgantt.resetLayout = function(){\n\t\tdropLayout();\n\t\trebuildLayout();\n\t\tthis.render();\n\t};\n\n\tgantt._reinit = function(node){\n\t\tthis.callEvent(\"onBeforeGanttReady\", []);\n\t\tthis._update_flags();\n\n\t\tvar config = this.$services.getService(\"templateLoader\");\n\t\tconfig.initTemplates(this);\n\n\t\tdropLayout();\n\n\t\tthis.$root = null;\n\t\tif(node){\n\t\t\tthis.$root = domHelpers.toNode(node);\n\t\t\trebuildLayout();\n\t\t\tthis.$mouseEvents.reset(this.$root);\n\t\t}\n\n\t\tthis.callEvent(\"onTemplatesReady\",[]);\n\n\t\tthis.callEvent(\"onGanttReady\", []);\n\n\t\tthis.render();\n\t};\n\n\tgantt.$click={\n\t\tbuttons:{\n\t\t\t\"edit\": function(id) {\n\t\t\t\tif (gantt.isReadonly(gantt.getTask(id))) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tgantt.showLightbox(id);\n\t\t\t},\n\t\t\t\"delete\": function(id) {\n\t\t\t\tvar task = gantt.getTask(id);\n\t\t\t\tif (gantt.isReadonly(task)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar question = gantt.locale.labels.confirm_deleting;\n\t\t\t\tvar title = gantt.locale.labels.confirm_deleting_title;\n\n\t\t\t\tgantt._dhtmlx_confirm(question, title, function(){\n\t\t\t\t\tif(!gantt.isTaskExists(id)){\n\t\t\t\t\t\tgantt.hideLightbox();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(task.$new){\n\t\t\t\t\t\tgantt.silent(function(){\n\t\t\t\t\t\t\tgantt.deleteTask(id, true);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tgantt.refreshData();\n\t\t\t\t\t}else{\n\t\t\t\t\t\tgantt.deleteTask(id);\n\t\t\t\t\t}\n\n\t\t\t\t\tgantt.hideLightbox();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n//renders self\n\tgantt.render = function(){\n\t\tthis.callEvent(\"onBeforeGanttRender\", []);\n\n\t\tvar visibleDate;\n\t\tif(!isHeadless(gantt)){\n\t\t\tif (!this.config.sort && this._sort) {\n\t\t\t\tthis._sort = undefined;\n\t\t\t}\n\n\t\t\tif(this.$root){\n\t\t\t\tif(this.config.rtl){\n\t\t\t\t\tthis.$root.classList.add(\"gantt_rtl\");\n\t\t\t\t}else{\n\t\t\t\t\tthis.$root.classList.remove(\"gantt_rtl\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar pos = this.getScrollState();\n\t\t\tvar posX = pos ? pos.x : 0;\n\t\t\tif(this._getHorizontalScrollbar()){\n\t\t\t\tvar scrollbar = this._getHorizontalScrollbar();\n\t\t\t\tposX = scrollbar.$config.codeScrollLeft || posX || 0;\n\t\t\t}\n\n\n\t\t\tvisibleDate = null;\n\t\t\tif(posX){\n\t\t\t\tvisibleDate = gantt.dateFromPos(posX + this.config.task_scroll_offset);\n\t\t\t}\n\t\t}\n\n\t\tcalculateScaleRange(this);\n\n\t\tif(!isHeadless(gantt)){\n\t\t\tthis.$layout.$config.autosize = this.config.autosize;\n\t\t\tvar preserveScroll = this.config.preserve_scroll;\n\t\t\tthis.config.preserve_scroll = false; // prevent scrolling from layout resize, scroll will be called here later on\n\t\t\tthis.$layout.resize();\n\t\t\tthis.config.preserve_scroll = preserveScroll;\n\n\t\t\tif(this.config.preserve_scroll && pos){\n\n\t\t\t\tif(posX){\n\t\t\t\t\tvar new_pos = gantt.getScrollState();\n\t\t\t\t\tvar new_date = gantt.dateFromPos(new_pos.x);\n\t\t\t\t\tif(!(+visibleDate == +new_date && new_pos.y == pos.y)){\n\t\t\t\t\t\tvar posX = null;\n\t\t\t\t\t\tvar posY = null;\n\t\t\t\t\t\tif(visibleDate){\n\t\t\t\t\t\t\tvar posX = Math.max(gantt.posFromDate(visibleDate) - gantt.config.task_scroll_offset, 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(pos.y){\n\t\t\t\t\t\t\tposY = pos.y;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tgantt.scrollTo(posX, posY);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t}else{\n\t\t\tgantt.refreshData();\n\t\t}\n\t\tthis.callEvent(\"onGanttRender\", []);\n\t};\n\n\t//TODO: add layout.resize method that wouldn't trigger data repaint\n\tgantt.setSizes = gantt.render;\n\n\n\tgantt.getTaskRowNode = function(id) {\n\t\tvar els = this.$grid_data.childNodes;\n\t\tvar attribute = this.config.task_attribute;\n\t\tfor (var i = 0; i < els.length; i++) {\n\t\t\tif (els[i].getAttribute) {\n\t\t\t\tvar value = els[i].getAttribute(attribute);\n\t\t\t\tif (value == id) return els[i];\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t};\n\n\tgantt.changeLightboxType = function(type){\n\t\tif(this.getLightboxType() == type)\n\t\t\treturn true;\n\t\tgantt._silent_redraw_lightbox(type);\n\t};\n\n\tgantt._get_link_type = function (from_start, to_start) {\n\t\tvar type = null;\n\t\tif (from_start && to_start) {\n\t\t\ttype = gantt.config.links.start_to_start;\n\t\t} else if (!from_start && to_start) {\n\t\t\ttype = gantt.config.links.finish_to_start;\n\t\t} else if (!from_start && !to_start) {\n\t\t\ttype = gantt.config.links.finish_to_finish;\n\t\t} else if (from_start && !to_start) {\n\t\t\ttype = gantt.config.links.start_to_finish;\n\t\t}\n\t\treturn type;\n\t};\n\n\tgantt.isLinkAllowed = function (from, to, from_start, to_start) {\n\t\tvar link = null;\n\t\tif (typeof(from) == \"object\") {\n\t\t\tlink = from;\n\t\t} else {\n\t\t\tlink = {source: from, target: to, type: this._get_link_type(from_start, to_start)};\n\t\t}\n\n\t\tif (!link) return false;\n\t\tif (!(link.source && link.target && link.type)) return false;\n\t\tif (link.source == link.target) return false;\n\n\t\tvar res = true;\n\t\t//any custom rules\n\t\tif (this.checkEvent(\"onLinkValidation\"))\n\t\t\tres = this.callEvent(\"onLinkValidation\", [link]);\n\n\t\treturn res;\n\t};\n\n\n\tgantt._correct_dst_change = function(date, prevOffset, step, unit){\n\t\tvar time_unit = helpers.getSecondsInUnit(unit) * step;\n\t\tif(time_unit > 60*60 && time_unit < 60*60*24){\n\t\t\t//correct dst change only if current unit is more than one hour and less than day (days have own checking), e.g. 12h\n\t\t\tvar offsetChanged = date.getTimezoneOffset() - prevOffset;\n\t\t\tif(offsetChanged){\n\t\t\t\tdate = gantt.date.add(date, offsetChanged, \"minute\");\n\t\t\t}\n\t\t}\n\t\treturn date;\n\t};\n\n\tgantt.isSplitTask = function(task){\n\t\tgantt.assert(task && task instanceof Object, \"Invalid argument <b>task</b>=\"+task+\" of gantt.isSplitTask. Task object was expected\");\n\t\treturn this.$data.tasksStore._isSplitItem(task);\n\t};\n\n\tgantt._is_icon_open_click = function(e) {\n\t\tif (!e)\n\t\t\treturn false;\n\t\tvar target = e.target || e.srcElement;\n\t\tif (!(target && target.className))\n\t\t\treturn false;\n\t\tvar className = domHelpers.getClassName(target);\n\t\tif (className.indexOf(\"gantt_tree_icon\") !== -1 && (className.indexOf(\"gantt_close\") !== -1 || className.indexOf(\"gantt_open\") !== -1))\n\t\t\treturn true;\n\t\treturn false;\n\t};\n\n};","/*\n reuse results of functions that can be recalculated during rendering\n greatly increases the rendering speed when critical path enabled\n Sample - 94_dev/critical_path.html\n\n */\nmodule.exports = function(gantt){\n\ngantt._cached_functions = {\n\tcache: {},\n\tmode: false,\n\tcritical_path_mode: false,\n\twrap_methods : function(methods, object){\n\t\tif(object._prefetch_originals){\n\t\t\tfor(var i in object._prefetch_originals){\n\t\t\t\tobject[i] = object._prefetch_originals[i];\n\t\t\t}\n\t\t}\n\t\tobject._prefetch_originals = {};\n\t\tfor(var i = 0; i < methods.length; i++)\n\t\t\tthis.prefetch(methods[i], object);\n\n\t},\n\tprefetch : function(methodname, host){\n\t\tvar original = host[methodname];\n\t\tif(original){\n\t\t\tvar optimizer = this;\n\n\t\t\thost._prefetch_originals[methodname] = original;\n\t\t\thost[methodname] = function get_prefetched_value(){\n\n\t\t\t\tvar argumentsArray = new Array(arguments.length);\n\t\t\t\tfor (var i = 0, l = arguments.length; i < l; i++) {\n\t\t\t\t\targumentsArray[i] = arguments[i];\n\t\t\t\t}\n\n\t\t\t\tif(optimizer.active){\n\t\t\t\t\tvar args = optimizer.get_arguments_hash(Array.prototype.slice.call(argumentsArray));\n\t\t\t\t\tif(!optimizer.cache[methodname]){\n\t\t\t\t\t\toptimizer.cache[methodname] = {};\n\t\t\t\t\t}\n\n\t\t\t\t\tvar cached_values = optimizer.cache[methodname];\n\n\t\t\t\t\tif(optimizer.has_cached_value(cached_values, args)){\n\t\t\t\t\t\treturn optimizer.get_cached_value(cached_values, args);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tvar value = original.apply(this, argumentsArray);\n\t\t\t\t\t\toptimizer.cache_value(cached_values, args, value);\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn original.apply(this, argumentsArray);\n\t\t\t};\n\t\t}\n\t\treturn original;\n\t},\n\tcache_value: function(cache, arguments_hash, value){\n\t\tif(this.is_date(value))\n\t\t\tvalue = new Date(value);\n\t\tcache[arguments_hash] = value;\n\t},\n\thas_cached_value: function(cache, arguments_hash){\n\t\treturn cache.hasOwnProperty(arguments_hash);\n\t},\n\tget_cached_value: function(cache, arguments_hash){\n\t\tvar data = cache[arguments_hash];\n\n\t\t//for cached dates - return copy\n\t\tif(this.is_date(data)){\n\t\t\tdata = new Date(data);\n\t\t}\n\t\treturn data;\n\t},\n\tis_date: function(value){\n\t\treturn (value && value.getUTCDate);\n\t},\n\tget_arguments_hash:function(args){\n\t\tvar values = [];\n\t\tfor(var i = 0; i < args.length; i++){\n\t\t\tvalues.push(this.stringify_argument(args[i]));\n\t\t}\n\t\treturn \"(\" + values.join(\";\") + \")\";\n\t},\n\tstringify_argument: function(value){\n\t\t//expecting task or link, or any other data entries, dates and primitive values\n\t\tvar ret = \"\";\n\t\tif(value.id){\n\t\t\tret = value.id;\n\t\t}else if(this.is_date(value)){\n\t\t\tret = value.valueOf();\n\t\t}else{\n\t\t\tret = value;\n\t\t}\n\t\treturn ret + \"\";\n\t},\n\tactivate: function(){\n\t\tthis.clear();\n\t\tthis.active = true;\n\t},\n\tdeactivate: function(){\n\t\tthis.clear();\n\t\tthis.active = false;\n\t},\n\tclear: function(){\n\t\tthis.cache = {};\n\t},\n\n\tsetup: function(gantt){\n\t\tvar override_gantt = [];\n\n\t\tvar gantt_methods  = [\n\t\t\t'_isProjectEnd',\n\t\t\t'_getProjectEnd',\n\t\t\t'_getSlack'\n\t\t];\n\n\n\n\t\tif(this.mode == 'auto'){\n\t\t\tif(gantt.config.highlight_critical_path){\n\t\t\t\toverride_gantt = gantt_methods;\n\t\t\t}\n\t\t}else if(this.mode === true){\n\t\t\toverride_gantt = gantt_methods;\n\t\t}\n\n\t\tthis.wrap_methods(override_gantt, gantt);\n\n\t},\n\tupdate_if_changed: function(gantt){\n\t\tvar changed = (this.critical_path_mode != gantt.config.highlight_critical_path ||\n\t\t\t\t\t\tthis.mode !== gantt.config.optimize_render);\n\t\tif(changed){\n\t\t\tthis.critical_path_mode = gantt.config.highlight_critical_path;\n\t\t\tthis.mode = gantt.config.optimize_render;\n\t\t\tthis.setup(gantt);\n\t\t}\n\t}\n};\n\nfunction activate(){\n\tgantt._cached_functions.update_if_changed(gantt);\n\tif(!gantt._cached_functions.active){\n\t\tgantt._cached_functions.activate();\n\t}\n\treturn true;\n}\ngantt.attachEvent(\"onBeforeGanttRender\", activate);\ngantt.attachEvent(\"onBeforeDataRender\", activate);\ngantt.attachEvent(\"onBeforeSmartRender\",  function(){\n\tactivate();\n});\ngantt.attachEvent(\"onBeforeParse\", activate);\ngantt.attachEvent(\"onDataRender\", function(){\n\tgantt._cached_functions.deactivate();\n});\nvar deactivTimeout = null;\ngantt.attachEvent(\"onSmartRender\", function(){\n\tif(deactivTimeout)\n\t\tclearTimeout(deactivTimeout);\n\tdeactivTimeout = setTimeout(function(){\n\t\tgantt._cached_functions.deactivate();\n\t}, 1000);\n});\n\ngantt.attachEvent(\"onBeforeGanttReady\", function(){\n\tgantt._cached_functions.update_if_changed(gantt);\n\treturn true;\n});\n\n};","module.exports = function(gantt) {\n\tgantt.getTaskType = function (type) {\n\t\tvar checkType = type;\n\t\tif(type && typeof type == \"object\"){\n\t\t\tcheckType = type.type;\n\t\t}\n\n\t\tfor (var i in this.config.types) {\n\t\t\tif (this.config.types[i] == checkType) {\n\t\t\t\treturn checkType;\n\t\t\t}\n\t\t}\n\t\treturn gantt.config.types.task;\n\t};\n};","// all builds except for evaluation version get this mockup\n// the evaluation build gets actual codes\nexport default () => {};","var helpers = require(\"../utils/helpers\");\n\nmodule.exports = function(gantt) {\n\n\tgantt.isUnscheduledTask = function (task) {\n\t\tgantt.assert(task && task instanceof Object, \"Invalid argument <b>task</b>=\"+task+\" of gantt.isUnscheduledTask. Task object was expected\");\n\t\treturn (!!task.unscheduled || !task.start_date);\n\t};\n\n\tgantt._isAllowedUnscheduledTask = function (task) {\n\t\treturn !!(task.unscheduled && gantt.config.show_unscheduled);\n\t};\n\n\tgantt._isTaskInTimelineLimits = function(task) {\n\t\tvar taskStart = task.start_date ? task.start_date.valueOf() : null;\n\t\tvar taskEnd = task.end_date ? task.end_date.valueOf() : null;\n\t\treturn !!(taskStart && taskEnd && taskStart <= this._max_date.valueOf() && taskEnd >= this._min_date.valueOf());\n\t};\n\tgantt.isTaskVisible = function (id) {\n\t\tif (!this.isTaskExists(id)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar task = this.getTask(id);\n\t\tif (!(this._isAllowedUnscheduledTask(task) || this._isTaskInTimelineLimits(task))) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn !!(this.getGlobalTaskIndex(id) >= 0);\n\t};\n\n\tgantt._getProjectEnd = function() {\n\t\tif(gantt.config.project_end){\n\t\t\treturn gantt.config.project_end;\n\t\t}else{\n\t\t\tvar tasks = gantt.getTaskByTime();\n\t\t\ttasks = tasks.sort(function (a, b) {\n\t\t\t\treturn +a.end_date > +b.end_date ? 1 : -1;\n\t\t\t});\n\t\t\treturn tasks.length ? tasks[tasks.length - 1].end_date : null;\n\t\t}\n\t};\n\tgantt._getProjectStart = function() {\n\t\tif (gantt.config.project_start) {\n\t\t\treturn gantt.config.project_start;\n\t\t}\n\n\t\t// use timeline start if project start is not specified\n\t\tif (gantt.config.start_date) {\n\t\t\treturn gantt.config.start_date;\n\t\t}\n\t\tif (gantt.getState().min_date) {\n\t\t\treturn gantt.getState().min_date;\n\t\t}\n\n\t\t// earliest task start if neither project start nor timeline are specified\n\t\tvar tasks = gantt.getTaskByTime();\n\t\ttasks = tasks.sort(function (a, b) {\n\t\t\treturn +a.start_date > +b.start_date ? 1 : -1;\n\t\t});\n\t\treturn tasks.length ? tasks[0].start_date : null;\n\t};\n\n\tvar getDefaultTaskDate = function (item, parent_id) {\n\t\tvar parent = (parent_id && parent_id != gantt.config.root_id) ? gantt.getTask(parent_id) : false,\n\t\t\tstartDate = null;\n\t\tif (parent) {\n\t\t\tif(gantt.config.schedule_from_end){\n\t\t\t\tstartDate = gantt.calculateEndDate({\n\t\t\t\t\tstart_date: parent.end_date,\n\t\t\t\t\tduration: - gantt.config.duration_step,\n\t\t\t\t\ttask:item\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tstartDate = parent.start_date;\n\t\t\t}\n\n\t\t} else if(gantt.config.schedule_from_end) {\n\t\t\tstartDate = gantt.calculateEndDate({\n\t\t\t\tstart_date: gantt._getProjectEnd(),\n\t\t\t\tduration: - gantt.config.duration_step,\n\t\t\t\ttask:item\n\t\t\t});\n\t\t} else {\n\t\t\tvar first = gantt.getTaskByIndex(0);\n\t\t\tstartDate = first ? (first.start_date ? first.start_date : (first.end_date ? gantt.calculateEndDate({\n\t\t\t\tstart_date: first.end_date,\n\t\t\t\tduration: -gantt.config.duration_step,\n\t\t\t\ttask:item\n\t\t\t}) : null)) : gantt.config.start_date || gantt.getState().min_date;\n\t\t}\n\t\tgantt.assert(startDate, \"Invalid dates\");\n\t\treturn new Date(startDate);\n\t};\n\n\tgantt._set_default_task_timing = function (task) {\n\t\ttask.start_date = task.start_date || getDefaultTaskDate(task, gantt.getParent(task));\n\t\ttask.duration = task.duration || gantt.config.duration_step;\n\t\ttask.end_date = task.end_date || gantt.calculateEndDate(task);\n\t};\n\n\tgantt.createTask = function (item, parent, index) {\n\t\titem = item || {};\n\n\t\tif (!gantt.defined(item.id))\n\t\t\titem.id = gantt.uid();\n\n\t\tif (!item.start_date) {\n\t\t\titem.start_date = getDefaultTaskDate(item, parent);\n\t\t}\n\t\tif (item.text === undefined) {\n\t\t\titem.text = gantt.locale.labels.new_task;\n\t\t}\n\t\tif (item.duration === undefined) {\n\t\t\titem.duration = 1;\n\t\t}\n\n\t\tif (this.isTaskExists(parent)) {\n\t\t\tthis.setParent(item, parent, true);\n\t\t\tvar parentObj = this.getTask(parent);\n\t\t\tparentObj.$open = true;\n\t\t}\n\n\t\tif (!this.callEvent(\"onTaskCreated\", [item])) {\n\t\t\treturn null;\n\t\t}\n\t\tif (this.config.details_on_create) {\n\t\t\t//GS-761: assert unique ID\n\t\t\tif (gantt.isTaskExists(item.id)){\n\t\t\t\tvar task = gantt.getTask(item.id);\n\t\t\t\tif (task.$index != item.$index) {\n\t\t\t\t\t// Someone may try to mistakenly add a task with the same ID, and most likely\n\t\t\t\t\t// use the string format for the dates. Gantt shouldn't break in this scenario\n\t\t\t\t\tif (item.start_date && typeof item.start_date === \"string\"){\n\t\t\t\t\t\titem.start_date = this.date.parseDate(item.start_date, \"parse_date\");\n\t\t\t\t\t}\n\t\t\t\t\tif (item.end_date && typeof item.end_date === \"string\"){\n\t\t\t\t\t\titem.end_date = this.date.parseDate(item.end_date, \"parse_date\");\n\t\t\t\t\t}\n\t\t\t\t\tthis.$data.tasksStore.updateItem(item.id, item);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\titem.$new = true;\n\t\t\t\tthis.silent(function(){\n\t\t\t\t\tgantt.$data.tasksStore.addItem(item, index);\n\t\t\t\t});\t\n\t\t\t}\n\t\t\tthis.selectTask(item.id);\n\t\t\tthis.refreshData();\n\t\t\tthis.showLightbox(item.id);\n\t\t} else {\n\t\t\tif (this.addTask(item, parent, index)) {\n\t\t\t\tthis.showTask(item.id);\n\t\t\t\tthis.selectTask(item.id);\n\t\t\t}\n\t\t}\n\t\treturn item.id;\n\t};\n\n\tgantt._update_flags = function (oldid, newid) {\n\t\t//  TODO: need a proper way to update all possible flags\n\t\tvar store = gantt.$data.tasksStore;\n\t\tif (oldid === undefined) {\n\t\t\tthis._lightbox_id = null;\n\n\t\t\tstore.silent(function(){\n\t\t\t\tstore.unselect();\n\t\t\t});\n\n\t\t\tif (this._tasks_dnd && this._tasks_dnd.drag) {\n\t\t\t\tthis._tasks_dnd.drag.id = null;\n\t\t\t}\n\t\t} else {\n\t\t\tif (this._lightbox_id == oldid)\n\t\t\t\tthis._lightbox_id = newid;\n\n\t\t\t// TODO: probably can be removed\n\t\t\tif (store.getSelectedId() == oldid) {\n\t\t\t\tstore.silent(function(){\n\t\t\t\t\tstore.unselect(oldid);\n\t\t\t\t\tstore.select(newid);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (this._tasks_dnd && this._tasks_dnd.drag && this._tasks_dnd.drag.id == oldid) {\n\t\t\t\tthis._tasks_dnd.drag.id = newid;\n\t\t\t}\n\t\t}\n\t};\n\n\tvar getTaskTimingMode = function (task, force) {\n\t\tvar task_type = gantt.getTaskType(task.type);\n\n\t\tvar state = {\n\t\t\ttype: task_type,\n\t\t\t$no_start: false,\n\t\t\t$no_end: false\n\t\t};\n\n\t\tif (!force && task_type == task.$rendered_type) {\n\t\t\tstate.$no_start = task.$no_start;\n\t\t\tstate.$no_end = task.$no_end;\n\t\t\treturn state;\n\t\t}\n\n\t\tif (task_type == gantt.config.types.project) {\n\t\t\t//project duration is always defined by children duration\n\t\t\tstate.$no_end = state.$no_start = true;\n\t\t} else if (task_type != gantt.config.types.milestone) {\n\t\t\t//tasks can have fixed duration, children duration(as projects), or one date fixed, and other defined by nested items\n\t\t\tstate.$no_end = !(task.end_date || task.duration);\n\t\t\tstate.$no_start = !task.start_date;\n\n\t\t\tif (gantt._isAllowedUnscheduledTask(task)) {\n\t\t\t\tstate.$no_end = state.$no_start = false;\n\t\t\t}\n\t\t}\n\n\t\treturn state;\n\t};\n\n\tgantt._init_task_timing = function (task) {\n\t\tvar task_mode = getTaskTimingMode(task, true);\n\n\t\tvar dirty = task.$rendered_type != task_mode.type;\n\n\t\tvar task_type = task_mode.type;\n\n\t\tif (dirty) {\n\t\t\ttask.$no_start = task_mode.$no_start;\n\t\t\ttask.$no_end = task_mode.$no_end;\n\t\t\ttask.$rendered_type = task_mode.type;\n\t\t}\n\n\t\tif (dirty && task_type != this.config.types.milestone) {\n\t\t\tif (task_type == this.config.types.project) {\n\t\t\t\t//project duration is always defined by children duration\n\t\t\t\tthis._set_default_task_timing(task);\n\t\t\t\ttask.$calculate_duration = false;// do not recalculate duration below\n\t\t\t}\n\t\t}\n\n\t\tif (task_type == this.config.types.milestone) {\n\t\t\ttask.end_date = task.start_date;\n\t\t}\n\t\tif (task.start_date && task.end_date && task.$calculate_duration !== false) {\n\t\t\ttask.duration = this.calculateDuration(task);\n\t\t}\n\n\t\tif(!task.$calculate_duration){\n\t\t\ttask.$calculate_duration = true;\n\t\t}\n\n\t\tif (!task.end_date) {\n\t\t\ttask.end_date = task.start_date;\n\t\t}\n\n\t\ttask.duration = task.duration || 0;\n\t\t// GS-1145. We should let tasks to have 0 duration if user wants it\n\t\tif (this.config.min_duration === 0 && task.duration === 0){\n\t\t\ttask.$no_end = false;\n\t\t}\n\n\t\t// work calendar of task has changed\n\t\tvar effectiveCalendar = this.getTaskCalendar(task);\n\t\tif(task.$effective_calendar && task.$effective_calendar !== effectiveCalendar.id){\n\t\t\tupdateTaskTiming(task);\n\t\t\tif(this.config.inherit_calendar && this.isSummaryTask(task)){\n\t\t\t\tthis.eachTask(function(child){\n\t\t\t\t\tupdateTaskTiming(child);\n\t\t\t\t}, task.id);\n\t\t\t}\n\t\t}\n\n\t\ttask.$effective_calendar = effectiveCalendar.id;\n\t};\n\n\tfunction updateTaskTiming(task) {\n\t\ttask.$effective_calendar = gantt.getTaskCalendar(task).id;\n\t\ttask.start_date = gantt.getClosestWorkTime({\n\t\t\tdir: \"future\",\n\t\t\tdate: task.start_date,\n\t\t\tunit: gantt.config.duration_unit,\n\t\t\ttask: task\n\t\t});\n\t\ttask.end_date = gantt.calculateEndDate(task);\n\t}\n\n\tgantt.isSummaryTask = function (task) {\n\t\tgantt.assert(task && task instanceof Object, \"Invalid argument <b>task</b>=\"+task+\" of gantt.isSummaryTask. Task object was expected\");\n\n\t\tvar mode = getTaskTimingMode(task);\n\n\t\treturn !!(mode.$no_end || mode.$no_start);\n\t};\n\n// downward calculation of project duration\n\tgantt.resetProjectDates = function (task) {\n\t\tvar taskMode = getTaskTimingMode(task);\n\t\tif (taskMode.$no_end || taskMode.$no_start) {\n\t\t\tvar info = getSubtaskInfo(task.id);\n\t\t\tassignProjectDates.call(this, task, taskMode, info.start_date, info.end_date);\n\t\t\ttask.$rollup = info.rollup;\n\t\t}\n\t};\n\n\tfunction assignProjectDates(task, taskTiming, from, to) {\n\t\tif (taskTiming.$no_start) {\n\t\t\tif (from) {\n\t\t\t\ttask.start_date = new Date(from);\n\t\t\t} else {\n\t\t\t\ttask.start_date = getDefaultTaskDate(task, this.getParent(task));\n\t\t\t}\n\t\t}\n\n\t\tif (taskTiming.$no_end) {\n\t\t\tif (to) {\n\t\t\t\ttask.end_date = new Date(to);\n\t\t\t} else {\n\t\t\t\ttask.end_date = this.calculateEndDate({\n\t\t\t\t\tstart_date: task.start_date,\n\t\t\t\t\tduration: this.config.duration_step,\n\t\t\t\t\ttask: task\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tif (taskTiming.$no_start || taskTiming.$no_end) {\n\t\t\tthis._init_task_timing(task);\n\t\t}\n\t}\n\n\tgantt.getSubtaskDuration = function (taskId) {\n\t\tvar res = 0,\n\t\t\troot = taskId !== undefined ? taskId : gantt.config.root_id;\n\n\t\tthis.eachTask(function (child) {\n\t\t\tif (this.getTaskType(child.type) == gantt.config.types.project || this.isUnscheduledTask(child))\n\t\t\t\treturn;\n\n\t\t\tres += child.duration;\n\t\t}, root);\n\n\t\treturn res;\n\t};\n\n\tfunction getSubtaskInfo (taskId){\n\t\tvar min = null,\n\t\t\tmax = null,\n\t\t\troot = taskId !== undefined ? taskId : gantt.config.root_id,\n\t\t\trollup = [];\n\n\t\tgantt.eachTask(function (child) {\n\t\t\tif (gantt.getTaskType(child.type) == gantt.config.types.project || gantt.isUnscheduledTask(child))\n\t\t\t\treturn;\n\t\t\t\n\t\t\tif(child.rollup){\n\t\t\t\trollup.push(child.id);\n\t\t\t}\n\n\t\t\tif ((child.start_date && !child.$no_start) && (!min || min > child.start_date.valueOf()))\n\t\t\t\tmin = child.start_date.valueOf();\n\t\t\tif ((child.end_date && !child.$no_end) && (!max || max < child.end_date.valueOf()))\n\t\t\t\tmax = child.end_date.valueOf();\n\t\t}, root);\n\n\t\treturn {\n\t\t\tstart_date: min ? new Date(min) : null,\n\t\t\tend_date: max ? new Date(max) : null,\n\t\t\trollup: rollup\n\t\t};\n\t}\n\n\tgantt.getSubtaskDates = function (task_id) {\n\t\tvar info = getSubtaskInfo(task_id);\n\t\treturn {\n\t\t\tstart_date: info.start_date,\n\t\t\tend_date: info.end_date\n\t\t};\n\t};\n\n\n// upward calculation of project duration\n\tgantt._update_parents = function (taskId, silent, updateAll) {\n\t\tif (!taskId) return;\n\n\t\tvar task = this.getTask(taskId);\n\t\tif(task.rollup){\n\t\t\tupdateAll = true;\n\t\t}\n\t\tvar pid = this.getParent(task);\n\n\t\tvar taskTiming = getTaskTimingMode(task);\n\n\t\tvar has_changed = true;\n\t\t// GS-761 the dates check is necessary for adding empty tasks: gantt.addTask({id:\"2\"})\n\t\tif (updateAll || (task.start_date && task.end_date && (taskTiming.$no_start || taskTiming.$no_end))) {\n\n\t\t\tvar oldStart = task.start_date.valueOf(),\n\t\t\t\toldEnd = task.end_date.valueOf();\n\n\t\t\tgantt.resetProjectDates(task);\n\n\t\t\t// not refresh parent projects if dates hasn't changed\n\t\t\tif (!updateAll && oldStart == task.start_date.valueOf() && oldEnd == task.end_date.valueOf()) {\n\t\t\t\thas_changed = false;\n\t\t\t}\n\n\t\t\tif (has_changed && !silent) {\n\t\t\t\tthis.refreshTask(task.id, true);\n\t\t\t}\n\t\t}\n\n\n\t\tif (has_changed && pid && this.isTaskExists(pid)) {\n\t\t\tthis._update_parents(pid, silent, updateAll);\n\t\t}\n\t};\n\n\tgantt.roundDate = function (config) {\n\t\tvar scale = gantt.getScale();\n\n\t\tif (helpers.isDate(config)) {\n\t\t\tconfig = {\n\t\t\t\tdate: config,\n\t\t\t\tunit: scale ? scale.unit : gantt.config.duration_unit,\n\t\t\t\tstep: scale ?  scale.step : gantt.config.duration_step\n\t\t\t};\n\t\t}\n\t\tvar date = config.date,\n\t\t\tsteps = config.step,\n\t\t\tunit = config.unit;\n\n\t\tif(!scale){\n\t\t\treturn date;\n\t\t}\n\n\t\tvar upper, lower, colIndex;\n\t\tif (unit == scale.unit && steps == scale.step &&\n\t\t\t+date >= +scale.min_date && +date <= +scale.max_date) {\n\t\t\t//find date in time scale config\n\t\t\tcolIndex = Math.floor(gantt.columnIndexByDate(date));\n\n\t\t\tif (!scale.trace_x[colIndex]) {\n\t\t\t\tcolIndex -= 1;// end of time scale\n\t\t\t\tif(scale.rtl){\n\t\t\t\t\tcolIndex = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlower = new Date(scale.trace_x[colIndex]);\n\t\t\tupper = gantt.date.add(lower, steps, unit);\n\t\t} else {\n\t\t\tcolIndex = Math.floor(gantt.columnIndexByDate(date));\n\n\t\t\tupper = gantt.date[unit + \"_start\"](new Date(scale.min_date));\n\t\t\tif (scale.trace_x[colIndex]) {\n\t\t\t\tupper = gantt.date[unit + \"_start\"](scale.trace_x[colIndex]);// end of time scale\n\t\t\t}\n\n\t\t\twhile (+upper < +date) {\n\t\t\t\tupper = gantt.date[unit + \"_start\"](gantt.date.add(upper, steps, unit));\n\n\t\t\t\tvar tzOffset = upper.getTimezoneOffset();\n\n\t\t\t\tupper = gantt._correct_dst_change(upper, tzOffset, upper, unit);\n\t\t\t\tif (gantt.date[unit + '_start'])\n\t\t\t\t\tupper = gantt.date[unit + '_start'](upper);\n\t\t\t}\n\n\t\t\tlower = gantt.date.add(upper, -1 * steps, unit);\n\n\t\t}\n\t\tif (config.dir && config.dir == 'future')\n\t\t\treturn upper;\n\t\tif (config.dir && config.dir == 'past')\n\t\t\treturn lower;\n\n\t\tif (Math.abs(date - lower) < Math.abs(upper - date)) {\n\t\t\treturn lower;\n\t\t} else {\n\t\t\treturn upper;\n\t\t}\n\n\t};\n\n\tgantt.correctTaskWorkTime = function (task) {\n\t\tif (gantt.config.work_time && gantt.config.correct_work_time) {\n\t\t\tif (!this.isWorkTime(task.start_date, undefined, task)) {\n\t\t\t\ttask.start_date = this.getClosestWorkTime({date: task.start_date, dir: 'future', task: task});\n\t\t\t\ttask.end_date = this.calculateEndDate(task);\n\t\t\t} else if (!this.isWorkTime(new Date(+task.end_date - 1), undefined, task)) {\n\t\t\t\ttask.end_date = this.calculateEndDate(task);\n\t\t\t}\n\t\t}\n\t};\n\n\tgantt.attachEvent(\"onBeforeTaskUpdate\", function (id, task) {\n\t\tgantt._init_task_timing(task);\n\t\treturn true;\n\t});\n\tgantt.attachEvent(\"onBeforeTaskAdd\", function (id, task) {\n\t\tgantt._init_task_timing(task);\n\t\treturn true;\n\t});\n\n\tgantt.attachEvent(\"onAfterTaskMove\", function (id, parent, tindex) {\n\t\tgantt._init_task_timing(gantt.getTask(id));\n\t\treturn true;\n\t});\n\n};","// TODO: rework public api for date methods\nvar utils = require(\"../../utils/utils\");\n\nvar createWorkTimeFacade = function(calendarManager, timeCalculator){\n\treturn {\n\t\tgetWorkHours: function (date) {\n\t\t\treturn timeCalculator.getWorkHours(date);\n\t\t},\n\n\t\tsetWorkTime: function (config) {\n\t\t\treturn timeCalculator.setWorkTime(config);\n\t\t},\n\n\t\tunsetWorkTime: function (config) {\n\t\t\ttimeCalculator.unsetWorkTime(config);\n\t\t},\n\n\t\tisWorkTime: function (date, unit, task) {\n\t\t\treturn timeCalculator.isWorkTime(date, unit, task);\n\t\t},\n\n\t\tgetClosestWorkTime: function (config) {\n\t\t\treturn timeCalculator.getClosestWorkTime(config);\n\t\t},\n\n\t\tcalculateDuration: function (start_date, end_date, task) {\n\t\t\treturn timeCalculator.calculateDuration(start_date, end_date, task);\n\t\t},\n\t\t_hasDuration: function (start_date, end_date, task) {\n\t\t\treturn timeCalculator.hasDuration(start_date, end_date, task);\n\t\t},\n\n\t\tcalculateEndDate: function (start, duration, unit, task) {\n\t\t\treturn timeCalculator.calculateEndDate(start, duration, unit, task);\n\t\t},\n\n\t\tmergeCalendars: utils.bind(calendarManager.mergeCalendars, calendarManager),\n\t\tcreateCalendar: utils.bind(calendarManager.createCalendar, calendarManager),\n\t\taddCalendar: utils.bind(calendarManager.addCalendar, calendarManager),\n\t\tgetCalendar: utils.bind(calendarManager.getCalendar, calendarManager),\n\t\tgetCalendars: utils.bind(calendarManager.getCalendars, calendarManager),\n\t\tgetResourceCalendar: utils.bind(calendarManager.getResourceCalendar, calendarManager),\n\t\tgetTaskCalendar: utils.bind(calendarManager.getTaskCalendar, calendarManager),\n\t\tdeleteCalendar: utils.bind(calendarManager.deleteCalendar, calendarManager)\n\t};\n};\n\n\nmodule.exports = { create: createWorkTimeFacade };","function CalendarDisabledTimeStrategy(gantt, argumentsHelper){\n\tthis.argumentsHelper = argumentsHelper;\n\tthis.$gantt = gantt;\n}\n\nCalendarDisabledTimeStrategy.prototype = {\n\tgetWorkHours: function () {\n\t\treturn [0, 24];\n\t},\n\tsetWorkTime: function () {\n\t\treturn true;\n\t},\n\tunsetWorkTime: function () {\n\t\treturn true;\n\t},\n\tisWorkTime: function () {\n\t\treturn true;\n\t},\n\tgetClosestWorkTime: function (config) {\n\t\tvar config = this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper, arguments);\n\t\treturn config.date;\n\t},\n\n\tcalculateDuration: function () {\n\t\tvar config = this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper, arguments);\n\t\tvar from = config.start_date,\n\t\t\tto = config.end_date,\n\t\t\tunit = config.unit,\n\t\t\tstep = config.step;\n\n\t\treturn this._calculateDuration(from, to, unit, step);\n\t},\n\t_calculateDuration: function (start, end, unit, step) {\n\t\tvar dateHelper = this.$gantt.date;\n\t\tvar fixedUnits = {\n\t\t\t\"week\": 1000 * 60 * 60 * 24 * 7,\n\t\t\t\"day\": 1000 * 60 * 60 * 24,\n\t\t\t\"hour\": 1000 * 60 * 60,\n\t\t\t\"minute\": 1000 * 60\n\t\t};\n\n\t\tvar res = 0;\n\t\tif (fixedUnits[unit]) {\n\t\t\tres = Math.round((end - start) / (step * fixedUnits[unit]));\n\t\t} else {\n\t\t\tvar from = new Date(start),\n\t\t\t\tto = new Date(end);\n\t\t\twhile (from.valueOf() < to.valueOf()) {\n\t\t\t\tres += 1;\n\t\t\t\tfrom = dateHelper.add(from, step, unit);\n\t\t\t}\n\n\t\t\tif (from.valueOf() != end.valueOf()) {\n\t\t\t\tres += (to - from) / (dateHelper.add(from, step, unit) - from);\n\t\t\t}\n\t\t}\n\n\t\treturn Math.round(res);\n\t},\n\n\thasDuration: function () {\n\t\tvar config = this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper, arguments);\n\t\tvar from = config.start_date,\n\t\t\tto = config.end_date,\n\t\t\tunit = config.unit;\n\n\t\tif (!unit) {\n\t\t\treturn false;\n\t\t}\n\t\tfrom = new Date(from);\n\t\tto = new Date(to);\n\n\t\treturn (from.valueOf() < to.valueOf());\n\t},\n\n\thasWorkTime: function() {\n\t\treturn true;\n\t},\n\n\tequals: function(calendar) {\n\t\tif(!(calendar instanceof CalendarDisabledTimeStrategy)){\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\tcalculateEndDate: function () {\n\t\tvar config = this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper, arguments);\n\n\t\tvar start = config.start_date,\n\t\t\tduration = config.duration,\n\t\t\tunit = config.unit,\n\t\t\tstep = config.step;\n\n\t\treturn this.$gantt.date.add(start, step * duration, unit);\n\t}\n};\n\nmodule.exports = CalendarDisabledTimeStrategy;","var createArgumentsHelper = require(\"./calendar_arguments_helper\"),\n\tNoWorkTimeCalendar = require(\"./strategy/no_work_time\");\n\nfunction TimeCalculator(calendarManager){\n\n\tthis.$gantt = calendarManager.$gantt;\n\tthis.argumentsHelper = createArgumentsHelper(this.$gantt);\n\tthis.calendarManager = calendarManager;\n\tthis.$disabledCalendar = new NoWorkTimeCalendar(this.$gantt, this.argumentsHelper);\n}\n\nTimeCalculator.prototype = {\n\t_getCalendar: function (config) {\n\t\tvar calendar;\n\t\tif (!this.$gantt.config.work_time) {\n\t\t\tcalendar = this.$disabledCalendar;\n\t\t} else {\n\t\t\tvar manager = this.calendarManager;\n\t\t\tif (config.task) {\n\t\t\t\tcalendar = manager.getTaskCalendar(config.task);\n\t\t\t} else if (config.id) {\n\t\t\t\tcalendar = manager.getTaskCalendar(config);\n\t\t\t} else if (config.calendar) {\n\t\t\t\tcalendar = config.calendar;\n\t\t\t}\n\t\t\tif (!calendar) {\n\t\t\t\tcalendar = manager.getTaskCalendar();\n\t\t\t}\n\t\t}\n\t\treturn calendar;\n\t},\n\n\tgetWorkHours: function (config) {\n\t\tconfig = this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper, arguments);\n\n\t\tvar calendar = this._getCalendar(config);\n\n\t\treturn calendar.getWorkHours(config.date);\n\t},\n\n\tsetWorkTime: function (config, calendar) {\n\t\tconfig = this.argumentsHelper.setWorkTimeArguments.apply(this.argumentsHelper, arguments);\n\n\t\tif (!calendar)\n\t\t\tcalendar = this.calendarManager.getCalendar(); // Global\n\t\treturn calendar.setWorkTime(config);\n\t},\n\n\tunsetWorkTime: function (config, calendar) {\n\t\tconfig = this.argumentsHelper.unsetWorkTimeArguments.apply(this.argumentsHelper, arguments);\n\n\t\tif (!calendar)\n\t\t\tcalendar = this.calendarManager.getCalendar(); // Global\n\t\treturn calendar.unsetWorkTime(config);\n\t},\n\tisWorkTime: function (date, unit, task, calendar) {\n\t\tvar config = this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper, arguments);\n\n\t\tcalendar = this._getCalendar(config);\n\t\treturn calendar.isWorkTime(config);\n\t},\n\tgetClosestWorkTime: function (config) {\n\t\tconfig = this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper, arguments);\n\n\t\tvar calendar = this._getCalendar(config);\n\n\t\treturn calendar.getClosestWorkTime(config);\n\t},\n\n\tcalculateDuration: function () { // start_date_date, end_date, task\n\t\tvar config = this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper, arguments);\n\n\n\t\tvar calendar = this._getCalendar(config);\n\t\treturn calendar.calculateDuration(config);\n\t},\n\thasDuration: function () {\n\t\tvar config = this.argumentsHelper.hasDurationArguments.apply(this.argumentsHelper, arguments);\n\n\t\tvar calendar = this._getCalendar(config);\n\n\t\treturn calendar.hasDuration(config);\n\t},\n\tcalculateEndDate: function (config) { // start_date, duration, unit, task\n\t\tvar config = this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper, arguments);\n\n\t\tvar calendar = this._getCalendar(config);\n\t\treturn calendar.calculateEndDate(config);\n\t}\n};\n\nmodule.exports = TimeCalculator;\n\n","module.exports = function() {\n\tfunction getResourcesCalendarKey(resourceAssignments){\n\t\treturn resourceAssignments.map(function(res){\n\t\t\tif(res && res.resource_id){\n\t\t\t\treturn res.resource_id;\n\t\t\t} else {\n\t\t\t\treturn res;\n\t\t\t}\n\t\t}).sort().join(\"-\");\n\t}\n\n\tvar dynamicCalendars = {};\n\n\tfunction mergeResourceCalendars(resourceAssignments, manager){\n\t\treturn manager.mergeCalendars(resourceAssignments.map(function(assignment){\n\t\t\tvar resourceId = (assignment && assignment.resource_id) ? assignment.resource_id : assignment;\n\t\t\treturn manager.getResourceCalendar(resourceId);\n\t\t}));\n\t}\n\tfunction getCalendarIdFromMultipleResources(resourceAssignments, manager){\n\t\tvar key = getResourcesCalendarKey(resourceAssignments);\n\t\tif(!resourceAssignments.length){\n\t\t\treturn null;\n\t\t}else if(resourceAssignments.length === 1){\n\t\t\treturn manager.getResourceCalendar(key).id;\n\t\t}else if (dynamicCalendars[key]){\n\t\t\treturn dynamicCalendars[key].id;\n\t\t} else {\n\t\t\tvar tempCalendar = mergeResourceCalendars(resourceAssignments, manager);\n\n\t\t\tdynamicCalendars[key] = tempCalendar;\n\t\t\treturn manager.addCalendar(tempCalendar);\n\t\t}\n\t}\n\n\treturn {\n\t\tgetCalendarIdFromMultipleResources: getCalendarIdFromMultipleResources\n\t};\n};","module.exports = {\n\tisLegacyResourceCalendarFormat: function(resourceCalendarsProperty){\n\t\t// modern format:\n\t\t//gantt.config.resource_calendars = {\n\t\t//\tresourceId: calendarId,\n\t\t//\tresourceId: calendarId,\n\t\t//\tresourceId: calendarId\n\t\t//\t};\n\t\t\n\t\t// legacy format:\n\t\t// gantt.config.resource_calendars = {\n\t\t//\t\"resourceProperty\": {\n\t\t//\t\tresourceId: calendarId,\n\t\t//\t\tresourceId: calendarId,\n\t\t//\t\tresourceId: calendarId\n\t\t//\t\t}\n\t\t//\t};\n\n\t\tif(!resourceCalendarsProperty){\n\t\t\treturn false;\n\t\t}\n\t\tfor(var i in resourceCalendarsProperty){\n\t\t\tif(resourceCalendarsProperty[i] && typeof resourceCalendarsProperty[i] === \"object\"){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\tgetResourceProperty: function(config){\n\t\tvar resourceCalendarsConfig = config.resource_calendars;\n\t\tvar propertyName = config.resource_property;\n\t\tif(this.isLegacyResourceCalendarFormat(resourceCalendarsConfig)){\n\t\t\tfor(var i in config){\n\t\t\t\tpropertyName = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn propertyName;\n\t},\n\tgetCalendarIdFromLegacyConfig: function(task, config){\n\t\tif (config) {\n\t\t\tfor (var field in config) {\n\t\t\t\tvar resource = config[field];\n\t\t\t\tif (task[field]) {\n\t\t\t\t\tvar calendarId = resource[task[field]];\n\t\t\t\t\tif (calendarId) {\n\t\t\t\t\t\treturn calendarId;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n};","\n\nexport class LargerUnitsCache {\n\tprivate _weekCache: Map<number, number>;\n\tprivate _monthCache: Map<number, number>;\n\tprivate _calendar: any;\n\tconstructor(calendar) {\n\t\tthis.clear();\n\t\tthis._calendar = calendar;\n\t}\n\n\tgetMinutesPerWeek = (weekStart: Date) => {\n\t\tconst key = weekStart.valueOf();\n\n\t\tif(this._weekCache.has(key)){\n\t\t\treturn this._weekCache.get(key);\n\t\t}\n\n\t\tconst calendar = this._calendar;\n\t\tconst gantt = this._calendar.$gantt;\n\n\t\tlet minutesPerWeek = 0;\n\t\tlet start = gantt.date.week_start(new Date(weekStart));\n\t\tfor(let i = 0; i < 7; i++){\n\t\t\tminutesPerWeek += calendar.getHoursPerDay(start) * 60;\n\t\t\tstart = gantt.date.add(start, 1, \"day\");\n\t\t}\n\n\t\tthis._weekCache.set(key, minutesPerWeek);\n\t\treturn minutesPerWeek;\n\t}\n\n\tgetMinutesPerMonth = (monthStart: Date) => {\n\t\tconst key = monthStart.valueOf();\n\n\t\tif(this._monthCache.has(key)){\n\t\t\treturn this._monthCache.get(key);\n\t\t}\n\n\t\tconst calendar = this._calendar;\n\t\tconst gantt = this._calendar.$gantt;\n\n\t\tlet minutesPerMonth = 0;\n\t\tlet start = gantt.date.week_start(new Date(monthStart));\n\t\tconst nextMonth = gantt.date.add(start, 1, \"month\").valueOf();\n\t\twhile(start.valueOf() < nextMonth){\n\t\t\tminutesPerMonth += calendar.getHoursPerDay(start) * 60;\n\t\t\tstart = gantt.date.add(start, 1, \"day\");\n\t\t}\n\n\t\tthis._monthCache.set(key, minutesPerMonth);\n\t\treturn minutesPerMonth;\n\t}\n\n\tclear = (): void => {\n\t\tthis._weekCache = new Map<number, number>();\n\t\tthis._monthCache = new Map<number, number>();\n\t}\n}","import { IWorkUnitCache } from \"./workunit_cache_interface\";\n\nexport class WorkUnitsObjectCache implements IWorkUnitCache {\n\tprivate _cache: any;\n\tconstructor() {\n\t\tthis.clear();\n\t}\n\n\tgetItem(unit: string, timestamp: string, value: Date): number|boolean {\n\t\tconst cache = this._cache;\n\t\tif (cache && cache[unit]) {\n\t\t\tconst units = cache[unit];\n\t\t\tif(units === undefined){\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tconst subCache = units[value.getFullYear()];\n\t\t\tif (subCache && subCache[timestamp] !== undefined) {\n\t\t\t\treturn subCache[timestamp];\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t}\n\tsetItem(unit: string, timestamp: string, value: boolean, rawValue: Date): void {\n\t\tif (!unit || !timestamp) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst cache = this._cache;\n\n\t\tif (!cache) {\n\t\t\treturn;\n\t\t}\n\t\tif (!cache[unit]) {\n\t\t\tcache[unit] = [];\n\t\t}\n\t\tconst unitCache = cache[unit];\n\n\t\tconst year = rawValue.getFullYear();\n\t\tlet yearCache = unitCache[year];\n\t\tif(!yearCache){\n\t\t\tyearCache = unitCache[year] = {};\n\t\t}\n\t\tyearCache[timestamp] = value;\n\t}\n\tclear(): void{\n\t\tthis._cache = {};\n\t}\n}","\n\nimport { IWorkUnitCache } from \"./workunit_cache_interface\";\n\nexport class WorkUnitsMapCache implements IWorkUnitCache {\n\tprivate _cache: Map<string, Array<Map<string, boolean>>>;\n\tconstructor() {\n\t\tthis.clear();\n\t}\n\n\tgetItem(unit: string, timestamp: string, value: Date): number|boolean {\n\t\tif (this._cache.has(unit)) {\n\t\t\tconst unitCache = this._cache.get(unit);\n\n\t\t\tconst subCache = unitCache[value.getFullYear()];\n\t\t\tif (subCache && subCache.has(timestamp)) {\n\t\t\t\treturn subCache.get(timestamp);\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t}\n\tsetItem(unit: string, timestamp: string, value: boolean, rawValue: Date): void {\n\t\tif (!unit || !timestamp) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst cache = this._cache;\n\t\tconst year = rawValue.getFullYear();\n\n\t\tlet unitCache;\n\t\tif (!cache.has(unit)) {\n\t\t\tunitCache = [];\n\t\t\tcache.set(unit, unitCache);\n\t\t} else {\n\t\t\tunitCache = cache.get(unit);\n\t\t}\n\n\t\tlet yearCache = unitCache[year];\n\t\tif(!yearCache){\n\t\t\tyearCache = unitCache[year] = new Map<string, boolean>();\n\t\t}\n\n\n\t\tyearCache.set(timestamp, value);\n\t}\n\tclear(): void{\n\t\tthis._cache = new Map<string, Array<Map<string, boolean>>>();\n\t}\n}","var createCacheObject = require(\"./work_unit_cache\").createCacheObject;\nvar LargerUnitsCache = require(\"./work_unit_cache\").LargerUnitsCache;\nvar utils = require(\"../../../utils/utils\");\n\nfunction CalendarWorkTimeStrategy(gantt, argumentsHelper) {\n\tthis.argumentsHelper = argumentsHelper;\n\tthis.$gantt = gantt;\n\tthis._workingUnitsCache = createCacheObject();\n\tthis._largeUnitsCache = new LargerUnitsCache(this);\n\tthis._worktime = null;\n\tthis._cached_timestamps = {};\n\tthis._cached_timestamps_count = 0;\n}\n\nCalendarWorkTimeStrategy.prototype = {\n\tunits: [\n\t\t\"year\",\n\t\t\"month\",\n\t\t\"week\",\n\t\t\"day\",\n\t\t\"hour\",\n\t\t\"minute\"\n\t],\n\t// cache previously calculated worktime\n\t_getUnitOrder: function (unit) {\n\t\tfor (var i = 0, len = this.units.length; i < len; i++) {\n\t\t\tif (this.units[i] == unit)\n\t\t\t\treturn i;\n\t\t}\n\t},\n\t_resetTimestampCache: function(){\n\t\tthis._cached_timestamps = {};\n\t\tthis._cached_timestamps_count = 0;\n\t},\n\t_timestamp: function (settings) {\n\t\t// minor optimization, store calculated timestamps to reduce computations\n\t\t// reset cache when number of keys exceeds large number where key lookup may became more expensive than the recalculation\n\t\tif(this._cached_timestamps_count > 1000000){\n\t\t\tthis._resetTimestampCache();\n\t\t}\n\n\t\tvar timestamp = null;\n\t\tif ((settings.day || settings.day === 0)) {\n\t\t\ttimestamp = settings.day;\n\t\t} else if (settings.date) {\n\t\t\tvar value = String(settings.date.valueOf());\n\t\t\tif(this._cached_timestamps[value]){\n\t\t\t\ttimestamp = this._cached_timestamps[value];\n\t\t\t}else{\n\t\t\t\t// store worktime datestamp in utc so it could be recognized in different timezones (e.g. opened locally and sent to the export service in different timezone)\n\t\t\t\ttimestamp = Date.UTC(settings.date.getFullYear(), settings.date.getMonth(), settings.date.getDate());\n\t\t\t\tthis._cached_timestamps[value] = timestamp;\n\t\t\t\tthis._cached_timestamps_count++;\n\t\t\t}\n\n\t\t}\n\t\treturn timestamp;\n\t},\n\t_checkIfWorkingUnit: function (date, unit) {\n\t\tif (!this[\"_is_work_\" + unit])\n\t\t\treturn true;\n\t\treturn this[\"_is_work_\" + unit](date);\n\t},\n\t//checkings for particular time units\n\t//methods for month-year-week can be defined, otherwise always return 'true'\n\t_is_work_day: function (date) {\n\t\tvar val = this._getWorkHours(date);\n\n\t\tif (Array.isArray(val)) {\n\t\t\treturn val.length > 0;\n\t\t}\n\t\treturn false;\n\t},\n\t_is_work_hour: function (date) {\n\t\tvar hours = this._getWorkHours(date); // [{start: 8*60*60, end: 12*60*60}, {start: 13*60*60, end: 17*60*60}]\n\t\tvar value = date.getHours();\n\t\tfor (var i = 0; i < hours.length; i++) {\n\t\t\tif(value >= hours[i].startHour && value < hours[i].endHour){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\n\t_getTimeOfDayStamp: function(date, dayEnd) {\n\t\tvar hours = date.getHours();\n\t\tif(!date.getHours() && !date.getMinutes() && dayEnd){\n\t\t\thours = 24;\n\t\t}\n\t\treturn hours * 60 * 60 + date.getMinutes() * 60;\n\t},\n\n\t_is_work_minute: function(date){\n\t\tvar hours = this._getWorkHours(date); // [{start: 8*60*60, end: 12*60*60}, {start: 13*60*60, end: 17*60*60}]\n\t\tvar checkTime = this._getTimeOfDayStamp(date);\n\t\tfor (var i = 0; i < hours.length; i++) {\n\t\t\tif(checkTime >= hours[i].start && checkTime < hours[i].end){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\n\t_nextDate: function (start, unit, step) {\n\t\treturn this.$gantt.date.add(start, step, unit);\n\t},\n\t_getWorkUnitsBetweenGeneric: function (from, to, unit, step) {\n\t\tvar dateHelper = this.$gantt.date;\n\t\tvar start = new Date(from),\n\t\t\tend = new Date(to);\n\t\tstep = step || 1;\n\t\tvar units = 0;\n\n\n\t\tvar next = null;\n\t\tvar stepStart,\n\t\t\tstepEnd;\n\n\t\t// calculating decimal durations, i.e. 2016-09-20 00:05:00 - 2016-09-20 01:00:00 ~ 0.95 instead of 1\n\t\t// and also  2016-09-20 00:00:00 - 2016-09-20 00:05:00 ~ 0.05 instead of 1\n\t\t// durations must be rounded later\n\t\tvar checkFirst = false;\n\t\tstepStart = dateHelper[unit + \"_start\"](new Date(start));\n\t\tif (stepStart.valueOf() != start.valueOf()) {\n\t\t\tcheckFirst = true;\n\t\t}\n\t\tvar checkLast = false;\n\t\tstepEnd = dateHelper[unit + \"_start\"](new Date(to));\n\t\tif (stepEnd.valueOf() != to.valueOf()) {\n\t\t\tcheckLast = true;\n\t\t}\n\n\t\tvar isLastStep = false;\n\t\twhile (start.valueOf() < end.valueOf()) {\n\t\t\tnext = this._nextDate(start, unit, step);\n\t\t\tisLastStep = (next.valueOf() > end.valueOf());\n\n\t\t\tif (this._isWorkTime(start, unit)) {\n\t\t\t\tif (checkFirst || (checkLast && isLastStep)) {\n\t\t\t\t\tstepStart = dateHelper[unit + \"_start\"](new Date(start));\n\t\t\t\t\tstepEnd = dateHelper.add(stepStart, step, unit);\n\t\t\t\t}\n\n\t\t\t\tif (checkFirst) {\n\t\t\t\t\tcheckFirst = false;\n\t\t\t\t\tnext = this._nextDate(stepStart, unit, step);\n\t\t\t\t\tunits += ((stepEnd.valueOf() - start.valueOf()) / (stepEnd.valueOf() - stepStart.valueOf()));\n\t\t\t\t} else if (checkLast && isLastStep) {\n\t\t\t\t\tcheckLast = false;\n\t\t\t\t\tunits += ((end.valueOf() - start.valueOf()) / (stepEnd.valueOf() - stepStart.valueOf()));\n\n\t\t\t\t} else {\n\t\t\t\t\tunits++;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tvar unitOrder = this._getUnitOrder(unit);\n\t\t\t\tvar biggerTimeUnit = this.units[unitOrder - 1];\n\t\t\t\tif(biggerTimeUnit && !this._isWorkTime(start, biggerTimeUnit)){\n\t\t\t\t\tnext = this._getClosestWorkTimeFuture(start, biggerTimeUnit);\n\t\t\t\t}\n\t\t\t}\n\t\t\tstart = next;\n\t\t}\n\t\treturn units;\n\t},\n\n\t_getMinutesPerHour: function (date) {\n\t\tvar hourStart = this._getTimeOfDayStamp(date);\n\t\tvar hourEnd = this._getTimeOfDayStamp(this._nextDate(date, \"hour\", 1));\n\t\tif (hourEnd === 0){\n\t\t\thourEnd = 24 * 60 * 60;\n\t\t}\n\t\tvar worktimes = this._getWorkHours(date);\n\n\t\tfor(var i = 0; i < worktimes.length; i++){\n\t\t\tvar interval = worktimes[i];\n\t\t\tif(hourStart >= interval.start && hourEnd <= interval.end){\n\t\t\t\treturn 60;// hour inside a working interval, all hour is a work hour\n\t\t\t}else if(hourStart < interval.end && hourEnd > interval.start){\n\t\t\t\t// hour is partially work time\n\t\t\t\tvar duration = Math.min(hourEnd, interval.end) - Math.max(hourStart, interval.start);\n\t\t\t\treturn duration / 60;\n\t\t\t}\n\t\t}\n\n\t\treturn 0;\n\t},\n\n\t_getMinutesPerDay: function (date) {\n\t\tvar hours = this._getWorkHours(date);\n\t\tvar res = 0;\n\t\thours.forEach(function(interval){\n\t\t\tres+= interval.durationMinutes;\n\t\t});\n\t\treturn res;\n\t},\n\tgetHoursPerDay: function (date) {\n\t\tvar hours = this._getWorkHours(date);\n\t\tvar res = 0;\n\t\thours.forEach(function(interval){\n\t\t\tres+= interval.durationHours;\n\t\t});\n\t\treturn res;\n\t},\n\t_getWorkUnitsForRange: function (from, to, unit, step) {\n\t\tvar total = 0;\n\t\tvar start = new Date(from),\n\t\t\tend = new Date(to);\n\n\t\tvar getUnitsPerDay;\n\t\tif (unit == \"minute\") {\n\t\t\tgetUnitsPerDay = utils.bind(this._getMinutesPerDay, this);\n\t\t} else {\n\t\t\tgetUnitsPerDay = utils.bind(this.getHoursPerDay, this);\n\t\t}\n\n\t\twhile (start.valueOf() < end.valueOf()) {\n\t\t\tif(end - start > 1000*60*60*24*32 && start.getDate() === 0) {\n\t\t\t\tvar units = this._largeUnitsCache.getMinutesPerMonth(start);\n\t\t\t\tif(unit == \"hour\"){\n\t\t\t\t\tunits = units / 60;\n\t\t\t\t}\n\t\t\t\ttotal += units;\n\t\t\t\tstart = this.$gantt.date.add(start, 1, \"month\");\n\t\t\t\tcontinue;\n\t\t\t}else if(end - start > 1000*60*60*24*16) {\n\t\t\t\tvar weekStart = this.$gantt.date.week_start(new Date(start));\n\t\t\t\tif(start.valueOf() === weekStart.valueOf()){\n\t\t\t\t\tvar units = this._largeUnitsCache.getMinutesPerWeek(start);\n\t\t\t\t\tif(unit == \"hour\"){\n\t\t\t\t\t\tunits = units / 60;\n\t\t\t\t\t}\n\t\t\t\t\ttotal += units;\n\t\t\t\t\tstart = this.$gantt.date.add(start, 7, \"day\");\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t//\tif (this._isWorkTime(start, \"day\")) {\n\t\t\ttotal += getUnitsPerDay(start);\n\t\t//\t}\n\t\t\tstart = this._nextDate(start, \"day\", 1);\n\t\t}\n\n\t\treturn total / step;\n\t},\n\n\n\t_getMinutesBetweenSingleDay: function(from, to){\n\t\tvar range = this._getIntervalTimestamp(from, to);\n\t\tvar worktimes = this._getWorkHours(from);\n\t\tvar result = 0;\n\n\t\tfor(var i = 0; i < worktimes.length; i++){\n\t\t\tvar interval = worktimes[i];\n\t\t\tif(range.end >= interval.start && range.start <= interval.end){\n\t\t\t\tvar minuteFrom = Math.max(interval.start, range.start);\n\t\t\t\tvar minuteTo = Math.min(interval.end, range.end);\n\n\t\t\t\tresult += (minuteTo - minuteFrom) / 60;\n\t\t\t\trange.start = minuteTo;\n\t\t\t}\n\t\t}\n\n\t\treturn Math.floor(result);\n\t},\n\n\t_getMinutesBetween: function(from, to, unit, step){\n\t\tvar start = new Date(from),\n\t\t\tend = new Date(to);\n\t\tstep = step || 1;\n\n\t\tvar firstDayStart = new Date(start);\n\t\tvar firstDayEnd = this.$gantt.date.add(this.$gantt.date.day_start(new Date(start)), 1, \"day\");\n\n\t\tif (end.valueOf() <= firstDayEnd.valueOf()) {\n\t\t\treturn this._getMinutesBetweenSingleDay(from, to);\n\t\t} else {\n\n\t\t\tvar lastDayStart = this.$gantt.date.day_start(new Date(end));\n\t\t\tvar lastDayEnd = end;\n\n\t\t\tvar startPart = this._getMinutesBetweenSingleDay(firstDayStart, firstDayEnd);\n\t\t\tvar endPart = this._getMinutesBetweenSingleDay(lastDayStart, lastDayEnd);\n\n\t\t\tvar rangePart = this._getWorkUnitsForRange(firstDayEnd, lastDayStart, unit, step);\n\t\t\tvar total = startPart + rangePart + endPart;\n\n\t\t\treturn total;\n\t\t}\n\t},\n\t// optimized method for calculating work units duration of large time spans\n\t// implemented for hours and minutes units, bigger time units don't benefit from the optimization so much\n\t_getHoursBetween: function (from, to, unit, step) {\n\t\tvar start = new Date(from),\n\t\t\tend = new Date(to);\n\t\tstep = step || 1;\n\n\t\tvar firstDayStart = new Date(start);\n\t\tvar firstDayEnd = this.$gantt.date.add(this.$gantt.date.day_start(new Date(start)), 1, \"day\");\n\n\t\tif (end.valueOf() <= firstDayEnd.valueOf()) {\n\t\t\treturn Math.round(this._getMinutesBetweenSingleDay(from, to) / 60);\n\t\t} else {\n\n\t\t\tvar lastDayStart = this.$gantt.date.day_start(new Date(end));\n\t\t\tvar lastDayEnd = end;\n\n\t\t\tvar startPart = this._getMinutesBetweenSingleDay(firstDayStart, firstDayEnd, unit, step) / 60;\n\t\t\tvar endPart = this._getMinutesBetweenSingleDay(lastDayStart, lastDayEnd, unit, step) / 60;\n\n\t\t\tvar rangePart = this._getWorkUnitsForRange(firstDayEnd, lastDayStart, unit, step);\n\t\t\tvar total = startPart + rangePart + endPart;\n\n\t\t\treturn Math.round(total);\n\t\t}\n\t},\n\n\tgetConfig: function () {\n\t\treturn this._worktime;\n\t},\n\t_setConfig: function (settings) {\n\t\tthis._worktime = settings;\n\t\tthis._parseSettings();\n\t\tthis._workingUnitsCache.clear();\n\t\tthis._largeUnitsCache.clear();\n\t},\n\t_parseSettings: function() {\n\t\tvar settings = this.getConfig();\n\t\tsettings.parsed = {\n\t\t\tdates: {},\n\t\t\thours: null,\n\t\t\thaveCustomWeeks: false,\n\t\t\tcustomWeeks: {},\n\t\t\tcustomWeeksRangeStart: null,\n\t\t\tcustomWeeksRangeEnd: null,\n\t\t\tcustomWeeksBoundaries: []\n\t\t};\n\n\t\tsettings.parsed.hours = this._parseHours(settings.hours);\n\t\tfor(var i in settings.dates){\n\t\t\tsettings.parsed.dates[i] = this._parseHours(settings.dates[i]);\n\t\t}\n\n\t\tif(settings.customWeeks) {\n\t\t\tvar minCustomRangeStart = null;\n\t\t\tvar maxCustomRangeEnd = null;\n\t\t\tfor(var i in settings.customWeeks){\n\t\t\t\tvar customTime = settings.customWeeks[i];\n\n\t\t\t\tif(customTime.from && customTime.to){\n\t\t\t\t\tvar rangeStart = customTime.from;\n\t\t\t\t\tvar rangeEnd = customTime.to;\n\t\t\t\t\tif(!minCustomRangeStart || minCustomRangeStart > rangeStart.valueOf()){\n\t\t\t\t\t\tminCustomRangeStart = rangeStart.valueOf();\n\t\t\t\t\t}\n\t\t\t\t\tif(!maxCustomRangeEnd || maxCustomRangeEnd < rangeEnd.valueOf()){\n\t\t\t\t\t\tmaxCustomRangeEnd = rangeEnd.valueOf();\n\t\t\t\t\t}\n\n\t\t\t\t\tsettings.parsed.customWeeksBoundaries.push({\n\t\t\t\t\t\tfrom: rangeStart.valueOf(),\n\t\t\t\t\t\tfromReadable: new Date(rangeStart),\n\t\t\t\t\t\tto: rangeEnd.valueOf(),\n\t\t\t\t\t\ttoReadable: new Date(rangeEnd),\n\t\t\t\t\t\tname: i\n\t\t\t\t\t});\n\n\t\t\t\t\tsettings.parsed.haveCustomWeeks = true;\n\t\t\t\t\tvar currentWeek = settings.parsed.customWeeks[i] = {\n\t\t\t\t\t\tfrom: customTime.from,\n\t\t\t\t\t\tto: customTime.to,\n\t\t\t\t\t\thours: this._parseHours(customTime.hours),\n\t\t\t\t\t\tdates: {}\n\t\t\t\t\t};\n\n\t\t\t\t\tfor(var d in customTime.dates){\n\t\t\t\t\t\tcurrentWeek.dates[d] = this._parseHours(customTime.dates[d]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsettings.parsed.customWeeksRangeStart = minCustomRangeStart;\n\t\t\tsettings.parsed.customWeeksRangeEnd = maxCustomRangeEnd;\n\n\t\t}\n\t},\n\n\t_tryChangeCalendarSettings: function (payload) {\n\t\tvar backup = JSON.stringify(this.getConfig());\n\t\tpayload();\n\t\tif (!this.hasWorkTime()) {\n\t\t//\tthis.$gantt.assert(false, \"Invalid calendar settings, no worktime available\");\n\t\t\tthis._setConfig(JSON.parse(backup));\n\t\t\tthis._workingUnitsCache.clear();\n\t\t\tthis._largeUnitsCache.clear();\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\n\t},\n\n\t_arraysEqual: function(a, b){\n\t\tif (a === b) return true;\n\t\tif (!a || !b) return false;\n\t\tif (a.length != b.length) return false;\n\n\t\tfor (var i = 0; i < a.length; ++i) {\n\t\t\tif (a[i] !== b[i]) return false;\n\t\t}\n\t\treturn true;\n\t},\n\n\n\t_compareSettings: function (mySettings, thatSettings) {\n\t\tif (!this._arraysEqual(mySettings.hours, thatSettings.hours)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar myDays = Object.keys(mySettings.dates);\n\t\tvar otherDates = Object.keys(thatSettings.dates);\n\t\tmyDays.sort();\n\t\totherDates.sort();\n\n\t\tif (!this._arraysEqual(myDays, otherDates)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tfor(var i = 0; i < myDays.length; i++){\n\t\t\tvar timestamp = myDays[i];\n\t\t\tvar myHours = mySettings.dates[timestamp];\n\t\t\tvar otherHours = mySettings.dates[timestamp];\n\n\t\t\t// day settings not equal\n\t\t\tif(myHours !== otherHours &&\n\t\t\t\t// but still can be two arrays with the equivalent hour settings\n\t\t\t\t!(Array.isArray(myHours) && Array.isArray(otherHours) && this._arraysEqual(myHours, otherHours))\n\t\t\t\t){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t},\n\n\tequals: function (calendar) {\n\t\tif(!(calendar instanceof CalendarWorkTimeStrategy)){\n\t\t\treturn false;\n\t\t}\n\n\t\tvar mySettings = this.getConfig();\n\t\tvar thatSettings = calendar.getConfig();\n\n\t\tif(!this._compareSettings(mySettings, thatSettings)){\n\t\t\treturn false;\n\t\t}\n\n\t\tif(mySettings.parsed.haveCustomWeeks && thatSettings.parsed.haveCustomWeeks){\n\t\t\tif(mySettings.parsed.customWeeksBoundaries.length != thatSettings.parsed.customWeeksBoundaries.length){\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tfor(var i in mySettings.parsed.customWeeks){\n\t\t\t\tvar myWeek = mySettings.parsed.customWeeks[i];\n\t\t\t\tvar thatWeek = thatSettings.parsed.customWeeks[i];\n\t\t\t\tif(!thatWeek){\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif(!this._compareSettings(myWeek, thatWeek)){\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}else if(mySettings.parse.haveCustomWeeks !== thatSettings.parsed.haveCustomWeeks){\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\tgetWorkHours: function () {\n\t\tvar config = this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper, arguments);\n\t\treturn this._getWorkHours(config.date, false);\n\t},\n\t_getWorkHours: function (date, parsed) {\n\t\tvar calendar = this.getConfig();\n\t\tif(parsed !== false){\n\t\t\tcalendar = calendar.parsed;\n\t\t}\n\n\t\tif(!date){\n\t\t\treturn calendar.hours;\n\t\t}\n\n\t\tvar dateValue = this._timestamp({date: date});\n\n\t\tif(calendar.haveCustomWeeks){\n\t\t\tif(calendar.customWeeksRangeStart <= dateValue && calendar.customWeeksRangeEnd > dateValue){\n\t\t\t\tfor(var i = 0; i < calendar.customWeeksBoundaries.length; i++){\n\t\t\t\t\tif(calendar.customWeeksBoundaries[i].from <= dateValue && calendar.customWeeksBoundaries[i].to > dateValue){\n\t\t\t\t\t\tcalendar = calendar.customWeeks[calendar.customWeeksBoundaries[i].name];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar hours = true;\n\n\t\tif (calendar.dates[dateValue] !== undefined) {\n\t\t\thours = calendar.dates[dateValue];//custom day\n\t\t} else if (calendar.dates[date.getDay()] !== undefined) {\n\t\t\thours = calendar.dates[date.getDay()];//week day\n\t\t}\n\t\tif (hours === true) {\n\t\t\treturn calendar.hours;\n\t\t} else if (hours) {\n\t\t\treturn hours;\n\t\t}\n\t\treturn [];\n\t},\n\n\t_getIntervalTimestamp: function(from, to){\n\t\tvar res = {\n\t\t\tstart: 0,\n\t\t\tend: 0\n\t\t};\n\n\t\tres.start = from.getHours() * 60 * 60 + from.getMinutes() * 60 + from.getSeconds();\n\t\tvar endHours = to.getHours();\n\t\tif(!endHours && !to.getMinutes() && !to.getSeconds() && from.valueOf() < to.valueOf()){\n\t\t\tendHours = 24;\n\t\t}\n\t\tres.end = endHours * 60 * 60 + to.getMinutes() * 60 + to.getSeconds();\n\t\treturn res;\n\t},\n\n\t_parseHours: function(hours) {\n\t\tif(Array.isArray(hours)){\n\n\t\t\tvar timestampRanges = [];// worktime as seconds range\n\t\t\thours.forEach(function(hour){\n\t\t\t\tif(typeof hour === \"number\"){\n\t\t\t\t\ttimestampRanges.push(hour*60*60);\n\t\t\t\t}else if(typeof hour === \"string\") {\n\t\t\t\t\t// \"12-13\", or \"12:00-13:00\", or \"12:00:00-13:00:00\"\n\t\t\t\t\thour.split(\"-\").map(function(time){\n\t\t\t\t\t\treturn time.trim();\n\t\t\t\t\t}).forEach(function(part){\n\t\t\t\t\t\tvar parsed = part.split(\":\").map(function(time){\n\t\t\t\t\t\t\treturn time.trim();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tvar value = parseInt(parsed[0]*60*60);\n\t\t\t\t\t\tif(parsed[1]){\n\t\t\t\t\t\t\tvalue += parseInt(parsed[1]*60);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(parsed[2]){\n\t\t\t\t\t\t\tvalue += parseInt(parsed[2]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttimestampRanges.push(value);\n\t\t\t\t\t});\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar timerangeConfig = [];\n\t\t\tfor (var i = 0; i < timestampRanges.length; i += 2) {\n\t\t\t\tvar start = timestampRanges[i];\n\t\t\t\tvar end = timestampRanges[i + 1];\n\t\t\t\tvar duration = end - start;\n\n\t\t\t\ttimerangeConfig.push({\n\t\t\t\t\tstart: start,\n\t\t\t\t\tend: end,\n\t\t\t\t\tstartHour: Math.floor(start / (60*60)),\n\t\t\t\t\tstartMinute: Math.floor(start / (60)),\n\t\t\t\t\tendHour: Math.ceil(end / (60*60)),\n\t\t\t\t\tendMinute: Math.ceil(end / (60)),\n\t\t\t\t\tdurationSeconds: duration,\n\t\t\t\t\tdurationMinutes: duration/60,\n\t\t\t\t\tdurationHours: duration/(60 * 60)\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn timerangeConfig;\n\t\t} else {\n\t\t\treturn hours;\n\t\t}\n\t},\n\n\tsetWorkTime: function (settings) {\n\t\treturn this._tryChangeCalendarSettings(utils.bind(function () {\n\t\t\tvar hours = settings.hours !== undefined ? settings.hours : true;\n\t\t\tvar timestamp = this._timestamp(settings);\n\t\t\tvar calendarConfig = this.getConfig();\n\t\t\tif (timestamp !== null) {\n\t\t\t\tcalendarConfig.dates[timestamp] = hours;\n\t\t\t} else if(!settings.customWeeks) {\n\t\t\t\tcalendarConfig.hours = hours;\n\t\t\t}\n\n\t\t\tif(settings.customWeeks){\n\t\t\t\tif(!calendarConfig.customWeeks){\n\t\t\t\t\tcalendarConfig.customWeeks = {};\n\t\t\t\t}\n\t\t\t\tfor(var i in settings.customWeeks){\n\t\t\t\t\tcalendarConfig.customWeeks[i] = settings.customWeeks[i];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._parseSettings();\n\t\t\tthis._workingUnitsCache.clear();\n\t\t\tthis._largeUnitsCache.clear();\n\t\t}, this));\n\t},\n\n\tunsetWorkTime: function (settings) {\n\t\treturn this._tryChangeCalendarSettings(utils.bind(function () {\n\t\t\tif (!settings) {\n\t\t\t\tthis.reset_calendar();\n\t\t\t} else {\n\n\t\t\t\tvar timestamp = this._timestamp(settings);\n\n\t\t\t\tif (timestamp !== null) {\n\t\t\t\t\tdelete this.getConfig().dates[timestamp];\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Clear work units cache\n\t\t\tthis._workingUnitsCache.clear();\n\t\t\tthis._largeUnitsCache.clear();\n\t\t}, this));\n\t},\n\n\t_isWorkTime: function (date, unit) {\n\t\t// Check if this item has in the cache\n\n\t\tvar useCache = true;//unit === \"day\"; // use cache only for days. In case of hours/minutes cache size grows too large and the overhead exceeds the gains\n\t\tvar isWorkUnit = -1;\n\t\tvar dateKey = null;\n\n\t\tif(useCache){\n\t\t\t// use string keys\n\t\t\tdateKey = String(date.valueOf());\n\t\t\tisWorkUnit = this._workingUnitsCache.getItem(unit, dateKey, date);\n\t\t}\n\n\t\tif (isWorkUnit == -1) {\n\t\t\t// calculate if not cached\n\t\t\tisWorkUnit = this._checkIfWorkingUnit(date, unit);\n\t\t\tif(useCache){\n\t\t\t\tthis._workingUnitsCache.setItem(unit, dateKey, isWorkUnit, date);\n\t\t\t}\n\t\t}\n\n\t\treturn isWorkUnit;\n\t},\n\n\tisWorkTime: function () {\n\t\tvar config =  this.argumentsHelper.isWorkTimeArguments.apply( this.argumentsHelper, arguments);\n\t\treturn this._isWorkTime(config.date, config.unit);\n\t},\n\n\tcalculateDuration: function () {\n\t\tvar config =  this.argumentsHelper.getDurationArguments.apply( this.argumentsHelper, arguments);\n\n\t\tif (!config.unit) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this._calculateDuration(config.start_date, config.end_date, config.unit, config.step);\n\t},\n\n\t_calculateDuration: function (from, to, unit, step) {\n\t\tvar res = 0;\n\n\t\tvar sign = 1;\n\t\tif(from.valueOf() > to.valueOf()){\n\t\t\tvar tmp = to;\n\t\t\tto = from;\n\t\t\tfrom = tmp;\n\t\t\tsign = -1;\n\t\t}\n\n\t\tif (unit == \"hour\" && step == 1) {\n\t\t\tres = this._getHoursBetween(from, to, unit, step);\n\t\t} else if(unit == \"minute\" && step == 1){\n\t\t\t// quick calculation for minutes with 1 minute step\n\t\t\tres = this._getMinutesBetween(from, to, unit, step);\n\t\t} else {\n\t\t\tres = this._getWorkUnitsBetweenGeneric(from, to, unit, step);\n\t\t}\n\n\t\t// getWorkUnits.. returns decimal durations\n\t\treturn sign * Math.round(res);\n\t},\n\thasDuration: function () {\n\t\tvar config =  this.argumentsHelper.getDurationArguments.apply( this.argumentsHelper, arguments);\n\n\t\tvar from = config.start_date,\n\t\t\tto = config.end_date,\n\t\t\tunit = config.unit,\n\t\t\tstep = config.step;\n\n\t\tif (!unit) {\n\t\t\treturn false;\n\t\t}\n\t\tvar start = new Date(from),\n\t\t\tend = new Date(to);\n\t\tstep = step || 1;\n\n\t\twhile (start.valueOf() < end.valueOf()) {\n\t\t\tif (this._isWorkTime(start, unit))\n\t\t\t\treturn true;\n\t\t\tstart = this._nextDate(start, unit, step);\n\t\t}\n\t\treturn false;\n\t},\n\n\tcalculateEndDate: function () {\n\t\tvar config =  this.argumentsHelper.calculateEndDateArguments.apply( this.argumentsHelper, arguments);\n\n\t\tvar from = config.start_date,\n\t\t\tduration = config.duration,\n\t\t\tunit = config.unit,\n\t\t\tstep = config.step;\n\n\t\tif (!unit)\n\t\t\treturn false;\n\n\t\tvar mult = (config.duration >= 0) ? 1 : -1;\n\t\tduration = Math.abs(duration * 1);\n\t\tvar endDate = this._calculateEndDate(from, duration, unit, step * mult);\n\t\treturn endDate;\n\t},\n\n\t_calculateEndDate: function (from, duration, unit, step) {\n\t\tif (!unit)\n\t\t\treturn false;\n\n\t\tif (step == 1 && unit == \"minute\") {\n\t\t\treturn this._calculateMinuteEndDate(from, duration, step);\n\t\t} else if(step == -1 && unit == \"minute\") {\n\t\t\treturn this._subtractMinuteDate(from, duration, step);\n\t\t} else if (step == 1 && unit == \"hour\") {\n\t\t\treturn this._calculateHourEndDate(from, duration, step);\n\t\t} else {\n\t\t\tvar interval = this._addInterval(from, duration, unit, step, null);\n\t\t\treturn interval.end;\n\t\t}\n\t},\n\n\t_addInterval: function (start, duration, unit, step, stopAction) {\n\t\tvar added = 0;\n\t\tvar current = start;\n\t\tvar previous = new Date(current.valueOf() - 1);\n\t\tvar timezoneDifferenceWithPrevious = current.getTimezoneOffset() - previous.getTimezoneOffset();\n\n\t\twhile (added < duration && !(stopAction && stopAction(current))) {\n\t\t\tvar next = this._nextDate(current, unit, step);\n\n\t\t\tif (timezoneDifferenceWithPrevious < 0 && step > 0){ // the step parameter is for backward scheduling and startDate calcuation\n\t\t\t\tnext.setTime(next.getTime() + 60 * 1000 * timezoneDifferenceWithPrevious);\n\t\t\t\ttimezoneDifferenceWithPrevious = false;\n\t\t\t}\n\t\t\tvar timezoneDifference = next.getTimezoneOffset() - current.getTimezoneOffset();\n\t\t\tif (timezoneDifference < 0 && step > 0) { // the step parameter is for backward scheduling and startDate calcuation\n\t\t\t\tnext.setTime(next.getTime() + 60 * 1000 * timezoneDifference);\n\t\t\t}\n\n\t\t\tvar dateValue = new Date(next.valueOf() + 1);\n\t\t\tif (step > 0) {\n\t\t\t\tdateValue = new Date(next.valueOf() - 1);\n\t\t\t}\n\t\t\tvar workTimeCheck = this._isWorkTime(dateValue, unit);\n\n\t\t\tif (workTimeCheck) {\n\t\t\t\tadded++;\n\t\t\t}\n\t\t\tcurrent = next;\n\t\t}\n\t\treturn {\n\t\t\tend: current,\n\t\t\tstart: start,\n\t\t\tadded: added\n\t\t};\n\t},\n\n\t_addHoursUntilDayEnd: function(from, duration) {\n\t\tvar dayEnd = this.$gantt.date.add(this.$gantt.date.day_start(new Date(from)), 1, \"day\");\n\t\tvar added = 0;\n\t\tvar left = duration;\n\n\t\tvar range = this._getIntervalTimestamp(from, dayEnd);\n\t\tvar worktimes = this._getWorkHours(from);\n\t\tfor(var i = 0; i < worktimes.length && added < duration; i++){\n\t\t\tvar interval = worktimes[i];\n\t\t\tif(range.end >= interval.start && range.start <= interval.end){\n\t\t\t\tvar minuteFrom = Math.max(interval.start, range.start);\n\t\t\t\tvar minuteTo = Math.min(interval.end, range.end);\n\t\t\t\tvar rangeHours = (minuteTo - minuteFrom) / (60 * 60);\n\t\t\t\tif(rangeHours > left){\n\t\t\t\t\trangeHours = left;\n\t\t\t\t\tminuteTo = minuteFrom + (left * 60 * 60);\n\t\t\t\t}\n\n\t\t\t\tvar addHours = Math.round((minuteTo - minuteFrom) / (60 * 60));\n\t\t\t\tadded += addHours;\n\t\t\t\tleft -= addHours;\n\t\t\t\trange.start = minuteTo;\n\t\t\t}\n\t\t}\n\n\t\tvar intervalEnd = dayEnd;\n\t\tif(added === duration){\n\t\t\tintervalEnd = new Date(from.getFullYear(), from.getMonth(), from.getDate(), 0, 0, range.start);\n\t\t}\n\t\treturn {\n\t\t\tadded: added,\n\t\t\tend: intervalEnd\n\t\t};\n\t},\n\n\t_calculateHourEndDate: function (from, duration,  step) {\n\t\tvar start = new Date(from),\n\t\tadded = 0;\n\t\tstep = step || 1;\n\t\tduration = Math.abs(duration * 1);\n\n\t\tvar interval = this._addHoursUntilDayEnd(start, duration);\n\t\tadded = interval.added;\n\t\tstart = interval.end;\n\n\t\tvar durationLeft = duration - added;\n\n\t\tif (durationLeft) {\n\t\t\tvar current = start;\n\t\t\twhile (added < duration) {\n\t\t\t\tvar next = this._nextDate(current, \"day\", step);\n\t\t\t\t// reset to day start in case DST switch happens in the process\n\t\t\t\tnext.setHours(0);\n\t\t\t\tnext.setMinutes(0);\n\t\t\t\tnext.setSeconds(0);\n\n\t\t\t\tvar hoursPerDay = 0;\n\t\t\t\tif(step > 0){\n\t\t\t\t\thoursPerDay = this.getHoursPerDay(new Date(next.valueOf() - 1));\n\t\t\t\t}else{\n\t\t\t\t\thoursPerDay = this.getHoursPerDay(new Date(next.valueOf() + 1));\n\t\t\t\t}\n\n\t\t\t\tif (added + hoursPerDay >= duration) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\tadded += hoursPerDay;\n\t\t\t\t}\n\n\t\t\t\tcurrent = next;\n\t\t\t}\n\t\t\tstart = current;\n\t\t}\n\n\t\tif (added < duration) {\n\t\t\tvar durationLeft = duration - added;\n\t\t\tinterval = this._addHoursUntilDayEnd(start, durationLeft);\n\t\t\tstart = interval.end;\n\t\t}\n\n\t\treturn start;\n\t},\n\n\t_addMinutesUntilHourEnd: function(from, duration){\n\t\tif(from.getMinutes() === 0) {\n\t\t\t// already at hour end\n\t\t\treturn {\n\t\t\t\tadded: 0,\n\t\t\t\tend: new Date(from)\n\t\t\t};\n\t\t}\n\t\tvar hourEnd = this.$gantt.date.add(this.$gantt.date.hour_start(new Date(from)), 1, \"hour\");\n\t\tvar added = 0;\n\t\tvar left = duration;\n\n\t\tvar range = this._getIntervalTimestamp(from, hourEnd);\n\t\tvar worktimes = this._getWorkHours(from);\n\t\tfor(var i = 0; i < worktimes.length && added < duration; i++){\n\t\t\tvar interval = worktimes[i];\n\t\t\tif(range.end >= interval.start && range.start <= interval.end){\n\t\t\t\tvar minuteFrom = Math.max(interval.start, range.start);\n\t\t\t\tvar minuteTo = Math.min(interval.end, range.end);\n\t\t\t\tvar rangeMinutes = (minuteTo - minuteFrom) / 60;\n\t\t\t\tif(rangeMinutes > left){\n\t\t\t\t\trangeMinutes = left;\n\t\t\t\t\tminuteTo = minuteFrom + (left * 60);\n\t\t\t\t}\n\t\t\t\tvar addMinutes = Math.round((minuteTo - minuteFrom) / 60);\n\t\t\t\tleft -= addMinutes;\n\t\t\t\tadded += addMinutes;\n\t\t\t\trange.start = minuteTo;\n\t\t\t}\n\t\t}\n\n\t\tvar intervalEnd = hourEnd;\n\t\tif(added === duration){\n\t\t\tintervalEnd = new Date(from.getFullYear(), from.getMonth(), from.getDate(), 0, 0, range.start);\n\t\t}\n\t\treturn {\n\t\t\tadded: added,\n\t\t\tend: intervalEnd\n\t\t};\n\t},\n\n\t_subtractMinutesUntilHourStart: function(from, duration){\n\t\tvar hourStart = this.$gantt.date.hour_start(new Date(from));\n\t\tvar added = 0;\n\t\tvar left = duration;\n\n\t\tvar hourStartTimestamp = hourStart.getHours() * 60 * 60 + hourStart.getMinutes() * 60 + hourStart.getSeconds();\n\t\tvar initialDateTimestamp = from.getHours() * 60 * 60 + from.getMinutes() * 60 + from.getSeconds();\n\n\t\tvar worktimes = this._getWorkHours(from);\n\t\tfor(var i = worktimes.length - 1; i >= 0 && added < duration; i--){\n\t\t\tvar interval = worktimes[i];\n\t\t\tif(initialDateTimestamp > interval.start && hourStartTimestamp <= interval.end){\n\t\t\t\tvar minuteFrom = Math.min(initialDateTimestamp, interval.end);\n\t\t\t\tvar minuteTo = Math.max(hourStartTimestamp, interval.start);\n\n\t\t\t//\tvar minuteFrom = Math.max(interval.start, currentHour.start);\n\t\t\t//\tvar minuteTo = Math.min(interval.end, currentHour.end);\n\t\t\t\tvar rangeMinutes = (minuteFrom - minuteTo) / 60;\n\t\t\t\tif(rangeMinutes > left){\n\t\t\t\t\trangeMinutes = left;\n\t\t\t\t\tminuteTo = minuteFrom - (left * 60);\n\t\t\t\t}\n\t\t\t\tvar addMinutes = Math.abs(Math.round((minuteFrom - minuteTo) / 60));\n\t\t\t\tleft -= addMinutes;\n\t\t\t\tadded += addMinutes;\n\t\t\t\tinitialDateTimestamp = minuteTo;\n\t\t\t}\n\t\t}\n\n\t\tvar intervalEnd = hourStart;\n\t\tif(added === duration){\n\t\t\tintervalEnd = new Date(from.getFullYear(), from.getMonth(), from.getDate(), 0, 0, initialDateTimestamp);\n\t\t}\n\t\treturn {\n\t\t\tadded: added,\n\t\t\tend: intervalEnd\n\t\t};\n\t},\n\n\t_subtractMinuteDate: function (from, duration, step) {\n\t\tvar start = new Date(from),\n\t\t\tadded = 0;\n\t\tstep = step || -1;\n\t\tduration = Math.abs(duration * 1);\n\t\tduration = Math.round(duration);\n\n\t\tvar addedInterval = this._subtractMinutesUntilHourStart(start, duration);\n\t\tadded += addedInterval.added;\n\n\t\tstart = addedInterval.end;\n\n\t\tvar calculatedDay = 0;\n\t\tvar daySchedule = [];\n\t\tvar minutesInDay = 0;\n\n\t\twhile (added < duration) {\n\t\t\tvar dayStart = this.$gantt.date.day_start(new Date(start));\n\n\t\t\tvar iterateFromDayEnd = false;\n\t\t\tif(start.valueOf() === dayStart.valueOf()){\n\t\t\t\tdayStart = this.$gantt.date.add(dayStart, -1, \"day\");\n\t\t\t\titerateFromDayEnd = true;\n\t\t\t}\n\t\t\t//var dayStartTimestamp = this.$gantt.date.day_start(new Date(start)).valueOf();\n\t\t\tvar dayEnd = new Date(dayStart.getFullYear(), dayStart.getMonth(), dayStart.getDate(), 23, 59,59,999).valueOf();\n\n\t\t\tif(dayEnd !== calculatedDay){\n\t\t\t\tdaySchedule = this._getWorkHours(dayStart);\n\t\t\t\tminutesInDay = this._getMinutesPerDay(dayStart);\n\t\t\t\tcalculatedDay = dayEnd;\n\t\t\t}\n\n\t\t\tvar left = duration - added;\n\t\t\tvar timestamp = this._getTimeOfDayStamp(start, iterateFromDayEnd);\n\n\t\t\tif(!daySchedule.length || !minutesInDay){\n\t\t\t\tstart = this.$gantt.date.add(start, -1, \"day\");\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif(daySchedule[daySchedule.length - 1].end <= timestamp){\n\t\t\t\tif(left > minutesInDay){\n\t\t\t\t\tadded += minutesInDay;\n\t\t\t\t\tstart = this.$gantt.date.add(start, -1, \"day\");\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar isWorkHour = false;\n\t\t\tvar workInterval = null;\n\t\t\tfor(var i = daySchedule.length - 1; i >= 0; i--){\n\t\t\t\tif(daySchedule[i].start < timestamp - 1 && daySchedule[i].end >= timestamp - 1){\n\t\t\t\t\tisWorkHour = true;\n\t\t\t\t\tworkInterval = daySchedule[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(isWorkHour){\n\n\t\t\t\tif(timestamp === workInterval.end && left >= workInterval.durationMinutes){\n\t\t\t\t\tadded += workInterval.durationMinutes;\n\t\t\t\t\tstart = this.$gantt.date.add(start, -workInterval.durationMinutes, \"minute\");\n\t\t\t\t}else if(left <= (timestamp/60 - workInterval.startMinute)){\n\t\t\t\t\tadded += left;\n\t\t\t\t\tstart = this.$gantt.date.add(start, -left, \"minute\");\n\t\t\t\t}else{\n\t\t\t\t\tvar minutesInHour = this._getMinutesPerHour(start);\n\t\t\t\t\tif(minutesInHour <= left){\n\t\t\t\t\t\tadded += minutesInHour;\n\t\t\t\t\t\tstart = this._nextDate(start, \"hour\", step);\n\t\t\t\t\t}else{\n\t\t\t\t\t\taddedInterval = this._subtractMinutesUntilHourStart(start, left);\n\t\t\t\t\t\tadded += addedInterval.added;\n\t\t\t\t\t\tstart = addedInterval.end;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(start.getHours() === 0 && start.getMinutes() === 0 && start.getSeconds() === 0){\n\t\t\t\t\tvar prev = this._getClosestWorkTimePast(start, \"hour\");\n\t\t\t\t\tif(prev.valueOf() === start.valueOf()){\n\t\t\t\t\t\tvar prev = this.$gantt.date.add(start, -1, \"day\");\n\t\t\t\t\t\tvar times = this._getWorkHours(prev);\n\t\t\t\t\t\tif(times.length){\n\t\t\t\t\t\t\tvar lastInterval = times[times.length - 1];\n\t\t\t\t\t\t\tprev.setSeconds(lastInterval.durationSeconds);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tstart = prev;\n\n\t\t\t\t} else{\n\t\t\t\t\tstart = this._getClosestWorkTimePast(new Date(start - 1), \"hour\");\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tif (added < duration) {\n\t\t\tvar durationLeft = duration - added;\n\t\t\taddedInterval = this._subtractMinutesUntilHourStart(start, durationLeft);\n\t\t\tadded += addedInterval.added;\n\t\t\tstart = addedInterval.end;\n\t\t}\n\n\t\treturn start;\n\t},\n\t_calculateMinuteEndDate: function (from, duration, step) {\n\t\tvar start = new Date(from),\n\t\t\tadded = 0;\n\t\tstep = step || 1;\n\t\tduration = Math.abs(duration * 1);\n\t\tduration = Math.round(duration);\n\n\t\tvar addedInterval = this._addMinutesUntilHourEnd(start, duration);\n\t\tadded += addedInterval.added;\n\n\t\tstart = addedInterval.end;\n\n\t\tvar calculatedDay = 0;\n\t\tvar daySchedule = [];\n\t\tvar minutesInDay = 0;\n\n\t\twhile (added < duration) {\n\t\t\tvar dayStart = this.$gantt.date.day_start(new Date(start)).valueOf();\n\t\t\tif(dayStart !== calculatedDay){\n\t\t\t\tdaySchedule = this._getWorkHours(start);\n\t\t\t\tminutesInDay = this._getMinutesPerDay(start);\n\t\t\t\tcalculatedDay = dayStart;\n\t\t\t}\n\n\t\t\tvar left = duration - added;\n\t\t\tvar timestamp = this._getTimeOfDayStamp(start);\n\n\t\t\tif(!daySchedule.length || !minutesInDay){\n\t\t\t\tstart = this.$gantt.date.add(this.$gantt.date.day_start(start), 1, \"day\");\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif(daySchedule[0].start >= timestamp){\n\t\t\t\tif(left >= minutesInDay){\n\t\t\t\t\tadded += minutesInDay;\n\t\t\t\t\tif (left == minutesInDay) {\n\t\t\t\t\t\tstart = new Date(start.getFullYear(), start.getMonth(), start.getDate(), 0, 0, daySchedule[daySchedule.length - 1].end);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tstart = this.$gantt.date.add(start, 1, \"day\");\n\t\t\t\t\t\tstart = this.$gantt.date.day_start(start);\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar isWorkHour = false;\n\t\t\tvar workInterval = null;\n\t\t\tfor(var i = 0; i < daySchedule.length; i++){\n\t\t\t\tif(daySchedule[i].start <= timestamp && daySchedule[i].end > timestamp){\n\t\t\t\t\tisWorkHour = true;\n\t\t\t\t\tworkInterval = daySchedule[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(isWorkHour){\n\n\t\t\t\tif(timestamp === workInterval.start && left >= workInterval.durationMinutes){\n\t\t\t\t\tadded += workInterval.durationMinutes;\n\t\t\t\t\tstart = this.$gantt.date.add(start, workInterval.durationMinutes, \"minute\");\n\t\t\t\t}else if(left <= (workInterval.endMinute - timestamp/60)){\n\t\t\t\t\tadded += left;\n\t\t\t\t\tstart = this.$gantt.date.add(start, left, \"minute\");\n\t\t\t\t}else{\n\t\t\t\t\tvar minutesInHour = this._getMinutesPerHour(start);\n\t\t\t\t\tif(minutesInHour <= left){\n\t\t\t\t\t\tadded += minutesInHour;\n\t\t\t\t\t\tstart = this._nextDate(start, \"hour\", step);\n\t\t\t\t\t}else{\n\t\t\t\t\t\taddedInterval = this._addMinutesUntilHourEnd(start, left);\n\t\t\t\t\t\tadded += addedInterval.added;\n\t\t\t\t\t\tstart = addedInterval.end;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tstart = this._getClosestWorkTimeFuture(start, \"hour\");\n\t\t\t}\n\t\t}\n\n\t\tif (added < duration) {\n\t\t\tvar durationLeft = duration - added;\n\t\t\taddedInterval = this._addMinutesUntilHourEnd(start, durationLeft);\n\t\t\tadded += addedInterval.added;\n\t\t\tstart = addedInterval.end;\n\t\t}\n\n\t\treturn start;\n\t},\n\n\tgetClosestWorkTime: function () {\n\t\tvar settings =  this.argumentsHelper.getClosestWorkTimeArguments.apply( this.argumentsHelper, arguments);\n\t\treturn this._getClosestWorkTime(settings.date, settings.unit, settings.dir);\n\t},\n\n\t_getClosestWorkTime: function (inputDate, unit, direction) {\n\t\tvar result = new Date(inputDate);\n\n\t\tif (this._isWorkTime(result, unit)) {\n\t\t\treturn result;\n\t\t}\n\n\t\tresult = this.$gantt.date[unit + '_start'](result);\n\n\t\tif (direction == 'any' || !direction) {\n\t\t\tvar closestFuture = this._getClosestWorkTimeFuture(result, unit);\n\t\t\tvar closestPast = this._getClosestWorkTimePast(result, unit);\n\t\t\tif (Math.abs(closestFuture - inputDate) <= Math.abs(inputDate - closestPast)) {\n\t\t\t\tresult = closestFuture;\n\t\t\t} else {\n\t\t\t\tresult = closestPast;\n\t\t\t}\n\t\t} else if (direction == \"past\") {\n\t\t\tresult = this._getClosestWorkTimePast(result, unit);\n\t\t} else {\n\t\t\tresult = this._getClosestWorkTimeFuture(result, unit);\n\t\t}\n\t\treturn result;\n\t},\n\n\t_getClosestWorkTimeFuture: function (date, unit) {\n\t\treturn this._getClosestWorkTimeGeneric(date, unit, 1);\n\t},\n\n\t_getClosestWorkTimePast: function (date, unit) {\n\t\tvar result = this._getClosestWorkTimeGeneric(date, unit, -1);\n\t\t// should return the end of the closest work interval\n\t\treturn this.$gantt.date.add(result, 1, unit);\n\t},\n\n\t_findClosestTimeInDay: function(date, direction, worktimes) {\n\t\tvar start = new Date(date);\n\t\tvar resultDate = null;\n\t\tvar fromDayEnd = false;\n\t\tif(!this._getWorkHours(start).length){\n\t\t\tstart = this._getClosestWorkTime(start, \"day\", direction < 0 ? \"past\" : \"future\");\n\t\t\tif(direction < 0){\n\t\t\t\tstart = new Date(start.valueOf() - 1);\n\t\t\t\tfromDayEnd = true;\n\t\t\t}\n\t\t\tworktimes = this._getWorkHours(start);\n\t\t}\n\n\t\tvar value = this._getTimeOfDayStamp(start);\n\t\tif(fromDayEnd){\n\t\t\tvalue = this._getTimeOfDayStamp(new Date(start.valueOf() + 1), fromDayEnd);\n\t\t}\n\t\tif(direction > 0){\n\t\t\tfor(var i = 0; i < worktimes.length; i++){\n\t\t\t\tif(worktimes[i].start >= value){\n\t\t\t\t\tresultDate = new Date(start.getFullYear(), start.getMonth(), start.getDate(), 0, 0, worktimes[i].start);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tfor(var i = worktimes.length - 1; i >= 0; i--){\n\t\t\t\tif(worktimes[i].end <= value){\n\t\t\t\t\tresultDate = new Date(start.getFullYear(), start.getMonth(), start.getDate(), 0, 0, worktimes[i].end);\n\t\t\t\t\tbreak;\n\t\t\t\t}else if(worktimes[i].end > value && worktimes[i].start <= value) {\n\t\t\t\t\tresultDate = new Date(start.getFullYear(), start.getMonth(), start.getDate(), 0, 0, value);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn resultDate;\n\t},\n\t_getClosestWorkMinute: function(date, unit, direction) {\n\t\tvar start = new Date(date);\n\t\tvar worktimes = this._getWorkHours(start);\n\t\tvar resultDate = this._findClosestTimeInDay(start, direction, worktimes);\n\t\tif(!resultDate){\n\t\t\tstart = this.calculateEndDate(start, direction, \"day\");\n\t\t\tif(direction > 0){\n\t\t\t\tstart = this.$gantt.date.day_start(start);\n\t\t\t}else{\n\t\t\t\tstart = this.$gantt.date.day_start(start);\n\t\t\t\tstart = this.$gantt.date.add(start, 1, \"day\");\n\t\t\t\tstart = new Date(start.valueOf() - 1);\n\t\t\t}\n\t\t\tworktimes = this._getWorkHours(start);\n\t\t\tresultDate = this._findClosestTimeInDay(start, direction, worktimes);\n\t\t}\n\t\tif(direction < 0){\n\t\t\t// getClosestWorkTimePast adds one time unit to the result date after this\n\t\t\tresultDate = this.$gantt.date.add(resultDate, -1, unit);\n\t\t}\n\t\treturn resultDate;\n\t},\n\n\t_getClosestWorkTimeGeneric: function (date, unit, increment) {\n\t\tif(unit === \"hour\" || unit === \"minute\"){\n\t\t\treturn this._getClosestWorkMinute(date, unit, increment);\n\t\t}\n\n\t\tvar unitOrder = this._getUnitOrder(unit),\n\t\t\tbiggerTimeUnit = this.units[unitOrder - 1];\n\n\t\tvar result = date;\n\n\t\t// be extra sure we won't fall into infinite loop, 3k seems big enough\n\t\tvar maximumLoop = 3000,\n\t\t\tcount = 0;\n\n\t\twhile (!this._isWorkTime(result, unit)) {\n\t\t\tif (biggerTimeUnit && !this._isWorkTime(result, biggerTimeUnit)) {\n\t\t\t\t// if we look for closest work hour and detect a week-end - first find the closest work day,\n\t\t\t\t// and continue iterations after that\n\t\t\t\tif (increment > 0) {\n\t\t\t\t\tresult = this._getClosestWorkTimeFuture(result, biggerTimeUnit);\n\t\t\t\t} else {\n\t\t\t\t\tresult = this._getClosestWorkTimePast(result, biggerTimeUnit);\n\t\t\t\t}\n\n\t\t\t\tif (this._isWorkTime(result, unit)) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcount++;\n\t\t\tif (count > maximumLoop) {\n\t\t\t\tthis.$gantt.assert(false, \"Invalid working time check\");\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar tzOffset = result.getTimezoneOffset();\n\t\t\tresult = this.$gantt.date.add(result, increment, unit);\n\n\t\t\tresult = this.$gantt._correct_dst_change(result, tzOffset, increment, unit);\n\t\t\tif (this.$gantt.date[unit + '_start']) {\n\t\t\t\tresult = this.$gantt.date[unit + '_start'](result);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t},\n\n\t/**\n\t * Check whether this calendar has working time. Calendar has working time only if there are regular working days of week\n\t *\n\t */\n\thasWorkTime: function () {\n\t\tvar worktime = this.getConfig();\n\t\tvar dates = worktime.dates;\n\n\t\tvar daysOfWeek = [0, 1, 2, 3, 4, 5, 6];\n\t\tvar exceptions = [];\n\t\tfor(var i in worktime.dates){\n\t\t\tif(Number(i) > 6){\n\t\t\t\texceptions.push(Number(i));\n\t\t\t}\n\t\t}\n\n\t\tvar hasRegularHours = this._checkWorkHours(worktime.hours);\n\n\t\tvar result = false;\n\t\tdaysOfWeek.forEach((function(day){\n\t\t\tif(result){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar dayConfig = dates[day];\n\t\t\tif(dayConfig === true){\n\t\t\t\t// workday uses global hours\n\t\t\t\tresult = hasRegularHours;\n\t\t\t}else if(Array.isArray(dayConfig)){\n\t\t\t\t// workday uses custom hours\n\t\t\t\tresult = this._checkWorkHours(dayConfig);\n\t\t\t}\n\t\t}).bind(this));\n\n\t\treturn result;\n\n\t},\n\n\t_checkWorkHours: function(hoursArray) {\n\t\tif (hoursArray.length === 0) {\n\t\t\treturn false;\n\t\t}\n\t\tvar result = false;\n\t\tfor (var i = 0; i < hoursArray.length; i += 2) {\n\t\t\tif (hoursArray[i] !== hoursArray[i + 1]) {\n\t\t\t\tresult = true;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n};\n\nmodule.exports = CalendarWorkTimeStrategy;","var utils = require(\"../../../utils/utils\");\nfunction WorkTimeCalendarMerger(){\n}\n\nWorkTimeCalendarMerger.prototype = {\n\n\n\t/**\n\t * convert hours array items into objects, e.g. [8, 12, 17, 18] -> [{start: 8, end: 12}, {start:17, end:18}]\n\t * @param {Array} hoursArray\n\t */\n\t_getIntervals: function(hoursArray){\n\t\tvar result = [];\n\t\tfor(var i = 0; i < hoursArray.length; i += 2){\n\n\t\t\tresult.push({\n\t\t\t\tstart: hoursArray[i],\n\t\t\t\tend: hoursArray[i+1]\n\t\t\t});\n\t\t}\n\t\treturn result;\n\t},\n\n\t/**\n\t * Convert ranges config into hours array\n\t * [{start: 8, end: 12}, {start:17, end:18}] --> [8, 12, 17, 18]\n\t * @param {*} intervalsArray\n\t */\n\t_toHoursArray: function(intervalsArray){\n\t\tvar result = [];\n\n\t\tfunction toFixed(value){\n\t\t\tvar str = String(value);\n\t\t\tif(str.length < 2){\n\t\t\t\tstr = \"0\" + str;\n\t\t\t}\n\t\t\treturn str;\n\t\t}\n\t\tfunction formatHHMM(secondsValue){\n\t\t\tvar hours = Math.floor(secondsValue / (60*60));\n\t\t\tvar minutePart = secondsValue - hours * 60 * 60;\n\n\t\t\tvar minutes = Math.floor(minutePart / (60));\n\t\t\treturn hours + \":\" + toFixed(minutes);\n\t\t}\n\t\tfor(var i = 0; i < intervalsArray.length; i++){\n\t\t\tresult.push(\n\t\t\t\tformatHHMM(intervalsArray[i].start) +\n\t\t\t\t\"-\" +\n\t\t\t\tformatHHMM(intervalsArray[i].end)\n\t\t\t);\n\t\t}\n\t\treturn result;\n\t},\n\n\t/**\n\t * Build intersection of hour intervals. e.g.\n\t * first: [{start: 8, end: 12}, {start:13, end:18}]\n\t * second: [{start: 10, end: 15}]\n\t * result: [{start: 10, end: 12}, {start: 13, end: 15}]\n\t * @param {Array} first\n\t * @param {Array} second\n\t */\n\t_intersectHourRanges: function(first, second){\n\t\tvar result = [];\n\n\t\tvar baseArray = first.length > second.length ? first : second;\n\t\tvar overridesArray = first === baseArray ? second: first;\n\t\tbaseArray = baseArray.slice();\n\t\toverridesArray = overridesArray.slice();\n\n\t\tvar result = [];\n\t\tfor(var i = 0; i < baseArray.length; i++){\n\t\t\tvar base = baseArray[i];\n\n\t\t\tfor(var j = 0; j < overridesArray.length; j++){\n\t\t\t\tvar current = overridesArray[j];\n\t\t\t\tif(current.start < base.end && current.end > base.start){\n\t\t\t\t\tresult.push({\n\t\t\t\t\t\tstart: Math.max(base.start, current.start),\n\t\t\t\t\t\tend: Math.min(base.end, current.end)\n\t\t\t\t\t});\n\t\t\t\t\tif(base.end > current.end){\n\t\t\t\t\t\toverridesArray.splice(j, 1);\n\t\t\t\t\t\tj--;\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t},\n\n\t/**\n\t * Reduce the number of ranges in config when possible,\n\t * joins ranges that can be merged\n\t * parts: [{start: 8, end: 12}, {start:12, end:13}, {start: 15, end: 17}]\n\t * result: [{start: 8, end: 13}, {start: 15, end: 17}]\n\t * @param {Array} parts\n\t */\n\t_mergeAdjacentIntervals: function(parts){\n\t\tvar result = parts.slice();\n\t\tresult.sort(function(a, b){\n\t\t\treturn a.start - b.start;\n\t\t});\n\t\tvar base = result[0];\n\t\tfor(var i = 1; i < result.length; i++){\n\t\t\tvar current = result[i];\n\t\t\tif(current.start <= base.end){\n\t\t\t\tif(current.end > base.end){\n\t\t\t\t\tbase.end = current.end;\n\t\t\t\t}\n\t\t\t\tresult.splice(i, 1);\n\t\t\t\ti--;\n\t\t\t}else{\n\t\t\t\tbase = current;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t},\n\n\t_mergeHoursConfig: function(firstHours, secondHours){\n\t\t//var firstIntervals = this._getIntervals(firstHours);\n\t\t//var secondIntervals = this._getIntervals(secondHours);\n\n\t\treturn this._mergeAdjacentIntervals(\n\t\t\tthis._intersectHourRanges(firstHours, secondHours)\n\t\t);\n\t},\n\n\tmerge: function(first, second){\n\t\tvar firstConfig = utils.copy(first.getConfig().parsed);\n\n\t\tvar secondConfig = utils.copy(second.getConfig().parsed);\n\n\t\tvar mergedSettings = {\n\t\t\thours: this._toHoursArray(this._mergeHoursConfig(firstConfig.hours, secondConfig.hours)),\n\t\t\tdates: {},\n\t\t\tcustomWeeks: {}\n\t\t};\n\n\t\tfor(var i in firstConfig.dates){\n\t\t\tvar firstDate = firstConfig.dates[i];\n\t\t\tvar secondDate = secondConfig.dates[i];\n\n\t\t\t// if this key is a working date in both calendars\n\t\t\tif(firstDate && secondDate){\n\t\t\t\t// if at least one of working date is set by hours config - build intersection\n\t\t\t\tif(Array.isArray(firstDate) || Array.isArray(secondDate)){\n\t\t\t\t\tvar firstHours = Array.isArray(firstDate) ? firstDate : firstConfig.hours;\n\t\t\t\t\tvar secondHours = Array.isArray(secondDate) ? secondDate : secondConfig.hours;\n\t\t\t\t\tmergedSettings.dates[i] = this._toHoursArray(this._mergeHoursConfig(firstHours, secondHours));\n\t\t\t\t}else{\n\t\t\t\t\t// date will use global hours\n\t\t\t\t\tmergedSettings.dates[i] = true;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tmergedSettings.dates[i] = false;\n\t\t\t}\n\t\t}\n\n\t\t// transfer and overwrite custom week calendars\n\t\tif(firstConfig.customWeeks){\n\t\t\tfor(var i in firstConfig.customWeeks){\n\t\t\t\tmergedSettings.customWeeks[i] = firstConfig.customWeeks[i];\n\t\t\t}\n\t\t}\n\t\tif(secondConfig.customWeeks){\n\t\t\tfor(var i in secondConfig.customWeeks){\n\t\t\t\tmergedSettings.customWeeks[i] = secondConfig.customWeeks[i];\n\t\t\t}\n\t\t}\n\n\t\treturn mergedSettings;\n\n\t}\n\n};\n\nmodule.exports = WorkTimeCalendarMerger;","var utils = require(\"../../utils/utils\");\nvar createArgumentsHelper = require(\"./calendar_arguments_helper\");\nvar CalendarMergeHelper = require(\"./strategy/work_calendar_merger\");\nvar CalendarWorkTimeStrategy = require(\"./strategy/calendar_strategy\");\nvar legacyResourceCalendarConfig = require(\"./legacy_resource_config\");\nvar dynamicResourceCalendars = require(\"./dynamic_resource_calendars\")();\n\nfunction CalendarManager (gantt){\n\tthis.$gantt = gantt;\n\tthis._calendars = {};\n\tthis._legacyConfig = undefined;\n\tthis.$gantt.attachEvent(\"onGanttReady\", function(){\n\t\tif(this.$gantt.config.resource_calendars){\n\t\t\tthis._isLegacyConfig = legacyResourceCalendarConfig.isLegacyResourceCalendarFormat(this.$gantt.config.resource_calendars);\n\t\t}\n\t}.bind(this));\n}\n\nCalendarManager.prototype = {\n\t_calendars: {},\n\t_convertWorkTimeSettings: function (settings) {\n\t\tvar days = settings.days;\n\t\tif (days && !settings.dates) {\n\t\t\tsettings.dates = settings.dates || {};\n\t\t\tfor (var i = 0; i < days.length; i++) {\n\t\t\t\tsettings.dates[i] = days[i];\n\t\t\t\tif (!(days[i] instanceof Array)) {\n\t\t\t\t\tsettings.dates[i] = !!days[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdelete settings.days;\n\t\treturn settings;\n\t},\n\tmergeCalendars: function(){\n\t\tvar calendars = [];\n\t\tvar args = arguments;\n\t\tif(Array.isArray(args[0])){\n\t\t\tcalendars = args[0].slice();\n\t\t}else{\n\t\t\tfor(var i = 0; i < arguments.length; i++){\n\t\t\t\tcalendars.push(arguments[i]);\n\t\t\t}\n\t\t}\n\n\t\tvar mergeHelper = new CalendarMergeHelper();\n\n\t\tvar result;\n\t\tcalendars.forEach(function(calendar){\n\t\t\tif(!result){\n\t\t\t\tresult = calendar;\n\t\t\t} else{\n\t\t\t\tresult = this._createCalendarFromConfig(mergeHelper.merge(result, calendar));\n\t\t\t}\n\n\t\t}.bind(this));\n\t\treturn this.createCalendar(result);\n\t},\n\n\t_createCalendarFromConfig: function(config){\n\t\tvar apiCore = new CalendarWorkTimeStrategy(this.$gantt, createArgumentsHelper(this.$gantt));\n\t\tapiCore.id = String(utils.uid());\n\n\t\tvar preparedConfig = this._convertWorkTimeSettings(config);\n\t\tif(preparedConfig.customWeeks){\n\t\t\tfor(var i in preparedConfig.customWeeks){\n\t\t\t\tpreparedConfig.customWeeks[i] = this._convertWorkTimeSettings(preparedConfig.customWeeks[i]);\n\t\t\t}\n\t\t}\n\t\tapiCore._setConfig(preparedConfig);\n\n\t\treturn apiCore;\n\t},\n\n\tcreateCalendar: function (parentCalendar) {\n\t\tvar settings;\n\n\t\tif (!parentCalendar) {\n\t\t\tparentCalendar = {};\n\t\t}\n\n\t\tif (parentCalendar.getConfig){\n\t\t\tsettings = utils.copy(parentCalendar.getConfig());\n\t\t} else if (parentCalendar.worktime) {\n\t\t\tsettings = utils.copy(parentCalendar.worktime);\n\t\t} else {\n\t\t\tsettings = utils.copy(parentCalendar);\n\t\t}\n\n\t\tvar defaults = utils.copy(this.defaults.fulltime.worktime);\n\t\tutils.mixin(settings, defaults);\n\n\t\treturn this._createCalendarFromConfig(settings);\n\t},\n\n\tgetCalendar: function (id) {\n\t\tid = id || \"global\";\n\t\tthis.createDefaultCalendars();\n\t\treturn this._calendars[id];\n\t},\n\n\tgetCalendars: function () {\n\t\tvar res = [];\n\t\tfor (var i in this._calendars) {\n\t\t\tres.push(this.getCalendar(i));\n\t\t}\n\t\treturn res;\n\t},\n\n\t_getOwnCalendar: function(task){\n\t\tvar config = this.$gantt.config;\n\t\tif (task[config.calendar_property]) {\n\t\t\treturn this.getCalendar(task[config.calendar_property]);\n\t\t}\n\n\t\tif (config.resource_calendars) {\n\t\t\tvar calendar;\n\t\t\tvar calendarId;\n\t\t\tvar resourceProperty;\n\t\t\tif(this._legacyConfig === false){\n\t\t\t\tresourceProperty = config.resource_property;\n\t\t\t}else{\n\t\t\t\tresourceProperty = legacyResourceCalendarConfig.getResourceProperty(config);\n\t\t\t}\n\t\t\tif(Array.isArray(task[resourceProperty])){\n\t\t\t\t// if multiple resources are attached to the task - merge their calendars\n\t\t\t\tif(config.dynamic_resource_calendars){\n\t\t\t\t\tcalendarId = dynamicResourceCalendars.getCalendarIdFromMultipleResources(task[resourceProperty], this);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(this._legacyConfig === undefined){\n\t\t\t\t\tthis._legacyConfig = legacyResourceCalendarConfig.isLegacyResourceCalendarFormat(config.resource_calendars);\n\t\t\t\t}\n\n\t\t\t\tif(this._legacyConfig){\n\t\t\t\t\tvar calendarId = legacyResourceCalendarConfig.getCalendarIdFromLegacyConfig(task, config.resource_calendars);\n\t\t\t\t}else if(resourceProperty && task[resourceProperty] && config.resource_calendars[task[resourceProperty]]){\n\t\t\t\t\tvar calendar = this.getResourceCalendar(task[resourceProperty]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(calendarId){\n\t\t\t\tcalendar = this.getCalendar(calendarId);\n\t\t\t}\n\n\t\t\tif(calendar){\n\t\t\t\treturn calendar;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t},\n\n\t/**\n\t * Returns calendar assigned to the specified resource.\n\t * Returns the global calendar if no custom calendar is associated with the resource.\n\t * @param {(string|number|Object)} resource - resource object or resource id\n\t * @returns {object} Calendar object\n\t */\n\tgetResourceCalendar: function(resource) {\n\t\tif (resource === null || resource === undefined) {\n\t\t\treturn this.getCalendar();\n\t\t}\n\n\t\tvar resourceId = null;\n\t\t// if task id is provided\n\t\tif((typeof resource === \"number\" || typeof resource === \"string\")){\n\t\t\tresourceId = resource;\n\t\t}else{\n\t\t\tresourceId = resource.id || resource.key;\n\t\t}\n\n\t\tvar config = this.$gantt.config;\n\t\tvar calendarsConfig = config.resource_calendars;\n\t\tvar calendarId = null;\n\t\tif (calendarsConfig) {\n\t\t\tif(this._legacyConfig === undefined){\n\t\t\t\tthis._legacyConfig = legacyResourceCalendarConfig.isLegacyResourceCalendarFormat(config.resource_calendars);\n\t\t\t}\n\n\t\t\tif(this._legacyConfig){\n\t\t\t\tfor(var field in calendarsConfig){\n\t\t\t\t\tif(calendarsConfig[field][resourceId]){\n\t\t\t\t\t\tcalendarId = calendarsConfig[field][resourceId];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tvar calendarId = calendarsConfig[resourceId];\n\t\t\t}\n\n\t\t\tif(calendarId){\n\t\t\t\treturn this.getCalendar(calendarId);\n\t\t\t}\n\n\t\t}\n\t\treturn this.getCalendar();\n\t},\n\n\t/**\n\t * Returns the calendar assigned to a task.\n\t * - Returns a calendar assigned via task[gantt.config.calendar_property] if specified.\n\t * - Returns a calendar assigned to the task resource if specified.\n\t * - Returns the global calendar otherwise.\n\t * @param {(string|number|Object)} task - task object or task id\n\t * @returns {object} Calendar object\n\t */\n\tgetTaskCalendar: function (task) {\n\t\tvar gantt = this.$gantt;\n\t\tvar taskObject;\n\t\tif (task === null || task === undefined) {\n\t\t\treturn this.getCalendar();\n\t\t}\n\n\t\t// if task id is provided\n\t\tif((typeof task === \"number\" || typeof task === \"string\") && gantt.isTaskExists(task)){\n\t\t\ttaskObject = gantt.getTask(task);\n\t\t}else{\n\t\t\ttaskObject = task;\n\t\t}\n\n\t\tif(!taskObject){\n\t\t\treturn this.getCalendar();\n\t\t}\n\n\t\tvar calendar = this._getOwnCalendar(taskObject);\n\t\tif (!calendar && gantt.config.inherit_calendar && gantt.isTaskExists(taskObject.parent)){\n\t\t\tvar stop = false;\n\t\t\tgantt.eachParent(function(parent){\n\t\t\t\tif(stop) return;\n\t\t\t\tif(gantt.isSummaryTask(parent)){\n\t\t\t\t\tcalendar = this._getOwnCalendar(parent);\n\t\t\t\t\tif(calendar){\n\t\t\t\t\t\tstop = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, taskObject.id, this);\n\t\t}\n\n\t\treturn calendar || this.getCalendar();\n\t},\n\n\taddCalendar: function(calendar) { // puts new calendar to Global Storage - gantt.calendarManager._calendars {}\n\t\tif (!(this.isCalendar(calendar))) {\n\t\t\tvar id = calendar.id;\n\t\t\tcalendar = this.createCalendar(calendar);\n\t\t\tcalendar.id = id;\n\t\t}\n\n\t\t// validate/check if empty calendar\n\t\tif (!calendar._tryChangeCalendarSettings(function () {\n\t\t\t})) {\n\n\t\t\tthis.$gantt.callEvent(\"onCalendarError\", [{message: \"Invalid calendar settings, no worktime available\"}, calendar]);\n\t\t\treturn null;\n\t\t} else {\n\t\t\tvar config = this.$gantt.config;\n\n\t\t\tcalendar.id = calendar.id || utils.uid();\n\t\t\tthis._calendars[calendar.id] = calendar;\n\t\t\tif (!config.worktimes)\n\t\t\t\tconfig.worktimes = {};\n\t\t\tconfig.worktimes[calendar.id] = calendar.getConfig();\n\t\t\treturn calendar.id;\n\t\t}\n\t},\n\n\tdeleteCalendar: function (calendar) {\n\t\tvar config = this.$gantt.config;\n\t\tif (!calendar) return false;\n\t\tif (this._calendars[calendar]) {\n\t\t\tdelete this._calendars[calendar];\n\t\t\tif (config.worktimes && config.worktimes[calendar])\n\t\t\t\tdelete config.worktimes[calendar];\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t},\n\n\trestoreConfigCalendars: function (configs) {\n\t\tfor (var i in configs) {\n\t\t\tif (this._calendars[i])\n\t\t\t\tcontinue;\n\n\t\t\tvar settings = configs[i];\n\t\t\tvar calendar = this.createCalendar(settings);\n\t\t\tcalendar.id = i;\n\t\t\tthis.addCalendar(calendar);\n\t\t}\n\t},\n\n\tdefaults: {\n\t\tglobal: {\n\t\t\tid: \"global\",\n\t\t\tworktime: {\n\t\t\t\thours: [8, 12, 13, 17],\n\t\t\t\tdays: [0, 1, 1, 1, 1, 1, 0]\n\t\t\t}\n\t\t},\n\t\tfulltime: {\n\t\t\tid: \"fulltime\",\n\t\t\tworktime: {\n\t\t\t\thours: [0, 24],\n\t\t\t\tdays: [1, 1, 1, 1, 1, 1, 1]\n\t\t\t}\n\t\t}\n\t},\n\n\tcreateDefaultCalendars: function () {\n\t\tvar config = this.$gantt.config;\n\t\tthis.restoreConfigCalendars(this.defaults);\n\t\tthis.restoreConfigCalendars(config.worktimes);\n\t},\n\n\tisCalendar: function(possibleCalendar) {\n\t\t// because we don't have any way to check without dependency to CalendarWorkTimeStrategy\n\t\tvar props = [\n\t\t\tpossibleCalendar.isWorkTime,\n\t\t\tpossibleCalendar.setWorkTime,\n\t\t\tpossibleCalendar.getWorkHours,\n\t\t\tpossibleCalendar.unsetWorkTime,\n\t\t\tpossibleCalendar.getClosestWorkTime,\n\t\t\tpossibleCalendar.calculateDuration,\n\t\t\tpossibleCalendar.hasDuration,\n\t\t\tpossibleCalendar.calculateEndDate\n\t\t];\n\t\treturn props.every(function(entry) {\n\t\t\treturn entry instanceof Function;\n\t\t});\n\t}\n};\n\nmodule.exports = CalendarManager;","var CalendarManager = require(\"./calendar_manager\"),\n\tTimeCalculator = require(\"./time_calculator\"),\n\tworktimeFacadeFactory = require(\"../facades/worktime_calendars\"),\n\tutils = require(\"../../utils/utils\");\n\nmodule.exports = function (gantt) {\n\tvar manager = new CalendarManager(gantt),\n\ttimeCalculator = new TimeCalculator(manager);\n\tvar facade = worktimeFacadeFactory.create(manager, timeCalculator);\n\tutils.mixin(gantt, facade);\n};\n","var helpers = require(\"../utils/helpers\");\n\nmodule.exports = function(gantt) {\n\n\tgantt.load = function (url, type, callback) {\n\t\tthis._load_url = url;\n\t\tthis.assert(arguments.length, \"Invalid load arguments\");\n\n\t\tvar tp = 'json', cl = null;\n\t\tif (arguments.length >= 3) {\n\t\t\ttp = type;\n\t\t\tcl = callback;\n\t\t} else {\n\t\t\tif (typeof arguments[1] == \"string\")\n\t\t\t\ttp = arguments[1];\n\t\t\telse if (typeof arguments[1] == \"function\")\n\t\t\t\tcl = arguments[1];\n\t\t}\n\n\t\tthis._load_type = tp;\n\n\t\tthis.callEvent(\"onLoadStart\", [url, tp]);\n\n\t\treturn this.ajax.get(url, gantt.bind(function (l) {\n\t\t\tthis.on_load(l, tp);\n\t\t\tthis.callEvent(\"onLoadEnd\", [url, tp]);\n\t\t\tif (typeof cl == \"function\")\n\t\t\t\tcl.call(this);\n\t\t}, this));\n\t};\n\tgantt.parse = function (data, type) {\n\t\tthis.on_load({xmlDoc: {responseText: data}}, type);\n\t};\n\n\tgantt.serialize = function (type) {\n\t\ttype = type || \"json\";\n\t\treturn this[type].serialize();\n\t};\n\n\t/*\n\ttasks and relations\n\t{\n\tdata:[\n\t\t{\n\t\t\t\"id\":\"string\",\n\t\t\t\"text\":\"...\",\n\t\t\t\"start_date\":\"Date or string\",\n\t\t\t\"end_date\":\"Date or string\",\n\t\t\t\"duration\":\"number\",\n\t\t\t\"progress\":\"0..1\",\n\t\t\t\"parent_id\":\"string\",\n\t\t\t\"order\":\"number\"\n\t\t},...],\n\tlinks:[\n\t\t{\n\t\t\tid:\"string\",\n\t\t\tsource:\"string\",\n\t\t\ttarget:\"string\",\n\t\t\ttype:\"string\"\n\t\t},...],\n\tcollections:{\n\t\t\tcollectionName:[\n\t\t\t\t{key:, label:, optional:...},...\n\t\t\t],...\n\t\t}\n\t}\n\n\t* */\n\n\tgantt.on_load = function (resp, type) {\n\t\tif(resp.xmlDoc && resp.xmlDoc.status === 404){ // work if we don't have a file at current url\n\t\t\tthis.assert(false, \"Failed to load the data from <a href='\" + resp.xmlDoc.responseURL + \"' target='_blank'>\" \n\t\t\t\t+ resp.xmlDoc.responseURL + \"</a>, server returns 404\");\n\t\t\treturn;\n\t\t}\n\t\tthis.callEvent(\"onBeforeParse\", []);\n\t\tif (!type)\n\t\t\ttype = \"json\";\n\t\tthis.assert(this[type], \"Invalid data type:'\" + type + \"'\");\n\n\t\tvar raw = resp.xmlDoc.responseText;\n\n\t\tvar data = this[type].parse(raw, resp);\n\t\tthis._process_loading(data);\n\t};\n\n\tgantt._process_loading = function (data) {\n\t\tif(data.collections)\n\t\t\tthis._load_collections(data.collections);\n\n\t\tthis.$data.tasksStore.parse(data.data || data.tasks);\n\t\tvar links = data.links || (data.collections ? data.collections.links : []);\n\t\tthis.$data.linksStore.parse(links);\n\n\t\t//this._sync_links();\n\t\tthis.callEvent(\"onParse\", []);\n\t\tthis.render();\n\t};\n\n\tgantt._load_collections = function (collections) {\n\t\tvar collections_loaded = false;\n\t\tfor (var key in collections) {\n\t\t\tif (collections.hasOwnProperty(key)) {\n\t\t\t\tcollections_loaded = true;\n\t\t\t\tvar collection = collections[key];\n\t\t\t\tvar arr = this.serverList[key];\n\t\t\t\tif (!arr) continue;\n\t\t\t\tarr.splice(0, arr.length); //clear old options\n\t\t\t\tfor (var j = 0; j < collection.length; j++) {\n\t\t\t\t\tvar option = collection[j];\n\t\t\t\t\tvar obj = this.copy(option);\n\t\t\t\t\tobj.key = obj.value;// resulting option object\n\n\t\t\t\t\tfor (var option_key in option) {\n\t\t\t\t\t\tif (option.hasOwnProperty(option_key)) {\n\t\t\t\t\t\t\tif (option_key == \"value\" || option_key == \"label\")\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\tobj[option_key] = option[option_key]; // obj['value'] = option['value']\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tarr.push(obj);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (collections_loaded)\n\t\t\tthis.callEvent(\"onOptionsLoad\", []);\n\t};\n\n\tgantt.attachEvent(\"onBeforeTaskDisplay\", function (id, task) {\n\t\treturn !task.$ignore;\n\t});\n\n\tfunction jsonParseError(data){\n\t\tgantt.assert(false, \"Can't parse data: incorrect value of gantt.parse or gantt.load method. \"\n\t\t\t+ \"Actual argument value: \" + JSON.stringify(data));\n\t\tthrow new Error(\"Invalid argument for gantt.parse or gantt.load. An object or a JSON string of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#json is expected. Actual argument value: \"\n\t\t\t+ JSON.stringify(data));\n\t}\n\n\tgantt.json = {\n\t\tparse: function (data) {\n\t\t\tif(!data){\n\t\t\t\tjsonParseError(data);\n\t\t\t}\n\n\t\t\tif (typeof data == \"string\") {\n\t\t\t\tif (typeof JSON != undefined){\n\t\t\t\t\ttry{\n\t\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e) {\n\t\t\t\t\t\tjsonParseError(data);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tgantt.assert(false, \"JSON is not supported\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!data.data && !data.tasks){\n\t\t\t\tjsonParseError(data);\n\t\t\t}\n\n\t\t\tif (data.dhx_security)\n\t\t\t\tgantt.security_key = data.dhx_security;\n\t\t\treturn data;\n\t\t},\n\t\tserializeTask: function (task) {\n\t\t\treturn this._copyObject(task);\n\t\t},\n\t\tserializeLink: function (link) {\n\t\t\treturn this._copyLink(link);\n\t\t},\n\t\t_copyLink: function (obj) {\n\t\t\tvar copy = {};\n\t\t\tfor (var key in obj)\n\t\t\t\tcopy[key] = obj[key];\n\t\t\treturn copy;\n\t\t},\n\t\t_copyObject: function (obj) {\n\t\t\tvar copy = {};\n\t\t\tfor (var key in obj) {\n\t\t\t\tif (key.charAt(0) == \"$\")\n\t\t\t\t\tcontinue;\n\t\t\t\tcopy[key] = obj[key];\n\n\t\t\t\tif (helpers.isDate(copy[key])) {\n\t\t\t\t\tcopy[key] = gantt.defined(gantt.templates.xml_format) ? gantt.templates.xml_format(copy[key]) : gantt.templates.format_date(copy[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn copy;\n\t\t},\n\t\tserialize: function () {\n\t\t\tvar tasks = [];\n\t\t\tvar links = [];\n\n\t\t\tgantt.eachTask(function (obj) {\n\t\t\t\tgantt.resetProjectDates(obj);\n\t\t\t\ttasks.push(this.serializeTask(obj));\n\t\t\t}, gantt.config.root_id, this);\n\n\t\t\tvar rawLinks = gantt.getLinks();\n\t\t\tfor (var i = 0; i < rawLinks.length; i++) {\n\t\t\t\tlinks.push(this.serializeLink(rawLinks[i]));\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdata: tasks,\n\t\t\t\tlinks: links\n\t\t\t};\n\t\t}\n\t};\n\n\t/*\n\t<data>\n\t\t<task id:\"some\" parent_id=\"0\" progress=\"0.5\">\n\t\t\t<text>My task 1</text>\n\t\t\t<start_date>16.08.2013</start_date>\n\t\t\t<end_date>22.08.2013</end_date>\n\t\t</task>\n\t\t<coll_options>\n\t\t\t<links>\n\t\t\t\t<link source='a1' target='b2' type='c3' />\n\t\t\t</links>\n\t\t</coll_options>\n\t</data>\n\t*/\n\n\tfunction xmlParseError(data){\n\t\tgantt.assert(false, \"Can't parse data: incorrect value of gantt.parse or gantt.load method. \"\n\t\t\t+ \"Actual argument value: \" + JSON.stringify(data));\n\t\tthrow new Error(\"Invalid argument for gantt.parse or gantt.load. An XML of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#xmldhtmlxgantt20 is expected. Actual argument value: \"\n\t\t\t+ JSON.stringify(data));\n\t}\n\n\tgantt.xml = {\n\t\t_xmlNodeToJSON: function (node, attrs_only) {\n\t\t\tvar t = {};\n\t\t\tfor (var i = 0; i < node.attributes.length; i++)\n\t\t\t\tt[node.attributes[i].name] = node.attributes[i].value;\n\n\t\t\tif (!attrs_only) {\n\t\t\t\tfor (var i = 0; i < node.childNodes.length; i++) {\n\t\t\t\t\tvar child = node.childNodes[i];\n\t\t\t\t\tif (child.nodeType == 1)\n\t\t\t\t\t\tt[child.tagName] = child.firstChild ? child.firstChild.nodeValue : \"\";\n\t\t\t\t}\n\n\t\t\t\tif (!t.text) t.text = node.firstChild ? node.firstChild.nodeValue : \"\";\n\t\t\t}\n\n\t\t\treturn t;\n\t\t},\n\t\t_getCollections: function (loader) {\n\t\t\tvar collection = {};\n\t\t\tvar opts = gantt.ajax.xpath(\"//coll_options\", loader);\n\t\t\tfor (var i = 0; i < opts.length; i++) {\n\t\t\t\tvar bind = opts[i].getAttribute(\"for\");\n\t\t\t\tvar arr = collection[bind] = [];\n\t\t\t\tvar itms = gantt.ajax.xpath(\".//item\", opts[i]);\n\t\t\t\tfor (var j = 0; j < itms.length; j++) {\n\t\t\t\t\tvar itm = itms[j];\n\t\t\t\t\tvar attrs = itm.attributes;\n\t\t\t\t\tvar obj = {key: itms[j].getAttribute(\"value\"), label: itms[j].getAttribute(\"label\")};\n\t\t\t\t\tfor (var k = 0; k < attrs.length; k++) {\n\t\t\t\t\t\tvar attr = attrs[k];\n\t\t\t\t\t\tif (attr.nodeName == \"value\" || attr.nodeName == \"label\")\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\tobj[attr.nodeName] = attr.nodeValue;\n\t\t\t\t\t}\n\t\t\t\t\tarr.push(obj);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn collection;\n\t\t},\n\t\t_getXML: function (text, loader, toptag) {\n\t\t\ttoptag = toptag || \"data\";\n\t\t\tif (!loader.getXMLTopNode) {\n\t\t\t\tloader = gantt.ajax.parse(loader);\n\t\t\t}\n\n\t\t\tvar xml = gantt.ajax.xmltop(toptag, loader.xmlDoc);\n\t\t\tif (!xml || xml.tagName != toptag) {\n\t\t\t\txmlParseError(text);\n\t\t\t}\n\n\t\t\tvar skey = xml.getAttribute(\"dhx_security\");\n\t\t\tif (skey)\n\t\t\t\tgantt.security_key = skey;\n\n\t\t\treturn xml;\n\t\t},\n\t\tparse: function (text, loader) {\n\t\t\tloader = this._getXML(text, loader);\n\t\t\tvar data = {};\n\n\t\t\tvar evs = data.data = [];\n\t\t\tvar xml = gantt.ajax.xpath(\"//task\", loader);\n\n\t\t\tfor (var i = 0; i < xml.length; i++)\n\t\t\t\tevs[i] = this._xmlNodeToJSON(xml[i]);\n\n\t\t\tdata.collections = this._getCollections(loader);\n\t\t\treturn data;\n\t\t},\n\t\t_copyLink: function (obj) {\n\t\t\treturn \"<item id='\" + obj.id + \"' source='\" + obj.source + \"' target='\" + obj.target + \"' type='\" + obj.type + \"' />\";\n\t\t},\n\t\t_copyObject: function (obj) {\n\t\t\treturn \"<task id='\" + obj.id + \"' parent='\" + (obj.parent || \"\") + \"' start_date='\" + obj.start_date + \"' duration='\" + obj.duration + \"' open='\" + (!!obj.open) + \"' progress='\" + obj.progress + \"' end_date='\" + obj.end_date + \"'><![CDATA[\" + obj.text + \"]]></task>\";\n\t\t},\n\t\tserialize: function () {\n\t\t\tvar tasks = [];\n\t\t\tvar links = [];\n\n\t\t\tvar json = gantt.json.serialize();\n\t\t\tfor (var i = 0, len = json.data.length; i < len; i++) {\n\t\t\t\ttasks.push(this._copyObject(json.data[i]));\n\t\t\t}\n\t\t\tfor (var i = 0, len = json.links.length; i < len; i++) {\n\t\t\t\tlinks.push(this._copyLink(json.links[i]));\n\t\t\t}\n\t\t\treturn \"<data>\" + tasks.join(\"\") + \"<coll_options for='links'>\" + links.join(\"\") + \"</coll_options></data>\";\n\t\t}\n\t};\n\n\n\tgantt.oldxml = {\n\t\tparse: function (text, loader) {\n\t\t\tloader = gantt.xml._getXML(text, loader, \"projects\");\n\t\t\tvar data = {collections: {links: []}};\n\n\t\t\tvar evs = data.data = [];\n\t\t\tvar xml = gantt.ajax.xpath(\"//task\", loader);\n\n\t\t\tfor (var i = 0; i < xml.length; i++) {\n\t\t\t\tevs[i] = gantt.xml._xmlNodeToJSON(xml[i]);\n\t\t\t\tvar parent = xml[i].parentNode;\n\n\t\t\t\tif (parent.tagName == \"project\")\n\t\t\t\t\tevs[i].parent = \"project-\" + parent.getAttribute(\"id\");\n\t\t\t\telse\n\t\t\t\t\tevs[i].parent = parent.parentNode.getAttribute(\"id\");\n\t\t\t}\n\n\t\t\txml = gantt.ajax.xpath(\"//project\", loader);\n\t\t\tfor (var i = 0; i < xml.length; i++) {\n\t\t\t\tvar ev = gantt.xml._xmlNodeToJSON(xml[i], true);\n\t\t\t\tev.id = \"project-\" + ev.id;\n\t\t\t\tevs.push(ev);\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < evs.length; i++) {\n\t\t\t\tvar ev = evs[i];\n\t\t\t\tev.start_date = ev.startdate || ev.est;\n\t\t\t\tev.end_date = ev.enddate;\n\t\t\t\tev.text = ev.name;\n\t\t\t\tev.duration = ev.duration / 8;\n\t\t\t\tev.open = 1;\n\t\t\t\tif (!ev.duration && !ev.end_date) ev.duration = 1;\n\t\t\t\tif (ev.predecessortasks)\n\t\t\t\t\tdata.collections.links.push({\n\t\t\t\t\t\ttarget: ev.id,\n\t\t\t\t\t\tsource: ev.predecessortasks,\n\t\t\t\t\t\ttype: gantt.config.links.finish_to_start\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn data;\n\t\t},\n\t\tserialize: function () {\n\t\t\tgantt.message(\"Serialization to 'old XML' is not implemented\");\n\t\t}\n\t};\n\n\tgantt.serverList = function (name, array) {\n\t\tif (array) {\n\t\t\tthis.serverList[name] = array.slice(0);\n\t\t} else if (!this.serverList[name]) {\n\t\t\tthis.serverList[name] = [];\n\t\t}\n\t\treturn this.serverList[name];\n\t};\n\n};","module.exports = function(gantt) {\n\tgantt.isReadonly = function (item) {\n\n\t\tif((typeof item == \"number\" || typeof item == \"string\") && gantt.isTaskExists(item)){\n\t\t\titem = gantt.getTask(item);\n\t\t}\n\t\tif (item && item[this.config.editable_property]) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn (item && item[this.config.readonly_property]) || this.config.readonly;\n\t\t}\n\t};\n};","module.exports = function(gantt) {\n\tgantt.getGridColumn = function(name) {\n\t\tvar columns = gantt.config.columns;\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tif (columns[i].name == name)\n\t\t\t\treturn columns[i];\n\t\t}\n\n\t\treturn null;\n\t};\n\n\tgantt.getGridColumns = function() {\n\t\treturn gantt.config.columns.slice();\n\t};\n};","const SENSITIVITY = 20;\nconst TIMEOUT = 50;\nconst SCROLLSTEP = 10;\n\nexport default class ScrollableGrid {\n\tpublic getCurrentX;\n\tprivate $gantt;\n\tprivate $grid;\n\tprivate _dnd;\n\tprivate _scrollView;\n\tprivate _scrollOrder: 0 | 1 | -1 = 0;\n\n\tconstructor(params) {\n\t\tconst {gantt, grid, dnd, getCurrentX} = params;\n\t\tthis.$gantt = gantt;\n\t\tthis.$grid = grid;\n\t\tthis._dnd = dnd;\n\t\tthis.getCurrentX = getCurrentX;\n\t\tthis._scrollView = this.$gantt.$ui.getView(this.$grid.$config.scrollX);\n\t\tthis.attachEvents();\n\t}\n\tattachEvents() {\n\t\tif (this.isScrollable()) {\n\t\t\tthis._dnd.attachEvent(\"onDragMove\", (obj, e) => {\n\t\t\t\tconst gridBoundingRect = this.$grid.$grid.getBoundingClientRect();\n\t\t\t\tconst maxLeft = gridBoundingRect.right;\n\t\t\t\tconst minLeft = gridBoundingRect.left;\n\t\t\t\tconst currentX = this.getCurrentX(e.clientX);\n\n\t\t\t\tif (currentX >= maxLeft - SENSITIVITY) {\n\t\t\t\t\tthis.autoscrollRight();\n\t\t\t\t\tthis.autoscrollStart();\n\t\t\t\t}\n\t\t\t\tif (currentX <= minLeft + SENSITIVITY) {\n\t\t\t\t\tthis.autoscrollLeft();\n\t\t\t\t\tthis.autoscrollStart();\n\t\t\t\t}\n\t\t\t\tif (currentX < maxLeft - SENSITIVITY && currentX > minLeft + SENSITIVITY) {\n\t\t\t\t\tthis.autoscrollStop();\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t});\n\t\t\tthis._dnd.attachEvent(\"onDragEnd\", () => {\n\t\t\t\tthis.autoscrollStop();\n\t\t\t});\n\t\t}\n\t}\n\tautoscrollStart() {\n\t\tif (this._scrollOrder === 0) {\n\t\t\treturn;\n\t\t}\n\t\tconst scrollStep = SCROLLSTEP * this._scrollOrder;\n\t\tconst scrollState = this._scrollView.getScrollState();\n\t\tthis._scrollView.scrollTo(scrollState.position + scrollStep);\n\t\tsetTimeout(() => { this.autoscrollStart(); }, TIMEOUT);\n\t}\n\tautoscrollRight() {\n\t\tthis._scrollOrder = 1;\n\t}\n\tautoscrollLeft() {\n\t\tthis._scrollOrder = -1;\n\t}\n\tautoscrollStop() {\n\t\tthis._scrollOrder = 0;\n\t}\n\tgetCorrection() {\n\t\tif (!this.isScrollable()) {\n\t\t\treturn 0;\n\t\t}\n\t\treturn this._scrollView.getScrollState().position;\n\t}\n\tisScrollable() {\n\t\treturn !!this.$grid.$config.scrollable;\n\t}\n}","import * as domHelpers from \"../../utils/dom_helpers\";\nimport ScrollableGrid from \"./scrollable_grid\";\n\nconst COLUMN_ID_ATTR_NAME = \"data-column-id\";\n\nexport class ColumnsGridDnd {\n\tprivate $gantt;\n\tprivate $grid;\n\tprivate _dragX;\n\tprivate _dnd;\n\tprivate _originAutoscroll;\n\tprivate _scrollableGrid: ScrollableGrid;\n\tprivate _draggedCell;\n\tprivate _targetMarker = null;\n\tprivate _gridConfig;\n\tconstructor(gantt, grid) {\n\t\tthis.$gantt = gantt;\n\t\tthis.$grid = grid;\n\t}\n\tinit() {\n\t\tconst DND = this.$gantt.$services.getService(\"dnd\");\n\t\tthis._dnd = new DND(this.$grid.$grid_scale, { updates_per_second: 60 });\n\t\tthis._scrollableGrid = new ScrollableGrid({\n\t\t\tgantt: this.$gantt,\n\t\t\tgrid: this.$grid,\n\t\t\tdnd: this._dnd,\n\t\t\tgetCurrentX: this.calculateCurrentPosition\n\t\t});\n\t\tthis.attachEvents();\n\t}\n\tattachEvents() {\n\t\tthis._dnd.attachEvent(\"onBeforeDragStart\", (obj, e) => {\n\t\t\tthis._draggedCell = this.$gantt.utils.dom.closest(e.target, \".gantt_grid_head_cell\");\n\t\t\tif(!this._draggedCell){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst columns = this.$grid.$getConfig().columns;\n\t\t\tconst columnName = this._draggedCell.getAttribute(COLUMN_ID_ATTR_NAME);\n\t\t\tlet draggedColumn;\n\t\t\tlet draggedIndex;\n\t\t\tcolumns.map(function(column, index){\n\t\t\t\tif(column.name === columnName){\n\t\t\t\t\tdraggedColumn = column;\n\t\t\t\t\tdraggedIndex = index;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (this.$grid.callEvent(\"onBeforeColumnDragStart\", [{ draggedColumn, draggedIndex}]) === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (!this._draggedCell || !draggedColumn) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis._gridConfig = this.$grid.$getConfig();\n\t\t\tthis._originAutoscroll = this.$gantt.config.autoscroll;\n\t\t\tthis.$gantt.config.autoscroll = false;\n\t\t\treturn true;\n\t\t});\n\n\t\tthis._dnd.attachEvent(\"onAfterDragStart\", (obj, e) => {\n\t\t\tthis._dnd.config.column = this._draggedCell.getAttribute(COLUMN_ID_ATTR_NAME);\n\t\t\tthis._dnd.config.marker.innerHTML = this._draggedCell.outerHTML;\n\t\t\tthis._dnd.config.marker.classList.add(\"gantt_column_drag_marker\");\n\t\t\tthis._dnd.config.marker.style.height = this._gridConfig.scale_height + \"px\";\n\t\t\tthis._dnd.config.marker.style.lineHeight = this._gridConfig.scale_height + \"px\";\n\t\t\tthis._draggedCell.classList.add(\"gantt_grid_head_cell_dragged\");\n\t\t});\n\n\t\tthis._dnd.attachEvent(\"onDragMove\", (obj, e) => {\n\t\t\tif(!this._draggedCell){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._dragX = e.clientX;\n\t\t\tconst x = this.calculateCurrentPosition(e.clientX);\n\t\t\tconst columnIndexes = this.findColumnsIndexes();\n\t\t\tconst targetIndex = columnIndexes.targetIndex;\n\t\t\tconst draggedIndex = columnIndexes.draggedIndex;\n\t\t\tconst columns = this.$grid.$getConfig().columns;\n\n\t\t\tconst draggedColumn = columns[draggedIndex];\n\t\t\tconst targetColumn = columns[targetIndex];\n\t\t\tif (this.$grid.callEvent(\"onColumnDragMove\", [{ draggedColumn, targetColumn, draggedIndex, targetIndex }]) === false) {\n\t\t\t\tthis.cleanTargetMarker();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.setMarkerPosition(x);\n\t\t\tthis.drawTargetMarker(columnIndexes);\n\t\t\treturn true;\n\t\t});\n\n\t\tthis._dnd.attachEvent(\"onDragEnd\", () => {\n\t\t\tif (!this._draggedCell) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.$gantt.config.autoscroll = this._originAutoscroll;\n\t\t\tthis._draggedCell.classList.remove(\"gantt_grid_head_cell_dragged\");\n\t\t\tthis.cleanTargetMarker();\n\t\t\tthis.reorderColumns();\n\t\t});\n\n\t}\n\treorderColumns() {\n\t\tconst { targetIndex, draggedIndex } = this.findColumnsIndexes();\n\n\t\tconst columns = this.$grid.$getConfig().columns;\n\t\tconst draggedColumn = columns[draggedIndex];\n\t\tconst targetColumn = columns[targetIndex];\n\n\t\tif (this.$grid.callEvent(\"onBeforeColumnReorder\", [{ draggedColumn, targetColumn, draggedIndex, targetIndex }]) === false) {\n\t\t\treturn;\n\t\t}\n\t\tif (targetIndex === draggedIndex) {\n\t\t\treturn;\n\t\t}\n\t\tcolumns.splice(draggedIndex, 1);\n\t\tcolumns.splice(targetIndex, 0, draggedColumn);\n\t\tthis.$gantt.render();\n\t\tthis.$grid.callEvent(\"onAfterColumnReorder\", [{ draggedColumn, targetColumn, draggedIndex, targetIndex }]);\n\t}\n\tfindColumnsIndexes() {\n\t\tconst draggedId = this._dnd.config.column;\n\t\tconst columns = this.$grid.$getConfig().columns;\n\t\tlet targetIndex: number;\n\t\tlet draggedIndex: number;\n\t\tlet xBefore: number;\n\t\tlet xAfter: number;\n\t\tconst currentColumn = { startX: 0, endX: 0 };\n\n\t\tlet start = 0;\n\t\tlet end = columns.length - 1;\n\t\tlet compare = (a, b) => a <= b;\n\t\tlet next = (index) => ++index;\n\t\tif (this.$gantt.config.rtl) {\n\t\t\tstart = columns.length - 1;\n\t\t\tend = 0;\n\t\t\tcompare = (a, b) => a >= b;\n\t\t\tnext = (index) => --index;\n\t\t}\n\n\t\tlet columnRelativePos: number;\n\n\t\tconst relativeX = this._dragX - this.$grid.$grid.getBoundingClientRect().left + this._scrollableGrid.getCorrection();\n\t\tfor (let i = start; compare(i, end); i = next(i)) {\n\t\t\tif (targetIndex !== undefined && draggedIndex !== undefined) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(!columns[i].hide) {\n\t\t\t\tcurrentColumn.startX = currentColumn.endX;\n\t\t\t\tcurrentColumn.endX += columns[i].width;\n\n\t\t\t\t// if drop on a column or drop after the last column\n\t\t\t\tif (relativeX >= currentColumn.startX && (relativeX <= currentColumn.endX || !compare(next(i), end))) {\n\t\t\t\t\ttargetIndex = i;\n\t\t\t\t\txBefore = currentColumn.startX;\n\t\t\t\t\txAfter = currentColumn.endX;\n\t\t\t\t\tcolumnRelativePos = (relativeX - currentColumn.startX) / (currentColumn.endX - currentColumn.startX);\n\t\t\t\t}\n\t\t\t\tif (draggedId === columns[i].name) {\n\t\t\t\t\tdraggedIndex = i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\ttargetIndex,\n\t\t\tdraggedIndex,\n\t\t\txBefore,\n\t\t\txAfter,\n\t\t\tcolumnRelativePos\n\t\t};\n\t}\n\tsetMarkerPosition(x: number, y: number = 10) {\n\t\tconst { marker } = this._dnd.config;\n\t\tconst gridOffset = this._dnd._obj.getBoundingClientRect();\n\t\tmarker.style.top = `${gridOffset.y + y}px`;\n\t\tmarker.style.left = `${x}px`;\n\t}\n\tcalculateCurrentPosition = (eventX: number) => {\n\t\tconst gridBoundingRect = this.$grid.$grid.getBoundingClientRect();\n\t\tconst maxLeft = gridBoundingRect.right;\n\t\tconst minLeft = gridBoundingRect.left;\n\t\tlet x = eventX;\n\t\tif (x > maxLeft) {\n\t\t\tx = maxLeft;\n\t\t}\n\t\tif (x < minLeft) {\n\t\t\tx = minLeft;\n\t\t}\n\t\treturn x;\n\t}\n\tdrawTargetMarker({ targetIndex, draggedIndex, xBefore, xAfter, columnRelativePos }) {\n\t\tif (!this._targetMarker) {\n\t\t\tthis._targetMarker = document.createElement(\"div\");\n\t\t\tdomHelpers.addClassName(this._targetMarker, \"gantt_grid_target_marker\");\n\t\t\tthis._targetMarker.style.display = \"none\";\n\t\t\tthis._targetMarker.style.height = `${this._gridConfig.scale_height}px`;\n\t\t}\n\n\t\t// marker can be detached after gantt.render\n\t\tif(!this._targetMarker.parentNode){\n\t\t\tthis.$grid.$grid_scale.appendChild(this._targetMarker);\n\t\t}\n\n\t\tlet nextPosition: number;\n\t\tif (targetIndex > draggedIndex) {\n\t\t\tnextPosition = xAfter;\n\t\t} else if (targetIndex < draggedIndex) {\n\t\t\tnextPosition = xBefore;\n\t\t} else {\n\t\t\tif(columnRelativePos > 0.5){\n\t\t\t\tnextPosition = xAfter;\n\t\t\t}else{\n\t\t\t\tnextPosition = xBefore;\n\t\t\t}\n\t\t}\n\n\t\tthis._targetMarker.style.left = `${nextPosition}px`;\n\t\tthis._targetMarker.style.display = \"block\";\n\t}\n\tcleanTargetMarker() {\n\t\tif (this._targetMarker && this._targetMarker.parentNode) {\n\t\t\tthis.$grid.$grid_scale.removeChild(this._targetMarker);\n\t\t}\n\t\tthis._targetMarker = null;\n\t}\n}","import {ColumnsGridDnd} from \"./column_grid_dnd\";\nexport default ColumnsGridDnd;","var domHelpers = require(\"../utils/dom_helpers\");\n\nfunction createRowResizer(gantt, grid){\n\n\tvar _task_grid_row_resize = {\n\t\trow_before_start: gantt.bind(function (dnd, obj, e) {\n\t\t\tvar config = grid.$getConfig();\n\t\t\tvar store = grid.$config.rowStore;\n\n\t\t\tvar el = domHelpers.locateAttribute(e, config.task_grid_row_resizer_attribute);\n\t\t\tif (!el) return false;\n\n\t\t\tvar row_id = this.locate(e, config.task_grid_row_resizer_attribute),\n\t\t\t\trow = store.getItem(row_id);\n\n\t\t\tif (grid.callEvent(\"onBeforeRowResize\", [row]) === false)\n\t\t\t\treturn false;\n\t\t}, gantt),\n\n\t\trow_after_start: gantt.bind(function (dnd, obj, e) {\n\t\t\tvar config = grid.$getConfig();\n\n\t\t\tvar row_id = this.locate(e, config.task_grid_row_resizer_attribute);\n\t\t\tdnd.config.marker.innerHTML = \"\";\n\n\t\t\tdnd.config.marker.className += \" gantt_row_grid_resize_area\";\n\t\t\tdnd.config.marker.style.width = grid.$grid.offsetWidth + \"px\";\n\t\t\tdnd.config.drag_id = row_id;\n\n\t\t}, gantt),\n\n\t\trow_drag_move: gantt.bind(function (dnd, obj, e) {\n\t\t\tvar store = grid.$config.rowStore;\n\t\t\tvar config = grid.$getConfig();\n\t\t\tvar dd = dnd.config;\n\t\t\tvar id = parseInt(dd.drag_id, 10),\n\t\t\t\titemHeight = grid.getItemHeight(id),\n\t\t\t\titemTop = grid.getItemTop(id);\n\t\t\tvar pos = domHelpers.getNodePosition(grid.$grid_data),\n\t\t\t\tpointerPosition = parseInt(dd.marker.style.top, 10),\n\t\t\t\tmarkerStartPosition = itemTop + pos.y,\n\t\t\t\tmarker_height = 0,\n\t\t\t\tminPointerPosition = config.min_task_grid_row_height;\n\n\t\t\tmarker_height = pointerPosition - markerStartPosition;\n\t\t\tif(marker_height < minPointerPosition){\n\t\t\t\tmarker_height = minPointerPosition;\n\t\t\t}\n\n\t\t\tdd.marker.style.left = pos.x + \"px\";\n\t\t\tdd.marker.style.top = markerStartPosition - 1 + \"px\";\n\t\t\tdd.marker.style.height = Math.abs(marker_height) + 1 + \"px\";\n\n\t\t\tdd.marker_height = marker_height;\n\t\t\t\n\t\t\tgrid.callEvent(\"onRowResize\", [id, store.getItem(id), marker_height + itemHeight]);\n\t\t\treturn true;\n\t\t}, gantt),\n\n\t\trow_drag_end: gantt.bind(function (dnd, obj, e) {\n\t\t\tvar store = grid.$config.rowStore;\n\t\t\tvar dd = dnd.config;\n\t\t\tvar id = parseInt(dd.drag_id, 10),\n\t\t\t\titem = store.getItem(id),\n\t\t\t\toldItemHeight = grid.getItemHeight(id);\n\n\t\t\tvar finalHeight = dd.marker_height;\n\n\t\t\tif (grid.callEvent(\"onBeforeRowResizeEnd\", [id, item, finalHeight]) === false)\n\t\t\t\treturn;\n\n\t\t\tif (item.row_height == finalHeight)\n\t\t\t\treturn;\n\n\t\t\titem.row_height = finalHeight;\n\t\t\tgantt.updateTask(id);\n\n\t\t\tgrid.callEvent(\"onAfterRowResize\", [id, item, oldItemHeight, finalHeight]);\n\n\t\t\tthis.render();\n\t\t}, gantt)\n\t};\n\n\t// calls the initialization of the D'n'D events for resize elements\n\tvar _init_resize = function () {\n\n\t\tvar DnD = gantt.$services.getService(\"dnd\");\n\n\t\tvar config = grid.$getConfig();\n\n\t\tvar dnd = new DnD(grid.$grid_data, {updates_per_second: 60});\n\t\tif (gantt.defined(config.dnd_sensitivity))\n\t\t\tdnd.config.sensitivity = config.dnd_sensitivity;\n\n\t\tdnd.attachEvent(\"onBeforeDragStart\", function (obj, e) {\n\t\t\treturn _task_grid_row_resize.row_before_start(dnd, obj, e);\n\t\t});\n\t\tdnd.attachEvent(\"onAfterDragStart\", function (obj, e) {\n\t\t\treturn _task_grid_row_resize.row_after_start(dnd, obj, e);\n\t\t});\n\t\tdnd.attachEvent(\"onDragMove\", function (obj, e) {\n\t\t\treturn _task_grid_row_resize.row_drag_move(dnd, obj, e);\n\t\t});\n\t\tdnd.attachEvent(\"onDragEnd\", function (obj, e) {\n\t\t\treturn _task_grid_row_resize.row_drag_end(dnd, obj, e);\n\t\t});\n\n\t};\n\n\treturn {\n\t\tinit: _init_resize\n\t};\n}\n\nmodule.exports = createRowResizer;","function createHelper(view){\n\tvar cachedRowHeight = -1;\n\tvar canUseSimpleCalc = -1;\n\treturn {\n\t\tresetCache: function(){\n\t\t\tcachedRowHeight = -1;\n\t\t\tcanUseSimpleCalc = -1;\n\t\t},\n\t\t_getRowHeight: function(){\n\t\t\tif(cachedRowHeight === -1){\n\t\t\t\tcachedRowHeight = view.$getConfig().row_height;\n\t\t\t}\n\t\t\treturn cachedRowHeight;\n\t\t},\n\t\t_refreshState: function(){\n\t\t\tthis.resetCache();\n\t\t\tcanUseSimpleCalc = true;\n\t\t\tvar store = view.$config.rowStore;\n\t\t\tif(!store){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar globalRowHeight = this._getRowHeight();\n\t\t\tfor (var i=0; i<store.fullOrder.length; i++) {\n\t\t\t\tvar item = store.getItem(store.fullOrder[i]);\n\t\t\t\tif(item.row_height && item.row_height !== globalRowHeight){\n\t\t\t\t\tcanUseSimpleCalc = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t},\n\t\tcanUseSimpleCalculation: function(){\n\t\t\tif(canUseSimpleCalc === -1){\n\t\t\t\tthis._refreshState();\n\t\t\t}\n\t\t\treturn canUseSimpleCalc;\n\t\t},\n\n\t\t/**\n\t\t * Get top coordinate by row index (order)\n\t\t * @param {number} index\n\t\t */\n\t\tgetRowTop: function(index){\n\t\t\tvar store = view.$config.rowStore;\n\t\t\tif(!store){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\treturn index * this._getRowHeight();\n\t\t},\n\n\t\t/**\n\t\t * Get height of the item by item id\n\t\t * @param {*} itemId\n\t\t */\n\t\tgetItemHeight: function (itemId) {\n\t\t\treturn this._getRowHeight();\n\t\t},\n\n\t\t/**\n\t\t * Get total height of items\n\t\t */\n\t\tgetTotalHeight: function () {\n\t\t\tif(view.$config.rowStore){\n\t\t\t\tvar store = view.$config.rowStore;\n\t\t\t\treturn store.countVisible() * this._getRowHeight();\n\t\t\t}else{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Get item by top position\n\t\t * @param {*} top\n\t\t */\n\t\tgetItemIndexByTopPosition: function (top) {\n\t\t\tif(view.$config.rowStore){\n\t\t\t\treturn Math.floor(top / this._getRowHeight());\n\t\t\t}else{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t};\n}\n\nmodule.exports = createHelper;","var domHelpers = require(\"../utils/dom_helpers\");\n\nfunction createResizer(gantt, grid){\n// renders resize elements in the grid header\n\tvar _render_grid_header_resize = function () {\n\t\tvar columns = grid.getGridColumns(),\n\t\t\tconfig = grid.$getConfig(),\n\t\t\twidth = 0,\n\t\t\ttotalWidth = grid.$config.width,\n\t\t\tlineHeigth = config.scale_height;\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tvar col = columns[i];\n\n\t\t\tvar pos;\n\t\t\twidth += col.width;\n\t\t\tif(config.rtl){\n\t\t\t\tpos = totalWidth - width;\n\t\t\t}else{\n\t\t\t\tpos = width;\n\t\t\t}\n\n\t\t\tif (col.resize) {\n\t\t\t\tvar resize_el = document.createElement(\"div\");\n\t\t\t\tresize_el.className = \"gantt_grid_column_resize_wrap\";\n\t\t\t\tresize_el.style.top = \"0px\";\n\t\t\t\tresize_el.style.height = lineHeigth + \"px\";\n\t\t\t\tresize_el.innerHTML = \"<div class='gantt_grid_column_resize'></div>\";\n\t\t\t\tresize_el.setAttribute(config.grid_resizer_column_attribute, i);\n\t\t\t\tresize_el.setAttribute(\"column_index\", i); // hardcoded for backward compatibility\n\n\t\t\t\tgantt._waiAria.gridSeparatorAttr(resize_el);\n\n\t\t\t\tgrid.$grid_scale.appendChild(resize_el);\n\n\t\t\t\tresize_el.style.left = Math.max(0, pos) + \"px\";\n\t\t\t}\n\t\t}\n\t};\n\n\tvar _grid_resize = {\n\t\tcolumn_before_start: gantt.bind(function (dnd, obj, e) {\n\t\t\tvar config = grid.$getConfig();\n\n\t\t\tvar el = domHelpers.locateAttribute(e, config.grid_resizer_column_attribute);\n\t\t\tif (!el) return false;\n\n\t\t\tvar column_index = this.locate(e, config.grid_resizer_column_attribute),\n\t\t\t\tcolumn = grid.getGridColumns()[column_index];\n\n\t\t\tif (grid.callEvent(\"onColumnResizeStart\", [column_index, column]) === false)\n\t\t\t\treturn false;\n\t\t}, gantt),\n\n\t\tcolumn_after_start: gantt.bind(function (dnd, obj, e) {\n\t\t\tvar config = grid.$getConfig();\n\n\t\t\tvar column_index = this.locate(e, config.grid_resizer_column_attribute);\n\t\t\tdnd.config.marker.innerHTML = \"\";\n\t\t\tdnd.config.marker.className += \" gantt_grid_resize_area\";\n\t\t\tdnd.config.marker.style.height = grid.$grid.offsetHeight + \"px\";\n\t\t\tdnd.config.marker.style.top = \"0px\";\n\t\t\tdnd.config.drag_index = column_index;\n\n\t\t}, gantt),\n\n\t\tcolumn_drag_move: gantt.bind(function (dnd, obj, e) {\n\t\t\tvar config = grid.$getConfig();\n\n\t\t\tvar dd = dnd.config,\n\t\t\t\tcolumns = grid.getGridColumns();\n\t\t\tvar index = parseInt(dd.drag_index, 10);\n\t\t\tvar target_column = columns[index];\n\t\t\tvar\tpos = domHelpers.getNodePosition(grid.$grid_scale),\n\t\t\t\tpointerPosition = parseInt(dd.marker.style.left, 10),\n\t\t\t\tminPointerPosition = target_column.min_width ? target_column.min_width : config.min_grid_column_width,\n\t\t\t\tmaxPointerPosition = grid.$grid_data.offsetWidth,// - config.min_grid_column_width * (columns.length - dd.drag_index - 2),// 1 for current column + 1 for last column\n\t\t\t\tmarkerStartPosition = 0,\n\t\t\t\tmarker_width = 0;\n\n\t\t\t\n\t\t/*\tif(config.rtl){\n\t\t\t\tindex = columns.length - 1 - index;\n\t\t\t\tcolumns = columns.reverse();\n\t\t\t}*/\n\n\t\t\tif(!config.rtl){\n\t\t\t\tpointerPosition -= pos.x - 1;\n\t\t\t}else{\n\t\t\t\tpointerPosition = (pos.x + pos.width - 1) - pointerPosition;\n\t\t\t}\n\n\t\t\t//pointerPosition -= pos.x - 1;\n\t\t\tfor (var i = 0; i < index; i++) {\n\t\t\t\tminPointerPosition += columns[i].width;\n\t\t\t\tmarkerStartPosition += columns[i].width;\n\t\t\t}\n\n\t\t\tif (pointerPosition < minPointerPosition) {\n\t\t\t\tpointerPosition = minPointerPosition;\n\t\t\t}\n\n\t\t\tif (config.keep_grid_width) {\n\t\t\t\tvar limit_max = 0;\n\t\t\t\tfor (var i=index+1; i<columns.length; i++) {\n\t\t\t\t\tif (columns[i].min_width)\n\t\t\t\t\t\tmaxPointerPosition -= columns[i].min_width;\n\t\t\t\t\telse if (config.min_grid_column_width)\n\t\t\t\t\t\tmaxPointerPosition -= config.min_grid_column_width;\n\n\t\t\t\t\tif (columns[i].max_width && limit_max !== false)\n\t\t\t\t\t\tlimit_max += columns[i].max_width;\n\t\t\t\t\telse\n\t\t\t\t\t\tlimit_max = false;\t\t\t\t\t\n\t\t\t\t}\n\n\t\t\t\t// we have to restrict min value if only ALL right-side columns have 'max_width' field\n\t\t\t\tif (limit_max) {\n\t\t\t\t\tminPointerPosition = grid.$grid_data.offsetWidth - limit_max;\n\t\t\t\t}\n\t\t\t\tif (pointerPosition < minPointerPosition) {\n\t\t\t\t\tpointerPosition = minPointerPosition;\n\t\t\t\t}\n\n\t\t\t\tif (pointerPosition > maxPointerPosition)\n\t\t\t\t\tpointerPosition = maxPointerPosition;\n\t\t\t} else if (!grid.$config.scrollable) {\n\t\t\t\tvar targetWidth = pointerPosition;\n\t\t\t\tvar rightColumnsWidth = 0;\n\t\t\t\tfor (var i=index+1; i<columns.length; i++) {\n\t\t\t\t\trightColumnsWidth += columns[i].width;\n\t\t\t\t}\n\t\n\t\t\t\tvar maxWidth = gantt.$container.offsetWidth;\n\t\t\t\t// prevent grid from occupying the whole layout cell, which would disable the timeline\n\t\t\t\tvar parentLayout = grid.$parent.$parent;\n\t\t\t\tif(parentLayout && parentLayout.$config.mode == \"y\"){\n\t\t\t\t\tvar parentWidth = parentLayout.$lastSize.x;\n\t\t\t\t\tmaxWidth = Math.min(maxWidth, parentWidth - (parentLayout.$cells.length - 1));\n\t\t\t\t}\n\t\n\t\t\t\tif(targetWidth + rightColumnsWidth > maxWidth){\n\t\t\t\t\tpointerPosition = maxWidth - rightColumnsWidth;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tdd.left = pointerPosition - 1;// -1 for border\n\n\t\t\tmarker_width = Math.abs(pointerPosition - markerStartPosition);\n\n\t\t\t// column.max_width - maximum width of the column, user defined\n\t\t\tif (target_column.max_width && marker_width > target_column.max_width)\n\t\t\t\tmarker_width = target_column.max_width;\n\n\t\t\tif(config.rtl){\n\t\t\t\tmarkerStartPosition = (pos.width - markerStartPosition) + 2 - marker_width;\n\t\t\t}\n\t\t\tdd.marker.style.top = pos.y + \"px\";\n\t\t\tdd.marker.style.left = pos.x - 1 + markerStartPosition + \"px\";\n\t\t\tdd.marker.style.width = marker_width + \"px\";\n\n\t\t\tgrid.callEvent(\"onColumnResize\", [index, columns[index], marker_width - 1]);\n\t\t\treturn true;\n\t\t}, gantt),\n\n\t\tcolumn_drag_end: gantt.bind(function (dnd, obj, e) {\n\t\t\tvar config = grid.$getConfig();\n\t\t\tvar columns = grid.getGridColumns(),\n\t\t\t\tcolumns_width = 0,\n\t\t\t\tindex = parseInt(dnd.config.drag_index, 10),\n\t\t\t\ttarget_column = columns[index];\n\n\t\t\t// var colIndex = index;\n\t\t\t/*if(config.rtl){\n\t\t\t\tcolIndex = columns.length - 1 - target_index;\n\t\t\t\tcolumns = columns.reverse();\n\t\t\t}*/\n\n\t\t\tfor (var i = 0; i < index; i++) {\n\t\t\t\tcolumns_width += columns[i].width;\n\t\t\t}\n\n\t\t\tvar final_width = (target_column.min_width && (dnd.config.left - columns_width) < target_column.min_width) ?\n\t\t\t\ttarget_column.min_width : (dnd.config.left - columns_width);\n\n\t\t\tif (target_column.max_width && target_column.max_width < final_width) // TODO: probably can be omitted\n\t\t\t\tfinal_width = target_column.max_width;\n\n\t\t\tif (grid.callEvent(\"onColumnResizeEnd\", [index, target_column, final_width]) === false)\n\t\t\t\treturn;\n\n\t\t\tif (target_column.width == final_width)\n\t\t\t\treturn;\n\n\t\t\ttarget_column.width = final_width;\n\n\t\t\tif (config.keep_grid_width) {\n\t\t\t\tcolumns_width = config.grid_width;\n\t\t\t} else {\n\t\t\t\t// in other case we set a new grid width and call gantt render\n\t\t\t\tfor (var i = index, l = columns.length; i < l; i++) {\n\t\t\t\t\tcolumns_width += columns[i].width;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tgrid.callEvent(\"onColumnResizeComplete\", [columns, grid._setColumnsWidth(columns_width, index)]);\n\n\t\t\tif(!grid.$config.scrollable){\n\t\t\t\tgantt.$layout._syncCellSizes(grid.$config.group, config.grid_width);\n\t\t\t}\n\t\t\t//grid.callEvent(\"onColumnResizeComplete\", [columns, columns_width]);\n\n\t\t\tthis.render();\n\t\t}, gantt)\n\t};\n\n// calls the initialization of the D'n'D events for resize elements\n\tvar _init_resize = function () {\n\t\tvar DnD = gantt.$services.getService(\"dnd\");\n\n\t\tvar config = grid.$getConfig();\n\n\t\tvar dnd = new DnD(grid.$grid_scale, {updates_per_second: 60});\n\t\tif (gantt.defined(config.dnd_sensitivity))\n\t\t\tdnd.config.sensitivity = config.dnd_sensitivity;\n\n\t\tdnd.attachEvent(\"onBeforeDragStart\", function (obj, e) {\n\t\t\treturn _grid_resize.column_before_start(dnd, obj, e);\n\t\t});\n\t\tdnd.attachEvent(\"onAfterDragStart\", function (obj, e) {\n\t\t\treturn _grid_resize.column_after_start(dnd, obj, e);\n\t\t});\n\t\tdnd.attachEvent(\"onDragMove\", function (obj, e) {\n\t\t\treturn _grid_resize.column_drag_move(dnd, obj, e);\n\t\t});\n\t\tdnd.attachEvent(\"onDragEnd\", function (obj, e) {\n\t\t\treturn _grid_resize.column_drag_end(dnd, obj, e);\n\t\t});\n\n\t};\n\n\treturn {\n\t\tinit: _init_resize,\n\t\tdoOnRender: _render_grid_header_resize\n\t};\n}\n\nmodule.exports = createResizer;","var Grid = require(\"./ui/grid/grid\");\n\nmodule.exports = function(gantt) {\n\trequire(\"./grid_column_api.gpl\")(gantt);\n\tGrid.prototype.getGridColumns = function () {\n\t\tvar config = this.$getConfig();\n\t\tvar columns = config.columns,\n\t\t\tvisibleColumns = [];\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tif (!columns[i].hide)\n\t\t\t\tvisibleColumns.push(columns[i]);\n\t\t}\n\n\t\treturn visibleColumns;\n\t};\n};","module.exports = function(gantt) {\n\tvar TreeDataStore = require(\"./datastore/treedatastore\");\n\n\tvar loadedBranches = {};\n\tgantt.attachEvent(\"onClearAll\", function(){\n\t\tloadedBranches = {};\n\t});\n\n\tvar oldHasChildren = TreeDataStore.prototype.hasChild;\n\tgantt.$data.tasksStore.hasChild = function (id) {\n\t\tif(!gantt.config.branch_loading){\n\t\t\treturn oldHasChildren.call(this, id);\n\t\t}else{\n\t\t\tif (oldHasChildren.call(this, id))\n\t\t\t\treturn true;\n\t\t\tif (this.exists(id)) {\n\t\t\t\treturn this.getItem(id)[gantt.config.branch_loading_property];\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tfunction needLoading(id) {\n\t\tif (gantt.config.branch_loading && gantt._load_url) {\n\t\t\tvar alreadyLoaded = !!loadedBranches[id];\n\t\t\t// call ajax only if branch has children\n\t\t\tif (!alreadyLoaded && (!gantt.getChildren(id).length && gantt.hasChild(id))) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tgantt.attachEvent(\"onTaskOpened\", function (id) {\n\t\tif (gantt.config.branch_loading && gantt._load_url) {\n\t\t\t// call ajax only if branch has children\n\t\t\tif (needLoading(id)) {\n\t\t\t\tvar url = gantt._load_url;\n\t\t\t\turl = url.replace(/(\\?|&)?parent_id=.+&?/, \"\");\n\t\t\t\tvar param = url.indexOf(\"?\") >= 0 ? \"&\" : \"?\";\n\t\t\t\tvar y = gantt.getScrollState().y || 0;\n\n\t\t\t\tvar requestData = {\n\t\t\t\t\ttaskId: id,\n\t\t\t\t\turl: url + param + \"parent_id=\" + encodeURIComponent(id)\n\t\t\t\t};\n\n\t\t\t\tif(gantt.callEvent(\"onBeforeBranchLoading\", [requestData]) === false){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tgantt.load(requestData.url, this._load_type, function () {\n\t\t\t\t\tif (y) {\n\t\t\t\t\t\tgantt.scrollTo(null, y);\n\t\t\t\t\t}\n\t\t\t\t\tgantt.callEvent(\"onAfterBranchLoading\", [requestData]);\n\t\t\t\t});\n\t\t\t\tloadedBranches[id] = true;\n\t\t\t}\n\t\t}\n\t});\n\n};","export default class LinkFormatterSimple implements ILinkFormatter {\n\tstatic create = (settings: ILinkFormatterConfig = null, gantt: any): LinkFormatterSimple => {\n\t\treturn new LinkFormatterSimple(gantt);\n\t}\n\tprotected _linkReg: RegExp;\n\tprotected _gantt: any;\n\n\tconstructor(gantt: any) {\n\t\tthis._linkReg = /^[0-9\\.]+/;\n\t\tthis._gantt = gantt;\n\t}\n\n\tformat = (link: ILink) : string => {\n\t\tconst wbs = this._getWBSCode(link.source);\n\t\treturn wbs;\n\t}\n\n\tcanParse = (value: string) : boolean => {\n\t\treturn this._linkReg.test(value);\n\t}\n\tparse = (value: string) : ILink => {\n\t\tif(!this.canParse(value)){\n\t\t\treturn null;\n\t\t}\n\n\t\tconst linkPart = this._linkReg.exec(value)[0].trim();\n\n\t\tconst source = this._findSource(linkPart) || null;\n\n\t\treturn {\n\t\t\tid: undefined,\n\t\t\tsource,\n\t\t\ttarget: null,\n\t\t\ttype: this._gantt.config.links.finish_to_start,\n\t\t\tlag: 0\n\t\t};\n\t}\n\n\tprotected _getWBSCode = (source: number | string) => {\n\t\tconst pred = this._gantt.getTask(source);\n\t\treturn this._gantt.getWBSCode(pred);\n\t}\n\n\tprotected _findSource = (value: string) => {\n\t\tconst reqTemplate = new RegExp(\"^[0-9\\.]+\", \"i\");\n\t\tif(reqTemplate.exec(value)){\n\t\t\tconst wbs = reqTemplate.exec(value)[0];\n\t\t\tconst task = this._gantt.getTaskByWBSCode(wbs);\n\t\t\tif(task){\n\t\t\t\treturn task.id;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n}","import LinkFormatterSimple from \"./link_formatter_simple\";\n\nexport default class LinkFormatter extends LinkFormatterSimple implements ILinkFormatter {\n\tstatic create = (settings: ILinkFormatterConfig = null, gantt: any): LinkFormatter => {\n\t\treturn new LinkFormatter(settings, gantt);\n\t}\n\tprotected _config: ILinkFormatterConfig;\n\n\tconstructor(settings: ILinkFormatterConfig, gantt: any) {\n\t\tsuper(gantt);\n\t\tthis._config = this._defaultSettings(settings);\n\t\tthis._linkReg = /^[0-9\\.]+[a-zA-Z]*/;\n\t}\n\n\tformat = (link: ILink) : string => {\n\t\tconst formattedType = this._getFormattedLinkType(this._getLinkTypeName(link.type));\n\t\tconst wbs = this._getWBSCode(link.source);\n\t\tconst lag = this._getLagString(link.lag);\n\n\t\tif(link.type === this._gantt.config.links.finish_to_start && !link.lag){\n\t\t\treturn wbs;\n\t\t}else{\n\t\t\treturn `${wbs}${formattedType}${lag}`;\n\t\t}\n\t}\n\n\tparse = (value: string) : ILink => {\n\t\tif(!this.canParse(value)){\n\t\t\treturn null;\n\t\t}\n\n\t\tconst linkPart = this._linkReg.exec(value)[0].trim();\n\t\tconst lagPart = value.replace(linkPart, \"\").trim();\n\n\t\tconst typeFormat = this._findTypeFormat(linkPart);\n\t\tconst typeNumber = this._getLinkTypeNumber(typeFormat);\n\t\tconst source = this._findSource(linkPart) || null;\n\t\tconst lag = this._parseLag(lagPart);\n\n\t\treturn {\n\t\t\tid: undefined,\n\t\t\tsource,\n\t\t\ttarget: null,\n\t\t\ttype: typeNumber,\n\t\t\tlag\n\t\t};\n\t}\n\n\tprotected _defaultSettings(settings: ILinkFormatterConfig = null) : ILinkFormatterConfig{\n\t\tconst preparedSettings: ILinkFormatterConfig = {\n\t\t\tdurationFormatter: this._gantt.ext.formatters.durationFormatter(),\n\t\t\tlabels: {\n\t\t\t\tfinish_to_finish: \"FF\",\n\t\t\t\tfinish_to_start: \"FS\",\n\t\t\t\tstart_to_start: \"SS\",\n\t\t\t\tstart_to_finish: \"SF\"\n\t\t\t}\n\t\t};\n\n\t\tif(settings && settings.durationFormatter){\n\t\t\tpreparedSettings.durationFormatter = settings.durationFormatter;\n\t\t}\n\n\t\tif(settings && settings.labels){\n\t\t\tfor(const i in settings.labels){\n\t\t\t\tpreparedSettings.labels[i] = settings.labels[i];\n\t\t\t}\n\t\t}\n\t\treturn preparedSettings;\n\t}\n\n\tprotected _getLinkTypeName = (value: string) => {\n\t\tlet linkName = \"\";\n\t\tfor(linkName in this._config.labels){\n\t\t\tif(this._gantt.config.links[linkName].toLowerCase() === value.toLowerCase()){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn linkName;\n\t}\n\n\tprotected _getLinkTypeNumber = (value: string) => {\n\t\tlet linkName = \"\";\n\t\tfor(linkName in this._gantt.config.links){\n\t\t\tif(linkName.toLowerCase() === value.toLowerCase()){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn this._gantt.config.links[linkName];\n\t}\n\n\tprotected _getFormattedLinkType = (name: string) => {\n\t\treturn this._config.labels[name] || \"\";\n\t}\n\n\tprotected _getLagString = (lag: number) => {\n\t\tif(!lag){\n\t\t\treturn \"\";\n\t\t}\n\n\t\tconst formatted = this._config.durationFormatter.format(lag);\n\t\tif(lag < 0) {\n\t\t\treturn formatted;// -3 days\n\t\t}else{\n\t\t\treturn `+${formatted}`;// + 3 days\n\t\t}\n\t}\n\n\tprotected _findTypeFormat = (value: string) => {\n\t\tconst format = value.replace(/[^a-zA-Z]/gi, \"\"); // leave only letters\n\t\tlet name = \"finish_to_start\";\n\t\tfor(const i in this._config.labels){\n\t\t\tif(this._config.labels[i].toLowerCase() === format.toLowerCase()){\n\t\t\t\tname = i;\n\t\t\t}\n\t\t}\n\t\treturn name;\n\t}\n\n\tprotected _parseLag = (value: string) => {\n\t\tif(!value){\n\t\t\treturn 0;\n\t\t}\n\t\treturn this._config.durationFormatter.parse(value);\n\t}\n}","interface IFormatterTransfer {\n\ttoMinutes: (value: number) => number;\n\tfromMinutes: (value: number) => number;\n}\n\nexport default class DurationFormatter implements IDurationFormatter {\n\tstatic create = (settings: IDurationFormatterConfig = null): IDurationFormatter => {\n\t\treturn new DurationFormatter(settings);\n\t}\n\tprotected transferUnits: { [unit: string]: IFormatterTransfer };\n\tprotected _config: IDurationFormatterConfig;\n\tconstructor(settings: IDurationFormatterConfig = null) {\n\n\t\tthis._config = this._defaultSettings(settings);\n\t\tthis.transferUnits = {\n\t\t\tminute: {\n\t\t\t\ttoMinutes: (value: number) => {\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\tfromMinutes: (value: number) => {\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\thour: {\n\t\t\t\ttoMinutes: (value: number) => {\n\t\t\t\t\treturn value * this._config.minutesPerHour;\n\t\t\t\t},\n\t\t\t\tfromMinutes: (value: number) => {\n\t\t\t\t\treturn value / this._config.minutesPerHour;\n\t\t\t\t}\n\t\t\t},\n\t\t\tday: {\n\t\t\t\ttoMinutes: (value: number) => {\n\t\t\t\t\treturn value * this._config.minutesPerHour * this._config.hoursPerDay;\n\t\t\t\t},\n\t\t\t\tfromMinutes: (value: number) => {\n\t\t\t\t\treturn value / (this._config.minutesPerHour * this._config.hoursPerDay);\n\t\t\t\t}\n\t\t\t},\n\t\t\tweek: {\n\t\t\t\ttoMinutes: (value: number) => {\n\t\t\t\t\treturn value * this._config.minutesPerHour * this._config.hoursPerWeek;\n\t\t\t\t},\n\t\t\t\tfromMinutes: (value: number) => {\n\t\t\t\t\treturn value / (this._config.minutesPerHour * this._config.hoursPerWeek);\n\t\t\t\t}\n\t\t\t},\n\t\t\tmonth: {\n\t\t\t\ttoMinutes: (value: number) => {\n\t\t\t\t\treturn value * this._config.minutesPerHour * this._config.hoursPerDay * this._config.daysPerMonth;\n\t\t\t\t},\n\t\t\t\tfromMinutes: (value: number) => {\n\t\t\t\t\treturn value / (this._config.minutesPerHour * this._config.hoursPerDay * this._config.daysPerMonth);\n\t\t\t\t}\n\t\t\t},\n\t\t\tyear: {\n\t\t\t\ttoMinutes: (value: number) => {\n\t\t\t\t\treturn value * this._config.minutesPerHour * this._config.hoursPerDay * this._config.daysPerYear;\n\t\t\t\t},\n\t\t\t\tfromMinutes: (value: number) => {\n\t\t\t\t\treturn value / (this._config.minutesPerHour * this._config.hoursPerDay * this._config.daysPerYear);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\tcanParse = (value: string) : boolean => {\n\t\tlet units = \"\";\n\t\t// create all possible unit names\n\t\tconst labels = this._config.labels;\n\t\tfor(const labelName in labels){\n\t\t\tconst label = labels[labelName];\n\t\t\tunits += `${label.full}|${label.plural}|${label.short}|`;\n\t\t}\n\t\tconst reg = new RegExp(`^([+\\-]? *[0-9\\.]{1,}\\\\s*(${units})\\\\s*)*$`); // model looks like: 4h 20 minute\n\t\treturn reg.test((value||\"\").trim());\n\t}\n\n\tformat = (value:number) : string => {\n\n\t\tconst durationUnit = this._config.store;\n\t\tconst formatUnits = this._config.format;\n\t\tconst useShortLabels = this._config.short;\n\n\t\tlet totalMinutes = this.transferUnits[durationUnit]\n\t\t\t.toMinutes(value);\n\n\t\tlet units = formatUnits;\n\t\tif(units && units === \"auto\") {\n\t\t\tunits = this._selectFormatForValue(totalMinutes);\n\t\t}\n\t\tif(!units) {\n\t\t\tunits = \"day\";\n\t\t}\n\n\t\tif(formatUnits === \"auto\" && !value){\n\t\t\treturn \"\";\n\t\t}\n\t\tunits = Array.isArray(units) ? units : [units];\n\t\tlet result = \"\";\n\t\tconst last = units.length - 1;\n\t\tfor(let i = 0; i < units.length; i++){\n\t\t\tconst unit = units[i];\n\t\t\tconst countedValue = this._getValueFromMinutes(totalMinutes, unit, i === last);\n\t\t\ttotalMinutes -= this._getValueInMinutes(countedValue, unit);\n\n\t\t\tresult += `${this._getLabelForConvert(countedValue, unit, useShortLabels)}${i === last ? \"\" : \" \"}`;\n\t\t}\n\t\treturn result;\n\t}\n\n\tparse = (value: string) : number => {\n\t\tif(this.canParse(value)){\n\t\t\tvalue = (value||\"\").trim();\n\t\t\tlet part = \"\";\n\t\t\tlet isPartReady = false;\n\t\t\tlet needToParse = false;\n\t\t\tlet result = 0;\n\t\t\tconst last = value.length - 1;\n\t\t\tconst isNumber = /^[+\\-0-9\\. ]$/; // numbers and .;\n\n\t\t\tfor(let i = 0; i < value.length; i++){\n\t\t\t\tconst symbol = value[i];\n\t\t\t\tif(isNumber.test(symbol)){\n\t\t\t\t\t// found the next number. can parse the part of value\n\t\t\t\t\tneedToParse = isPartReady;\n\t\t\t\t} else {\n\t\t\t\t\t// the number is over. letters in turn. find the next number to get whole unit name\n\t\t\t\t\tisPartReady = true;\n\t\t\t\t}\n\n\t\t\t\t// parse the part of number or the resulting part, if the last element\n\t\t\t\tif(needToParse || last === i){\n\t\t\t\t\t// add the last symbol to the part if the last element\n\t\t\t\t\tif(!needToParse) {\n\t\t\t\t\t\tpart += symbol;\n\t\t\t\t\t}\n\n\t\t\t\t\t// parse the part to minutes\n\t\t\t\t\tresult += this._getNumericValue(part);\n\t\t\t\t\tisPartReady = needToParse = false;\n\t\t\t\t\tpart = \"\";\n\t\t\t\t}\n\t\t\t\tpart += symbol;\n\t\t\t}\n\t\t\tif(result){\n\t\t\t\tconst durationUnit = this._config.store;\n\t\t\t\treturn Math.round(this.transferUnits[durationUnit]\n\t\t\t\t\t.fromMinutes(Math.ceil(result)));\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tprotected _defaultSettings(settings: IDurationFormatterConfig = null){\n\t\tconst preparedSettings: IDurationFormatterConfig = {\n\t\t\tenter: \"day\",\n\t\t\tstore: \"hour\",\n\t\t\tformat: \"auto\",\n\t\t\tshort: false,\n\t\t\tminutesPerHour: 60,\n\t\t\thoursPerDay: 8,\n\t\t\thoursPerWeek: 40,\n\t\t\tdaysPerMonth: 30,\n\t\t\tdaysPerYear: 365,\n\t\t\tlabels: {\n\t\t\t\tminute: {\n\t\t\t\t\tfull: \"minute\",\n\t\t\t\t\tplural: \"minutes\",\n\t\t\t\t\tshort: \"min\"\n\t\t\t\t},\n\t\t\t\thour: {\n\t\t\t\t\tfull: \"hour\",\n\t\t\t\t\tplural: \"hours\",\n\t\t\t\t\tshort: \"h\"\n\t\t\t\t},\n\t\t\t\tday: {\n\t\t\t\t\tfull: \"day\",\n\t\t\t\t\tplural: \"days\",\n\t\t\t\t\tshort: \"d\"\n\t\t\t\t},\n\t\t\t\tweek: {\n\t\t\t\t\tfull: \"week\",\n\t\t\t\t\tplural: \"weeks\",\n\t\t\t\t\tshort: \"wk\"\n\t\t\t\t},\n\t\t\t\tmonth: {\n\t\t\t\t\tfull: \"month\",\n\t\t\t\t\tplural: \"months\",\n\t\t\t\t\tshort: \"mon\"\n\t\t\t\t},\n\t\t\t\tyear: {\n\t\t\t\t\tfull: \"year\",\n\t\t\t\t\tplural: \"years\",\n\t\t\t\t\tshort: \"y\"\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tif(settings){\n\t\t\tfor(const i in settings){\n\t\t\t\tif(settings[i] !== undefined && i !== \"labels\") {\n\t\t\t\t\tpreparedSettings[i] = settings[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(settings.labels){\n\t\t\t\tfor(const i in settings.labels) {\n\t\t\t\t\tpreparedSettings.labels[i] = settings.labels[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn preparedSettings;\n\n\t}\n\n\tprotected _selectFormatForValue(value: number): string {\n\t\tconst units = [\"year\",\"month\",\"day\",\"hour\",\"minute\"];\n\t\tconst values = [];\n\t\tfor(let i = 0; i < units.length; i++) {\n\t\t\tvalues[i] = Math.abs(this.transferUnits[units[i]].fromMinutes(value));\n\t\t}\n\n\t\tfor(let i = 0; i < values.length; i++) {\n\t\t\tconst valueInUnit = values[i];\n\t\t\tif(valueInUnit < 1 && i < values.length - 1){\n\t\t\t\tcontinue;\n\t\t\t} else {\n\t\t\t\treturn units[i];\n\t\t\t}\n\t\t}\n\n\t\treturn \"day\";\n\t}\n\n\tprotected _getNumericValue(value: string) : number {\n\t\tconst numericValue = parseFloat(value.replace(/ /g, \"\")) || 0;\n\t\tconst unitName = this._getUnitName(value.replace(/[^a-zA-Z]/gi, \"\")); // leave only letters\n\n\t\tif(!numericValue || !unitName){\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn this._getValueInMinutes(numericValue, unitName);\n\t}\n\n\tprotected _getValueInMinutes = (value: number, unit: string) => {\n\t\tif(this.transferUnits[unit] && this.transferUnits[unit].toMinutes){\n\t\t\treturn this.transferUnits[unit].toMinutes(value);\n\t\t}\n\t\treturn 0;\n\t}\n\n\tprotected _getLabelForConvert = (value: number, unit: string, short: boolean) : string => {\n\t\tconst labels = this._config.labels;\n\t\tconst label = labels[unit];\n\t\tif(short){\n\t\t\treturn `${value}${label.short}`;\n\t\t}\n\n\t\treturn `${value} ${value !== 1 ? label.plural : label.full}`;\n\t}\n\n\tprotected _getValueFromMinutes = (value: number, unit: string, last: boolean) : number => {\n\t\tif(this.transferUnits[unit] && this.transferUnits[unit].fromMinutes){\n\t\t\tconst result = this.transferUnits[unit].fromMinutes(value);\n\n\t\t\tif(last){\n\t\t\t\treturn parseFloat(result.toFixed(2));\n\t\t\t}\n\t\t\treturn parseInt(result.toString(), 10);\n\t\t}\n\t\treturn null;\n\t}\n\n\tprotected _isUnitName = (unit: any, value: string) : boolean => {\n\t\tvalue = value.toLowerCase();\n\t\treturn unit.full.toLowerCase() === value\n\t\t\t|| unit.plural.toLowerCase() === value\n\t\t\t|| unit.short.toLowerCase() === value;\n\t}\n\n\tprotected _getUnitName = (value: string) : string => {\n\t\tconst labels = this._config.labels;\n\t\tlet labelName: string;\n\t\tlet isUnit = false;\n\t\tfor(labelName in labels){\n\t\t\tif(this._isUnitName(labels[labelName], value)){\n\t\t\t\tisUnit = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif(isUnit){\n\t\t\treturn labelName;\n\t\t}\n\t\treturn this._config.enter;\n\t}\n}","\nvar DurationFormatter = require(\"../common/duration_formatter\").default;\nvar LinkFormatter = require(\"../common/link_formatter\").default;\n\nmodule.exports = function(gantt){\n\tgantt.ext.formatters = {\n\t\tdurationFormatter: function(settings){\n\t\t\tif(!settings){\n\t\t\t\tsettings = {};\n\t\t\t}\n\t\t\tif(!settings.store){\n\t\t\t\tsettings.store = gantt.config.duration_unit;\n\t\t\t}\n\t\t\tif(!settings.enter){\n\t\t\t\tsettings.enter = gantt.config.duration_unit;\n\t\t\t}\n\t\t\treturn DurationFormatter.create(settings, gantt);\n\t\t},\n\t\tlinkFormatter: function(settings){\n\t\t\treturn LinkFormatter.create(settings, gantt);\n\t\t}\n\t};\n};","module.exports = function(gantt) {\n\tfunction isEnabled() {\n\t\treturn gantt.config.auto_types && // if enabled\n\t\t\t(gantt.getTaskType(gantt.config.types.project) == gantt.config.types.project);// and supported\n\t}\n\n\tfunction callIfEnabled(callback) {\n\t\treturn function() {\n\t\t\tif (!isEnabled()) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn callback.apply(this, arguments);\n\t\t};\n\t}\n\n\tfunction updateParents(childId) {\n\t\tgantt.batchUpdate(function() {\n\t\t\tcheckParent(childId);\n\t\t});\n\t}\n\n\tvar delTaskParent;\n\n\tfunction checkParent(id) {\n\t\tsetTaskType(id);\n\t\tvar parent = gantt.getParent(id);\n\n\t\tif (parent != gantt.config.root_id) {\n\t\t\tcheckParent(parent);\n\t\t}\n\t}\n\n\tfunction setTaskType(id) {\n\t\tid = id.id || id;\n\t\tvar task = gantt.getTask(id);\n\t\tvar targetType = getTaskTypeToUpdate(task);\n\n\t\tif (targetType !== false) {\n\t\t\tupdateTaskType(task, targetType);\n\t\t}\n\t}\n\n\tfunction updateTaskType(task, targetType) {\n\t\tif(!gantt.getState().group_mode){\n\t\t\ttask.type = targetType;\n\t\t\tgantt.updateTask(task.id);\n\t\t}\n\t}\n\n\tfunction getTaskTypeToUpdate(task) {\n\t\tvar allTypes = gantt.config.types;\n\t\tvar hasChildren = gantt.hasChild(task.id);\n\t\tvar taskType = gantt.getTaskType(task.type);\n\n\t\tif (hasChildren && taskType === allTypes.task) {\n\t\t\treturn allTypes.project;\n\t\t}\n\n\t\tif (!hasChildren && taskType === allTypes.project) {\n\t\t\treturn allTypes.task;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tvar isParsingDone = true;\n\n\tgantt.attachEvent(\"onParse\", callIfEnabled(function() {\n\t\tisParsingDone = false;\n\n\t\tgantt.batchUpdate(function() {\n\t\t\tgantt.eachTask(function(task) {\n\t\t\t\tvar targetType = getTaskTypeToUpdate(task);\n\t\t\t\tif (targetType !== false) {\n\t\t\t\t\tupdateTaskType(task, targetType);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tisParsingDone = true;\n\t}));\n\n\tgantt.attachEvent(\"onAfterTaskAdd\", callIfEnabled(function(id) {\n\t\tif (isParsingDone) {\n\t\t\tupdateParents(id);\n\t\t}\n\t}));\n\n\tgantt.attachEvent(\"onAfterTaskUpdate\", callIfEnabled(function(id) {\n\t\tif (isParsingDone) {\n\t\t\tupdateParents(id);\n\t\t}\n\t}));\n\n\tfunction updateAfterRemoveChild(id){\n\t\tif (id != gantt.config.root_id && gantt.isTaskExists(id)) {\n\t\t\tupdateParents(id);\n\t\t}\n\t}\n\n\tgantt.attachEvent(\"onBeforeTaskDelete\", callIfEnabled(function(id, task) {\n\t\tdelTaskParent = gantt.getParent(id);\n\t\treturn true;\n\t}));\n\n\tgantt.attachEvent(\"onAfterTaskDelete\", callIfEnabled(function(id, task) {\n\t\tupdateAfterRemoveChild(delTaskParent);\n\t}));\n\n\n\tvar originalRowDndParent;\n\n\tgantt.attachEvent(\"onRowDragStart\", callIfEnabled(function(id, target, e) {\n\t\toriginalRowDndParent = gantt.getParent(id);\n\t\treturn true;\n\t}));\n\n\tgantt.attachEvent(\"onRowDragEnd\", callIfEnabled(function(id, target) {\n\t\tupdateAfterRemoveChild(originalRowDndParent);\n\t\tupdateParents(id);\n\t}));\n\n\tvar originalMoveTaskParent;\n\n\tgantt.attachEvent(\"onBeforeTaskMove\", callIfEnabled(function(sid, parent, tindex) {\n\t\toriginalMoveTaskParent = gantt.getParent(sid);\n\t\treturn true;\n\t}));\n\n\tgantt.attachEvent(\"onAfterTaskMove\", callIfEnabled(function(id, parent, tindex) {\n\t\tif (document.querySelector(\".gantt_drag_marker\")) {\n\t\t\t// vertical dnd in progress\n\t\t\treturn;\n\t\t}\n\t\tupdateAfterRemoveChild(originalMoveTaskParent);\n\t\tupdateParents(id);\n\t}));\n};","module.exports = function addPlaceholder(gantt){\n\tfunction isEnabled(){\n\t\treturn gantt.config.placeholder_task;\n\t}\n\n\tfunction callIfEnabled(callback){\n\t\treturn function(){\n\t\t\tif(!isEnabled()){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn callback.apply(this, arguments);\n\t\t};\n\t}\n\n\tfunction silenceDataProcessor(dataProcessor){\n\t\tif(dataProcessor && !dataProcessor._silencedPlaceholder){\n\t\t\tdataProcessor._silencedPlaceholder = true;\n\t\t\tdataProcessor.attachEvent(\"onBeforeUpdate\", callIfEnabled(function(id, state, data){\n\t\t\t\tif(data.type == gantt.config.types.placeholder){\n\t\t\t\t\tdataProcessor.setUpdated(id, false);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}));\n\t\t}\n\t}\n\n\tfunction insertPlaceholder(){\n\t\tvar placeholders = gantt.getTaskBy(\"type\", gantt.config.types.placeholder);\n\t\tif(!placeholders.length || !gantt.isTaskExists(placeholders[0].id)){\n\t\t\tvar placeholder = {\n\t\t\t\tunscheduled: true,\n\t\t\t\ttype: gantt.config.types.placeholder,\n\t\t\t\tduration:0,\n\t\t\t\ttext: gantt.locale.labels.new_task\n\t\t\t};\n\t\t\tif(gantt.callEvent(\"onTaskCreated\", [placeholder]) === false){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tgantt.addTask(placeholder);\n\t\t\t\n\t\t}\n\t}\n\n\tfunction afterEdit(id){\n\t\tvar item = gantt.getTask(id);\n\t\tif(item.type == gantt.config.types.placeholder) {\n\t\t\tif(item.start_date && item.end_date && item.unscheduled){\n\t\t\t\titem.unscheduled = false;\n\t\t\t}\n\n\t\t\tgantt.batchUpdate(function(){\n\t\t\t\tvar newTask = gantt.copy(item);\n\t\t\t\tgantt.silent(function(){\n\t\t\t\t\tgantt.deleteTask(item.id);\n\t\t\t\t});\n\n\t\t\t\tdelete newTask[\"!nativeeditor_status\"];\n\t\t\t\tnewTask.type = gantt.config.types.task;\n\t\t\t\tnewTask.id = gantt.uid();\n\t\t\t\tgantt.addTask(newTask);\n\n\t\t\t\t//insertPlaceholder();\n\t\t\t});\n\n\t\t}\n\t}\n\n\tgantt.config.types.placeholder = \"placeholder\";\n\tgantt.attachEvent(\"onDataProcessorReady\", callIfEnabled(silenceDataProcessor));\n\n\tvar ready = false;\n\tgantt.attachEvent(\"onGanttReady\", function(){\n\t\tif(ready){\n\t\t\treturn;\n\t\t}\n\t\tready = true;\n\t\tgantt.attachEvent(\"onAfterTaskUpdate\", callIfEnabled(afterEdit));\n\t\tgantt.attachEvent(\"onAfterTaskAdd\", callIfEnabled(function(id, task){\n\t\t\tif(task.type != gantt.config.types.placeholder){\n\t\t\t\tvar placeholders = gantt.getTaskBy(\"type\", gantt.config.types.placeholder);\n\t\t\t\tplaceholders.forEach(function(p){\n\t\t\t\t\tgantt.silent(function(){\n\t\t\t\t\t\tif(gantt.isTaskExists(p.id))\n\t\t\t\t\t\t\tgantt.deleteTask(p.id);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tinsertPlaceholder();\n\t\t\t}\n\t\t}));\n\t\tgantt.attachEvent(\"onParse\", callIfEnabled(insertPlaceholder));\n\t});\n\n\tfunction isPlaceholderTask(taskId){\n\t\tif(gantt.config.types.placeholder && gantt.isTaskExists(taskId)){\n\t\t\tvar task = gantt.getTask(taskId);\n\t\t\tif(task.type == gantt.config.types.placeholder){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\tfunction isPlaceholderLink(link){\n\t\tif(isPlaceholderTask(link.source) || isPlaceholderTask(link.target)){\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\tgantt.attachEvent(\"onLinkValidation\", function(link){\n\t\tif(isPlaceholderLink(link)){\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t});\n\tgantt.attachEvent(\"onBeforeLinkAdd\", function(id,link){\n\t\tif(isPlaceholderLink(link)){\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t});\n\n\tgantt.attachEvent(\"onBeforeUndoStack\", function(action){\n\t\tfor(var i = 0; i < action.commands.length; i++){\n\t\t\tvar command = action.commands[i];\n\t\t\tif(command.entity === \"task\" && command.value.type === gantt.config.types.placeholder){\n\t\t\t\taction.commands.splice(i,1);\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t});\n\n};","module.exports = function (gantt) {\n\tvar resourceAssignmentsProperty = \"$resourceAssignments\";\n\tgantt.config.resource_assignment_store = \"resourceAssignments\";\n\tgantt.config.process_resource_assignments = true;\n\n\tvar resourceAssignmentFormats = {\n\t\tauto: \"auto\",\n\t\tsingleValue: \"singleValue\",\n\t\tvalueArray: \"valueArray\",\n\t\tresourceValueArray: \"resourceValueArray\",\n\t\tassignmentsArray: \"assignmentsArray\"\n\t};\n\tvar resourceAssignmentFormat = resourceAssignmentFormats.auto;//\"primitiveSingle\";//\"primitive\";//\"object\"|\"assignment\"\n\n\tvar assignmentModes = {\n\t\tfixedDates: \"fixedDates\",\n\t\tfixedDuration: \"fixedDuration\",\n\t\tdefault: \"default\"\n\t};\n\n\n\tfunction initAssignmentFields(item, task){\n\t\tif (item.start_date) {\n\t\t\titem.start_date = gantt.date.parseDate(item.start_date, \"parse_date\");\n\t\t} else {\n\t\t\titem.start_date = null;\n\t\t}\n\n\t\tif (item.end_date) {\n\t\t\titem.end_date = gantt.date.parseDate(item.end_date, \"parse_date\");\n\t\t} else {\n\t\t\titem.end_date = null;\n\t\t}\n\n\t\tvar delay = Number(item.delay);\n\t\tvar initDelay = false;\n\t\tif (!isNaN(delay)) {\n\t\t\titem.delay = delay;\n\t\t} else {\n\t\t\titem.delay = 0;\n\t\t\tinitDelay = true;\n\t\t}\n\n\t\tif (!gantt.defined(item.value)) {\n\t\t\titem.value = null;\n\t\t}\n\n\t\tif (!item.task_id || !item.resource_id) {\n\t\t\treturn false;\n\t\t}\n\n\t\titem.mode = item.mode || assignmentModes.default;\n\n\t\tif(item.mode === assignmentModes.fixedDuration){\n\t\t\tif(isNaN(Number(item.duration))){\n\t\t\t\ttask = task || gantt.getTask(item.task_id);\n\t\t\t\titem.duration = gantt.calculateDuration({\n\t\t\t\t\tstart_date: item.start_date,\n\t\t\t\t\tend_date: item.end_date,\n\t\t\t\t\tid: task\n\t\t\t\t});\n\t\t\t}\n\t\t\tif(initDelay){\n\t\t\t\ttask = task || gantt.getTask(item.task_id);\n\t\t\t\titem.delay = gantt.calculateDuration({\n\t\t\t\t\tstart_date: task.start_date,\n\t\t\t\t\tend_date: item.start_date,\n\t\t\t\t\tid: task\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (item.mode !== assignmentModes.fixedDates && (task || gantt.isTaskExists(item.task_id))) {\n\t\t\ttask = task || gantt.getTask(item.task_id);\n\t\t\tvar timing = _assignmentTimeFromTask(item, task);\n\t\t\titem.start_date = timing.start_date;\n\t\t\titem.end_date = timing.end_date;\n\t\t\titem.duration = timing.duration;\n\t\t}\n\t}\n\t// gantt init\n\tvar resourceAssignmentsStore = gantt.createDatastore({\n\t\tname: gantt.config.resource_assignment_store,\n\t\tinitItem: function (item) {\n\t\t\tif (!item.id) {\n\t\t\t\titem.id = gantt.uid();\n\t\t\t}\n\n\t\t\tinitAssignmentFields(item);\n\n\t\t\treturn item;\n\t\t}\n\t});\n\n\tfunction _assignmentTimeFromTask(assignment, task) {\n\n\t\tif (assignment.mode === assignmentModes.fixedDates) {\n\t\t\treturn {\n\t\t\t\tstart_date: assignment.start_date,\n\t\t\t\tend_date: assignment.end_date,\n\t\t\t\tduration: assignment.duration\n\t\t\t};\n\t\t} else {\n\t\t\tvar start = assignment.delay ? gantt.calculateEndDate({\n\t\t\t\tstart_date: task.start_date,\n\t\t\t\tduration: assignment.delay,\n\t\t\t\ttask: task\n\t\t\t}) : new Date(task.start_date);\n\n\t\t\tvar end;\n\t\t\tvar duration;\n\t\t\tif (assignment.mode === assignmentModes.fixedDuration) {\n\t\t\t\tend = gantt.calculateEndDate({\n\t\t\t\t\tstart_date: start,\n\t\t\t\t\tduration: assignment.duration,\n\t\t\t\t\ttask: task\n\t\t\t\t});\n\t\t\t\tduration = assignment.duration;\n\t\t\t} else {\n\t\t\t\tend = new Date(task.end_date);\n\t\t\t\tduration = task.duration - assignment.delay;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tstart_date: start,\n\t\t\tend_date: end,\n\t\t\tduration: duration\n\t\t};\n\t}\n\n\t// data loading\n\n\tfunction _makeAssignmentsFromTask(task) {\n\t\tvar property = gantt.config.resource_property;\n\t\tvar assignments = task[property];\n\t\tvar resourceAssignments = [];\n\t\tvar detectFormat = resourceAssignmentFormat === resourceAssignmentFormats.auto;\n\n\t\tif (gantt.defined(assignments) && assignments) {\n\t\t\tif (!Array.isArray(assignments)) {\n\t\t\t\tassignments = [assignments];\n\t\t\t\tif (detectFormat) {\n\t\t\t\t\tresourceAssignmentFormat = resourceAssignmentFormats.singleValue;\n\t\t\t\t\tdetectFormat = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar usedIds = {};\n\t\t\tassignments.forEach(function (res) {\n\t\t\t\tif (!res.resource_id) { // when resource is a string/number\n\t\t\t\t\tres = { resource_id: res };\n\t\t\t\t\tif (detectFormat) {\n\t\t\t\t\t\tresourceAssignmentFormat = resourceAssignmentFormats.valueArray;\n\t\t\t\t\t\tdetectFormat = false;\n\t\t\t\t\t}\n\t\t\t\t\t//\tisSimpleArray = true;\n\t\t\t\t}\n\n\t\t\t\tif (detectFormat) {\n\t\t\t\t\tif (res.id && res.task_id && res.resource_id) {\n\t\t\t\t\t\tresourceAssignmentFormat = resourceAssignmentFormats.assignmentsArray;\n\t\t\t\t\t\tdetectFormat = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresourceAssignmentFormat = resourceAssignmentFormats.resourceValueArray;\n\t\t\t\t\t\tdetectFormat = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar defaultMode = assignmentModes.default;\n\t\t\t\tif(!res.mode){\n\t\t\t\t\tif((res.start_date && res.end_date) || (res.start_date && res.duration)){\n\t\t\t\t\t\tdefaultMode = assignmentModes.fixedDuration;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar id = res.id;\n\t\t\t\tif(!id && res.$id && !usedIds[res.$id]){\n\t\t\t\t\tid = res.$id;\n\t\t\t\t\tusedIds[id] = true;\n\t\t\t\t}else{\n\t\t\t\t\tid = gantt.uid();\n\t\t\t\t}\n\n\t\t\t\tvar assignment = {\n\t\t\t\t\tid: id,\n\t\t\t\t\tstart_date: res.start_date,\n\t\t\t\t\tduration: res.duration,\n\t\t\t\t\tend_date: res.end_date,\n\t\t\t\t\tdelay: res.delay,\n\t\t\t\t\ttask_id: task.id,\n\t\t\t\t\tresource_id: res.resource_id,\n\t\t\t\t\tvalue: res.value,\n\t\t\t\t\tmode: res.mode || defaultMode\n\t\t\t\t};\n\n\t\t\t\tif(!(assignment.start_date && assignment.start_date.getMonth \n\t\t\t\t\t&& assignment.end_date && assignment.end_date.getMonth && typeof assignment.duration === \"number\")){\n\t\t\t\t\tinitAssignmentFields(assignment, task);\n\t\t\t\t}\n\n\t\t\t\tresourceAssignments.push(assignment);\n\t\t\t});\n\t\t}\n\t\treturn resourceAssignments;\n\t}\n\n\tfunction _updateTaskBack(taskId) {\n\t\tvar task = gantt.getTask(taskId);\n\t\tvar assignments = gantt.getTaskAssignments(task.id);\n\t\t_assignAssignments(task, assignments);\n\t}\n\n\tfunction _assignAssignments(task, assignments){\n\t\tassignments.sort(function(a, b){\n\t\t\tif(a.start_date && b.start_date && a.start_date.valueOf() != b.start_date.valueOf()){\n\t\t\t\treturn a.start_date - b.start_date;\n\t\t\t}else{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t});\n\t\tif (resourceAssignmentFormat == resourceAssignmentFormats.assignmentsArray) {\n\t\t\ttask[gantt.config.resource_property] = assignments;\n\t\t} else if (resourceAssignmentFormat == resourceAssignmentFormats.resourceValueArray) {\n\t\t\ttask[gantt.config.resource_property] = assignments.map(function (a) {\n\t\t\t\treturn {\n\t\t\t\t\t$id: a.id,\n\t\t\t\t\tstart_date: a.start_date,\n\t\t\t\t\tduration: a.duration,\n\t\t\t\t\tend_date: a.end_date,\n\t\t\t\t\tdelay: a.delay,\n\t\t\t\t\tresource_id: a.resource_id,\n\t\t\t\t\tvalue: a.value,\n\t\t\t\t\tmode: a.mode\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\n\t\ttask[resourceAssignmentsProperty] = assignments;\n\t}\n\n\tfunction _loadAssignmentsFromTask(task) {\n\t\tvar assignments = _makeAssignmentsFromTask(task);\n\t\tvar taskAssignments = [];\n\t\tassignments.forEach(function (a) {\n\t\t\ta.id = a.id || gantt.uid();\n\t\t\t//var newId = resourceAssignmentsStore.addItem(a);\n\t\t\ttaskAssignments.push(a);\n\t\t});\n\n\t\treturn assignments;\n\t}\n\n\tfunction diffAssignments(taskValues, assignmentsStoreValues) {\n\t\tvar result = {\n\t\t\tinBoth: [],\n\t\t\tinTaskNotInStore: [],\n\t\t\tinStoreNotInTask: []\n\t\t};\n\n\t\tif (resourceAssignmentFormat == resourceAssignmentFormats.singleValue) {\n\t\t\tvar taskOwner = taskValues[0];\n\t\t\tvar ownerId = taskOwner ? taskOwner.resource_id : null;\n\t\t\tvar foundOwnerAssignment = false;\n\t\t\tassignmentsStoreValues.forEach(function (a) {\n\t\t\t\tif (a.resource_id != ownerId) {\n\t\t\t\t\tresult.inStoreNotInTask.push(a);\n\t\t\t\t} else if (a.resource_id == ownerId) {\n\t\t\t\t\tresult.inBoth.push({ store: a, task: taskOwner });\n\t\t\t\t\tfoundOwnerAssignment = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!foundOwnerAssignment && taskOwner) {\n\t\t\t\tresult.inTaskNotInStore.push(taskOwner);\n\t\t\t}\n\n\n\t\t} else if (resourceAssignmentFormat == resourceAssignmentFormats.valueArray){\n\n\t\t\tvar taskSearch = {};\n\t\t\tvar storeSearch = {};\n\t\t\tvar processedIds = {};\n\t\t\ttaskValues.forEach(function (a) {\n\t\t\t\ttaskSearch[a.resource_id] = a;\n\t\t\t});\n\t\t\tassignmentsStoreValues.forEach(function (a) {\n\t\t\t\tstoreSearch[a.resource_id] = a;\n\t\t\t});\n\t\t\ttaskValues.concat(assignmentsStoreValues).forEach(function (a) {\n\t\t\t\tif (processedIds[a.resource_id]) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tprocessedIds[a.resource_id] = true;\n\t\t\t\tvar inTask = taskSearch[a.resource_id];\n\t\t\t\tvar inStore = storeSearch[a.resource_id];\n\n\t\t\t\tif (inTask && inStore) {\n\t\t\t\t\tresult.inBoth.push({ store: inStore, task: inTask });\n\t\t\t\t} else if (inTask && !inStore) {\n\t\t\t\t\tresult.inTaskNotInStore.push(inTask);\n\t\t\t\t} else if (!inTask && inStore) {\n\t\t\t\t\tresult.inStoreNotInTask.push(inStore);\n\t\t\t\t}\n\t\t\t});\n\t\t} else if ((resourceAssignmentFormat == resourceAssignmentFormats.assignmentsArray)\n\t\t\t|| (resourceAssignmentFormat == resourceAssignmentFormats.resourceValueArray)) {\n\t\t\tvar taskSearch = {};\n\t\t\tvar storeSearch = {};\n\t\t\tvar processedIds = {};\n\t\t\ttaskValues.forEach(function (a) {\n\t\t\t\ttaskSearch[a.id || a.$id] = a;\n\t\t\t});\n\t\t\tassignmentsStoreValues.forEach(function (a) {\n\t\t\t\tstoreSearch[a.id] = a;\n\t\t\t});\n\t\t\ttaskValues.concat(assignmentsStoreValues).forEach(function (a) {\n\t\t\t\tvar id = a.id || a.$id;\n\t\t\t\tif (processedIds[id]) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tprocessedIds[id] = true;\n\t\t\t\tvar inTask = taskSearch[id];\n\t\t\t\tvar inStore = storeSearch[id];\n\n\t\t\t\tif (inTask && inStore) {\n\t\t\t\t\tresult.inBoth.push({ store: inStore, task: inTask });\n\t\t\t\t} else if (inTask && !inStore) {\n\t\t\t\t\tresult.inTaskNotInStore.push(inTask);\n\t\t\t\t} else if (!inTask && inStore) {\n\t\t\t\t\tresult.inStoreNotInTask.push(inStore);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction assignmentHasChanged(source, target) {\n\t\tvar ignoreFields = {\n\t\t\tid: true\n\t\t};\n\n\t\tfor (var i in source) {\n\t\t\tif (!ignoreFields[i]) {\n\t\t\t\tif (String(source[i]) !== String(target[i])) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\tfunction updateAssignment(source, target) {\n\t\tvar ignoreFields = {\n\t\t\tid: true\n\t\t};\n\n\t\tfor (var i in source) {\n\t\t\tif (!ignoreFields[i]) {\n\t\t\t\ttarget[i] = source[i];\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction _syncAssignments(task, storeAssignments){\n\t\tvar tasksAssignments = _makeAssignmentsFromTask(task);\n\n\t\tvar diff = diffAssignments(tasksAssignments, storeAssignments);\n\t\tdiff.inStoreNotInTask.forEach(function (a) {\n\t\t\tresourceAssignmentsStore.removeItem(a.id);\n\t\t});\n\t\tdiff.inTaskNotInStore.forEach(function (a) {\n\t\t\tresourceAssignmentsStore.addItem(a);\n\t\t});\n\n\t\tdiff.inBoth.forEach(function (a) {\n\t\t\tif (assignmentHasChanged(a.task, a.store)) {\n\t\t\t\tupdateAssignment(a.task, a.store);\n\t\t\t\tresourceAssignmentsStore.updateItem(a.store.id);\n\t\t\t} else {\n\t\t\t\tif (a.task.start_date && a.task.end_date && a.task.mode !== assignmentModes.fixedDates) {\n\t\t\t\t\tvar timing = _assignmentTimeFromTask(a.store, task);\n\t\t\t\t\tif (a.store.start_date.valueOf() != timing.start_date.valueOf() || a.store.end_date.valueOf() != timing.end_date.valueOf()) {\n\t\t\t\t\t\ta.store.start_date = timing.start_date;\n\t\t\t\t\t\ta.store.end_date = timing.end_date;\n\t\t\t\t\t\ta.store.duration = timing.duration;\n\t\t\t\t\t\tresourceAssignmentsStore.updateItem(a.store.id);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t_updateTaskBack(task.id);\n\t}\n\n\tfunction _syncOnTaskUpdate(task) {\n\t\tvar storeAssignments = task[resourceAssignmentsProperty] || resourceAssignmentsStore.find(function (a) {\n\t\t\treturn a.task_id == task.id;\n\t\t});\n\n\t\t_syncAssignments(task, storeAssignments);\n\t}\n\n\tfunction _syncOnTaskDelete(ids) {\n\t\tvar idsSearch = {};\n\t\tids.forEach(function (id) {\n\t\t\tidsSearch[id] = true;\n\t\t});\n\t\tvar taskResources = resourceAssignmentsStore.find(function (a) {\n\t\t\treturn idsSearch[a.task_id];\n\t\t});\n\t\ttaskResources.forEach(function (a) {\n\t\t\tresourceAssignmentsStore.removeItem(a.id);\n\t\t});\n\t}\n\n\tgantt.attachEvent(\"onGanttReady\", function(){\n\n\t\tif (gantt.config.process_resource_assignments) {\n\t\t\tgantt.attachEvent(\"onParse\", function () {\n\t\t\t\tgantt.silent(function () {\n\t\t\t\t\tresourceAssignmentsStore.clearAll();\n\t\t\t\t\tvar totalAssignments = [];\n\t\t\t\t\tgantt.eachTask(function (task) {\n\t\t\t\t\t\tif (task.type === gantt.config.types.project) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar assignments = _loadAssignmentsFromTask(task);\n\t\t\t\t\t\t_assignAssignments(task, assignments);\n\n\t\t\t\t\t\tassignments.forEach(function (a) {\n\t\t\t\t\t\t\ttotalAssignments.push(a);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\tresourceAssignmentsStore.parse(totalAssignments);\n\t\t\t\t});\n\n\t\t\t});\n\n\t\t\tvar batchUpdate = false;\n\t\t\tvar needUpdate = false;\n\t\t\tvar needUpdateFor = {};\n\t\t\tgantt.attachEvent(\"onBeforeBatchUpdate\", function(){\n\t\t\t\tbatchUpdate = true;\n\t\t\t});\n\t\t\tgantt.attachEvent(\"onAfterBatchUpdate\", function(){\n\t\t\t\tbatchUpdate = false;\n\t\t\t\tif(needUpdate){\n\t\t\t\t\tvar assignmentsHash = {};\n\t\t\t\t\tfor(var i in needUpdateFor){\n\t\t\t\t\t\tassignmentsHash[i] = gantt.getTaskAssignments(needUpdateFor[i].id);\n\t\t\t\t\t}\n\t\t\t\t\tfor(var i in needUpdateFor){\n\t\t\t\t\t\t_syncAssignments(needUpdateFor[i], assignmentsHash[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tneedUpdate = false;\n\t\t\t\tneedUpdateFor = {};\n\t\t\t});\n\n\t\t\tgantt.attachEvent(\"onTaskCreated\", function (item) {\n\t\t\t\tvar assignments = _loadAssignmentsFromTask(item);\n\t\t\t\tresourceAssignmentsStore.parse(assignments);\n\t\t\t\t_assignAssignments(item, assignments);\n\t\t\t\treturn true;\n\t\t\t});\n\t\t\tgantt.attachEvent(\"onAfterTaskUpdate\", function (id, item) {\n\t\t\t\tif(batchUpdate){\n\t\t\t\t\tneedUpdate = true;\n\t\t\t\t\tneedUpdateFor[id] = item;\n\t\t\t\t}else{\n\t\t\t\t\t_syncOnTaskUpdate(item);\n\t\t\t\t}\n\t\t\t});\n\t\t\tgantt.attachEvent(\"onAfterTaskAdd\", function (id, item) {\n\t\t\t\tif(batchUpdate){\n\t\t\t\t\tneedUpdate = true;\n\t\t\t\t\tneedUpdateFor[id] = item;\n\t\t\t\t}else{\n\t\t\t\t\t_syncOnTaskUpdate(item);\n\t\t\t\t}\n\t\t\t});\n\n\t\t/*\tgantt.attachEvent(\"onRowDragMove\", function (id) {\n\t\t\t\t_syncOnTaskUpdate(gantt.getTask(id));\n\t\t\t});*/\n\t\t\tgantt.attachEvent(\"onRowDragEnd\", function (id) {\n\t\t\t\t_syncOnTaskUpdate(gantt.getTask(id));\n\t\t\t});\n\t\t\tgantt.$data.tasksStore.attachEvent(\"onAfterDeleteConfirmed\", function (id, item) {\n\t\t\t\tvar deleteIds = [id];\n\t\t\t\tgantt.eachTask(function (task) {\n\t\t\t\t\tdeleteIds.push(task.id);\n\t\t\t\t}, id);\n\t\t\t\t_syncOnTaskDelete(deleteIds);\n\t\t\t});\n\t\t\tgantt.attachEvent(\"onTaskIdChange\", function (id, new_id) {\n\t\t\t\tvar taskResources = resourceAssignmentsStore.find(function (a) {\n\t\t\t\t\treturn a.task_id == id;\n\t\t\t\t});\n\t\t\t\ttaskResources.forEach(function (a) {\n\t\t\t\t\ta.task_id = new_id;\n\t\t\t\t\tresourceAssignmentsStore.updateItem(a.id);\n\t\t\t\t});\n\t\t\t\t_updateTaskBack(new_id);\n\t\t\t\t//any custom logic here\n\t\t\t});\n\n\n\t\t\tvar resourceAssignmentsCache = null;\n\t\t\tvar resourceTaskAssignmentsCache = null;\n\t\t\tvar taskAssignmentsCache = null;\n\n\t\t\tresourceAssignmentsStore.attachEvent(\"onStoreUpdated\", function resetCache(){\n\t\t\t\tresourceAssignmentsCache = null;\n\t\t\t\tresourceTaskAssignmentsCache = null;\n\t\t\t\ttaskAssignmentsCache = null;\n\t\t\t\treturn true;\n\t\t\t});\n\n\t\t\tgantt.getResourceAssignments = function (resourceId, taskId) {\n\t\t\t\tvar searchTaskId = gantt.defined(taskId) && taskId !== null;\n\n\t\t\t\tif(resourceAssignmentsCache === null){\n\t\t\t\t\tresourceAssignmentsCache = {};\n\t\t\t\t\tresourceTaskAssignmentsCache = {};\n\n\t\t\t\t\tresourceAssignmentsStore.eachItem(function (a) {\n\t\t\t\t\t\tif(!resourceAssignmentsCache[a.resource_id]){\n\t\t\t\t\t\t\tresourceAssignmentsCache[a.resource_id] = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresourceAssignmentsCache[a.resource_id].push(a);\n\n\t\t\t\t\t\tvar resourceTaskCacheKey = a.resource_id + \"-\" + a.task_id;\n\t\t\t\t\t\tif(!resourceTaskAssignmentsCache[resourceTaskCacheKey]){\n\t\t\t\t\t\t\tresourceTaskAssignmentsCache[resourceTaskCacheKey] = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresourceTaskAssignmentsCache[resourceTaskCacheKey].push(a);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\n\t\t\t\tif(searchTaskId){\n\t\t\t\t\treturn (resourceTaskAssignmentsCache[resourceId + \"-\" + taskId] || []).slice();\n\t\t\t\t}else{\n\t\t\t\t\treturn (resourceAssignmentsCache[resourceId] || []).slice();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t\n\t\t\tgantt.getTaskAssignments = function (taskId) {\n\t\t\t\tif(taskAssignmentsCache === null){\n\t\t\t\t\tvar result = [];\n\t\t\t\t\ttaskAssignmentsCache = {};\n\t\t\t\t\tresourceAssignmentsStore.eachItem(function (a) {\n\t\t\t\t\t\tif(!taskAssignmentsCache[a.task_id]){\n\t\t\t\t\t\t\ttaskAssignmentsCache[a.task_id] = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttaskAssignmentsCache[a.task_id].push(a);\n\t\t\t\t\t\tif (a.task_id == taskId) {\n\t\t\t\t\t\t\tresult.push(a);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn (taskAssignmentsCache[taskId] || []).slice();\n\t\t\t};\n\n\t\t\tgantt.updateTaskAssignments = _updateTaskBack;\n\t\t}\n\t}, {once: true});\n};","var helpers = require(\"../../utils/helpers\");\n\nfunction createResourceMethods(gantt){\n\n\tvar resourceTaskCache = {};\n\tvar singleResourceCacheBuilt = false;\n\n\tgantt.$data.tasksStore.attachEvent(\"onStoreUpdated\", function(){\n\t\tresourceTaskCache = {};\n\t\tsingleResourceCacheBuilt = false;\n\t});\n\tgantt.attachEvent(\"onBeforeGanttRender\", function(){\n\t\tresourceTaskCache = {};\n\t});\n\n\tfunction getTaskBy(propertyName, propertyValue) {\n\t\tif (typeof propertyName == \"function\") {\n\t\t\treturn filterResourceTasks(propertyName);\n\t\t} else {\n\t\t\tif (helpers.isArray(propertyValue)) {\n\t\t\t\treturn getResourceTasks(propertyName, propertyValue);\n\t\t\t} else {\n\t\t\t\treturn getResourceTasks(propertyName, [propertyValue]);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction filterResourceTasks(filter) {\n\t\tvar res = [];\n\t\tgantt.eachTask(function (task) {\n\t\t\tif (filter(task)) {\n\t\t\t\tres.push(task);\n\t\t\t}\n\t\t});\n\t\treturn res;\n\t}\n\n\tvar falsyValuePrefix = String(Math.random());\n\tfunction resourceHashFunction(value){\n\t\tif (value === null){\n\t\t\treturn falsyValuePrefix + String(value);\n\t\t}\n\t\treturn String(value);\n\t}\n\n\tfunction getCacheKey(resourceIds, property){\n\t\tif(Array.isArray(resourceIds)){\n\t\t\treturn resourceIds.map(function(value){return resourceHashFunction(value);}).join(\"_\") + \"_\" + property;\n\t\t}else{\n\t\t\treturn resourceHashFunction(resourceIds) + \"_\" + property;\n\t\t}\n\t}\n\n\tfunction getResourceTasks(property, resourceIds) {\n\t\tvar res;\n\t\tvar cacheKey = getCacheKey(resourceIds, property);\n\t\tvar matchingResources = {};\n\t\thelpers.forEach(resourceIds, function(resourceId) {\n\t\t\tmatchingResources[resourceHashFunction(resourceId)] = true;\n\t\t});\n\n\t\tif (!resourceTaskCache[cacheKey]) {\n\t\t\tres = resourceTaskCache[cacheKey] = [];\n\t\t\tgantt.eachTask(function (task) {\n\t\t\t\tif (task.type == gantt.config.types.project) return;\n\t\t\t\tif (property in task) {\n\t\t\t\t\tvar resourceValue;\n\t\t\t\t\tif (!helpers.isArray(task[property])) {\n\t\t\t\t\t\tresourceValue = [task[property]];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresourceValue = task[property];\n\t\t\t\t\t}\n\n\t\t\t\t\thelpers.forEach(resourceValue, function(value) {\n\t\t\t\t\t\tvar resourceValue = (value && value.resource_id) ? value.resource_id : value;\n\n\t\t\t\t\t\tif (matchingResources[resourceHashFunction(resourceValue)]) {\n\t\t\t\t\t\t\tres.push(task);\n\t\t\t\t\t\t}else if(!singleResourceCacheBuilt){\n\n\t\t\t\t\t\t\tvar key = getCacheKey(value, property);\n\t\t\t\t\t\t\tif(!resourceTaskCache[key]){\n\t\t\t\t\t\t\t\tresourceTaskCache[key] = [];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tresourceTaskCache[key].push(task);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tsingleResourceCacheBuilt = true;\n\t\t} else {\n\t\t\tres = resourceTaskCache[cacheKey];\n\t\t}\n\n\t\treturn res;\n\t}\n\n\tfunction selectAssignments(resourceId, taskId, result){\n\t\tvar property = gantt.config.resource_property;\n\t\tvar owners = [];\n\t\tif (gantt.getDatastore(\"task\").exists(taskId)) {\n\t\t\tvar task = gantt.getTask(taskId);\n\t\t\towners = task[property] || [];\n\t\t}\n\n\t\tif (!Array.isArray(owners)) {\n\t\t\towners = [owners];\n\t\t}\n\t\tfor (var i = 0; i < owners.length; i++) {\n\t\t\tif (owners[i].resource_id == resourceId) {\n\t\t\t\tresult.push({task_id: task.id, resource_id:owners[i].resource_id, value:owners[i].value});\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction getResourceAssignments(resourceId, taskId){\n\t\t// resource assignment as an independent module:\n\t\t// {taskId:, resourceId, value}\n\t\t// TODO: probably should add a separate datastore for these\n\t\tvar assignments = [];\n\t\tvar property = gantt.config.resource_property;\n\t\tif(taskId !== undefined){\n\t\t\tselectAssignments(resourceId, taskId, assignments);\n\t\t}else{\n\t\t\tvar tasks = gantt.getTaskBy(property, resourceId);\n\t\t\ttasks.forEach(function(task){\n\t\t\t\tselectAssignments(resourceId, task.id, assignments);\n\t\t\t});\n\t\t}\n\t\treturn assignments;\n\t}\n\n\treturn {\n\t\tgetTaskBy: getTaskBy,\n\t\tgetResourceAssignments: getResourceAssignments\n\t};\n}\n\nmodule.exports = function(gantt){\n\tvar methods = createResourceMethods(gantt);\n\n\tgantt.getTaskBy = methods.getTaskBy;\n\tgantt.getResourceAssignments = methods.getResourceAssignments;\n\tgantt.config.resource_property = \"owner_id\";\n\tgantt.config.resource_store = \"resource\";\n\tgantt.config.resource_render_empty_cells = false;\n\n\t/**\n\t * these are placeholder functions that should be redefined by the user\n\t*/\n\tgantt.templates.histogram_cell_class = function(start_date, end_date, resource, tasks, assignments) {};\n\tgantt.templates.histogram_cell_label = function(start_date, end_date, resource, tasks, assignments) {\n\t\treturn tasks.length + \"/3\";\n\t};\n\tgantt.templates.histogram_cell_allocated = function(start_date, end_date, resource, tasks, assignments) {\n\t\treturn tasks.length / 3;\n\t};\n\tgantt.templates.histogram_cell_capacity = function(start_date, end_date, resource, tasks, assignments) {\n\t\treturn 0;\n\t};\n\n\n\n\tgantt.templates.resource_cell_class = function(start, end, resource, tasks, assignments) {\n\t\tvar css = \"\";\n\t\tif (tasks.length <= 1) {\n\t\t\tcss = \"gantt_resource_marker_ok\";\n\t\t} else {\n\t\t\tcss = \"gantt_resource_marker_overtime\";\n\t\t}\n\t\treturn css;\n\t};\n\n\tgantt.templates.resource_cell_value = function(start, end, resource, tasks, assignments) {\n\t\treturn tasks.length * 8;\n\t};\n};\n\n\n","var createWbs = (function(gantt){\n\treturn {\n\t_needRecalc: true,\n\treset: function(){\n\t\tthis._needRecalc = true;\n\t},\n\t_isRecalcNeeded: function(){\n\t\treturn (!this._isGroupSort() && this._needRecalc);\n\t},\n\t_isGroupSort: function() {\n\t\treturn !!(gantt.getState().group_mode);\n\t},\n\t_getWBSCode: function(task) {\n\t\tif(!task) return \"\";\n\n\t\tif(this._isRecalcNeeded()){\n\t\t\tthis._calcWBS();\n\t\t}\n\n\t\tif(task.$virtual) return \"\";\n\t\tif(this._isGroupSort()) return task.$wbs || \"\";\n\n\t\tif(!task.$wbs) {\n\t\t\tthis.reset();\n\t\t\tthis._calcWBS();\n\t\t}\n\t\treturn task.$wbs;\n\t},\n\t_setWBSCode: function(task, value) {\n\t\ttask.$wbs = value;\n\t},\n\tgetWBSCode: function(task) {\n\t\treturn this._getWBSCode(task);\n\t},\n\tgetByWBSCode: function(code){\n\t\tvar parts = code.split(\".\");\n\t\tvar currentNode = gantt.config.root_id;\n\t\tfor(var i = 0; i < parts.length; i++){\n\t\t\tvar children = gantt.getChildren(currentNode);\n\t\t\tvar index = parts[i]*1 - 1;\n\t\t\tif(gantt.isTaskExists(children[index])){\n\t\t\t\tcurrentNode = children[index];\n\t\t\t}else{\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\tif(gantt.isTaskExists(currentNode)){\n\t\t\treturn gantt.getTask(currentNode);\n\t\t}else{\n\t\t\treturn null;\n\t\t}\n\t},\n\t_calcWBS: function() {\n\t\tif(!this._isRecalcNeeded()) return;\n\n\t\tvar _isFirst = true;\n\t\tgantt.eachTask(function(ch) {\n\t\t\tif(_isFirst) {\n\t\t\t\t_isFirst = false;\n\t\t\t\tthis._setWBSCode(ch, \"1\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar _prevSibling = gantt.getPrevSibling(ch.id);\n\t\t\tif (_prevSibling !== null) {\n\t\t\t\tvar _wbs = gantt.getTask(_prevSibling).$wbs;\n\t\t\t\tif(_wbs) {\n\t\t\t\t\t_wbs = _wbs.split(\".\");\n\t\t\t\t\t_wbs[_wbs.length-1]++;\n\t\t\t\t\tthis._setWBSCode(ch, _wbs.join(\".\"));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar _parent = gantt.getParent(ch.id);\n\t\t\t\tthis._setWBSCode(ch, gantt.getTask(_parent).$wbs + \".1\");\n\t\t\t}\n\t\t}, gantt.config.root_id, this);\n\n\t\tthis._needRecalc = false;\n\t}\n};\n});\n\nmodule.exports = function(gantt){\n\tvar wbs = createWbs(gantt);\n\tgantt.getWBSCode = function getWBSCode(task) {\n\t\treturn wbs.getWBSCode(task);\n\t};\n\n\tgantt.getTaskByWBSCode = function(code) {\n\t\treturn wbs.getByWBSCode(code);\n\t};\n\n\tfunction resetCache(){\n\t\twbs.reset();\n\t\treturn true;\n\t}\n\n\tgantt.attachEvent(\"onAfterTaskMove\", resetCache);\n\tgantt.attachEvent(\"onBeforeParse\", resetCache);\n\tgantt.attachEvent(\"onAfterTaskDelete\", resetCache);\n\tgantt.attachEvent(\"onAfterTaskAdd\", resetCache);\n\tgantt.attachEvent(\"onAfterSort\", resetCache);\n\n};\n","var global = require(\"../../utils/global\");\n\nfunction createMethod(gantt){\n\tvar methods = {};\n\tvar isActive = false;\n\tfunction disableMethod(methodName, dummyMethod){\n\t\tdummyMethod = typeof dummyMethod == \"function\" ? dummyMethod : function(){};\n\n\t\tif(!methods[methodName]){\n\t\t\tmethods[methodName] = this[methodName];\n\t\t\tthis[methodName] = dummyMethod;\n\t\t}\n\t}\n\tfunction restoreMethod(methodName){\n\t\tif(methods[methodName]){\n\t\t\tthis[methodName] = methods[methodName];\n\t\t\tmethods[methodName] = null;\n\t\t}\n\t}\n\tfunction disableMethods(methodsHash){\n\t\tfor(var i in methodsHash){\n\t\t\tdisableMethod.call(this, i, methodsHash[i]);\n\t\t}\n\t}\n\tfunction restoreMethods(){\n\t\tfor(var i in methods){\n\t\t\trestoreMethod.call(this, i);\n\t\t}\n\t}\n\n\tfunction batchUpdatePayload(callback){\n\t\ttry{\n\t\t\tcallback();\n\t\t}catch(e){\n\t\t\tglobal.console.error(e);\n\t\t}\n\t}\n\n\tvar state = gantt.$services.getService(\"state\");\n\tstate.registerProvider(\"batchUpdate\", function(){\n\t\treturn {\n\t\t\tbatch_update: isActive\n\t\t};\n\t}, false);\n\n\treturn function batchUpdate(callback, noRedraw) {\n\t\tif(isActive){\n\t\t\t// batch mode is already active\n\t\t\tbatchUpdatePayload(callback);\n\t\t\treturn;\n\t\t}\n\n\t\tvar call_dp = (this._dp && this._dp.updateMode != \"off\");\n\t\tvar dp_mode;\n\t\tif (call_dp){\n\t\t\tdp_mode = this._dp.updateMode;\n\t\t\tthis._dp.setUpdateMode(\"off\");\n\t\t}\n\n\t\t// temporary disable some methods while updating multiple tasks\n\t\tvar resetProjects = {};\n\t\tvar methods = {\n\t\t\t\"render\":true,\n\t\t\t\"refreshData\":true,\n\t\t\t\"refreshTask\":true,\n\t\t\t\"refreshLink\":true,\n\t\t\t\"resetProjectDates\":function(task){\n\t\t\t\tresetProjects[task.id] = task;\n\t\t\t}\n\t\t};\n\n\t\tdisableMethods.call(this, methods);\n\n\t\tisActive = true;\n\t\tthis.callEvent(\"onBeforeBatchUpdate\", []);\n\n\t\tbatchUpdatePayload(callback);\n\n\t\tthis.callEvent(\"onAfterBatchUpdate\", []);\n\n\t\trestoreMethods.call(this);\n\n\t\t// do required updates after changes applied\n\t\tfor(var i in resetProjects){\n\t\t\tthis.resetProjectDates(resetProjects[i]);\n\t\t}\n\n\t\tisActive = false;\n\n\t\tif(!noRedraw){\n\t\t\tthis.render();\n\t\t}\n\n\t\tif (call_dp) {\n\t\t\tthis._dp.setUpdateMode(dp_mode);\n\t\t\tthis._dp.setGanttMode(\"task\");\n\t\t\tthis._dp.sendData();\n\t\t\tthis._dp.setGanttMode(\"link\");\n\t\t\tthis._dp.sendData();\n\t\t}\n\t};\n\n\n\n}\n\nmodule.exports = function(gantt){\n\tgantt.batchUpdate = createMethod(gantt);\n};","module.exports = function(gantt){\n\tif(!gantt.ext){\n\t\tgantt.ext = {};\n\t}\n\n\tvar modules = [\n\t\trequire(\"./batch_update\"),\n\t\trequire(\"./wbs\"),\n\t\trequire(\"./resources\"),\n\t\trequire(\"./resource_assignments\"),\n\t\trequire(\"./new_task_placeholder\"),\n\t\trequire(\"./auto_task_types\"),\n\t\trequire(\"./formatters\")\n\t];\n\n\tfor(var i = 0; i < modules.length; i++){\n\t\tif(modules[i])\n\t\t\tmodules[i](gantt);\n\t}\n};","import * as utils from \"../../utils/utils\";\n\nexport default class SimpleStorage {\n\tpublic static create = () : SimpleStorage => {\n\t\treturn new SimpleStorage();\n\t}\n\n\tprotected _storage: { [id: string]: any; };\n\n\tprotected constructor() {\n\t\tthis._storage = {};\n\t}\n\n\tpublic clear = (): void => {\n\t\tthis._storage = {};\n\t}\n\n\tpublic storeItem = (item: any): void => {\n\t\tthis._storage[item.id] = utils.copy(item);\n\t}\n\n\tpublic getStoredItem = (id: string): any => {\n\t\treturn this._storage[id] || null;\n\t}\n}","\nexport default function extendGantt(gantt: any, dp: any) {\n\tgantt.getUserData = function(id, name) {\n\t\tif (!this.userdata) {\n\t\t\tthis.userdata = {};\n\t\t}\n\t\tif (this.userdata[id] && this.userdata[id][name]) {\n\t\t\treturn this.userdata[id][name];\n\t\t}\n\t\treturn \"\";\n\t};\n\tgantt.setUserData = function(id, name, value) {\n\t\tif (!this.userdata) {\n\t\t\tthis.userdata = {};\n\t\t}\n\t\tif (!this.userdata[id]) {\n\t\t\tthis.userdata[id] = {};\n\t\t}\n\t\tthis.userdata[id][name] = value;\n\t};\n\n\tgantt._change_id = function(oldId, newId) {\n\t\tif (this._dp._ganttMode !== \"task\") {\n\t\t\tthis.changeLinkId(oldId, newId);\n\t\t} else {\n\t\t\tthis.changeTaskId(oldId, newId);\n\t\t}\n\t};\n\n\tgantt._row_style = function(rowId, classname){\n\t\tif (this._dp._ganttMode !== \"task\") {\n\t\t\treturn;\n\t\t}\n\t\tif (!gantt.isTaskExists(rowId)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst task = gantt.getTask(rowId);\n\t\ttask.$dataprocessor_class = classname;\n\t\tgantt.refreshTask(rowId);\n\t};\n\n\t// fake method for dataprocessor\n\tgantt._delete_task = function(rowId, node) {}; // tslint:disable-line\n\n\tgantt._sendTaskOrder = function(id, item){\n\t\tif (item.$drop_target) {\n\t\t\tthis._dp.setGanttMode(\"task\");\n\t\t\tthis.getTask(id).target = item.$drop_target;\n\t\t\tthis._dp.setUpdated(id, true,\"order\");\n\t\t\tdelete this.getTask(id).$drop_target;\n\t\t}\n\t};\n\n\tgantt.setDp = function() {\n\t\tthis._dp = dp;\n\t};\n\n\tgantt.setDp();\n}","import * as helpers from \"../../utils/helpers\";\n\nexport default class DataProcessorEvents {\n\tprotected _dataProcessorHandlers: any[];\n\tprotected $gantt: any;\n\tprotected $dp: any;\n\n\tconstructor(gantt: any, dp: any) {\n\t\tthis.$gantt = gantt;\n\t\tthis.$dp = dp;\n\t\tthis._dataProcessorHandlers = [];\n\t}\n\n\tattach() {\n\t\tconst dp = this.$dp;\n\t\tconst gantt = this.$gantt;\n\t\tconst treeHelper = require(\"../../utils/task_tree_helpers\");\n\t\tconst cascadeDelete = {};\n\n\t\tfunction clientSideDelete(id) {\n\t\t\tconst updated = dp.updatedRows.slice();\n\t\t\tlet clientOnly = false;\n\n\t\t\tfor (let i = 0; i < updated.length && !dp._in_progress[id]; i++) {\n\t\t\t\tif (updated[i] === id) {\n\t\t\t\t\tif (gantt.getUserData(id, \"!nativeeditor_status\") === \"inserted\") {\n\t\t\t\t\t\tclientOnly = true;\n\t\t\t\t\t}\n\t\t\t\t\tdp.setUpdated(id,false);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn clientOnly;\n\t\t}\n\n\t\tfunction getTaskLinks(task) {\n\t\t\tlet _links = [];\n\n\t\t\tif (task.$source) {\n\t\t\t\t_links = _links.concat(task.$source);\n\t\t\t}\n\t\t\tif (task.$target) {\n\t\t\t\t_links = _links.concat(task.$target);\n\t\t\t}\n\n\t\t\treturn _links;\n\t\t}\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onAfterTaskAdd\", function(id, item) { // tslint:disable-line\n\t\t\tif (gantt.isTaskExists(id)) {\n\t\t\t\tdp.setGanttMode(\"tasks\");\n\t\t\t\tdp.setUpdated(id, true, \"inserted\");\n\t\t\t}\n\t\t}));\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onAfterTaskUpdate\", function(id, item) { // tslint:disable-line\n\t\t\tif (gantt.isTaskExists(id)) {\n\t\t\t\tdp.setGanttMode(\"tasks\");\n\t\t\t\tdp.setUpdated(id, true);\n\n\t\t\t\t// gantt can be destroyed/reinitialized after dp.setUpdated\n\t\t\t\tif(gantt._sendTaskOrder){\n\t\t\t\t\tgantt._sendTaskOrder(id, item);\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onBeforeTaskDelete\", function(id, item) { // tslint:disable-line\n\t\t\tif (!gantt.config.cascade_delete) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tcascadeDelete[id] = {\n\t\t\t\ttasks: treeHelper.getSubtreeTasks(gantt, id),\n\t\t\t\tlinks: treeHelper.getSubtreeLinks(gantt, id)\n\t\t\t};\n\t\t\treturn true;\n\t\t}));\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onAfterTaskDelete\", function(id, item) { // tslint:disable-line\n\t\t\tdp.setGanttMode(\"tasks\");\n\n\t\t\t// not send delete request if item is not inserted into the db - just remove it from the client\n\t\t\tconst needDbDelete = !clientSideDelete(id);\n\t\t\tif (!needDbDelete) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (gantt.config.cascade_delete && cascadeDelete[id]) {\n\t\t\t\tconst dpMode = dp.updateMode;\n\t\t\t\tdp.setUpdateMode(\"off\");\n\n\t\t\t\tconst cascade = cascadeDelete[id];\n\t\t\t\tfor (const i in cascade.tasks) {\n\t\t\t\t\tif (!clientSideDelete(i)) {\n\t\t\t\t\t\tdp.storeItem(cascade.tasks[i]);\n\t\t\t\t\t\tdp.setUpdated(i, true, \"deleted\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdp.setGanttMode(\"links\");\n\t\t\t\tfor (const i in cascade.links) {\n\t\t\t\t\tif (!clientSideDelete(i)) {\n\t\t\t\t\t\tdp.storeItem(cascade.links[i]);\n\t\t\t\t\t\tdp.setUpdated(i, true, \"deleted\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcascadeDelete[id] = null;\n\n\t\t\t\tif (dpMode !== \"off\") {\n\t\t\t\t\tdp.sendAllData();\n\t\t\t\t}\n\t\t\t\tdp.setGanttMode(\"tasks\");\n\t\t\t\tdp.setUpdateMode(dpMode);\n\t\t\t}\n\n\t\t\tdp.storeItem(item);\n\t\t\tdp.setUpdated(id, true, \"deleted\");\n\n\t\t\tif (dp.updateMode !== \"off\" && !dp._tSend) {\n\t\t\t\tdp.sendAllData();\n\t\t\t}\n\t\t}));\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onAfterLinkUpdate\", function(id, item) { // tslint:disable-line\n\t\t\tif (gantt.isLinkExists(id)) {\n\t\t\t\tdp.setGanttMode(\"links\");\n\t\t\t\tdp.setUpdated(id, true);\n\t\t\t}\n\t\t}));\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onAfterLinkAdd\", function(id, item) { // tslint:disable-line\n\t\t\tif (gantt.isLinkExists(id)) {\n\t\t\t\tdp.setGanttMode(\"links\");\n\t\t\t\tdp.setUpdated(id, true,\"inserted\");\n\t\t\t}\n\t\t}));\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onAfterLinkDelete\", function(id, item) { // tslint:disable-line\n\t\t\tdp.setGanttMode(\"links\");\n\n\t\t\tconst needDbDelete = !clientSideDelete(id);\n\t\t\tif (!needDbDelete) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdp.storeItem(item);\n\t\t\tdp.setUpdated(id, true,\"deleted\");\n\t\t}));\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onRowDragEnd\", function(id, target) { // tslint:disable-line\n\t\t\tgantt._sendTaskOrder(id, gantt.getTask(id));\n\t\t}));\n\n\t\tlet tasks = null;\n\t\tlet links = null;\n\n\t\tthis._dataProcessorHandlers.push(gantt.attachEvent(\"onTaskIdChange\", function(oldId, newId) { // tslint:disable-line\n\t\t\tif (!dp._waitMode) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst children = gantt.getChildren(newId);\n\t\t\tif (children.length) {\n\t\t\t\ttasks = tasks || {};\n\n\t\t\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\t\t\tconst ch = this.getTask(children[i]);\n\t\t\t\t\ttasks[ch.id] = ch;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst item = this.getTask(newId);\n\t\t\tconst itemLinks = getTaskLinks(item);\n\n\t\t\tif (itemLinks.length) {\n\t\t\t\tlinks = links || {};\n\n\t\t\t\tfor (let i = 0; i < itemLinks.length; i++) {\n\t\t\t\t\tconst link = this.getLink(itemLinks[i]);\n\t\t\t\t\tlinks[link.id] = link;\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tdp.attachEvent(\"onAfterUpdateFinish\", function() {\n\t\t\tif (tasks || links) {\n\t\t\t\tgantt.batchUpdate(function() {\n\t\t\t\t\tfor (const id in tasks) {\n\t\t\t\t\t\tgantt.updateTask(tasks[id].id);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (const id in links) {\n\t\t\t\t\t\tgantt.updateLink(links[id].id);\n\t\t\t\t\t}\n\t\t\t\t\ttasks = null;\n\t\t\t\t\tlinks = null;\n\t\t\t\t});\n\t\t\t\tif (tasks) {\n\t\t\t\t\tgantt._dp.setGanttMode(\"tasks\");\n\t\t\t\t} else {\n\t\t\t\t\tgantt._dp.setGanttMode(\"links\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tdp.attachEvent(\"onBeforeDataSending\", function() {\n\t\t\tif (this._tMode === \"CUSTOM\") {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tlet url = this._serverProcessor;\n\t\t\tif (this._tMode === \"REST-JSON\" || this._tMode === \"REST\") {\n\t\t\t\tconst mode = this._ganttMode;\n\n\t\t\t\turl = url.substring(0, url.indexOf(\"?\") > -1 ? url.indexOf(\"?\") : url.length);\n\t\t\t\t// editing=true&\n\t\t\t\tthis.serverProcessor = url + (url.slice(-1) === \"/\" ? \"\" : \"/\") + mode;\n\t\t\t} else {\n\t\t\t\tconst pluralizedMode = this._ganttMode + \"s\";\n\t\t\t\tthis.serverProcessor = url + gantt.ajax.urlSeparator(url) + \"gantt_mode=\" + pluralizedMode;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t});\n\n\t\tdp.attachEvent(\"insertCallback\", function insertCallback(upd, id, parent, mode) { // tslint:disable-line\n\t\t\tconst data = upd.data || gantt.xml._xmlNodeToJSON(upd.firstChild);\n\t\t\tconst methods = {\n\t\t\t\tadd: gantt.addTask,\n\t\t\t\tisExist: gantt.isTaskExists\n\t\t\t};\n\t\t\tif (mode === \"links\") {\n\t\t\t\tmethods.add = gantt.addLink;\n\t\t\t\tmethods.isExist = gantt.isLinkExists;\n\t\t\t}\n\t\t\tif (methods.isExist.call(gantt, id)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdata.id = id;\n\t\t\tmethods.add.call(gantt, data);\n\t\t});\n\n\t\tdp.attachEvent(\"updateCallback\", function updateCallback(upd, id) {\n\t\t\tconst data = upd.data || gantt.xml._xmlNodeToJSON(upd.firstChild);\n\t\t\tif (!gantt.isTaskExists(id)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst objData = gantt.getTask(id);\n\t\t\tfor (const key in data) {\n\t\t\t\tlet property = data[key];\n\t\t\t\tswitch (key) {\n\t\t\t\t\tcase \"id\":\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tcase \"start_date\":\n\t\t\t\t\tcase \"end_date\":\n\t\t\t\t\t\tproperty = gantt.defined(gantt.templates.xml_date) ? gantt.templates.xml_date(property) : gantt.templates.parse_date(property);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"duration\":\n\t\t\t\t\t\tobjData.end_date = gantt.calculateEndDate({start_date: objData.start_date, duration: property, task:objData});\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tobjData[key] = property;\n\t\t\t}\n\t\t\tgantt.updateTask(id);\n\t\t\tgantt.refreshData();\n\t\t});\n\t\tdp.attachEvent(\"deleteCallback\", function deleteCallback(upd, id, parent, mode) { // tslint:disable-line\n\t\t\tconst methods = {\n\t\t\t\tdelete: gantt.deleteTask,\n\t\t\t\tisExist: gantt.isTaskExists\n\t\t\t};\n\t\t\tif (mode === \"links\") {\n\t\t\t\tmethods.delete = gantt.deleteLink;\n\t\t\t\tmethods.isExist = gantt.isLinkExists;\n\t\t\t}\n\t\t\tif (methods.isExist.call(gantt, id)) {\n\t\t\t\tmethods.delete.call(gantt, id);\n\t\t\t}\n\t\t});\n\t}\n\n\tdetach() {\n\t\thelpers.forEach(this._dataProcessorHandlers, (e) => {\n\t\t\tthis.$gantt.detachEvent(e);\n\t\t});\n\t\tthis._dataProcessorHandlers = [];\n\t}\n}\n","import * as eventable from \"../../utils/eventable\";\nimport * as helpers from \"../../utils/helpers\";\nimport * as utils from \"../../utils/utils\";\nimport DataProcessorEvents from \"./data_processor_events\";\nimport extendGantt from \"./extend_gantt\";\nimport SimpleStorage from \"./simple_storage\";\n\nexport interface DataProcessor { // tslint:disable-line\n\t$gantt: any;\n\tdetachAllEvents: any;\n\tattachEvent: any;\n\tcallEvent: any;\n\n\tserverProcessor: string;\n\taction_param: string;\n\tupdatedRows: any[];\n\tautoUpdate: boolean;\n\tupdateMode: string;\n\tmessages: any[];\n\tstyles: object;\n\tdnd: any;\n}\n\nexport function createDataProcessor(config: any) {\n\tlet router;\n\tlet tMode;\n\tif (config instanceof Function) {\n\t\trouter = config;\n\t} else if (config.hasOwnProperty(\"router\")) {\n\t\trouter = config.router;\n\t} else if (config.hasOwnProperty(\"link\") && config.hasOwnProperty(\"task\")) {\n\t\trouter = config;\n\t}\n\tif (router) {\n\t\ttMode = \"CUSTOM\";\n\t} else {\n\t\ttMode = config.mode || \"REST-JSON\";\n\t}\n\tconst gantt = this; // tslint:disable-line\n\tconst dp = new DataProcessor(config.url);\n\tdp.init(gantt);\n\tdp.setTransactionMode({\n\t\tmode: tMode,\n\t\trouter\n\t}, config.batchUpdate);\n\treturn dp;\n}\n\nexport class DataProcessor {\n\tpublic modes: object;\n\tpublic serverProcessor: string;\n\tpublic action_param: string; // tslint:disable-line\n\tpublic updatedRows: any[];\n\tpublic autoUpdate: boolean;\n\tpublic updateMode: string;\n\tpublic messages: any[];\n\tpublic styles: object;\n\tpublic dnd: any;\n\n\tprotected _tMode: string;\n\tprotected _headers: any;\n\tprotected _payload: any;\n\tprotected _postDelim: string;\n\tprotected _waitMode: number;\n\tprotected _in_progress: object; // tslint:disable-line\n\tprotected _invalid: object;\n\tprotected _storage: SimpleStorage;\n\tprotected _tSend: boolean;\n\tprotected _serializeAsJson: boolean;\n\tprotected _router: any;\n\tprotected _utf: boolean;\n\tprotected _methods: any[];\n\tprotected _user: any;\n\tprotected _uActions: object;\n\tprotected _needUpdate: boolean;\n\tprotected _ganttMode: \"task\"|\"link\";\n\tprotected _routerParametersFormat: \"parameters\"|\"object\";\n\n\tprotected _silent_mode: any; // tslint:disable-line\n\tprotected _updateBusy: any;\n\tprotected _serverProcessor: any;\n\tprotected _initialized: boolean;\n\n\tconstructor(serverProcessorURL?) {\n\t\tthis.serverProcessor = serverProcessorURL;\n\t\tthis.action_param = \"!nativeeditor_status\";\n\n\t\tthis.updatedRows = []; // ids of updated rows\n\n\t\tthis.autoUpdate = true;\n\t\tthis.updateMode = \"cell\";\n\t\tthis._headers = null;\n\t\tthis._payload = null;\n\t\tthis._postDelim = \"_\";\n\t\tthis._routerParametersFormat = \"parameters\";\n\n\t\tthis._waitMode = 0;\n\t\tthis._in_progress = {}; // ?\n\t\tthis._storage = SimpleStorage.create();\n\t\tthis._invalid = {};\n\t\tthis.messages = [];\n\n\t\tthis.styles = {\n\t\t\tupdated: \"font-weight:bold;\",\n\t\t\tinserted: \"font-weight:bold;\",\n\t\t\tdeleted: \"text-decoration : line-through;\",\n\t\t\tinvalid: \"background-color:FFE0E0;\",\n\t\t\tinvalid_cell: \"border-bottom:2px solid red;\",\n\t\t\terror: \"color:red;\",\n\t\t\tclear: \"font-weight:normal;text-decoration:none;\"\n\t\t};\n\t\tthis.enableUTFencoding(true);\n\t\teventable(this);\n\t}\n\n\tsetTransactionMode(mode:any, total?:any) {\n\t\tif (typeof mode === \"object\") {\n\t\t\tthis._tMode = mode.mode || this._tMode;\n\n\t\t\tif (utils.defined(mode.headers)) {\n\t\t\t\tthis._headers = mode.headers;\n\t\t\t}\n\n\t\t\tif (utils.defined(mode.payload)) {\n\t\t\t\tthis._payload = mode.payload;\n\t\t\t}\n\t\t\tthis._tSend = !!total;\n\t\t} else {\n\t\t\tthis._tMode = mode;\n\t\t\tthis._tSend = total;\n\t\t}\n\n\t\tif (this._tMode === \"REST\") {\n\t\t\tthis._tSend = false;\n\t\t}\n\n\t\tif (this._tMode === \"JSON\" || this._tMode === \"REST-JSON\") {\n\t\t\tthis._tSend = false;\n\t\t\tthis._serializeAsJson = true;\n\t\t\tthis._headers = this._headers || {};\n\t\t\tthis._headers[\"Content-Type\"] = \"application/json\";\n\t\t}else{\n\t\t\tif(this._headers && !this._headers[\"Content-Type\"]){\n\t\t\t\tthis._headers[\"Content-Type\"] = \"application/x-www-form-urlencoded\";\n\t\t\t}\n\t\t}\n\n\t\tif (this._tMode === \"CUSTOM\") {\n\t\t\tthis._tSend = false;\n\t\t\tthis._router = mode.router;\n\t\t}\n\t}\n\n\tescape(data:any) {\n\t\tif (this._utf) {\n\t\t\treturn encodeURIComponent(data);\n\t\t} else {\n\t\t\treturn escape(data);\n\t\t}\n\t}\n\n\t/**\n\t * @desc: allows to set escaping mode\n\t * @param: true - utf based escaping, simple - use current page encoding\n\t * @type: public\n\t */\n\tenableUTFencoding(mode:boolean) {\n\t\tthis._utf = !!mode;\n\t}\n\n\t/**\n\t * @desc: get state of updating\n\t * @returns:   true - all in sync with server, false - some items not updated yet.\n\t * @type: public\n\t */\n\tgetSyncState() {\n\t\treturn !this.updatedRows.length;\n\t}\n\n\t/**\n\t * @desc: set if rows should be send to server automatically\n\t * @param: mode - \"row\" - based on row selection changed, \"cell\" - based on cell editing finished, \"off\" - manual data sending\n\t * @type: public\n\t */\n\tsetUpdateMode(mode: string, dnd: any) {\n\t\tthis.autoUpdate = (mode === \"cell\");\n\t\tthis.updateMode = mode;\n\t\tthis.dnd = dnd;\n\t}\n\n\tignore(code: any, master: any) {\n\t\tthis._silent_mode = true;\n\t\tcode.call(master || window);\n\t\tthis._silent_mode = false;\n\t}\n\n\t/**\n\t * @desc: mark row as updated/normal. check mandatory fields, initiate autoupdate (if turned on)\n\t * @param: rowId - id of row to set update-status for\n\t * @param: state - true for \"updated\", false for \"not updated\"\n\t * @param: mode - update mode name\n\t * @type: public\n\t */\n\tsetUpdated(rowId:number|string, state: boolean, mode?: string) {\n\t\tif (this._silent_mode) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst ind = this.findRow(rowId);\n\n\t\tmode = mode || \"updated\";\n\t\tconst existing = this.$gantt.getUserData(rowId, this.action_param);\n\t\tif (existing && mode === \"updated\") {\n\t\t\tmode = existing;\n\t\t}\n\t\tif (state) {\n\t\t\tthis.set_invalid(rowId, false); // clear previous error flag\n\t\t\tthis.updatedRows[ind] = rowId;\n\t\t\tthis.$gantt.setUserData(rowId, this.action_param, mode);\n\t\t\tif (this._in_progress[rowId]) {\n\t\t\t\tthis._in_progress[rowId] = \"wait\";\n\t\t\t}\n\t\t} else {\n\t\t\tif (!this.is_invalid(rowId)) {\n\t\t\t\tthis.updatedRows.splice(ind, 1);\n\t\t\t\tthis.$gantt.setUserData(rowId, this.action_param, \"\");\n\t\t\t}\n\t\t}\n\n\t\tthis.markRow(rowId, state, mode);\n\t\tif (state && this.autoUpdate) {\n\t\t\tthis.sendData(rowId);\n\t\t}\n\t}\n\n\tmarkRow(id: number | string, state: boolean, mode: string) {\n\t\tlet str = \"\";\n\t\tconst invalid = this.is_invalid(id);\n\t\tif (invalid) {\n\t\t\tstr = this.styles[invalid];\n\t\t\tstate = true;\n\t\t}\n\t\tif (this.callEvent(\"onRowMark\", [id, state, mode, invalid])) {\n\t\t\t// default logic\n\t\t\tstr = this.styles[state ? mode : \"clear\"] + \" \" + str;\n\n\t\t\tthis.$gantt[this._methods[0]](id, str);\n\n\t\t\tif (invalid && invalid.details) {\n\t\t\t\tstr += this.styles[invalid + \"_cell\"];\n\t\t\t\tfor (let i = 0; i < invalid.details.length; i++) {\n\t\t\t\t\tif (invalid.details[i]) {\n\t\t\t\t\t\tthis.$gantt[this._methods[1]](id, i, str);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tgetActionByState(state: string):string {\n\t\tif (state === \"inserted\") {\n\t\t\treturn \"create\";\n\t\t}\n\n\t\tif (state === \"updated\") {\n\t\t\treturn \"update\";\n\t\t}\n\n\t\tif (state === \"deleted\") {\n\t\t\treturn \"delete\";\n\t\t}\n\n\t\t// reorder\n\t\treturn \"update\";\n\t}\n\n\tgetState(id: number | string) {\n\t\treturn this.$gantt.getUserData(id, this.action_param);\n\t}\n\n\tis_invalid(id: number | string) {\n\t\treturn this._invalid[id];\n\t}\n\n\tset_invalid(id: number | string, mode: any, details?) {\n\t\tif (details) {\n\t\t\tmode = {\n\t\t\t\tvalue: mode,\n\t\t\t\tdetails,\n\t\t\t\ttoString: function() { // tslint:disable-line\n\t\t\t\t\treturn this.value.toString();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tthis._invalid[id] = mode;\n\t}\n\n\t/**\n\t * @desc: check mandatory fields and verify values of cells, initiate update (if specified). Can be redefined in order to provide custom validation\n\t * @param: rowId - id of row to set update-status for\n\t * @type: public\n\t */\n\t// tslint:disable-next-line\n\tcheckBeforeUpdate(rowId: number | string) {\n\t\treturn true;\n\t}\n\n\t/**\n\t * @desc: send row(s) values to server\n\t * @param: rowId - id of row which data to send. If not specified, then all \"updated\" rows will be send\n\t * @type: public\n\t */\n\tsendData(rowId?: any) {\n\t\tif (this.$gantt.editStop) {\n\t\t\tthis.$gantt.editStop();\n\t\t}\n\n\n\t\tif (typeof rowId === \"undefined\" || this._tSend) {\n\t\t\treturn this.sendAllData();\n\t\t}\n\t\tif (this._in_progress[rowId]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.messages = [];\n\t\tif (!this.checkBeforeUpdate(rowId) && this.callEvent(\"onValidationError\", [rowId, this.messages])) {\n\t\t\treturn false;\n\t\t}\n\t\tthis._beforeSendData(this._getRowData(rowId), rowId);\n\t}\n\n\tserialize(data: any, id: any) {\n\t\tif (this._serializeAsJson) {\n\t\t\treturn  this._serializeAsJSON(data);\n\t\t}\n\n\t\tif (typeof data === \"string\") {\n\t\t\treturn data;\n\t\t}\n\t\tif (typeof id !== \"undefined\") {\n\t\t\treturn this.serialize_one(data, \"\");\n\t\t} else {\n\t\t\tconst stack = [];\n\t\t\tconst keys = [];\n\t\t\tfor (const key in data) {\n\t\t\t\tif (data.hasOwnProperty(key)) {\n\t\t\t\t\tstack.push(this.serialize_one(data[key], key + this._postDelim));\n\t\t\t\t\tkeys.push(key);\n\t\t\t\t}\n\t\t\t}\n\t\t\tstack.push(\"ids=\" + this.escape(keys.join(\",\")));\n\t\t\tif (this.$gantt.security_key) {\n\t\t\t\tstack.push(\"dhx_security=\" + this.$gantt.security_key);\n\t\t\t}\n\t\t\treturn stack.join(\"&\");\n\t\t}\n\t}\n\n\tserialize_one(data: any, pref: string) {\n\t\tif (typeof data === \"string\") {\n\t\t\treturn data;\n\t\t}\n\t\tconst stack = [];\n\t\tlet serialized = \"\";\n\t\tfor (const key in data)\n\t\t\tif (data.hasOwnProperty(key)) {\n\t\t\t\tif ((key === \"id\" ||\n\t\t\t\t\tkey == this.action_param) && // tslint:disable-line\n\t\t\t\t\tthis._tMode === \"REST\") {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (typeof data[key] === \"string\" || typeof data[key] === \"number\") {\n\t\t\t\t\tserialized = data[key];\n\t\t\t\t} else {\n\t\t\t\t\tserialized = JSON.stringify(data[key]);\n\t\t\t\t}\n\t\t\t\tstack.push(this.escape((pref || \"\") + key) + \"=\" + this.escape(serialized));\n\t\t\t}\n\t\treturn stack.join(\"&\");\n\t}\n\n\tsendAllData() {\n\t\tif (!this.updatedRows.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.messages = [];\n\t\tlet valid: any = true;\n\n\t\tthis._forEachUpdatedRow(function(rowId) {\n\t\t\tvalid = valid && this.checkBeforeUpdate(rowId);\n\t\t});\n\n\t\tif (!valid && !this.callEvent(\"onValidationError\", [\"\", this.messages])) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this._tSend) {\n\t\t\tthis._sendData(this._getAllData());\n\t\t} else {\n\t\t\t// this.updatedRows can be spliced from onBeforeUpdate via dp.setUpdated false\n\t\t\t// use an iterator instead of for(var i = 0; i < this.updatedRows; i++) then\n\t\t\tthis._forEachUpdatedRow(function(rowId) {\n\t\t\t\tif (!this._in_progress[rowId]) {\n\t\t\t\t\tif (this.is_invalid(rowId)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis._beforeSendData(this._getRowData(rowId), rowId);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tfindRow(pattern: any) {\n\t\tlet i = 0;\n\t\tfor (i = 0; i < this.updatedRows.length; i++) {\n\t\t\tif (pattern == this.updatedRows[i]) { // tslint:disable-line\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn i;\n\t}\n\n\t/**\n\t * @desc: define custom actions\n\t * @param: name - name of action, same as value of action attribute\n\t * @param: handler - custom function, which receives a XMl response content for action\n\t * @type: private\n\t */\n\tdefineAction(name: string, handler: any) {\n\t\tif (!this._uActions) {\n\t\t\tthis._uActions = {};\n\t\t}\n\t\tthis._uActions[name] = handler;\n\t}\n\n\t/**\n\t * @desc: used in combination with setOnBeforeUpdateHandler to create custom client-server transport system\n\t * @param: sid - id of item before update\n\t * @param: tid - id of item after up0ate\n\t * @param: action - action name\n\t * @type: public\n\t * @topic: 0\n\t */\n\tafterUpdateCallback(sid: number | string, tid: number | string, action: string, btag: any, ganttMode: string) {\n\t\tif(!this.$gantt){\n\t\t\t// destructor has been called before the callback\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setGanttMode(ganttMode);\n\n\t\tconst marker = sid;\n\t\tconst correct = (action !== \"error\" && action !== \"invalid\");\n\t\tif (!correct) {\n\t\t\tthis.set_invalid(sid, action);\n\t\t}\n\t\tif ((this._uActions) && (this._uActions[action]) && (!this._uActions[action](btag))) {\n\t\t\treturn (delete this._in_progress[marker]);\n\t\t}\n\n\t\tif (this._in_progress[marker] !== \"wait\") {\n\t\t\tthis.setUpdated(sid, false);\n\t\t}\n\n\t\tconst originalSid = sid;\n\n\t\tswitch (action) {\n\t\t\tcase \"inserted\":\n\t\t\tcase \"insert\":\n\t\t\t\tif (tid != sid) { // tslint:disable-line\n\t\t\t\t\tthis.setUpdated(sid, false);\n\t\t\t\t\tthis.$gantt[this._methods[2]](sid, tid);\n\t\t\t\t\tsid = tid;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"delete\":\n\t\t\tcase \"deleted\":\n\t\t\t\tthis.$gantt.setUserData(sid, this.action_param, \"true_deleted\");\n\t\t\t\tthis.$gantt[this._methods[3]](sid);\n\t\t\t\tdelete this._in_progress[marker];\n\t\t\t\treturn this.callEvent(\"onAfterUpdate\", [sid, action, tid, btag]);\n\t\t}\n\n\t\tif (this._in_progress[marker] !== \"wait\") {\n\t\t\tif (correct) {\n\t\t\t\tthis.$gantt.setUserData(sid, this.action_param, \"\");\n\t\t\t}\n\t\t\tdelete this._in_progress[marker];\n\t\t} else {\n\t\t\tdelete this._in_progress[marker];\n\t\t\tthis.setUpdated(tid, true, this.$gantt.getUserData(sid, this.action_param));\n\t\t}\n\n\t\tthis.callEvent(\"onAfterUpdate\", [originalSid, action, tid, btag]);\n\t}\n\n\t/**\n\t * @desc: response from server\n\t * @param: xml - XMLLoader object with response XML\n\t * @type: private\n\t */\n\tafterUpdate(that: any, xml: any, id?:any) {\n\t\tlet _xml;\n\t\tif (arguments.length === 3) {\n\t\t\t_xml = arguments[1];\n\t\t} else {\n\t\t\t// old dataprocessor\n\t\t\t_xml = arguments[4];\n\t\t}\n\t\tlet mode = this.getGanttMode();\n\t\tconst reqUrl = _xml.filePath || _xml.url;\n\n\t\tif (this._tMode !== \"REST\" && this._tMode !== \"REST-JSON\") {\n\t\t\tif (reqUrl.indexOf(\"gantt_mode=links\") !== -1) {\n\t\t\t\tmode = \"link\";\n\t\t\t} else {\n\t\t\t\tmode = \"task\";\n\t\t\t}\n\t\t} else {\n\t\t\tif (reqUrl.indexOf(\"/link\") > reqUrl.indexOf(\"/task\")) {\n\t\t\t\tmode = \"link\";\n\t\t\t} else {\n\t\t\t\tmode = \"task\";\n\t\t\t}\n\t\t}\n\t\tthis.setGanttMode(mode);\n\n\t\tconst ajax = this.$gantt.ajax;\n\t\t// try to use json first\n\t\tlet tag;\n\n\t\ttry {\n\t\t\ttag = JSON.parse(xml.xmlDoc.responseText);\n\t\t} catch (e) {\n\n\t\t\t// empty response also can be processed by json handler\n\t\t\tif (!xml.xmlDoc.responseText.length) {\n\t\t\t\ttag = {};\n\t\t\t}\n\t\t}\n\n\t\tif (tag) {\n\t\t\tconst action = tag.action || this.getState(id) || \"updated\";\n\t\t\tconst sid = tag.sid || id[0];\n\t\t\tconst tid = tag.tid || id[0];\n\t\t\tthat.afterUpdateCallback(sid, tid, action, tag, mode);\n\t\t\tthat.finalizeUpdate();\n\t\t\tthis.setGanttMode(mode);\n\t\t\treturn;\n\t\t}\n\n\t\t// xml response\n\t\tconst top = ajax.xmltop(\"data\", xml.xmlDoc); // fix incorrect content type in IE\n\t\tif (!top) {\n\t\t\treturn this.cleanUpdate(id);\n\t\t}\n\t\tconst atag = ajax.xpath(\"//data/action\", top);\n\t\tif (!atag.length) {\n\t\t\treturn this.cleanUpdate(id);\n\t\t}\n\n\t\tfor (let i = 0; i < atag.length; i++) {\n\t\t\tconst btag = atag[i];\n\t\t\tconst action = btag.getAttribute(\"type\");\n\t\t\tconst sid = btag.getAttribute(\"sid\");\n\t\t\tconst tid = btag.getAttribute(\"tid\");\n\n\t\t\tthat.afterUpdateCallback(sid, tid, action, btag, mode);\n\t\t}\n\t\tthat.finalizeUpdate();\n\t}\n\n\tcleanUpdate(id: any[]) {\n\t\tif (id) {\n\t\t\tfor (let i = 0; i < id.length; i++) {\n\t\t\t\tdelete this._in_progress[id[i]];\n\t\t\t}\n\t\t}\n\t}\n\n\tfinalizeUpdate() {\n\t\tif (this._waitMode) {\n\t\t\tthis._waitMode--;\n\t\t}\n\n\t\tthis.callEvent(\"onAfterUpdateFinish\", []);\n\t\tif (!this.updatedRows.length) {\n\t\t\tthis.callEvent(\"onFullSync\", []);\n\t\t}\n\t}\n\n\t/**\n\t * @desc: initializes data-processor\n\t * @param: gantt - dhtmlxGantt object to attach this data-processor to\n\t * @type: public\n\t */\n\tinit(gantt: any) {\n\t\tif (this._initialized) {\n\t\t\treturn;\n\t\t}\n\t\tthis.$gantt = gantt;\n\t\tif (this.$gantt._dp_init) {\n\t\t\tthis.$gantt._dp_init(this);\n\t\t}\n\n\t\tthis._setDefaultTransactionMode();\n\n\t\tthis.styles = {\n\t\t\tupdated:\"gantt_updated\",\n\t\t\torder:\"gantt_updated\",\n\t\t\tinserted:\"gantt_inserted\",\n\t\t\tdeleted:\"gantt_deleted\",\n\t\t\tinvalid:\"gantt_invalid\",\n\t\t\terror:\"gantt_error\",\n\t\t\tclear:\"\"\n\t\t};\n\n\t\tthis._methods=[\"_row_style\",\"setCellTextStyle\",\"_change_id\",\"_delete_task\"];\n\t\textendGantt(this.$gantt, this);\n\t\tconst dataProcessorEvents = new DataProcessorEvents(this.$gantt, this);\n\t\tdataProcessorEvents.attach();\n\t\tthis.attachEvent(\"onDestroy\", function() {\n\t\t\tdelete this.setGanttMode;\n\t\t\tdelete this._getRowData;\n\n\t\t\tdelete this.$gantt._dp;\n\t\t\tdelete this.$gantt._change_id;\n\t\t\tdelete this.$gantt._row_style;\n\t\t\tdelete this.$gantt._delete_task;\n\t\t\tdelete this.$gantt._sendTaskOrder;\n\t\t\tdelete this.$gantt;\n\n\t\t\tdataProcessorEvents.detach();\n\t\t});\n\t\tthis.$gantt.callEvent(\"onDataProcessorReady\", [this]);\n\t\tthis._initialized = true;\n\t}\n\n\tsetOnAfterUpdate(handler) {\n\t\tthis.attachEvent(\"onAfterUpdate\", handler);\n\t}\n\n\tsetOnBeforeUpdateHandler(handler) {\n\t\tthis.attachEvent(\"onBeforeDataSending\", handler);\n\t}\n\n\t/* starts autoupdate mode\n\t\t@param interval time interval for sending update requests\n\t*/\n\tsetAutoUpdate(interval, user) {\n\t\tinterval = interval || 2000;\n\n\t\tthis._user = user || (new Date()).valueOf();\n\t\tthis._needUpdate = false;\n\n\t\tthis._updateBusy = false;\n\n\t\tthis.attachEvent(\"onAfterUpdate\", this.afterAutoUpdate); // arguments sid, action, tid, xml_node;\n\n\t\tthis.attachEvent(\"onFullSync\", this.fullSync);\n\n\t\tsetInterval(() => {\n\t\t\tthis.loadUpdate();\n\t\t}, interval);\n\t}\n\n\t/* process updating request response\n\t\tif status == collision version is deprecated\n\t\tset flag for autoupdating immediately\n\t*/\n\tafterAutoUpdate(sid, action, tid, xml_node) { // tslint:disable-line\n\t\tif (action === \"collision\") {\n\t\t\tthis._needUpdate = true;\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\t/* callback function for onFillSync event\n\t\tcall update function if it's need\n\t*/\n\tfullSync() {\n\t\tif (this._needUpdate) {\n\t\t\tthis._needUpdate = false;\n\t\t\tthis.loadUpdate();\n\t\t}\n\t\treturn true;\n\t}\n\n\t/* sends query to the server and call callback function\n\t*/\n\tgetUpdates(url, callback) {\n\t\tconst ajax = this.$gantt.ajax;\n\t\tif (this._updateBusy) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\tthis._updateBusy = true;\n\t\t}\n\n\t\tajax.get(url, callback);\n\n\t}\n\n\t/* loads updates and processes them\n\t*/\n\tloadUpdate() {\n\t\tconst ajax = this.$gantt.ajax;\n\t\tconst version = this.$gantt.getUserData(0, \"version\");\n\t\tlet url = this.serverProcessor + ajax.urlSeparator(this.serverProcessor) + [\"dhx_user=\" + this._user, \"dhx_version=\" + version].join(\"&\");\n\t\turl = url.replace(\"editing=true&\", \"\");\n\t\tthis.getUpdates(url, (xml) => {\n\t\t\tconst vers = ajax.xpath(\"//userdata\", xml);\n\t\t\tthis.$gantt.setUserData(0, \"version\", this._getXmlNodeValue(vers[0]));\n\n\t\t\tconst updates = ajax.xpath(\"//update\", xml);\n\t\t\tif (updates.length) {\n\t\t\t\tthis._silent_mode = true;\n\n\t\t\t\tfor (let i = 0; i < updates.length; i++) {\n\t\t\t\t\tconst status = updates[i].getAttribute(\"status\");\n\t\t\t\t\tconst id = updates[i].getAttribute(\"id\");\n\t\t\t\t\tconst parent = updates[i].getAttribute(\"parent\");\n\t\t\t\t\tswitch (status) {\n\t\t\t\t\t\tcase \"inserted\":\n\t\t\t\t\t\t\tthis.callEvent(\"insertCallback\", [updates[i], id, parent]);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"updated\":\n\t\t\t\t\t\t\tthis.callEvent(\"updateCallback\", [updates[i], id, parent]);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"deleted\":\n\t\t\t\t\t\t\tthis.callEvent(\"deleteCallback\", [updates[i], id, parent]);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis._silent_mode = false;\n\t\t\t}\n\n\t\t\tthis._updateBusy = false;\n\t\t});\n\t}\n\n\tdestructor() {\n\t\tthis.callEvent(\"onDestroy\", []);\n\t\tthis.detachAllEvents();\n\n\t\tthis.updatedRows = [];\n\t\tthis._in_progress = {}; // ?\n\t\tthis._invalid = {};\n\t\tthis._storage.clear();\n\t\tthis._storage = null;\n\t\tthis._headers = null;\n\t\tthis._payload = null;\n\t\tdelete this._initialized;\n\t}\n\n\tsetGanttMode(mode) {\n\t\tif (mode === \"tasks\") {\n\t\t\tmode = \"task\";\n\t\t} else if (mode === \"links\") {\n\t\t\tmode = \"link\";\n\t\t}\n\n\t\tconst modes = this.modes || {};\n\t\tconst ganttMode = this.getGanttMode();\n\t\tif (ganttMode) {\n\t\t\tmodes[ganttMode] = {\n\t\t\t\t_in_progress : this._in_progress,\n\t\t\t\t_invalid: this._invalid,\n\t\t\t\t_storage: this._storage,\n\t\t\t\tupdatedRows : this.updatedRows\n\t\t\t};\n\t\t}\n\n\t\tlet newState = modes[mode];\n\t\tif (!newState) {\n\t\t\tnewState = modes[mode] = {\n\t\t\t\t_in_progress : {},\n\t\t\t\t_invalid : {},\n\t\t\t\t_storage : SimpleStorage.create(),\n\t\t\t\tupdatedRows : []\n\t\t\t};\n\t\t}\n\t\tthis._in_progress = newState._in_progress;\n\t\tthis._invalid = newState._invalid;\n\t\tthis._storage = newState._storage;\n\t\tthis.updatedRows = newState.updatedRows;\n\t\tthis.modes = modes;\n\t\tthis._ganttMode = mode;\n\t}\n\tgetGanttMode():string {\n\t\treturn this._ganttMode;\n\t}\n\n\tstoreItem(item) {\n\t\tthis._storage.storeItem(item);\n\t}\n\n\turl(url: string) {\n\t\tthis.serverProcessor = this._serverProcessor = url;\n\t}\n\n\tprotected _beforeSendData(data: any, rowId: any) {\n\t\tif (!this.callEvent(\"onBeforeUpdate\", [rowId, this.getState(rowId), data])) {\n\t\t\treturn false;\n\t\t}\n\t\tthis._sendData(data, rowId);\n\t}\n\n\tprotected _serializeAsJSON(data: any) {\n\t\tif (typeof data === \"string\") {\n\t\t\treturn data;\n\t\t}\n\n\t\tconst copy = utils.copy(data);\n\t\tif (this._tMode === \"REST-JSON\") {\n\t\t\tdelete copy.id;\n\t\t\tdelete copy[this.action_param];\n\t\t}\n\n\t\treturn JSON.stringify(copy);\n\t}\n\n\tprotected _applyPayload(url: string) {\n\t\tconst ajax = this.$gantt.ajax;\n\t\tif (this._payload) {\n\t\t\tfor (const key in this._payload) {\n\t\t\t\turl = url + ajax.urlSeparator(url) + this.escape(key) + \"=\" + this.escape(this._payload[key]);\n\t\t\t}\n\t\t}\n\t\treturn url;\n\t}\n\n\t// GET/POST/JSON modes of the dataProcessor didn't send the whole data items in 'delete' requests\n\t// clear extra info from the data in order not to change the request format\n\tprotected _cleanupArgumentsBeforeSend(dataToSend: any) {\n\t\tlet processedData;\n\t\tif(dataToSend[this.action_param] === undefined){// hash of updated items, and not an individual item\n\t\t\tprocessedData = {};\n\t\t\tfor(const i in dataToSend) {\n\t\t\t\tprocessedData[i] = this._cleanupArgumentsBeforeSend(dataToSend[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tprocessedData = this._cleanupItemBeforeSend(dataToSend);\n\t\t}\n\t\treturn processedData;\n\t}\n\tprotected _cleanupItemBeforeSend(updatedItem: any) {\n\t\tlet output = null;\n\t\tif(updatedItem){\n\t\t\tif(updatedItem[this.action_param] === \"deleted\"){\n\t\t\t\toutput = {};\n\t\t\t\toutput.id = updatedItem.id;\n\t\t\t\toutput[this.action_param] = updatedItem[this.action_param];\n\t\t\t}else{\n\t\t\t\toutput = updatedItem;\n\t\t\t}\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tprotected _sendData(dataToSend: any, rowId?: any) {\n\t\tif (!dataToSend) {\n\t\t\treturn; // nothing to send\n\t\t}\n\t\tif (!this.callEvent(\"onBeforeDataSending\", rowId ? [rowId, this.getState(rowId), dataToSend] : [null, null, dataToSend])) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (rowId) {\n\t\t\tthis._in_progress[rowId] = (new Date()).valueOf();\n\t\t}\n\n\t\tconst ajax = this.$gantt.ajax;\n\n\t\tif (this._tMode === \"CUSTOM\") {\n\t\t\tconst taskState = this.getState(rowId);\n\t\t\tconst taskAction = this.getActionByState(taskState);\n\t\t\tconst ganttMode = this.getGanttMode();\n\t\t\tconst _onResolvedCreateUpdate = (tag) => {\n\t\t\t\tlet action = taskState || \"updated\";\n\t\t\t\tlet sid = rowId;\n\t\t\t\tlet tid = rowId;\n\n\t\t\t\tif (tag) {\n\t\t\t\t\taction = tag.action || taskState;\n\t\t\t\t\tsid = tag.sid || sid;\n\t\t\t\t\ttid = tag.id || tag.tid || tid;\n\t\t\t\t}\n\t\t\t\tthis.afterUpdateCallback(sid, tid, action, tag, ganttMode);\n\t\t\t};\n\n\t\t\tlet actionPromise;\n\t\t\tif (this._router instanceof Function) {\n\t\t\t\tif(this._routerParametersFormat === \"object\"){\n\t\t\t\t\tconst obj = {\n\t\t\t\t\t\tentity: ganttMode,\n\t\t\t\t\t\taction: taskAction,\n\t\t\t\t\t\tdata: dataToSend,\n\t\t\t\t\t\tid: rowId\n\t\t\t\t\t};\n\t\t\t\t\tactionPromise = this._router(obj);\n\t\t\t\t} else {\n\t\t\t\t\tactionPromise = this._router(ganttMode, taskAction, dataToSend, rowId);\n\t\t\t\t}\n\t\t\t} else if (this._router[ganttMode] instanceof Function) {\n\t\t\t\tactionPromise = this._router[ganttMode](taskAction, dataToSend, rowId);\n\t\t\t} else {\n\t\t\t\tswitch (taskState) {\n\t\t\t\t\tcase \"inserted\":\n\t\t\t\t\t\tactionPromise = this._router[ganttMode].create(dataToSend);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"deleted\":\n\t\t\t\t\t\tactionPromise = this._router[ganttMode].delete(rowId);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tactionPromise = this._router[ganttMode].update(dataToSend, rowId);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(actionPromise){\n\t\t\t\t// neither promise nor {tid: newId} response object\n\t\t\t\tif(!actionPromise.then &&\n\t\t\t\t\t(actionPromise.id === undefined && actionPromise.tid === undefined && actionPromise.action === undefined)){\n\t\t\t\t\tthrow new Error(\"Incorrect router return value. A Promise or a response object is expected\");\n\t\t\t\t}\n\n\t\t\t\tif(actionPromise.then){\n\t\t\t\t\tactionPromise.then(_onResolvedCreateUpdate).catch((error) => {\n\t\t\t\t\t\tif(error && error.action){\n\t\t\t\t\t\t\t_onResolvedCreateUpdate(error);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t_onResolvedCreateUpdate({ action: \"error\", value: error});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\t// custom method may return a response object in case of sync action\n\t\t\t\t\t_onResolvedCreateUpdate(actionPromise);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t_onResolvedCreateUpdate(null);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tlet queryParams: any;\n\t\tqueryParams = {\n\t\t\tcallback: (xml) => {\n\t\t\t\tconst ids = [];\n\n\t\t\t\tif (rowId) {\n\t\t\t\t\tids.push(rowId);\n\t\t\t\t} else if (dataToSend) {\n\t\t\t\t\tfor (const key in dataToSend) {\n\t\t\t\t\t\tids.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn this.afterUpdate(this, xml, ids);\n\t\t\t},\n\t\t\theaders: this._headers\n\t\t};\n\n\t\tconst urlParams = this.serverProcessor + (this._user ? (ajax.urlSeparator(this.serverProcessor) + [\"dhx_user=\" + this._user, \"dhx_version=\" + this.$gantt.getUserData(0, \"version\")].join(\"&\")) : \"\");\n\t\tlet url: any = this._applyPayload(urlParams);\n\t\tlet data;\n\n\t\tswitch (this._tMode) {\n\t\t\tcase \"GET\":\n\t\t\t\tdata = this._cleanupArgumentsBeforeSend(dataToSend);\n\t\t\t\tqueryParams.url = url + ajax.urlSeparator(url) + this.serialize(data, rowId);\n\t\t\t\tqueryParams.method = \"GET\";\n\t\t\t\tbreak;\n\t\t\tcase \"POST\":\n\t\t\t\tdata = this._cleanupArgumentsBeforeSend(dataToSend);\n\t\t\t\tqueryParams.url = url;\n\t\t\t\tqueryParams.method = \"POST\";\n\t\t\t\tqueryParams.data = this.serialize(data, rowId);\n\t\t\t\tbreak;\n\t\t\tcase \"JSON\":\n\t\t\t\tdata = {};\n\t\t\t\tconst preprocessedData = this._cleanupItemBeforeSend(dataToSend);\n\t\t\t\tfor (const key in preprocessedData) {\n\t\t\t\t\tif (key === this.action_param || key === \"id\" || key === \"gr_id\") {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tdata[key] = preprocessedData[key];\n\t\t\t\t}\n\n\t\t\t\tqueryParams.url = url;\n\t\t\t\tqueryParams.method = \"POST\";\n\t\t\t\tqueryParams.data = JSON.stringify({\n\t\t\t\t\tid: rowId,\n\t\t\t\t\taction: dataToSend[this.action_param],\n\t\t\t\t\tdata\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase \"REST\":\n\t\t\tcase \"REST-JSON\":\n\t\t\t\turl = urlParams.replace(/(&|\\?)editing=true/, \"\");\n\t\t\t\tdata = \"\";\n\n\t\t\t\tswitch (this.getState(rowId)) {\n\t\t\t\t\tcase \"inserted\":\n\t\t\t\t\t\tqueryParams.method = \"POST\";\n\t\t\t\t\t\tqueryParams.data = this.serialize(dataToSend, rowId);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"deleted\":\n\t\t\t\t\t\tqueryParams.method = \"DELETE\";\n\t\t\t\t\t\turl = url + (url.slice(-1) === \"/\" ? \"\" : \"/\") + rowId;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tqueryParams.method = \"PUT\";\n\t\t\t\t\t\tqueryParams.data = this.serialize(dataToSend, rowId);\n\t\t\t\t\t\turl = url + (url.slice(-1) === \"/\" ? \"\" : \"/\") + rowId;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tqueryParams.url = this._applyPayload(url);\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis._waitMode++;\n\t\treturn ajax.query(queryParams);\n\t}\n\n\tprotected _forEachUpdatedRow(code: any) {\n\t\tconst updatedRows = this.updatedRows.slice();\n\t\tfor (let i = 0; i < updatedRows.length; i++) {\n\t\t\tconst rowId = updatedRows[i];\n\t\t\tif (this.$gantt.getUserData(rowId, this.action_param)) {\n\t\t\t\tcode.call(this, rowId);\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected _setDefaultTransactionMode() {\n\t\tif (this.serverProcessor) {\n\t\t\tthis.setTransactionMode(\"POST\", true);\n\t\t\tthis.serverProcessor += (this.serverProcessor.indexOf(\"?\") !== -1 ? \"&\" : \"?\") + \"editing=true\";\n\t\t\tthis._serverProcessor = this.serverProcessor;\n\t\t}\n\t}\n\n\t/* returns xml node value\n\t\t@param node\n\t\t\txml node\n\t*/\n\tprotected _getXmlNodeValue(node) {\n\t\tif (node.firstChild) {\n\t\t\treturn node.firstChild.nodeValue;\n\t\t}\n\t\treturn \"\";\n\t}\n\n\tprotected _getAllData() {\n\t\tconst out = {};\n\t\tlet hasOne = false;\n\n\t\tthis._forEachUpdatedRow(function(id) {\n\t\t\tif (this._in_progress[id] || this.is_invalid(id)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst row = this._getRowData(id);\n\t\t\tif (!this.callEvent(\"onBeforeUpdate\", [id, this.getState(id), row])) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tout[id] = row;\n\t\t\thasOne = true;\n\t\t\tthis._in_progress[id] = (new Date()).valueOf();\n\t\t});\n\n\t\treturn hasOne ? out : null;\n\t}\n\n\tprotected _prepareDate(value: Date) : string {\n\t\treturn this.$gantt.defined(this.$gantt.templates.xml_format) ? this.$gantt.templates.xml_format(value) : this.$gantt.templates.format_date(value);\n\t}\n\n\tprotected _prepareArray(value: any[], traversedObjects: object[]) : any[] {\n\t\ttraversedObjects.push(value);\n\n\t\treturn value.map((item) => {\n\t\t\tif(helpers.isDate(item)){\n\t\t\t\treturn this._prepareDate(item);\n\t\t\t} else if (Array.isArray(item) && !helpers.arrayIncludes(traversedObjects, item)){\n\t\t\t\treturn this._prepareArray(item, traversedObjects);\n\t\t\t} else if (item && typeof item === \"object\" && !helpers.arrayIncludes(traversedObjects, item)) {\n\t\t\t\treturn this._prepareObject(item, traversedObjects);\n\t\t\t} else {\n\t\t\t\treturn item;\n\t\t\t}\n\t\t});\n\t}\n\n\tprotected _prepareObject(rawItem: any, traversedObjects: object[]) : any {\n\t\tconst processedItem = {};\n\t\ttraversedObjects.push(rawItem);\n\n\t\tfor (const key in rawItem) {\n\t\t\tif (key.substr(0, 1) === \"$\") {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst value = rawItem[key];\n\t\t\tif (helpers.isDate(value)) {\n\t\t\t\tprocessedItem[key] = this._prepareDate(value);\n\t\t\t} else if(value === null) {\n\t\t\t\tprocessedItem[key] = \"\";\n\t\t\t} else if (Array.isArray(value) && !helpers.arrayIncludes(traversedObjects, value)){\n\t\t\t\tprocessedItem[key] = this._prepareArray(value, traversedObjects);\n\t\t\t} else if (value && typeof value === \"object\" && !helpers.arrayIncludes(traversedObjects, value)) {\n\t\t\t\tprocessedItem[key] = this._prepareObject(value, traversedObjects);\n\t\t\t} else {\n\t\t\t\tprocessedItem[key] = value;\n\t\t\t}\n\t\t}\n\t\treturn processedItem;\n\t}\n\n\tprotected _prepareDataItem(rawItem: any): any {\n\t\tconst processedItem = this._prepareObject(rawItem, []);\n\n\t\tprocessedItem[this.action_param] = this.$gantt.getUserData(rawItem.id, this.action_param);\n\t\treturn processedItem;\n\t}\n\n\tprotected getStoredItem(id){\n\t\treturn this._storage.getStoredItem(id);\n\t}\n\n\tprotected _getRowData(id) {\n\t\tlet dataItem;\n\t\tconst gantt = this.$gantt;\n\t\tif (this.getGanttMode() === \"task\") {\n\t\t\tif(gantt.isTaskExists(id)){\n\t\t\t\tdataItem =this.$gantt.getTask(id);\n\t\t\t}\n\t\t} else {\n\t\t\tif(gantt.isLinkExists(id)){\n\t\t\t\tdataItem =this.$gantt.getLink(id);\n\t\t\t}\n\t\t}\n\n\t\tif (!dataItem) {\n\t\t\tdataItem = this.getStoredItem(id);\n\t\t}\n\n\t\tif (!dataItem) {\n\t\t\tdataItem = { id };\n\t\t}\n\n\t\treturn this._prepareDataItem(dataItem);\n\t}\n}","var DataProcessor = require(\"./data_processor\");\nmodule.exports = {\n\tDEPRECATED_api: function(server) {\n\t\treturn new (DataProcessor.DataProcessor)(server);\n\t},\n\tcreateDataProcessor: DataProcessor.createDataProcessor,\n\tgetDataProcessorModes: DataProcessor.getAvailableModes\n};","var isHeadless = require(\"../../utils/is_headless\");\n\nvar storeRenderCreator = function(name, gantt){\n\n\tvar store = gantt.getDatastore(name);\n\n\tvar itemRepainter = {\n\t\trenderItem: function(id, renderer){\n\n\t\t\tvar renders = renderer.getLayers();\n\n\t\t\tvar item = store.getItem(id);\n\t\t\tif(item && store.isVisible(id)) {\n\t\t\t\tfor (var i = 0; i < renders.length; i++)\n\t\t\t\t\trenders[i].render_item(item);\n\t\t\t}\n\t\t},\n\t\trenderItems: function(renderer){\n\t\t\tvar renderers = renderer.getLayers();\n\t\t\tfor (var i = 0; i < renderers.length; i++) {\n\t\t\t\trenderers[i].clear();\n\t\t\t}\n\n\t\t\tvar allData = null;\n\n\t\t\tvar loadedRanges = {};\n\t\t\tfor (var i = 0; i < renderers.length; i++) {\n\t\t\t\tvar layer = renderers[i];\n\t\t\t\tvar layerData;\n\t\t\t\tif(layer.get_visible_range){\n\t\t\t\t\tvar range = layer.get_visible_range(store);\n\t\t\t\t\tvar key = range.start + \" - \" + range.end;\n\t\t\t\t\tif(loadedRanges[key]){\n\t\t\t\t\t\tlayerData = loadedRanges[key];\n\t\t\t\t\t}else{\n\t\t\t\t\t\tlayerData = store.getIndexRange(range.start, range.end);\n\t\t\t\t\t\tloadedRanges[key] = layerData;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(!allData){\n\t\t\t\t\t\tallData = store.getVisibleItems();\n\t\t\t\t\t}\n\t\t\t\t\tlayerData = allData;\n\t\t\t\t}\n\t\t\t\trenderers[i].render_items(layerData);\n\t\t\t}\n\t\t},\n\t\tupdateItems: function(layer) {\n\t\t\tif(layer.update_items){\n\t\t\t\tvar data;\n\t\t\t\tif(layer.get_visible_range){\n\t\t\t\t\tvar range = layer.get_visible_range(store);\n\t\t\t\t\tdata = store.getIndexRange(range.start, range.end);\n\t\t\t\t}else{\n\t\t\t\t\tdata = store.getVisibleItems();\n\t\t\t\t}\n\t\t\t\tlayer.update_items(data);\n\t\t\t}\n\t\t}\n\t};\n\n\tstore.attachEvent(\"onStoreUpdated\", function(id, item, action){\n\t\tif(isHeadless(gantt)){\n\t\t\treturn true;\n\t\t}\n\n\t\tvar renderer = gantt.$services.getService(\"layers\").getDataRender(name);\n\t\tif(renderer){\n\t\t\trenderer.onUpdateRequest = function(layer){\n\t\t\t\titemRepainter.updateItems(layer);\n\t\t\t};\n\t\t}\n\t});\n\n\tfunction skipRepaint(gantt){\n\t\tvar state = gantt.$services.getService(\"state\");\n\t\tif(state.getState(\"batchUpdate\").batch_update){\n\t\t\treturn true;\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tstore.attachEvent(\"onStoreUpdated\", function(id, item, action){\n\t\tif(skipRepaint(gantt)){\n\t\t\treturn;\n\t\t}\n\t\tif(!id || action == \"move\" || action == \"delete\"){\n\t\t\tstore.callEvent(\"onBeforeRefreshAll\", []);\n\t\t\tstore.callEvent(\"onAfterRefreshAll\", []);\n\t\t}else{\n\t\t\tstore.callEvent(\"onBeforeRefreshItem\", [item.id]);\n\t\t\tstore.callEvent(\"onAfterRefreshItem\", [item.id]);\n\t\t}\n\t});\n\n\tstore.attachEvent(\"onAfterRefreshAll\", function(){\n\t\tif(isHeadless(gantt)){\n\t\t\treturn true;\n\t\t}\n\n\t\tvar renderer = gantt.$services.getService(\"layers\").getDataRender(name);\n\t\tif(renderer && !skipRepaint(gantt)){\n\t\t\titemRepainter.renderItems(renderer);\n\t\t}\n\t});\n\tstore.attachEvent(\"onAfterRefreshItem\", function(id){\n\t\tif(isHeadless(gantt)){\n\t\t\treturn true;\n\t\t}\n\n\t\tvar renderer = gantt.$services.getService(\"layers\").getDataRender(name);\n\t\tif(renderer){\n\t\t\titemRepainter.renderItem(id, renderer);\n\t\t}\n\t});\n\n\t// TODO: probably can be done more in a more efficient way\n\tstore.attachEvent(\"onItemOpen\", function(){\n\t\tif(isHeadless(gantt)){\n\t\t\treturn true;\n\t\t}\n\n\t\tgantt.render();\n\t});\n\n\tstore.attachEvent(\"onItemClose\", function(){\n\t\tif(isHeadless(gantt)){\n\t\t\treturn true;\n\t\t}\n\n\t\tgantt.render();\n\t});\n\n\tfunction refreshId(renders, oldId, newId, item) {\n\t\tfor (var i = 0; i < renders.length; i++) {\n\t\t\trenders[i].change_id(oldId, newId);\n\t\t}\n\t}\n\n\tstore.attachEvent(\"onIdChange\", function(oldId, newId){\n\t\tif(isHeadless(gantt)){\n\t\t\treturn true;\n\t\t}\n\n\t\t// in case of linked datastores (tasks <-> links), id change should recalculate something in linked datastore before any repaint\n\t\t// use onBeforeIdChange for this hook.\n\t\t// TODO: use something more reasonable instead\n\t\tstore.callEvent(\"onBeforeIdChange\", [oldId, newId]);\n\n\t\tif(skipRepaint(gantt)){\n\t\t\treturn;\n\t\t}\n\t\tvar renderer = gantt.$services.getService(\"layers\").getDataRender(name);\n\t\trefreshId(renderer.getLayers(), oldId, newId, store.getItem(newId));\n\t\titemRepainter.renderItem(newId, renderer);\n\t});\n\n};\n\nmodule.exports = {\n\tbindDataStore: storeRenderCreator\n};","function createDataStoreSelectMixin(store){\n\tvar selectedId = null;\n\n\tvar deleteItem = store._removeItemInner;\n\t\n\tfunction unselect(id){\n\t\tselectedId = null;\n\t\tthis.callEvent(\"onAfterUnselect\", [id]);\n\t}\n\n\tstore._removeItemInner = function(id){\n\t\tif(selectedId == id){\n\t\t\tunselect.call(this, id);\n\t\t}\n\n\t\tif(selectedId && this.eachItem){\n\t\t\tthis.eachItem(function(subItem){\n\t\t\t\tif(subItem.id == selectedId){\n\t\t\t\t\tunselect.call(this, subItem.id);\n\t\t\t\t}\n\t\t\t}, id);\n\t\t}\n\n\t\treturn deleteItem.apply(this, arguments);\n\t};\n\n\tstore.attachEvent(\"onIdChange\", function(oldId, newId) {\n\t\tif (store.getSelectedId() == oldId) {\n\t\t\tstore.silent(function () {\n\t\t\t\tstore.unselect(oldId);\n\t\t\t\tstore.select(newId);\n\t\t\t});\n\t\t}\n\t});\n\n\treturn {\n\t\tselect: function(id){\n\t\t\tif (id){\n\n\t\t\t\tif(selectedId == id)\n\t\t\t\t\treturn selectedId;\n\n\t\t\t\tif(!this._skip_refresh) {\n\t\t\t\t\tif (!this.callEvent(\"onBeforeSelect\", [id])) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.unselect();\n\n\t\t\t\tselectedId = id;\n\n\t\t\t\tif(!this._skip_refresh) {\n\t\t\t\t\tthis.refresh(id);\n\t\t\t\t\tthis.callEvent(\"onAfterSelect\", [id]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn selectedId;\n\t\t},\n\t\tgetSelectedId: function(){\n\t\t\treturn selectedId;\n\t\t},\n\t\tisSelected: function(id){\n\t\t\treturn id == selectedId;\n\t\t},\n\t\tunselect: function(id){\n\t\t\tvar id = id || selectedId;\n\t\t\tif(!id)\n\t\t\t\treturn;\n\t\t\tselectedId = null;\n\t\t\tif(!this._skip_refresh){\n\t\t\t\tthis.refresh(id);\n\t\t\t\tunselect.call(this, id);\n\t\t\t}\n\t\t}\n\t};\n}\n\nmodule.exports = createDataStoreSelectMixin;","var utils = require(\"../../utils/utils\");\n\n\nvar createLinksStoreFacade = function(){\n\treturn {\n\tgetLinkCount: function () {\n\t\treturn this.$data.linksStore.count();\n\t},\n\n\tgetLink : function (id) {\n\t\treturn this.$data.linksStore.getItem(id);\n\t},\n\n\tgetLinks : function () {\n\t\treturn this.$data.linksStore.getItems();\n\t},\n\n\tisLinkExists : function (id) {\n\t\treturn this.$data.linksStore.exists(id);\n\t},\n\n\taddLink : function (link) {\n\t\treturn this.$data.linksStore.addItem(link);\n\t},\n\n\tupdateLink : function (id, data) {\n\t\tif (!utils.defined(data))\n\t\t\tdata = this.getLink(id);\n\t\tthis.$data.linksStore.updateItem(id, data);\n\t},\n\n\tdeleteLink : function (id) {\n\t\treturn this.$data.linksStore.removeItem(id);\n\t},\n\n\tchangeLinkId : function (oldid, newid) {\n\t\treturn this.$data.linksStore.changeId(oldid, newid);\n\t}\n};\n};\n\nmodule.exports = createLinksStoreFacade;","var utils = require(\"../../utils/utils\");\nvar {replaceValidZeroId} = require(\"../../utils/helpers\");\n\nvar createTasksDatastoreFacade = function(){\n\treturn {\n\tgetTask: function (id) {\n\t\tid = replaceValidZeroId(id, this.config.root_id);\n\t\tthis.assert(id, \"Invalid argument for gantt.getTask\");\n\t\tvar task = this.$data.tasksStore.getItem(id);\n\t\tthis.assert(task, \"Task not found id=\" + id);\n\t\treturn task;\n\t},\n\tgetTaskByTime: function (from, to) {\n\t\tvar p = this.$data.tasksStore.getItems();\n\n\t\tvar res = [];\n\n\t\tif (!(from || to)) {\n\t\t\tres = p;\n\t\t} else {\n\t\t\tfrom = +from || -Infinity;\n\t\t\tto = +to || Infinity;\n\t\t\tfor (var t = 0; t < p.length; t++){\n\t\t\t\tvar task = p[t];\n\t\t\t\tif (+task.start_date < to && +task.end_date > from)\n\t\t\t\t\tres.push(task);\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t},\n\tisTaskExists: function (id) {\n\t\tif(!this.$data || !this.$data.tasksStore){\n\t\t\treturn false;\n\t\t}\n\t\treturn this.$data.tasksStore.exists(id);\n\t},\n\tupdateTask: function (id, item) {\n\t\tif (!utils.defined(item)) item = this.getTask(id);\n\t\tthis.$data.tasksStore.updateItem(id, item);\n\t\tif(this.isTaskExists(id))\n\t\t\tthis.refreshTask(id);\n\t},\n\taddTask: function (item, parent, index) {\n\t\tif (!utils.defined(item.id))\n\t\t\titem.id = utils.uid();\n\n\t\t//GS-761: assert unique ID\n\t\tif (this.isTaskExists(item.id)){\n\t\t\tvar task = this.getTask(item.id);\n\t\t\tif (task.$index != item.$index) {\n\t\t\t\t// Someone may try to mistakenly add a task with the same ID, and most likely\n\t\t\t\t// use the string format for the dates. Gantt shouldn't break in this scenario\n\t\t\t\tif (item.start_date && typeof item.start_date === \"string\"){\n\t\t\t\t\titem.start_date = this.date.parseDate(item.start_date, \"parse_date\");\n\t\t\t\t}\n\t\t\t\tif (item.end_date && typeof item.end_date === \"string\"){\n\t\t\t\t\titem.end_date = this.date.parseDate(item.end_date, \"parse_date\");\n\t\t\t\t}\n\n\t\t\t\treturn this.$data.tasksStore.updateItem(item.id, item);\n\t\t\t}\n\t\t}\n\n\n\t\tif (!utils.defined(parent)) parent = this.getParent(item) || 0;\n\t\tif (!this.isTaskExists(parent)) parent = this.config.root_id;\n\t\tthis.setParent(item, parent);\n\t\treturn this.$data.tasksStore.addItem(item, index, parent);\n\t},\n\tdeleteTask: function (id) {\n\t\tid = replaceValidZeroId(id, this.config.root_id);\n\t\treturn this.$data.tasksStore.removeItem(id);\n\t},\n\tgetTaskCount: function () {\n\t\treturn this.$data.tasksStore.count();\n\t},\n\tgetVisibleTaskCount: function () {\n\t\treturn this.$data.tasksStore.countVisible();\n\t},\n\tgetTaskIndex: function (id) {\n\t\treturn this.$data.tasksStore.getBranchIndex(id);\n\t},\n\tgetGlobalTaskIndex: function (id) {\n\t\tid = replaceValidZeroId(id, this.config.root_id);\n\t\tthis.assert(id, \"Invalid argument\");\n\t\treturn this.$data.tasksStore.getIndexById(id);\n\t},\n\teachTask: function (code, parent, master) {\n\t\treturn this.$data.tasksStore.eachItem(utils.bind(code, master||this), parent);\n\t},\n\teachParent: function (callback, startTask, master) {\n\t\treturn this.$data.tasksStore.eachParent(utils.bind(callback, master || this), startTask);\n\t},\n\tchangeTaskId: function (oldid, newid) {\n\t\tthis.$data.tasksStore.changeId(oldid, newid);\n\t\tvar task = this.$data.tasksStore.getItem(newid);\n\n\t\tvar links = [];\n\n\t\tif (task.$source) {\n\t\t\tlinks = links.concat(task.$source);\n\t\t}\n\t\tif (task.$target) {\n\t\t\tlinks = links.concat(task.$target);\n\t\t}\n\n\t\tfor (var i = 0; i < links.length; i++) {\n\t\t\tvar link = this.getLink(links[i]);\n\t\t\tif (link.source == oldid) {\n\t\t\t\tlink.source = newid;\n\t\t\t}\n\t\t\tif (link.target == oldid) {\n\t\t\t\tlink.target = newid;\n\t\t\t}\n\t\t}\n\t},\n\tcalculateTaskLevel: function (item) {\n\t\treturn this.$data.tasksStore.calculateItemLevel(item);\n\t},\n\tgetNext: function (id) {\n\t\treturn this.$data.tasksStore.getNext(id);\n\t},\n\tgetPrev: function (id) {\n\t\treturn this.$data.tasksStore.getPrev(id);\n\t},\n\tgetParent: function (id) {\n\t\treturn this.$data.tasksStore.getParent(id);\n\t},\n\tsetParent: function (task, new_pid, silent) {\n\t\treturn this.$data.tasksStore.setParent(task, new_pid, silent);\n\t},\n\tgetSiblings: function (id) {\n\t\treturn this.$data.tasksStore.getSiblings(id).slice();\n\t},\n\tgetNextSibling: function (id) {\n\t\treturn this.$data.tasksStore.getNextSibling(id);\n\t},\n\tgetPrevSibling: function (id) {\n\t\treturn this.$data.tasksStore.getPrevSibling(id);\n\t},\n\tgetTaskByIndex: function(index){\n\t\tvar id = this.$data.tasksStore.getIdByIndex(index);\n\t\tif(this.isTaskExists(id)){\n\t\t\treturn this.getTask(id);\n\t\t}else{\n\t\t\treturn null;\n\t\t}\n\t},\n\tgetChildren: function (id) {\n\t\tif(!this.hasChild(id)){\n\t\t\treturn [];\n\t\t}else{\n\t\t\treturn this.$data.tasksStore.getChildren(id).slice();\n\t\t}\n\t},\n\thasChild: function (id) {\n\t\treturn this.$data.tasksStore.hasChild(id);\n\t},\n\topen: function (id) {\n\t\tthis.$data.tasksStore.open(id);\n\t},\n\tclose: function (id) {\n\t\tthis.$data.tasksStore.close(id);\n\t},\n\tmoveTask: function (sid, tindex, parent) {\n\t\tparent = replaceValidZeroId(parent, this.config.root_id);\n\t\treturn this.$data.tasksStore.move.apply(this.$data.tasksStore, arguments);\n\t},\n\tsort: function(field, desc, parent, silent) {\n\t\tvar render = !silent;//4th argument to cancel redraw after sorting\n\n\t\tthis.$data.tasksStore.sort(field, desc, parent);\n\t\tthis.callEvent(\"onAfterSort\", [field, desc, parent]);\n\n\t\tif (render) {\n\t\t\tthis.render();\n\t\t}\n\t}\n};\n};\n\nmodule.exports = createTasksDatastoreFacade;\n\n\n","var utils = require(\"../../utils/utils\");\nvar createTasksFacade = require(\"./datastore_tasks\"),\n\tcreateLinksFacade = require(\"./datastore_links\"),\n\tDataStore = require(\"../datastore/datastore\"),\n\tTreeDataStore = require(\"../datastore/treedatastore\"),\n\tcreateDatastoreSelect = require(\"../datastore/select\");\nvar datastoreRender = require(\"../datastore/datastore_render\");\nvar isHeadless = require(\"../../utils/is_headless\");\nvar {replaceValidZeroId} = require(\"../../utils/helpers\");\n\n// TODO: remove workaround for mixup with es5 and ts imports\nif(DataStore.default){\n\tDataStore = DataStore.default;\n}\n\nfunction getDatastores(){\n\tvar storeNames = this.$services.getService(\"datastores\");\n\tvar res = [];\n\tfor(var i = 0; i < storeNames.length; i++){\n\t\tres.push(this.getDatastore(storeNames[i]));\n\t}\n\treturn res;\n}\n\nvar createDatastoreFacade = function(){\n\treturn {\n\tcreateDatastore: function(config){\n\n\t\tvar $StoreType = (config.type || \"\").toLowerCase() == \"treedatastore\" ? TreeDataStore : DataStore;\n\n\t\tif (config) {\n\t\t\tvar self = this;\n\t\t\tconfig.openInitially = function(){ return self.config.open_tree_initially; };\n\t\t\tconfig.copyOnParse = function(){ return self.config.deepcopy_on_parse; };\n\t\t}\n\n\t\tvar store = new $StoreType(config);\n\t\tthis.mixin(store, createDatastoreSelect(store));\n\n\t\tif (config.name) {\n\t\t\tvar servicePrefix = \"datastore:\";\n\n\t\t\tthis.$services.dropService(servicePrefix + config.name);\n\t\t\tthis.$services.setService(servicePrefix + config.name, function() { return store; } );\n\n\t\t\tvar storeList = this.$services.getService(\"datastores\");\n\t\t\tif (!storeList) {\n\t\t\t\tstoreList = [];\n\t\t\t\tthis.$services.setService(\"datastores\", function() { return storeList; });\n\t\t\t\tstoreList.push(config.name);\n\t\t\t} else if (storeList.indexOf(config.name) < 0) {\n\t\t\t\tstoreList.push(config.name);\n\t\t\t}\n\n\t\t\tdatastoreRender.bindDataStore(config.name, this);\n\n\t\t}\n\n\t\treturn store;\n\t},\n\tgetDatastore: function(name){\n\t\treturn this.$services.getService(\"datastore:\" + name);\n\t},\n\t_getDatastores: getDatastores,\n\n\trefreshData: function () {\n\t\tvar scrollState;\n\t\tif(!isHeadless(this)){\n\t\t\tscrollState = this.getScrollState();\n\t\t}\n\n\t\tthis.callEvent(\"onBeforeDataRender\", []);\n\n\t\tvar stores = getDatastores.call(this);\n\t\tfor(var i = 0; i < stores.length; i++){\n\t\t\tstores[i].refresh();\n\t\t}\n\n\t\tif(this.config.preserve_scroll && !isHeadless(this) && (scrollState.x || scrollState.y)){\n\t\t\tthis.scrollTo(scrollState.x, scrollState.y);\n\t\t}\n\t\tthis.callEvent(\"onDataRender\", []);\n\t},\n\n\tisChildOf: function(childId, parentId){\n\t\treturn this.$data.tasksStore.isChildOf(childId, parentId);\n\t},\n\n\trefreshTask: function (taskId, refresh_links) {\n\t\tvar task = this.getTask(taskId);\n\t\tvar self = this;\n\t\tfunction refreshLinks(){\n\t\t\tif (refresh_links !== undefined && !refresh_links)\n\t\t\t\treturn;\n\t\t\tfor (var i = 0; i < task.$source.length; i++) {\n\t\t\t\tself.refreshLink(task.$source[i]);\n\t\t\t}\n\t\t\tfor (var i = 0; i < task.$target.length; i++) {\n\t\t\t\tself.refreshLink(task.$target[i]);\n\t\t\t}\n\t\t}\n\n\t\tif (task && this.isTaskVisible(taskId)) {\n\t\t\tthis.$data.tasksStore.refresh(taskId, !!this.getState(\"tasksDnd\").drag_id || refresh_links === false);// do quick refresh during drag and drop\n\t\t\trefreshLinks();\n\t\t}else if(this.isTaskExists(taskId) && this.isTaskExists(this.getParent(taskId)) && !this._bulk_dnd){\n\t\t\tthis.refreshTask(this.getParent(taskId));\n\n\t\t\tvar hasSplitParent = false;\n\t\t\tthis.eachParent(function(parent){\n\t\t\t\tif(hasSplitParent || this.isSplitTask(parent)){\n\t\t\t\t\thasSplitParent = true;\n\t\t\t\t}\n\t\t\t}, taskId);\n\t\t\tif(hasSplitParent){\n\t\t\t\trefreshLinks();\n\t\t\t}\n\t\t}\n\n\t},\n\trefreshLink: function (linkId) {\n\t\tthis.$data.linksStore.refresh(linkId, !!this.getState(\"tasksDnd\").drag_id);// do quick refresh during drag and drop\n\t},\n\n\tsilent: function(code){\n\t\tvar gantt = this;\n\t\tgantt.$data.tasksStore.silent(function(){\n\t\t\tgantt.$data.linksStore.silent(function(){\n\t\t\t\tcode();\n\t\t\t});\n\t\t});\n\t},\n\n\tclearAll: function () {\n\t\tvar stores = getDatastores.call(this);\n\t\tfor(var i = 0; i < stores.length; i++){\n\t\t\tstores[i].clearAll();\n\t\t}\n\n\t\tthis._update_flags();\n\t\tthis.userdata = {};\n\t\tthis.callEvent(\"onClear\", []);\n\t\tthis.render();\n\t},\n\t_clear_data: function () {\n\t\tthis.$data.tasksStore.clearAll();\n\t\tthis.$data.linksStore.clearAll();\n\t\tthis._update_flags();\n\t\tthis.userdata = {};\n\t},\n\n\tselectTask: function(id){\n\t\tvar store = this.$data.tasksStore;\n\t\tif(!this.config.select_task)\n\t\t\treturn false;\n\t\tid = replaceValidZeroId(id, this.config.root_id);\n\t\tif (id){\n\t\t\tstore.select(id);\n\t\t}\n\t\treturn store.getSelectedId();\n\t},\n\tunselectTask: function(id){\n\t\tvar store = this.$data.tasksStore;\n\t\tstore.unselect(id);\n\t},\n\tisSelectedTask: function(id){\n\t\treturn this.$data.tasksStore.isSelected(id);\n\t},\n\tgetSelectedId: function() {\n\t\treturn this.$data.tasksStore.getSelectedId();\n\t}\n};\n};\n\nfunction createFacade(){\n\tvar res = utils.mixin({}, createDatastoreFacade());\n\tutils.mixin(res, createTasksFacade());\n\tutils.mixin(res, createLinksFacade());\n\treturn res;\n}\n\n\n\n\nmodule.exports = {create: createFacade};","var utils = require(\"../../utils/utils\");\nvar facadeFactory = require(\"./../facades/datastore\");\nvar calculateScaleRange = require(\"../gantt_data_range\");\nfunction initDataStores(gantt){\n\n\tvar facade = facadeFactory.create();\n\tutils.mixin(gantt, facade);\n\tvar tasksStore = gantt.createDatastore({\n\t\tname: \"task\",\n\t\ttype: \"treeDatastore\",\n\t\trootId: function() { return gantt.config.root_id; },\n\t\tinitItem: utils.bind(_init_task, gantt),\n\t\tgetConfig: function() { return gantt.config; }\n\t});\n\n\tvar linksStore = gantt.createDatastore({\n\t\tname: \"link\",\n\t\tinitItem: utils.bind(_init_link, gantt)\n\t});\n\n\tgantt.attachEvent(\"onDestroy\", function(){\n\t\ttasksStore.destructor();\n\t\tlinksStore.destructor();\n\t});\n\n\tgantt.attachEvent(\"onLinkValidation\", function(link){\n\t\tif(gantt.isLinkExists(link.id) || link.id === \"predecessor_generated\"){\n\t\t\t// link was already added into gantt\n\t\t\treturn true;\n\t\t}\n\t\tvar source = gantt.getTask(link.source);\n\t\tvar taskLinks = source.$source;\n\t\tfor (var i = 0; i < taskLinks.length; i++) {\n\t\t\tvar existingLink = gantt.getLink(taskLinks[i]);\n\n\t\t\tvar sourceMatch = link.source == existingLink.source;\n\t\t\tvar targetMatch = link.target == existingLink.target;\n\t\t\tvar typeMatch = link.type == existingLink.type;\n\n\t\t\t// prevent creating duplicated links from the UI\n\t\t\tif (sourceMatch && targetMatch && typeMatch) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t});\n\n\ttasksStore.attachEvent(\"onBeforeRefreshAll\", function(){\n\n\t\tvar order = tasksStore.getVisibleItems();\n\n\t\tfor(var i=0; i < order.length; i++){\n\t\t\tvar item = order[i];\n\t\t\titem.$index = i;\n\t\t\titem.$local_index = gantt.getTaskIndex(item.id);\n\t\t\tgantt.resetProjectDates(item);\n\t\t}\n\n\t});\n\n\ttasksStore.attachEvent(\"onFilterItem\", function(id, task) {\n\t\tif (gantt.config.show_tasks_outside_timescale) {\n\t\t\treturn true;\n\t\t}\n\t\tvar min = null, max = null;\n\t\tif (gantt.config.start_date && gantt.config.end_date) {\n\t\t\tif (gantt._isAllowedUnscheduledTask(task)) return true;\n\t\t\tmin = gantt.config.start_date.valueOf();\n\t\t\tmax = gantt.config.end_date.valueOf();\n\n\t\t\tif (+task.start_date > max || +task.end_date < +min)\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t});\n\n\ttasksStore.attachEvent(\"onIdChange\", function(oldId, newId){\n\t\tgantt._update_flags(oldId, newId);\n\t});\n\n\ttasksStore.attachEvent(\"onAfterUpdate\", function(id){\n\t\tgantt._update_parents(id);\n\t\tif(gantt.getState(\"batchUpdate\").batch_update){\n\t\t\treturn true;\n\t\t}\n\n\t\tvar task = tasksStore.getItem(id);\n\t\tif (!task.$source) task.$source = [];\n\t\tfor (var i = 0; i < task.$source.length; i++) {\n\t\t\tlinksStore.refresh(task.$source[i]);\n\t\t}\n\t\tif (!task.$target) task.$target = [];\n\t\tfor (var i = 0; i < task.$target.length; i++) {\n\t\t\tlinksStore.refresh(task.$target[i]);\n\t\t}\n\t});\n\n\ttasksStore.attachEvent(\"onAfterItemMove\", function(sid, parent, tindex){\n\t\tvar source = gantt.getTask(sid);\n\n\t\tif(this.getNextSibling(sid) !== null){\n\t\t\tsource.$drop_target = this.getNextSibling(sid);\n\t\t} else if(this.getPrevSibling(sid) !== null){\n\t\t\tsource.$drop_target = \"next:\" + this.getPrevSibling(sid);\n\t\t}else{\n\t\t\tsource.$drop_target = \"next:null\";\n\t\t}\n\n\t});\n\n\ttasksStore.attachEvent(\"onStoreUpdated\", function(id, item, action){\n\t\tif(action == \"delete\"){\n\t\t\tgantt._update_flags(id, null);\n\t\t}\n\n\t\tvar state = gantt.$services.getService(\"state\");\n\t\tif(state.getState(\"batchUpdate\").batch_update){\n\t\t\treturn;\n\t\t}\n\n\t\tif(gantt.config.fit_tasks && action !== \"paint\"){\n\t\t\tvar oldState = gantt.getState();\n\t\t\tcalculateScaleRange(gantt);\n\t\t\tvar newState = gantt.getState();\n\n\t\t\t//this._init_tasks_range();\n\t\t\tif (+oldState.min_date != +newState.min_date || +oldState.max_date != +newState.max_date) {\n\t\t\t\tgantt.render();\n\n\t\t\t\tgantt.callEvent(\"onScaleAdjusted\", []);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t}\n\n\t\tif(action == \"add\" || action == \"move\" || action == \"delete\"){\n\t\t\tif(gantt.$layout){\n\t\t\t\tgantt.$layout.resize();\n\t\t\t}\n\n\t\t}else if(!id){\n\t\t\tlinksStore.refresh();\n\t\t}\n\n\t});\n\n\tlinksStore.attachEvent(\"onAfterAdd\", function(id, link){\n\t\tsync_link(link);\n\t});\n\tlinksStore.attachEvent(\"onAfterUpdate\", function(id, link){\n\t\tsync_links();\n\t});\n\tlinksStore.attachEvent(\"onAfterDelete\", function(id, link){\n\t\tsync_link_delete(link);\n\t});\n\tlinksStore.attachEvent(\"onBeforeIdChange\", function(oldId, newId){\n\t\tsync_link_delete(gantt.mixin({id:oldId}, gantt.$data.linksStore.getItem(newId)));\n\t\tsync_link(gantt.$data.linksStore.getItem(newId));\n\t});\n\n\tfunction checkLinkedTaskVisibility(taskId){\n\t\tvar isVisible = gantt.isTaskVisible(taskId);\n\t\tif(!isVisible && gantt.isTaskExists(taskId)){\n\t\t\tvar parent = gantt.getParent(taskId);\n\t\t\tif(gantt.isTaskExists(parent) && gantt.isTaskVisible(parent)){\n\t\t\t\tparent = gantt.getTask(parent);\n\t\t\t\tif(gantt.isSplitTask(parent)){\n\t\t\t\t\tisVisible = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn isVisible;\n\t}\n\n\tlinksStore.attachEvent(\"onFilterItem\", function(id, link){\n\t\tif (!gantt.config.show_links) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar sourceVisible = checkLinkedTaskVisibility(link.source);\n\t\tvar targetVisible = checkLinkedTaskVisibility(link.target);\n\n\t\tif (!(sourceVisible && targetVisible) ||\n\t\t\tgantt._isAllowedUnscheduledTask(gantt.getTask(link.source)) || gantt._isAllowedUnscheduledTask(gantt.getTask(link.target)))\n\t\t\treturn false;\n\n\t\treturn gantt.callEvent(\"onBeforeLinkDisplay\", [id, link]);\n\t});\n\n\n\t(function(){\n\t\t// delete all connected links after task is deleted\n\t\tvar treeHelper = require(\"../../utils/task_tree_helpers\");\n\t\tvar deletedLinks = {};\n\n\t\tgantt.attachEvent(\"onBeforeTaskDelete\", function(id, item){\n\t\t\tdeletedLinks[id] = treeHelper.getSubtreeLinks(gantt, id);\n\t\t\treturn true;\n\t\t});\n\n\t\tgantt.attachEvent(\"onAfterTaskDelete\", function(id, item) {\n\t\t\tif(deletedLinks[id]){\n\t\t\t\tgantt.$data.linksStore.silent(function(){\n\t\t\t\t\tfor(var i in deletedLinks[id]){\n\t\t\t\t\t\tgantt.$data.linksStore.removeItem(i);\n\t\t\t\t\t\tsync_link_delete(deletedLinks[id][i]);\n\t\t\t\t\t}\n\n\t\t\t\t\tdeletedLinks[id] = null;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t})();\n\n\tgantt.attachEvent(\"onAfterLinkDelete\", function(id, link) {\n\t\tgantt.refreshTask(link.source);\n\t\tgantt.refreshTask(link.target);\n\t});\n\n\tgantt.attachEvent(\"onParse\", sync_links);\n\n\tmapEvents({\n\t\tsource: linksStore,\n\t\ttarget: gantt,\n\t\tevents:{\n\t\t\t\"onItemLoading\":\"onLinkLoading\",\n\t\t\t\"onBeforeAdd\":\"onBeforeLinkAdd\",\n\t\t\t\"onAfterAdd\":\"onAfterLinkAdd\",\n\t\t\t\"onBeforeUpdate\":\"onBeforeLinkUpdate\",\n\t\t\t\"onAfterUpdate\":\"onAfterLinkUpdate\",\n\t\t\t\"onBeforeDelete\":\"onBeforeLinkDelete\",\n\t\t\t\"onAfterDelete\":\"onAfterLinkDelete\",\n\t\t\t\"onIdChange\":\"onLinkIdChange\"\n\t\t}\n\t});\n\n\tmapEvents({\n\t\tsource: tasksStore,\n\t\ttarget: gantt,\n\t\tevents:{\n\t\t\t\"onItemLoading\":\"onTaskLoading\",\n\t\t\t\"onBeforeAdd\":\"onBeforeTaskAdd\",\n\t\t\t\"onAfterAdd\":\"onAfterTaskAdd\",\n\t\t\t\"onBeforeUpdate\":\"onBeforeTaskUpdate\",\n\t\t\t\"onAfterUpdate\":\"onAfterTaskUpdate\",\n\t\t\t\"onBeforeDelete\":\"onBeforeTaskDelete\",\n\t\t\t\"onAfterDelete\":\"onAfterTaskDelete\",\n\t\t\t\"onIdChange\":\"onTaskIdChange\",\n\t\t\t\"onBeforeItemMove\":\"onBeforeTaskMove\",\n\t\t\t\"onAfterItemMove\":\"onAfterTaskMove\",\n\t\t\t\"onFilterItem\":\"onBeforeTaskDisplay\",\n\t\t\t\"onItemOpen\":\"onTaskOpened\",\n\t\t\t\"onItemClose\":\"onTaskClosed\",\n\t\t\t\"onBeforeSelect\":\"onBeforeTaskSelected\",\n\t\t\t\"onAfterSelect\":\"onTaskSelected\",\n\t\t\t\"onAfterUnselect\":\"onTaskUnselected\"\n\t\t}\n\t});\n\n\tgantt.$data = {\n\t\ttasksStore: tasksStore,\n\t\tlinksStore: linksStore\n\t};\n\n\tfunction sync_link(link){\n\t\tif(gantt.isTaskExists(link.source)){\n\t\t\tvar sourceTask = gantt.getTask(link.source);\n\t\t\tsourceTask.$source = sourceTask.$source || [];\n\t\t\tsourceTask.$source.push(link.id);\n\t\t}\n\t\tif(gantt.isTaskExists(link.target)){\n\t\t\tvar targetTask = gantt.getTask(link.target);\n\t\t\ttargetTask.$target = targetTask.$target || [];\n\t\t\ttargetTask.$target.push(link.id);\n\t\t}\n\t}\n\n\tfunction sync_link_delete(link){\n\t\tif(gantt.isTaskExists(link.source)){\n\t\t\tvar sourceTask = gantt.getTask(link.source);\n\t\t\tfor(var i = 0; i < sourceTask.$source.length; i++){\n\t\t\t\tif(sourceTask.$source[i] == link.id){\n\t\t\t\t\tsourceTask.$source.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(gantt.isTaskExists(link.target)){\n\t\t\tvar targetTask = gantt.getTask(link.target);\n\t\t\tfor(var i = 0; i < targetTask.$target.length; i++){\n\t\t\t\tif(targetTask.$target[i] == link.id){\n\t\t\t\t\ttargetTask.$target.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction sync_links() {\n\t\tvar task = null;\n\t\tvar tasks = gantt.$data.tasksStore.getItems();\n\n\t\tfor(var i = 0, len = tasks.length; i < len; i++){\n\t\t\ttask = tasks[i];\n\t\t\ttask.$source = [];\n\t\t\ttask.$target = [];\n\t\t}\n\n\t\tvar links = gantt.$data.linksStore.getItems();\n\t\tfor (var i = 0, len = links.length; i < len; i++) {\n\n\t\t\tvar link = links[i];\n\t\t\tsync_link(link);\n\t\t}\n\t}\n\n\tfunction mapEvents(conf){\n\t\tvar mapFrom = conf.source;\n\t\tvar mapTo = conf.target;\n\t\tfor(var i in conf.events){\n\t\t\t(function(sourceEvent, targetEvent){\n\t\t\t\tmapFrom.attachEvent(sourceEvent, function(){\n\t\t\t\t\treturn mapTo.callEvent(targetEvent, Array.prototype.slice.call(arguments));\n\t\t\t\t}, targetEvent);\n\t\t\t})(i, conf.events[i]);\n\t\t}\n\t}\n\n\tfunction _init_task(task) {\n\t\tif (!this.defined(task.id))\n\t\t\ttask.id = this.uid();\n\n\t\tif (task.start_date)\n\t\t\ttask.start_date = gantt.date.parseDate(task.start_date, \"parse_date\");\n\t\tif (task.end_date)\n\t\t\ttask.end_date = gantt.date.parseDate(task.end_date, \"parse_date\");\n\n\n\t\tvar duration = null;\n\t\tif (task.duration || task.duration === 0) {\n\t\t\ttask.duration = duration = task.duration * 1;\n\t\t}\n\n\t\tif (duration) {\n\t\t\tif (task.start_date && !task.end_date) {\n\t\t\t\ttask.end_date = this.calculateEndDate(task);\n\t\t\t} else if (!task.start_date && task.end_date) {\n\t\t\t\ttask.start_date = this.calculateEndDate({\n\t\t\t\t\tstart_date: task.end_date,\n\t\t\t\t\tduration: -task.duration,\n\t\t\t\t\ttask: task\n\t\t\t\t});\n\t\t\t}\n\t\t\t//task.$calculate_duration = false;\n\t\t}\n\n\t\ttask.progress = Number(task.progress) || 0;\n\n\t\tif (this._isAllowedUnscheduledTask(task)) {\n\t\t\tthis._set_default_task_timing(task);\n\t\t}\n\t\tthis._init_task_timing(task);\n\t\tif (task.start_date && task.end_date)\n\t\t\tthis.correctTaskWorkTime(task);\n\n\t\ttask.$source = [];\n\t\ttask.$target = [];\n\n\t\tvar originalTask = this.$data.tasksStore.getItem(task.id);\n\t\tif (originalTask && !utils.defined(task.open)) {\n\t\t\t// if a task with the same id is already in the gantt and the new object doesn't specify the `open` state -\n\t\t\t// restore the `open` state we already have in the chart\n\t\t\ttask.$open = originalTask.$open;\n\t\t}\n\n\t\tif (task.parent === undefined) {\n\t\t\ttask.parent = this.config.root_id;\n\t\t}\n\t\treturn task;\n\t}\n\n\tfunction _init_link(link) {\n\t\tif (!this.defined(link.id))\n\t\t\tlink.id = this.uid();\n\t\treturn link;\n\t}\n}\n\n\nmodule.exports = initDataStores;\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","/* @preserve\n * The MIT License (MIT)\n * \n * Copyright (c) 2013-2018 Petka Antonov\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n * \n */\n/**\n * bluebird build version 3.5.4\n * Features enabled: core, race, call_get, generators, map, nodeify, promisify, props, reduce, settle, some, using, timers, filter, any, each\n*/\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var f;\"undefined\"!=typeof window?f=window:\"undefined\"!=typeof global?f=global:\"undefined\"!=typeof self&&(f=self),f.Promise=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof _dereq_==\"function\"&&_dereq_;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof _dereq_==\"function\"&&_dereq_;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar SomePromiseArray = Promise._SomePromiseArray;\nfunction any(promises) {\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(1);\n    ret.setUnwrap();\n    ret.init();\n    return promise;\n}\n\nPromise.any = function (promises) {\n    return any(promises);\n};\n\nPromise.prototype.any = function () {\n    return any(this);\n};\n\n};\n\n},{}],2:[function(_dereq_,module,exports){\n\"use strict\";\nvar firstLineError;\ntry {throw new Error(); } catch (e) {firstLineError = e;}\nvar schedule = _dereq_(\"./schedule\");\nvar Queue = _dereq_(\"./queue\");\nvar util = _dereq_(\"./util\");\n\nfunction Async() {\n    this._customScheduler = false;\n    this._isTickUsed = false;\n    this._lateQueue = new Queue(16);\n    this._normalQueue = new Queue(16);\n    this._haveDrainedQueues = false;\n    this._trampolineEnabled = true;\n    var self = this;\n    this.drainQueues = function () {\n        self._drainQueues();\n    };\n    this._schedule = schedule;\n}\n\nAsync.prototype.setScheduler = function(fn) {\n    var prev = this._schedule;\n    this._schedule = fn;\n    this._customScheduler = true;\n    return prev;\n};\n\nAsync.prototype.hasCustomScheduler = function() {\n    return this._customScheduler;\n};\n\nAsync.prototype.enableTrampoline = function() {\n    this._trampolineEnabled = true;\n};\n\nAsync.prototype.disableTrampolineIfNecessary = function() {\n    if (util.hasDevTools) {\n        this._trampolineEnabled = false;\n    }\n};\n\nAsync.prototype.haveItemsQueued = function () {\n    return this._isTickUsed || this._haveDrainedQueues;\n};\n\n\nAsync.prototype.fatalError = function(e, isNode) {\n    if (isNode) {\n        process.stderr.write(\"Fatal \" + (e instanceof Error ? e.stack : e) +\n            \"\\n\");\n        process.exit(2);\n    } else {\n        this.throwLater(e);\n    }\n};\n\nAsync.prototype.throwLater = function(fn, arg) {\n    if (arguments.length === 1) {\n        arg = fn;\n        fn = function () { throw arg; };\n    }\n    if (typeof setTimeout !== \"undefined\") {\n        setTimeout(function() {\n            fn(arg);\n        }, 0);\n    } else try {\n        this._schedule(function() {\n            fn(arg);\n        });\n    } catch (e) {\n        throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n};\n\nfunction AsyncInvokeLater(fn, receiver, arg) {\n    this._lateQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncInvoke(fn, receiver, arg) {\n    this._normalQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncSettlePromises(promise) {\n    this._normalQueue._pushOne(promise);\n    this._queueTick();\n}\n\nif (!util.hasDevTools) {\n    Async.prototype.invokeLater = AsyncInvokeLater;\n    Async.prototype.invoke = AsyncInvoke;\n    Async.prototype.settlePromises = AsyncSettlePromises;\n} else {\n    Async.prototype.invokeLater = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvokeLater.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                setTimeout(function() {\n                    fn.call(receiver, arg);\n                }, 100);\n            });\n        }\n    };\n\n    Async.prototype.invoke = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvoke.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                fn.call(receiver, arg);\n            });\n        }\n    };\n\n    Async.prototype.settlePromises = function(promise) {\n        if (this._trampolineEnabled) {\n            AsyncSettlePromises.call(this, promise);\n        } else {\n            this._schedule(function() {\n                promise._settlePromises();\n            });\n        }\n    };\n}\n\nfunction _drainQueue(queue) {\n    while (queue.length() > 0) {\n        _drainQueueStep(queue);\n    }\n}\n\nfunction _drainQueueStep(queue) {\n    var fn = queue.shift();\n    if (typeof fn !== \"function\") {\n        fn._settlePromises();\n    } else {\n        var receiver = queue.shift();\n        var arg = queue.shift();\n        fn.call(receiver, arg);\n    }\n}\n\nAsync.prototype._drainQueues = function () {\n    _drainQueue(this._normalQueue);\n    this._reset();\n    this._haveDrainedQueues = true;\n    _drainQueue(this._lateQueue);\n};\n\nAsync.prototype._queueTick = function () {\n    if (!this._isTickUsed) {\n        this._isTickUsed = true;\n        this._schedule(this.drainQueues);\n    }\n};\n\nAsync.prototype._reset = function () {\n    this._isTickUsed = false;\n};\n\nmodule.exports = Async;\nmodule.exports.firstLineError = firstLineError;\n\n},{\"./queue\":26,\"./schedule\":29,\"./util\":36}],3:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise, debug) {\nvar calledBind = false;\nvar rejectThis = function(_, e) {\n    this._reject(e);\n};\n\nvar targetRejected = function(e, context) {\n    context.promiseRejectionQueued = true;\n    context.bindingPromise._then(rejectThis, rejectThis, null, this, e);\n};\n\nvar bindingResolved = function(thisArg, context) {\n    if (((this._bitField & 50397184) === 0)) {\n        this._resolveCallback(context.target);\n    }\n};\n\nvar bindingRejected = function(e, context) {\n    if (!context.promiseRejectionQueued) this._reject(e);\n};\n\nPromise.prototype.bind = function (thisArg) {\n    if (!calledBind) {\n        calledBind = true;\n        Promise.prototype._propagateFrom = debug.propagateFromFunction();\n        Promise.prototype._boundValue = debug.boundValueFunction();\n    }\n    var maybePromise = tryConvertToPromise(thisArg);\n    var ret = new Promise(INTERNAL);\n    ret._propagateFrom(this, 1);\n    var target = this._target();\n    ret._setBoundTo(maybePromise);\n    if (maybePromise instanceof Promise) {\n        var context = {\n            promiseRejectionQueued: false,\n            promise: ret,\n            target: target,\n            bindingPromise: maybePromise\n        };\n        target._then(INTERNAL, targetRejected, undefined, ret, context);\n        maybePromise._then(\n            bindingResolved, bindingRejected, undefined, ret, context);\n        ret._setOnCancel(maybePromise);\n    } else {\n        ret._resolveCallback(target);\n    }\n    return ret;\n};\n\nPromise.prototype._setBoundTo = function (obj) {\n    if (obj !== undefined) {\n        this._bitField = this._bitField | 2097152;\n        this._boundTo = obj;\n    } else {\n        this._bitField = this._bitField & (~2097152);\n    }\n};\n\nPromise.prototype._isBound = function () {\n    return (this._bitField & 2097152) === 2097152;\n};\n\nPromise.bind = function (thisArg, value) {\n    return Promise.resolve(value).bind(thisArg);\n};\n};\n\n},{}],4:[function(_dereq_,module,exports){\n\"use strict\";\nvar old;\nif (typeof Promise !== \"undefined\") old = Promise;\nfunction noConflict() {\n    try { if (Promise === bluebird) Promise = old; }\n    catch (e) {}\n    return bluebird;\n}\nvar bluebird = _dereq_(\"./promise\")();\nbluebird.noConflict = noConflict;\nmodule.exports = bluebird;\n\n},{\"./promise\":22}],5:[function(_dereq_,module,exports){\n\"use strict\";\nvar cr = Object.create;\nif (cr) {\n    var callerCache = cr(null);\n    var getterCache = cr(null);\n    callerCache[\" size\"] = getterCache[\" size\"] = 0;\n}\n\nmodule.exports = function(Promise) {\nvar util = _dereq_(\"./util\");\nvar canEvaluate = util.canEvaluate;\nvar isIdentifier = util.isIdentifier;\n\nvar getMethodCaller;\nvar getGetter;\nif (!true) {\nvar makeMethodCaller = function (methodName) {\n    return new Function(\"ensureMethod\", \"                                    \\n\\\n        return function(obj) {                                               \\n\\\n            'use strict'                                                     \\n\\\n            var len = this.length;                                           \\n\\\n            ensureMethod(obj, 'methodName');                                 \\n\\\n            switch(len) {                                                    \\n\\\n                case 1: return obj.methodName(this[0]);                      \\n\\\n                case 2: return obj.methodName(this[0], this[1]);             \\n\\\n                case 3: return obj.methodName(this[0], this[1], this[2]);    \\n\\\n                case 0: return obj.methodName();                             \\n\\\n                default:                                                     \\n\\\n                    return obj.methodName.apply(obj, this);                  \\n\\\n            }                                                                \\n\\\n        };                                                                   \\n\\\n        \".replace(/methodName/g, methodName))(ensureMethod);\n};\n\nvar makeGetter = function (propertyName) {\n    return new Function(\"obj\", \"                                             \\n\\\n        'use strict';                                                        \\n\\\n        return obj.propertyName;                                             \\n\\\n        \".replace(\"propertyName\", propertyName));\n};\n\nvar getCompiled = function(name, compiler, cache) {\n    var ret = cache[name];\n    if (typeof ret !== \"function\") {\n        if (!isIdentifier(name)) {\n            return null;\n        }\n        ret = compiler(name);\n        cache[name] = ret;\n        cache[\" size\"]++;\n        if (cache[\" size\"] > 512) {\n            var keys = Object.keys(cache);\n            for (var i = 0; i < 256; ++i) delete cache[keys[i]];\n            cache[\" size\"] = keys.length - 256;\n        }\n    }\n    return ret;\n};\n\ngetMethodCaller = function(name) {\n    return getCompiled(name, makeMethodCaller, callerCache);\n};\n\ngetGetter = function(name) {\n    return getCompiled(name, makeGetter, getterCache);\n};\n}\n\nfunction ensureMethod(obj, methodName) {\n    var fn;\n    if (obj != null) fn = obj[methodName];\n    if (typeof fn !== \"function\") {\n        var message = \"Object \" + util.classString(obj) + \" has no method '\" +\n            util.toString(methodName) + \"'\";\n        throw new Promise.TypeError(message);\n    }\n    return fn;\n}\n\nfunction caller(obj) {\n    var methodName = this.pop();\n    var fn = ensureMethod(obj, methodName);\n    return fn.apply(obj, this);\n}\nPromise.prototype.call = function (methodName) {\n    var args = [].slice.call(arguments, 1);;\n    if (!true) {\n        if (canEvaluate) {\n            var maybeCaller = getMethodCaller(methodName);\n            if (maybeCaller !== null) {\n                return this._then(\n                    maybeCaller, undefined, undefined, args, undefined);\n            }\n        }\n    }\n    args.push(methodName);\n    return this._then(caller, undefined, undefined, args, undefined);\n};\n\nfunction namedGetter(obj) {\n    return obj[this];\n}\nfunction indexedGetter(obj) {\n    var index = +this;\n    if (index < 0) index = Math.max(0, index + obj.length);\n    return obj[index];\n}\nPromise.prototype.get = function (propertyName) {\n    var isIndex = (typeof propertyName === \"number\");\n    var getter;\n    if (!isIndex) {\n        if (canEvaluate) {\n            var maybeGetter = getGetter(propertyName);\n            getter = maybeGetter !== null ? maybeGetter : namedGetter;\n        } else {\n            getter = namedGetter;\n        }\n    } else {\n        getter = indexedGetter;\n    }\n    return this._then(getter, undefined, undefined, propertyName, undefined);\n};\n};\n\n},{\"./util\":36}],6:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, PromiseArray, apiRejection, debug) {\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nPromise.prototype[\"break\"] = Promise.prototype.cancel = function() {\n    if (!debug.cancellation()) return this._warn(\"cancellation is disabled\");\n\n    var promise = this;\n    var child = promise;\n    while (promise._isCancellable()) {\n        if (!promise._cancelBy(child)) {\n            if (child._isFollowing()) {\n                child._followee().cancel();\n            } else {\n                child._cancelBranched();\n            }\n            break;\n        }\n\n        var parent = promise._cancellationParent;\n        if (parent == null || !parent._isCancellable()) {\n            if (promise._isFollowing()) {\n                promise._followee().cancel();\n            } else {\n                promise._cancelBranched();\n            }\n            break;\n        } else {\n            if (promise._isFollowing()) promise._followee().cancel();\n            promise._setWillBeCancelled();\n            child = promise;\n            promise = parent;\n        }\n    }\n};\n\nPromise.prototype._branchHasCancelled = function() {\n    this._branchesRemainingToCancel--;\n};\n\nPromise.prototype._enoughBranchesHaveCancelled = function() {\n    return this._branchesRemainingToCancel === undefined ||\n           this._branchesRemainingToCancel <= 0;\n};\n\nPromise.prototype._cancelBy = function(canceller) {\n    if (canceller === this) {\n        this._branchesRemainingToCancel = 0;\n        this._invokeOnCancel();\n        return true;\n    } else {\n        this._branchHasCancelled();\n        if (this._enoughBranchesHaveCancelled()) {\n            this._invokeOnCancel();\n            return true;\n        }\n    }\n    return false;\n};\n\nPromise.prototype._cancelBranched = function() {\n    if (this._enoughBranchesHaveCancelled()) {\n        this._cancel();\n    }\n};\n\nPromise.prototype._cancel = function() {\n    if (!this._isCancellable()) return;\n    this._setCancelled();\n    async.invoke(this._cancelPromises, this, undefined);\n};\n\nPromise.prototype._cancelPromises = function() {\n    if (this._length() > 0) this._settlePromises();\n};\n\nPromise.prototype._unsetOnCancel = function() {\n    this._onCancelField = undefined;\n};\n\nPromise.prototype._isCancellable = function() {\n    return this.isPending() && !this._isCancelled();\n};\n\nPromise.prototype.isCancellable = function() {\n    return this.isPending() && !this.isCancelled();\n};\n\nPromise.prototype._doInvokeOnCancel = function(onCancelCallback, internalOnly) {\n    if (util.isArray(onCancelCallback)) {\n        for (var i = 0; i < onCancelCallback.length; ++i) {\n            this._doInvokeOnCancel(onCancelCallback[i], internalOnly);\n        }\n    } else if (onCancelCallback !== undefined) {\n        if (typeof onCancelCallback === \"function\") {\n            if (!internalOnly) {\n                var e = tryCatch(onCancelCallback).call(this._boundValue());\n                if (e === errorObj) {\n                    this._attachExtraTrace(e.e);\n                    async.throwLater(e.e);\n                }\n            }\n        } else {\n            onCancelCallback._resultCancelled(this);\n        }\n    }\n};\n\nPromise.prototype._invokeOnCancel = function() {\n    var onCancelCallback = this._onCancel();\n    this._unsetOnCancel();\n    async.invoke(this._doInvokeOnCancel, this, onCancelCallback);\n};\n\nPromise.prototype._invokeInternalOnCancel = function() {\n    if (this._isCancellable()) {\n        this._doInvokeOnCancel(this._onCancel(), true);\n        this._unsetOnCancel();\n    }\n};\n\nPromise.prototype._resultCancelled = function() {\n    this.cancel();\n};\n\n};\n\n},{\"./util\":36}],7:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(NEXT_FILTER) {\nvar util = _dereq_(\"./util\");\nvar getKeys = _dereq_(\"./es5\").keys;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction catchFilter(instances, cb, promise) {\n    return function(e) {\n        var boundTo = promise._boundValue();\n        predicateLoop: for (var i = 0; i < instances.length; ++i) {\n            var item = instances[i];\n\n            if (item === Error ||\n                (item != null && item.prototype instanceof Error)) {\n                if (e instanceof item) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (typeof item === \"function\") {\n                var matchesPredicate = tryCatch(item).call(boundTo, e);\n                if (matchesPredicate === errorObj) {\n                    return matchesPredicate;\n                } else if (matchesPredicate) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (util.isObject(e)) {\n                var keys = getKeys(item);\n                for (var j = 0; j < keys.length; ++j) {\n                    var key = keys[j];\n                    if (item[key] != e[key]) {\n                        continue predicateLoop;\n                    }\n                }\n                return tryCatch(cb).call(boundTo, e);\n            }\n        }\n        return NEXT_FILTER;\n    };\n}\n\nreturn catchFilter;\n};\n\n},{\"./es5\":13,\"./util\":36}],8:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar longStackTraces = false;\nvar contextStack = [];\n\nPromise.prototype._promiseCreated = function() {};\nPromise.prototype._pushContext = function() {};\nPromise.prototype._popContext = function() {return null;};\nPromise._peekContext = Promise.prototype._peekContext = function() {};\n\nfunction Context() {\n    this._trace = new Context.CapturedTrace(peekContext());\n}\nContext.prototype._pushContext = function () {\n    if (this._trace !== undefined) {\n        this._trace._promiseCreated = null;\n        contextStack.push(this._trace);\n    }\n};\n\nContext.prototype._popContext = function () {\n    if (this._trace !== undefined) {\n        var trace = contextStack.pop();\n        var ret = trace._promiseCreated;\n        trace._promiseCreated = null;\n        return ret;\n    }\n    return null;\n};\n\nfunction createContext() {\n    if (longStackTraces) return new Context();\n}\n\nfunction peekContext() {\n    var lastIndex = contextStack.length - 1;\n    if (lastIndex >= 0) {\n        return contextStack[lastIndex];\n    }\n    return undefined;\n}\nContext.CapturedTrace = null;\nContext.create = createContext;\nContext.deactivateLongStackTraces = function() {};\nContext.activateLongStackTraces = function() {\n    var Promise_pushContext = Promise.prototype._pushContext;\n    var Promise_popContext = Promise.prototype._popContext;\n    var Promise_PeekContext = Promise._peekContext;\n    var Promise_peekContext = Promise.prototype._peekContext;\n    var Promise_promiseCreated = Promise.prototype._promiseCreated;\n    Context.deactivateLongStackTraces = function() {\n        Promise.prototype._pushContext = Promise_pushContext;\n        Promise.prototype._popContext = Promise_popContext;\n        Promise._peekContext = Promise_PeekContext;\n        Promise.prototype._peekContext = Promise_peekContext;\n        Promise.prototype._promiseCreated = Promise_promiseCreated;\n        longStackTraces = false;\n    };\n    longStackTraces = true;\n    Promise.prototype._pushContext = Context.prototype._pushContext;\n    Promise.prototype._popContext = Context.prototype._popContext;\n    Promise._peekContext = Promise.prototype._peekContext = peekContext;\n    Promise.prototype._promiseCreated = function() {\n        var ctx = this._peekContext();\n        if (ctx && ctx._promiseCreated == null) ctx._promiseCreated = this;\n    };\n};\nreturn Context;\n};\n\n},{}],9:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, Context) {\nvar getDomain = Promise._getDomain;\nvar async = Promise._async;\nvar Warning = _dereq_(\"./errors\").Warning;\nvar util = _dereq_(\"./util\");\nvar es5 = _dereq_(\"./es5\");\nvar canAttachTrace = util.canAttachTrace;\nvar unhandledRejectionHandled;\nvar possiblyUnhandledRejection;\nvar bluebirdFramePattern =\n    /[\\\\\\/]bluebird[\\\\\\/]js[\\\\\\/](release|debug|instrumented)/;\nvar nodeFramePattern = /\\((?:timers\\.js):\\d+:\\d+\\)/;\nvar parseLinePattern = /[\\/<\\(](.+?):(\\d+):(\\d+)\\)?\\s*$/;\nvar stackFramePattern = null;\nvar formatStack = null;\nvar indentStackFrames = false;\nvar printWarning;\nvar debugging = !!(util.env(\"BLUEBIRD_DEBUG\") != 0 &&\n                        (true ||\n                         util.env(\"BLUEBIRD_DEBUG\") ||\n                         util.env(\"NODE_ENV\") === \"development\"));\n\nvar warnings = !!(util.env(\"BLUEBIRD_WARNINGS\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_WARNINGS\")));\n\nvar longStackTraces = !!(util.env(\"BLUEBIRD_LONG_STACK_TRACES\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_LONG_STACK_TRACES\")));\n\nvar wForgottenReturn = util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\") != 0 &&\n    (warnings || !!util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\"));\n\nPromise.prototype.suppressUnhandledRejections = function() {\n    var target = this._target();\n    target._bitField = ((target._bitField & (~1048576)) |\n                      524288);\n};\n\nPromise.prototype._ensurePossibleRejectionHandled = function () {\n    if ((this._bitField & 524288) !== 0) return;\n    this._setRejectionIsUnhandled();\n    var self = this;\n    setTimeout(function() {\n        self._notifyUnhandledRejection();\n    }, 1);\n};\n\nPromise.prototype._notifyUnhandledRejectionIsHandled = function () {\n    fireRejectionEvent(\"rejectionHandled\",\n                                  unhandledRejectionHandled, undefined, this);\n};\n\nPromise.prototype._setReturnedNonUndefined = function() {\n    this._bitField = this._bitField | 268435456;\n};\n\nPromise.prototype._returnedNonUndefined = function() {\n    return (this._bitField & 268435456) !== 0;\n};\n\nPromise.prototype._notifyUnhandledRejection = function () {\n    if (this._isRejectionUnhandled()) {\n        var reason = this._settledValue();\n        this._setUnhandledRejectionIsNotified();\n        fireRejectionEvent(\"unhandledRejection\",\n                                      possiblyUnhandledRejection, reason, this);\n    }\n};\n\nPromise.prototype._setUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField | 262144;\n};\n\nPromise.prototype._unsetUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField & (~262144);\n};\n\nPromise.prototype._isUnhandledRejectionNotified = function () {\n    return (this._bitField & 262144) > 0;\n};\n\nPromise.prototype._setRejectionIsUnhandled = function () {\n    this._bitField = this._bitField | 1048576;\n};\n\nPromise.prototype._unsetRejectionIsUnhandled = function () {\n    this._bitField = this._bitField & (~1048576);\n    if (this._isUnhandledRejectionNotified()) {\n        this._unsetUnhandledRejectionIsNotified();\n        this._notifyUnhandledRejectionIsHandled();\n    }\n};\n\nPromise.prototype._isRejectionUnhandled = function () {\n    return (this._bitField & 1048576) > 0;\n};\n\nPromise.prototype._warn = function(message, shouldUseOwnTrace, promise) {\n    return warn(message, shouldUseOwnTrace, promise || this);\n};\n\nPromise.onPossiblyUnhandledRejection = function (fn) {\n    var domain = getDomain();\n    possiblyUnhandledRejection =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util.domainBind(domain, fn))\n                                 : undefined;\n};\n\nPromise.onUnhandledRejectionHandled = function (fn) {\n    var domain = getDomain();\n    unhandledRejectionHandled =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util.domainBind(domain, fn))\n                                 : undefined;\n};\n\nvar disableLongStackTraces = function() {};\nPromise.longStackTraces = function () {\n    if (async.haveItemsQueued() && !config.longStackTraces) {\n        throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (!config.longStackTraces && longStackTracesIsSupported()) {\n        var Promise_captureStackTrace = Promise.prototype._captureStackTrace;\n        var Promise_attachExtraTrace = Promise.prototype._attachExtraTrace;\n        var Promise_dereferenceTrace = Promise.prototype._dereferenceTrace;\n        config.longStackTraces = true;\n        disableLongStackTraces = function() {\n            if (async.haveItemsQueued() && !config.longStackTraces) {\n                throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n            }\n            Promise.prototype._captureStackTrace = Promise_captureStackTrace;\n            Promise.prototype._attachExtraTrace = Promise_attachExtraTrace;\n            Promise.prototype._dereferenceTrace = Promise_dereferenceTrace;\n            Context.deactivateLongStackTraces();\n            async.enableTrampoline();\n            config.longStackTraces = false;\n        };\n        Promise.prototype._captureStackTrace = longStackTracesCaptureStackTrace;\n        Promise.prototype._attachExtraTrace = longStackTracesAttachExtraTrace;\n        Promise.prototype._dereferenceTrace = longStackTracesDereferenceTrace;\n        Context.activateLongStackTraces();\n        async.disableTrampolineIfNecessary();\n    }\n};\n\nPromise.hasLongStackTraces = function () {\n    return config.longStackTraces && longStackTracesIsSupported();\n};\n\nvar fireDomEvent = (function() {\n    try {\n        if (typeof CustomEvent === \"function\") {\n            var event = new CustomEvent(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var eventData = {\n                    detail: event,\n                    cancelable: true\n                };\n                es5.defineProperty(\n                    eventData, \"promise\", {value: event.promise});\n                es5.defineProperty(eventData, \"reason\", {value: event.reason});\n                var domEvent = new CustomEvent(name.toLowerCase(), eventData);\n                return !util.global.dispatchEvent(domEvent);\n            };\n        } else if (typeof Event === \"function\") {\n            var event = new Event(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = new Event(name.toLowerCase(), {\n                    cancelable: true\n                });\n                domEvent.detail = event;\n                es5.defineProperty(domEvent, \"promise\", {value: event.promise});\n                es5.defineProperty(domEvent, \"reason\", {value: event.reason});\n                return !util.global.dispatchEvent(domEvent);\n            };\n        } else {\n            var event = document.createEvent(\"CustomEvent\");\n            event.initCustomEvent(\"testingtheevent\", false, true, {});\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = document.createEvent(\"CustomEvent\");\n                domEvent.initCustomEvent(name.toLowerCase(), false, true,\n                    event);\n                return !util.global.dispatchEvent(domEvent);\n            };\n        }\n    } catch (e) {}\n    return function() {\n        return false;\n    };\n})();\n\nvar fireGlobalEvent = (function() {\n    if (util.isNode) {\n        return function() {\n            return process.emit.apply(process, arguments);\n        };\n    } else {\n        if (!util.global) {\n            return function() {\n                return false;\n            };\n        }\n        return function(name) {\n            var methodName = \"on\" + name.toLowerCase();\n            var method = util.global[methodName];\n            if (!method) return false;\n            method.apply(util.global, [].slice.call(arguments, 1));\n            return true;\n        };\n    }\n})();\n\nfunction generatePromiseLifecycleEventObject(name, promise) {\n    return {promise: promise};\n}\n\nvar eventToObjectGenerator = {\n    promiseCreated: generatePromiseLifecycleEventObject,\n    promiseFulfilled: generatePromiseLifecycleEventObject,\n    promiseRejected: generatePromiseLifecycleEventObject,\n    promiseResolved: generatePromiseLifecycleEventObject,\n    promiseCancelled: generatePromiseLifecycleEventObject,\n    promiseChained: function(name, promise, child) {\n        return {promise: promise, child: child};\n    },\n    warning: function(name, warning) {\n        return {warning: warning};\n    },\n    unhandledRejection: function (name, reason, promise) {\n        return {reason: reason, promise: promise};\n    },\n    rejectionHandled: generatePromiseLifecycleEventObject\n};\n\nvar activeFireEvent = function (name) {\n    var globalEventFired = false;\n    try {\n        globalEventFired = fireGlobalEvent.apply(null, arguments);\n    } catch (e) {\n        async.throwLater(e);\n        globalEventFired = true;\n    }\n\n    var domEventFired = false;\n    try {\n        domEventFired = fireDomEvent(name,\n                    eventToObjectGenerator[name].apply(null, arguments));\n    } catch (e) {\n        async.throwLater(e);\n        domEventFired = true;\n    }\n\n    return domEventFired || globalEventFired;\n};\n\nPromise.config = function(opts) {\n    opts = Object(opts);\n    if (\"longStackTraces\" in opts) {\n        if (opts.longStackTraces) {\n            Promise.longStackTraces();\n        } else if (!opts.longStackTraces && Promise.hasLongStackTraces()) {\n            disableLongStackTraces();\n        }\n    }\n    if (\"warnings\" in opts) {\n        var warningsOption = opts.warnings;\n        config.warnings = !!warningsOption;\n        wForgottenReturn = config.warnings;\n\n        if (util.isObject(warningsOption)) {\n            if (\"wForgottenReturn\" in warningsOption) {\n                wForgottenReturn = !!warningsOption.wForgottenReturn;\n            }\n        }\n    }\n    if (\"cancellation\" in opts && opts.cancellation && !config.cancellation) {\n        if (async.haveItemsQueued()) {\n            throw new Error(\n                \"cannot enable cancellation after promises are in use\");\n        }\n        Promise.prototype._clearCancellationData =\n            cancellationClearCancellationData;\n        Promise.prototype._propagateFrom = cancellationPropagateFrom;\n        Promise.prototype._onCancel = cancellationOnCancel;\n        Promise.prototype._setOnCancel = cancellationSetOnCancel;\n        Promise.prototype._attachCancellationCallback =\n            cancellationAttachCancellationCallback;\n        Promise.prototype._execute = cancellationExecute;\n        propagateFromFunction = cancellationPropagateFrom;\n        config.cancellation = true;\n    }\n    if (\"monitoring\" in opts) {\n        if (opts.monitoring && !config.monitoring) {\n            config.monitoring = true;\n            Promise.prototype._fireEvent = activeFireEvent;\n        } else if (!opts.monitoring && config.monitoring) {\n            config.monitoring = false;\n            Promise.prototype._fireEvent = defaultFireEvent;\n        }\n    }\n    return Promise;\n};\n\nfunction defaultFireEvent() { return false; }\n\nPromise.prototype._fireEvent = defaultFireEvent;\nPromise.prototype._execute = function(executor, resolve, reject) {\n    try {\n        executor(resolve, reject);\n    } catch (e) {\n        return e;\n    }\n};\nPromise.prototype._onCancel = function () {};\nPromise.prototype._setOnCancel = function (handler) { ; };\nPromise.prototype._attachCancellationCallback = function(onCancel) {\n    ;\n};\nPromise.prototype._captureStackTrace = function () {};\nPromise.prototype._attachExtraTrace = function () {};\nPromise.prototype._dereferenceTrace = function () {};\nPromise.prototype._clearCancellationData = function() {};\nPromise.prototype._propagateFrom = function (parent, flags) {\n    ;\n    ;\n};\n\nfunction cancellationExecute(executor, resolve, reject) {\n    var promise = this;\n    try {\n        executor(resolve, reject, function(onCancel) {\n            if (typeof onCancel !== \"function\") {\n                throw new TypeError(\"onCancel must be a function, got: \" +\n                                    util.toString(onCancel));\n            }\n            promise._attachCancellationCallback(onCancel);\n        });\n    } catch (e) {\n        return e;\n    }\n}\n\nfunction cancellationAttachCancellationCallback(onCancel) {\n    if (!this._isCancellable()) return this;\n\n    var previousOnCancel = this._onCancel();\n    if (previousOnCancel !== undefined) {\n        if (util.isArray(previousOnCancel)) {\n            previousOnCancel.push(onCancel);\n        } else {\n            this._setOnCancel([previousOnCancel, onCancel]);\n        }\n    } else {\n        this._setOnCancel(onCancel);\n    }\n}\n\nfunction cancellationOnCancel() {\n    return this._onCancelField;\n}\n\nfunction cancellationSetOnCancel(onCancel) {\n    this._onCancelField = onCancel;\n}\n\nfunction cancellationClearCancellationData() {\n    this._cancellationParent = undefined;\n    this._onCancelField = undefined;\n}\n\nfunction cancellationPropagateFrom(parent, flags) {\n    if ((flags & 1) !== 0) {\n        this._cancellationParent = parent;\n        var branchesRemainingToCancel = parent._branchesRemainingToCancel;\n        if (branchesRemainingToCancel === undefined) {\n            branchesRemainingToCancel = 0;\n        }\n        parent._branchesRemainingToCancel = branchesRemainingToCancel + 1;\n    }\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\n\nfunction bindingPropagateFrom(parent, flags) {\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\nvar propagateFromFunction = bindingPropagateFrom;\n\nfunction boundValueFunction() {\n    var ret = this._boundTo;\n    if (ret !== undefined) {\n        if (ret instanceof Promise) {\n            if (ret.isFulfilled()) {\n                return ret.value();\n            } else {\n                return undefined;\n            }\n        }\n    }\n    return ret;\n}\n\nfunction longStackTracesCaptureStackTrace() {\n    this._trace = new CapturedTrace(this._peekContext());\n}\n\nfunction longStackTracesAttachExtraTrace(error, ignoreSelf) {\n    if (canAttachTrace(error)) {\n        var trace = this._trace;\n        if (trace !== undefined) {\n            if (ignoreSelf) trace = trace._parent;\n        }\n        if (trace !== undefined) {\n            trace.attachExtraTrace(error);\n        } else if (!error.__stackCleaned__) {\n            var parsed = parseStackAndMessage(error);\n            util.notEnumerableProp(error, \"stack\",\n                parsed.message + \"\\n\" + parsed.stack.join(\"\\n\"));\n            util.notEnumerableProp(error, \"__stackCleaned__\", true);\n        }\n    }\n}\n\nfunction longStackTracesDereferenceTrace() {\n    this._trace = undefined;\n}\n\nfunction checkForgottenReturns(returnValue, promiseCreated, name, promise,\n                               parent) {\n    if (returnValue === undefined && promiseCreated !== null &&\n        wForgottenReturn) {\n        if (parent !== undefined && parent._returnedNonUndefined()) return;\n        if ((promise._bitField & 65535) === 0) return;\n\n        if (name) name = name + \" \";\n        var handlerLine = \"\";\n        var creatorLine = \"\";\n        if (promiseCreated._trace) {\n            var traceLines = promiseCreated._trace.stack.split(\"\\n\");\n            var stack = cleanStack(traceLines);\n            for (var i = stack.length - 1; i >= 0; --i) {\n                var line = stack[i];\n                if (!nodeFramePattern.test(line)) {\n                    var lineMatches = line.match(parseLinePattern);\n                    if (lineMatches) {\n                        handlerLine  = \"at \" + lineMatches[1] +\n                            \":\" + lineMatches[2] + \":\" + lineMatches[3] + \" \";\n                    }\n                    break;\n                }\n            }\n\n            if (stack.length > 0) {\n                var firstUserLine = stack[0];\n                for (var i = 0; i < traceLines.length; ++i) {\n\n                    if (traceLines[i] === firstUserLine) {\n                        if (i > 0) {\n                            creatorLine = \"\\n\" + traceLines[i - 1];\n                        }\n                        break;\n                    }\n                }\n\n            }\n        }\n        var msg = \"a promise was created in a \" + name +\n            \"handler \" + handlerLine + \"but was not returned from it, \" +\n            \"see http://goo.gl/rRqMUw\" +\n            creatorLine;\n        promise._warn(msg, true, promiseCreated);\n    }\n}\n\nfunction deprecated(name, replacement) {\n    var message = name +\n        \" is deprecated and will be removed in a future version.\";\n    if (replacement) message += \" Use \" + replacement + \" instead.\";\n    return warn(message);\n}\n\nfunction warn(message, shouldUseOwnTrace, promise) {\n    if (!config.warnings) return;\n    var warning = new Warning(message);\n    var ctx;\n    if (shouldUseOwnTrace) {\n        promise._attachExtraTrace(warning);\n    } else if (config.longStackTraces && (ctx = Promise._peekContext())) {\n        ctx.attachExtraTrace(warning);\n    } else {\n        var parsed = parseStackAndMessage(warning);\n        warning.stack = parsed.message + \"\\n\" + parsed.stack.join(\"\\n\");\n    }\n\n    if (!activeFireEvent(\"warning\", warning)) {\n        formatAndLogError(warning, \"\", true);\n    }\n}\n\nfunction reconstructStack(message, stacks) {\n    for (var i = 0; i < stacks.length - 1; ++i) {\n        stacks[i].push(\"From previous event:\");\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    if (i < stacks.length) {\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    return message + \"\\n\" + stacks.join(\"\\n\");\n}\n\nfunction removeDuplicateOrEmptyJumps(stacks) {\n    for (var i = 0; i < stacks.length; ++i) {\n        if (stacks[i].length === 0 ||\n            ((i + 1 < stacks.length) && stacks[i][0] === stacks[i+1][0])) {\n            stacks.splice(i, 1);\n            i--;\n        }\n    }\n}\n\nfunction removeCommonRoots(stacks) {\n    var current = stacks[0];\n    for (var i = 1; i < stacks.length; ++i) {\n        var prev = stacks[i];\n        var currentLastIndex = current.length - 1;\n        var currentLastLine = current[currentLastIndex];\n        var commonRootMeetPoint = -1;\n\n        for (var j = prev.length - 1; j >= 0; --j) {\n            if (prev[j] === currentLastLine) {\n                commonRootMeetPoint = j;\n                break;\n            }\n        }\n\n        for (var j = commonRootMeetPoint; j >= 0; --j) {\n            var line = prev[j];\n            if (current[currentLastIndex] === line) {\n                current.pop();\n                currentLastIndex--;\n            } else {\n                break;\n            }\n        }\n        current = prev;\n    }\n}\n\nfunction cleanStack(stack) {\n    var ret = [];\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        var isTraceLine = \"    (No stack trace)\" === line ||\n            stackFramePattern.test(line);\n        var isInternalFrame = isTraceLine && shouldIgnore(line);\n        if (isTraceLine && !isInternalFrame) {\n            if (indentStackFrames && line.charAt(0) !== \" \") {\n                line = \"    \" + line;\n            }\n            ret.push(line);\n        }\n    }\n    return ret;\n}\n\nfunction stackFramesAsArray(error) {\n    var stack = error.stack.replace(/\\s+$/g, \"\").split(\"\\n\");\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        if (\"    (No stack trace)\" === line || stackFramePattern.test(line)) {\n            break;\n        }\n    }\n    if (i > 0 && error.name != \"SyntaxError\") {\n        stack = stack.slice(i);\n    }\n    return stack;\n}\n\nfunction parseStackAndMessage(error) {\n    var stack = error.stack;\n    var message = error.toString();\n    stack = typeof stack === \"string\" && stack.length > 0\n                ? stackFramesAsArray(error) : [\"    (No stack trace)\"];\n    return {\n        message: message,\n        stack: error.name == \"SyntaxError\" ? stack : cleanStack(stack)\n    };\n}\n\nfunction formatAndLogError(error, title, isSoft) {\n    if (typeof console !== \"undefined\") {\n        var message;\n        if (util.isObject(error)) {\n            var stack = error.stack;\n            message = title + formatStack(stack, error);\n        } else {\n            message = title + String(error);\n        }\n        if (typeof printWarning === \"function\") {\n            printWarning(message, isSoft);\n        } else if (typeof console.log === \"function\" ||\n            typeof console.log === \"object\") {\n            console.log(message);\n        }\n    }\n}\n\nfunction fireRejectionEvent(name, localHandler, reason, promise) {\n    var localEventFired = false;\n    try {\n        if (typeof localHandler === \"function\") {\n            localEventFired = true;\n            if (name === \"rejectionHandled\") {\n                localHandler(promise);\n            } else {\n                localHandler(reason, promise);\n            }\n        }\n    } catch (e) {\n        async.throwLater(e);\n    }\n\n    if (name === \"unhandledRejection\") {\n        if (!activeFireEvent(name, reason, promise) && !localEventFired) {\n            formatAndLogError(reason, \"Unhandled rejection \");\n        }\n    } else {\n        activeFireEvent(name, promise);\n    }\n}\n\nfunction formatNonError(obj) {\n    var str;\n    if (typeof obj === \"function\") {\n        str = \"[function \" +\n            (obj.name || \"anonymous\") +\n            \"]\";\n    } else {\n        str = obj && typeof obj.toString === \"function\"\n            ? obj.toString() : util.toString(obj);\n        var ruselessToString = /\\[object [a-zA-Z0-9$_]+\\]/;\n        if (ruselessToString.test(str)) {\n            try {\n                var newStr = JSON.stringify(obj);\n                str = newStr;\n            }\n            catch(e) {\n\n            }\n        }\n        if (str.length === 0) {\n            str = \"(empty array)\";\n        }\n    }\n    return (\"(<\" + snip(str) + \">, no stack trace)\");\n}\n\nfunction snip(str) {\n    var maxChars = 41;\n    if (str.length < maxChars) {\n        return str;\n    }\n    return str.substr(0, maxChars - 3) + \"...\";\n}\n\nfunction longStackTracesIsSupported() {\n    return typeof captureStackTrace === \"function\";\n}\n\nvar shouldIgnore = function() { return false; };\nvar parseLineInfoRegex = /[\\/<\\(]([^:\\/]+):(\\d+):(?:\\d+)\\)?\\s*$/;\nfunction parseLineInfo(line) {\n    var matches = line.match(parseLineInfoRegex);\n    if (matches) {\n        return {\n            fileName: matches[1],\n            line: parseInt(matches[2], 10)\n        };\n    }\n}\n\nfunction setBounds(firstLineError, lastLineError) {\n    if (!longStackTracesIsSupported()) return;\n    var firstStackLines = firstLineError.stack.split(\"\\n\");\n    var lastStackLines = lastLineError.stack.split(\"\\n\");\n    var firstIndex = -1;\n    var lastIndex = -1;\n    var firstFileName;\n    var lastFileName;\n    for (var i = 0; i < firstStackLines.length; ++i) {\n        var result = parseLineInfo(firstStackLines[i]);\n        if (result) {\n            firstFileName = result.fileName;\n            firstIndex = result.line;\n            break;\n        }\n    }\n    for (var i = 0; i < lastStackLines.length; ++i) {\n        var result = parseLineInfo(lastStackLines[i]);\n        if (result) {\n            lastFileName = result.fileName;\n            lastIndex = result.line;\n            break;\n        }\n    }\n    if (firstIndex < 0 || lastIndex < 0 || !firstFileName || !lastFileName ||\n        firstFileName !== lastFileName || firstIndex >= lastIndex) {\n        return;\n    }\n\n    shouldIgnore = function(line) {\n        if (bluebirdFramePattern.test(line)) return true;\n        var info = parseLineInfo(line);\n        if (info) {\n            if (info.fileName === firstFileName &&\n                (firstIndex <= info.line && info.line <= lastIndex)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\n\nfunction CapturedTrace(parent) {\n    this._parent = parent;\n    this._promisesCreated = 0;\n    var length = this._length = 1 + (parent === undefined ? 0 : parent._length);\n    captureStackTrace(this, CapturedTrace);\n    if (length > 32) this.uncycle();\n}\nutil.inherits(CapturedTrace, Error);\nContext.CapturedTrace = CapturedTrace;\n\nCapturedTrace.prototype.uncycle = function() {\n    var length = this._length;\n    if (length < 2) return;\n    var nodes = [];\n    var stackToIndex = {};\n\n    for (var i = 0, node = this; node !== undefined; ++i) {\n        nodes.push(node);\n        node = node._parent;\n    }\n    length = this._length = i;\n    for (var i = length - 1; i >= 0; --i) {\n        var stack = nodes[i].stack;\n        if (stackToIndex[stack] === undefined) {\n            stackToIndex[stack] = i;\n        }\n    }\n    for (var i = 0; i < length; ++i) {\n        var currentStack = nodes[i].stack;\n        var index = stackToIndex[currentStack];\n        if (index !== undefined && index !== i) {\n            if (index > 0) {\n                nodes[index - 1]._parent = undefined;\n                nodes[index - 1]._length = 1;\n            }\n            nodes[i]._parent = undefined;\n            nodes[i]._length = 1;\n            var cycleEdgeNode = i > 0 ? nodes[i - 1] : this;\n\n            if (index < length - 1) {\n                cycleEdgeNode._parent = nodes[index + 1];\n                cycleEdgeNode._parent.uncycle();\n                cycleEdgeNode._length =\n                    cycleEdgeNode._parent._length + 1;\n            } else {\n                cycleEdgeNode._parent = undefined;\n                cycleEdgeNode._length = 1;\n            }\n            var currentChildLength = cycleEdgeNode._length + 1;\n            for (var j = i - 2; j >= 0; --j) {\n                nodes[j]._length = currentChildLength;\n                currentChildLength++;\n            }\n            return;\n        }\n    }\n};\n\nCapturedTrace.prototype.attachExtraTrace = function(error) {\n    if (error.__stackCleaned__) return;\n    this.uncycle();\n    var parsed = parseStackAndMessage(error);\n    var message = parsed.message;\n    var stacks = [parsed.stack];\n\n    var trace = this;\n    while (trace !== undefined) {\n        stacks.push(cleanStack(trace.stack.split(\"\\n\")));\n        trace = trace._parent;\n    }\n    removeCommonRoots(stacks);\n    removeDuplicateOrEmptyJumps(stacks);\n    util.notEnumerableProp(error, \"stack\", reconstructStack(message, stacks));\n    util.notEnumerableProp(error, \"__stackCleaned__\", true);\n};\n\nvar captureStackTrace = (function stackDetection() {\n    var v8stackFramePattern = /^\\s*at\\s*/;\n    var v8stackFormatter = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if (error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    if (typeof Error.stackTraceLimit === \"number\" &&\n        typeof Error.captureStackTrace === \"function\") {\n        Error.stackTraceLimit += 6;\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        var captureStackTrace = Error.captureStackTrace;\n\n        shouldIgnore = function(line) {\n            return bluebirdFramePattern.test(line);\n        };\n        return function(receiver, ignoreUntil) {\n            Error.stackTraceLimit += 6;\n            captureStackTrace(receiver, ignoreUntil);\n            Error.stackTraceLimit -= 6;\n        };\n    }\n    var err = new Error();\n\n    if (typeof err.stack === \"string\" &&\n        err.stack.split(\"\\n\")[0].indexOf(\"stackDetection@\") >= 0) {\n        stackFramePattern = /@/;\n        formatStack = v8stackFormatter;\n        indentStackFrames = true;\n        return function captureStackTrace(o) {\n            o.stack = new Error().stack;\n        };\n    }\n\n    var hasStackAfterThrow;\n    try { throw new Error(); }\n    catch(e) {\n        hasStackAfterThrow = (\"stack\" in e);\n    }\n    if (!(\"stack\" in err) && hasStackAfterThrow &&\n        typeof Error.stackTraceLimit === \"number\") {\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        return function captureStackTrace(o) {\n            Error.stackTraceLimit += 6;\n            try { throw new Error(); }\n            catch(e) { o.stack = e.stack; }\n            Error.stackTraceLimit -= 6;\n        };\n    }\n\n    formatStack = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if ((typeof error === \"object\" ||\n            typeof error === \"function\") &&\n            error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    return null;\n\n})([]);\n\nif (typeof console !== \"undefined\" && typeof console.warn !== \"undefined\") {\n    printWarning = function (message) {\n        console.warn(message);\n    };\n    if (util.isNode && process.stderr.isTTY) {\n        printWarning = function(message, isSoft) {\n            var color = isSoft ? \"\\u001b[33m\" : \"\\u001b[31m\";\n            console.warn(color + message + \"\\u001b[0m\\n\");\n        };\n    } else if (!util.isNode && typeof (new Error().stack) === \"string\") {\n        printWarning = function(message, isSoft) {\n            console.warn(\"%c\" + message,\n                        isSoft ? \"color: darkorange\" : \"color: red\");\n        };\n    }\n}\n\nvar config = {\n    warnings: warnings,\n    longStackTraces: false,\n    cancellation: false,\n    monitoring: false\n};\n\nif (longStackTraces) Promise.longStackTraces();\n\nreturn {\n    longStackTraces: function() {\n        return config.longStackTraces;\n    },\n    warnings: function() {\n        return config.warnings;\n    },\n    cancellation: function() {\n        return config.cancellation;\n    },\n    monitoring: function() {\n        return config.monitoring;\n    },\n    propagateFromFunction: function() {\n        return propagateFromFunction;\n    },\n    boundValueFunction: function() {\n        return boundValueFunction;\n    },\n    checkForgottenReturns: checkForgottenReturns,\n    setBounds: setBounds,\n    warn: warn,\n    deprecated: deprecated,\n    CapturedTrace: CapturedTrace,\n    fireDomEvent: fireDomEvent,\n    fireGlobalEvent: fireGlobalEvent\n};\n};\n\n},{\"./errors\":12,\"./es5\":13,\"./util\":36}],10:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nfunction returner() {\n    return this.value;\n}\nfunction thrower() {\n    throw this.reason;\n}\n\nPromise.prototype[\"return\"] =\nPromise.prototype.thenReturn = function (value) {\n    if (value instanceof Promise) value.suppressUnhandledRejections();\n    return this._then(\n        returner, undefined, undefined, {value: value}, undefined);\n};\n\nPromise.prototype[\"throw\"] =\nPromise.prototype.thenThrow = function (reason) {\n    return this._then(\n        thrower, undefined, undefined, {reason: reason}, undefined);\n};\n\nPromise.prototype.catchThrow = function (reason) {\n    if (arguments.length <= 1) {\n        return this._then(\n            undefined, thrower, undefined, {reason: reason}, undefined);\n    } else {\n        var _reason = arguments[1];\n        var handler = function() {throw _reason;};\n        return this.caught(reason, handler);\n    }\n};\n\nPromise.prototype.catchReturn = function (value) {\n    if (arguments.length <= 1) {\n        if (value instanceof Promise) value.suppressUnhandledRejections();\n        return this._then(\n            undefined, returner, undefined, {value: value}, undefined);\n    } else {\n        var _value = arguments[1];\n        if (_value instanceof Promise) _value.suppressUnhandledRejections();\n        var handler = function() {return _value;};\n        return this.caught(value, handler);\n    }\n};\n};\n\n},{}],11:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseReduce = Promise.reduce;\nvar PromiseAll = Promise.all;\n\nfunction promiseAllThis() {\n    return PromiseAll(this);\n}\n\nfunction PromiseMapSeries(promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, INTERNAL);\n}\n\nPromise.prototype.each = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, this, undefined);\n};\n\nPromise.prototype.mapSeries = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, INTERNAL);\n};\n\nPromise.each = function (promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, promises, undefined);\n};\n\nPromise.mapSeries = PromiseMapSeries;\n};\n\n\n},{}],12:[function(_dereq_,module,exports){\n\"use strict\";\nvar es5 = _dereq_(\"./es5\");\nvar Objectfreeze = es5.freeze;\nvar util = _dereq_(\"./util\");\nvar inherits = util.inherits;\nvar notEnumerableProp = util.notEnumerableProp;\n\nfunction subError(nameProperty, defaultMessage) {\n    function SubError(message) {\n        if (!(this instanceof SubError)) return new SubError(message);\n        notEnumerableProp(this, \"message\",\n            typeof message === \"string\" ? message : defaultMessage);\n        notEnumerableProp(this, \"name\", nameProperty);\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, this.constructor);\n        } else {\n            Error.call(this);\n        }\n    }\n    inherits(SubError, Error);\n    return SubError;\n}\n\nvar _TypeError, _RangeError;\nvar Warning = subError(\"Warning\", \"warning\");\nvar CancellationError = subError(\"CancellationError\", \"cancellation error\");\nvar TimeoutError = subError(\"TimeoutError\", \"timeout error\");\nvar AggregateError = subError(\"AggregateError\", \"aggregate error\");\ntry {\n    _TypeError = TypeError;\n    _RangeError = RangeError;\n} catch(e) {\n    _TypeError = subError(\"TypeError\", \"type error\");\n    _RangeError = subError(\"RangeError\", \"range error\");\n}\n\nvar methods = (\"join pop push shift unshift slice filter forEach some \" +\n    \"every map indexOf lastIndexOf reduce reduceRight sort reverse\").split(\" \");\n\nfor (var i = 0; i < methods.length; ++i) {\n    if (typeof Array.prototype[methods[i]] === \"function\") {\n        AggregateError.prototype[methods[i]] = Array.prototype[methods[i]];\n    }\n}\n\nes5.defineProperty(AggregateError.prototype, \"length\", {\n    value: 0,\n    configurable: false,\n    writable: true,\n    enumerable: true\n});\nAggregateError.prototype[\"isOperational\"] = true;\nvar level = 0;\nAggregateError.prototype.toString = function() {\n    var indent = Array(level * 4 + 1).join(\" \");\n    var ret = \"\\n\" + indent + \"AggregateError of:\" + \"\\n\";\n    level++;\n    indent = Array(level * 4 + 1).join(\" \");\n    for (var i = 0; i < this.length; ++i) {\n        var str = this[i] === this ? \"[Circular AggregateError]\" : this[i] + \"\";\n        var lines = str.split(\"\\n\");\n        for (var j = 0; j < lines.length; ++j) {\n            lines[j] = indent + lines[j];\n        }\n        str = lines.join(\"\\n\");\n        ret += str + \"\\n\";\n    }\n    level--;\n    return ret;\n};\n\nfunction OperationalError(message) {\n    if (!(this instanceof OperationalError))\n        return new OperationalError(message);\n    notEnumerableProp(this, \"name\", \"OperationalError\");\n    notEnumerableProp(this, \"message\", message);\n    this.cause = message;\n    this[\"isOperational\"] = true;\n\n    if (message instanceof Error) {\n        notEnumerableProp(this, \"message\", message.message);\n        notEnumerableProp(this, \"stack\", message.stack);\n    } else if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, this.constructor);\n    }\n\n}\ninherits(OperationalError, Error);\n\nvar errorTypes = Error[\"__BluebirdErrorTypes__\"];\nif (!errorTypes) {\n    errorTypes = Objectfreeze({\n        CancellationError: CancellationError,\n        TimeoutError: TimeoutError,\n        OperationalError: OperationalError,\n        RejectionError: OperationalError,\n        AggregateError: AggregateError\n    });\n    es5.defineProperty(Error, \"__BluebirdErrorTypes__\", {\n        value: errorTypes,\n        writable: false,\n        enumerable: false,\n        configurable: false\n    });\n}\n\nmodule.exports = {\n    Error: Error,\n    TypeError: _TypeError,\n    RangeError: _RangeError,\n    CancellationError: errorTypes.CancellationError,\n    OperationalError: errorTypes.OperationalError,\n    TimeoutError: errorTypes.TimeoutError,\n    AggregateError: errorTypes.AggregateError,\n    Warning: Warning\n};\n\n},{\"./es5\":13,\"./util\":36}],13:[function(_dereq_,module,exports){\nvar isES5 = (function(){\n    \"use strict\";\n    return this === undefined;\n})();\n\nif (isES5) {\n    module.exports = {\n        freeze: Object.freeze,\n        defineProperty: Object.defineProperty,\n        getDescriptor: Object.getOwnPropertyDescriptor,\n        keys: Object.keys,\n        names: Object.getOwnPropertyNames,\n        getPrototypeOf: Object.getPrototypeOf,\n        isArray: Array.isArray,\n        isES5: isES5,\n        propertyIsWritable: function(obj, prop) {\n            var descriptor = Object.getOwnPropertyDescriptor(obj, prop);\n            return !!(!descriptor || descriptor.writable || descriptor.set);\n        }\n    };\n} else {\n    var has = {}.hasOwnProperty;\n    var str = {}.toString;\n    var proto = {}.constructor.prototype;\n\n    var ObjectKeys = function (o) {\n        var ret = [];\n        for (var key in o) {\n            if (has.call(o, key)) {\n                ret.push(key);\n            }\n        }\n        return ret;\n    };\n\n    var ObjectGetDescriptor = function(o, key) {\n        return {value: o[key]};\n    };\n\n    var ObjectDefineProperty = function (o, key, desc) {\n        o[key] = desc.value;\n        return o;\n    };\n\n    var ObjectFreeze = function (obj) {\n        return obj;\n    };\n\n    var ObjectGetPrototypeOf = function (obj) {\n        try {\n            return Object(obj).constructor.prototype;\n        }\n        catch (e) {\n            return proto;\n        }\n    };\n\n    var ArrayIsArray = function (obj) {\n        try {\n            return str.call(obj) === \"[object Array]\";\n        }\n        catch(e) {\n            return false;\n        }\n    };\n\n    module.exports = {\n        isArray: ArrayIsArray,\n        keys: ObjectKeys,\n        names: ObjectKeys,\n        defineProperty: ObjectDefineProperty,\n        getDescriptor: ObjectGetDescriptor,\n        freeze: ObjectFreeze,\n        getPrototypeOf: ObjectGetPrototypeOf,\n        isES5: isES5,\n        propertyIsWritable: function() {\n            return true;\n        }\n    };\n}\n\n},{}],14:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseMap = Promise.map;\n\nPromise.prototype.filter = function (fn, options) {\n    return PromiseMap(this, fn, options, INTERNAL);\n};\n\nPromise.filter = function (promises, fn, options) {\n    return PromiseMap(promises, fn, options, INTERNAL);\n};\n};\n\n},{}],15:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, tryConvertToPromise, NEXT_FILTER) {\nvar util = _dereq_(\"./util\");\nvar CancellationError = Promise.CancellationError;\nvar errorObj = util.errorObj;\nvar catchFilter = _dereq_(\"./catch_filter\")(NEXT_FILTER);\n\nfunction PassThroughHandlerContext(promise, type, handler) {\n    this.promise = promise;\n    this.type = type;\n    this.handler = handler;\n    this.called = false;\n    this.cancelPromise = null;\n}\n\nPassThroughHandlerContext.prototype.isFinallyHandler = function() {\n    return this.type === 0;\n};\n\nfunction FinallyHandlerCancelReaction(finallyHandler) {\n    this.finallyHandler = finallyHandler;\n}\n\nFinallyHandlerCancelReaction.prototype._resultCancelled = function() {\n    checkCancel(this.finallyHandler);\n};\n\nfunction checkCancel(ctx, reason) {\n    if (ctx.cancelPromise != null) {\n        if (arguments.length > 1) {\n            ctx.cancelPromise._reject(reason);\n        } else {\n            ctx.cancelPromise._cancel();\n        }\n        ctx.cancelPromise = null;\n        return true;\n    }\n    return false;\n}\n\nfunction succeed() {\n    return finallyHandler.call(this, this.promise._target()._settledValue());\n}\nfunction fail(reason) {\n    if (checkCancel(this, reason)) return;\n    errorObj.e = reason;\n    return errorObj;\n}\nfunction finallyHandler(reasonOrValue) {\n    var promise = this.promise;\n    var handler = this.handler;\n\n    if (!this.called) {\n        this.called = true;\n        var ret = this.isFinallyHandler()\n            ? handler.call(promise._boundValue())\n            : handler.call(promise._boundValue(), reasonOrValue);\n        if (ret === NEXT_FILTER) {\n            return ret;\n        } else if (ret !== undefined) {\n            promise._setReturnedNonUndefined();\n            var maybePromise = tryConvertToPromise(ret, promise);\n            if (maybePromise instanceof Promise) {\n                if (this.cancelPromise != null) {\n                    if (maybePromise._isCancelled()) {\n                        var reason =\n                            new CancellationError(\"late cancellation observer\");\n                        promise._attachExtraTrace(reason);\n                        errorObj.e = reason;\n                        return errorObj;\n                    } else if (maybePromise.isPending()) {\n                        maybePromise._attachCancellationCallback(\n                            new FinallyHandlerCancelReaction(this));\n                    }\n                }\n                return maybePromise._then(\n                    succeed, fail, undefined, this, undefined);\n            }\n        }\n    }\n\n    if (promise.isRejected()) {\n        checkCancel(this);\n        errorObj.e = reasonOrValue;\n        return errorObj;\n    } else {\n        checkCancel(this);\n        return reasonOrValue;\n    }\n}\n\nPromise.prototype._passThrough = function(handler, type, success, fail) {\n    if (typeof handler !== \"function\") return this.then();\n    return this._then(success,\n                      fail,\n                      undefined,\n                      new PassThroughHandlerContext(this, type, handler),\n                      undefined);\n};\n\nPromise.prototype.lastly =\nPromise.prototype[\"finally\"] = function (handler) {\n    return this._passThrough(handler,\n                             0,\n                             finallyHandler,\n                             finallyHandler);\n};\n\n\nPromise.prototype.tap = function (handler) {\n    return this._passThrough(handler, 1, finallyHandler);\n};\n\nPromise.prototype.tapCatch = function (handlerOrPredicate) {\n    var len = arguments.length;\n    if(len === 1) {\n        return this._passThrough(handlerOrPredicate,\n                                 1,\n                                 undefined,\n                                 finallyHandler);\n    } else {\n         var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return Promise.reject(new TypeError(\n                    \"tapCatch statement predicate: \"\n                    + \"expecting an object but got \" + util.classString(item)\n                ));\n            }\n        }\n        catchInstances.length = j;\n        var handler = arguments[i];\n        return this._passThrough(catchFilter(catchInstances, handler, this),\n                                 1,\n                                 undefined,\n                                 finallyHandler);\n    }\n\n};\n\nreturn PassThroughHandlerContext;\n};\n\n},{\"./catch_filter\":7,\"./util\":36}],16:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          apiRejection,\n                          INTERNAL,\n                          tryConvertToPromise,\n                          Proxyable,\n                          debug) {\nvar errors = _dereq_(\"./errors\");\nvar TypeError = errors.TypeError;\nvar util = _dereq_(\"./util\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nvar yieldHandlers = [];\n\nfunction promiseFromYieldHandler(value, yieldHandlers, traceParent) {\n    for (var i = 0; i < yieldHandlers.length; ++i) {\n        traceParent._pushContext();\n        var result = tryCatch(yieldHandlers[i])(value);\n        traceParent._popContext();\n        if (result === errorObj) {\n            traceParent._pushContext();\n            var ret = Promise.reject(errorObj.e);\n            traceParent._popContext();\n            return ret;\n        }\n        var maybePromise = tryConvertToPromise(result, traceParent);\n        if (maybePromise instanceof Promise) return maybePromise;\n    }\n    return null;\n}\n\nfunction PromiseSpawn(generatorFunction, receiver, yieldHandler, stack) {\n    if (debug.cancellation()) {\n        var internal = new Promise(INTERNAL);\n        var _finallyPromise = this._finallyPromise = new Promise(INTERNAL);\n        this._promise = internal.lastly(function() {\n            return _finallyPromise;\n        });\n        internal._captureStackTrace();\n        internal._setOnCancel(this);\n    } else {\n        var promise = this._promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n    }\n    this._stack = stack;\n    this._generatorFunction = generatorFunction;\n    this._receiver = receiver;\n    this._generator = undefined;\n    this._yieldHandlers = typeof yieldHandler === \"function\"\n        ? [yieldHandler].concat(yieldHandlers)\n        : yieldHandlers;\n    this._yieldedPromise = null;\n    this._cancellationPhase = false;\n}\nutil.inherits(PromiseSpawn, Proxyable);\n\nPromiseSpawn.prototype._isResolved = function() {\n    return this._promise === null;\n};\n\nPromiseSpawn.prototype._cleanup = function() {\n    this._promise = this._generator = null;\n    if (debug.cancellation() && this._finallyPromise !== null) {\n        this._finallyPromise._fulfill();\n        this._finallyPromise = null;\n    }\n};\n\nPromiseSpawn.prototype._promiseCancelled = function() {\n    if (this._isResolved()) return;\n    var implementsReturn = typeof this._generator[\"return\"] !== \"undefined\";\n\n    var result;\n    if (!implementsReturn) {\n        var reason = new Promise.CancellationError(\n            \"generator .return() sentinel\");\n        Promise.coroutine.returnSentinel = reason;\n        this._promise._attachExtraTrace(reason);\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"throw\"]).call(this._generator,\n                                                         reason);\n        this._promise._popContext();\n    } else {\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"return\"]).call(this._generator,\n                                                          undefined);\n        this._promise._popContext();\n    }\n    this._cancellationPhase = true;\n    this._yieldedPromise = null;\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseFulfilled = function(value) {\n    this._yieldedPromise = null;\n    this._promise._pushContext();\n    var result = tryCatch(this._generator.next).call(this._generator, value);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseRejected = function(reason) {\n    this._yieldedPromise = null;\n    this._promise._attachExtraTrace(reason);\n    this._promise._pushContext();\n    var result = tryCatch(this._generator[\"throw\"])\n        .call(this._generator, reason);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._resultCancelled = function() {\n    if (this._yieldedPromise instanceof Promise) {\n        var promise = this._yieldedPromise;\n        this._yieldedPromise = null;\n        promise.cancel();\n    }\n};\n\nPromiseSpawn.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseSpawn.prototype._run = function () {\n    this._generator = this._generatorFunction.call(this._receiver);\n    this._receiver =\n        this._generatorFunction = undefined;\n    this._promiseFulfilled(undefined);\n};\n\nPromiseSpawn.prototype._continue = function (result) {\n    var promise = this._promise;\n    if (result === errorObj) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._rejectCallback(result.e, false);\n        }\n    }\n\n    var value = result.value;\n    if (result.done === true) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._resolveCallback(value);\n        }\n    } else {\n        var maybePromise = tryConvertToPromise(value, this._promise);\n        if (!(maybePromise instanceof Promise)) {\n            maybePromise =\n                promiseFromYieldHandler(maybePromise,\n                                        this._yieldHandlers,\n                                        this._promise);\n            if (maybePromise === null) {\n                this._promiseRejected(\n                    new TypeError(\n                        \"A value %s was yielded that could not be treated as a promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\\u000a\".replace(\"%s\", String(value)) +\n                        \"From coroutine:\\u000a\" +\n                        this._stack.split(\"\\n\").slice(1, -7).join(\"\\n\")\n                    )\n                );\n                return;\n            }\n        }\n        maybePromise = maybePromise._target();\n        var bitField = maybePromise._bitField;\n        ;\n        if (((bitField & 50397184) === 0)) {\n            this._yieldedPromise = maybePromise;\n            maybePromise._proxy(this, null);\n        } else if (((bitField & 33554432) !== 0)) {\n            Promise._async.invoke(\n                this._promiseFulfilled, this, maybePromise._value()\n            );\n        } else if (((bitField & 16777216) !== 0)) {\n            Promise._async.invoke(\n                this._promiseRejected, this, maybePromise._reason()\n            );\n        } else {\n            this._promiseCancelled();\n        }\n    }\n};\n\nPromise.coroutine = function (generatorFunction, options) {\n    if (typeof generatorFunction !== \"function\") {\n        throw new TypeError(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var yieldHandler = Object(options).yieldHandler;\n    var PromiseSpawn$ = PromiseSpawn;\n    var stack = new Error().stack;\n    return function () {\n        var generator = generatorFunction.apply(this, arguments);\n        var spawn = new PromiseSpawn$(undefined, undefined, yieldHandler,\n                                      stack);\n        var ret = spawn.promise();\n        spawn._generator = generator;\n        spawn._promiseFulfilled(undefined);\n        return ret;\n    };\n};\n\nPromise.coroutine.addYieldHandler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    yieldHandlers.push(fn);\n};\n\nPromise.spawn = function (generatorFunction) {\n    debug.deprecated(\"Promise.spawn()\", \"Promise.coroutine()\");\n    if (typeof generatorFunction !== \"function\") {\n        return apiRejection(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var spawn = new PromiseSpawn(generatorFunction, this);\n    var ret = spawn.promise();\n    spawn._run(Promise.spawn);\n    return ret;\n};\n};\n\n},{\"./errors\":12,\"./util\":36}],17:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, tryConvertToPromise, INTERNAL, async,\n         getDomain) {\nvar util = _dereq_(\"./util\");\nvar canEvaluate = util.canEvaluate;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar reject;\n\nif (!true) {\nif (canEvaluate) {\n    var thenCallback = function(i) {\n        return new Function(\"value\", \"holder\", \"                             \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = value;                                           \\n\\\n            holder.checkFulfillment(this);                                   \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var promiseSetter = function(i) {\n        return new Function(\"promise\", \"holder\", \"                           \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = promise;                                         \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var generateHolderClass = function(total) {\n        var props = new Array(total);\n        for (var i = 0; i < props.length; ++i) {\n            props[i] = \"this.p\" + (i+1);\n        }\n        var assignment = props.join(\" = \") + \" = null;\";\n        var cancellationCode= \"var promise;\\n\" + props.map(function(prop) {\n            return \"                                                         \\n\\\n                promise = \" + prop + \";                                      \\n\\\n                if (promise instanceof Promise) {                            \\n\\\n                    promise.cancel();                                        \\n\\\n                }                                                            \\n\\\n            \";\n        }).join(\"\\n\");\n        var passedArguments = props.join(\", \");\n        var name = \"Holder$\" + total;\n\n\n        var code = \"return function(tryCatch, errorObj, Promise, async) {    \\n\\\n            'use strict';                                                    \\n\\\n            function [TheName](fn) {                                         \\n\\\n                [TheProperties]                                              \\n\\\n                this.fn = fn;                                                \\n\\\n                this.asyncNeeded = true;                                     \\n\\\n                this.now = 0;                                                \\n\\\n            }                                                                \\n\\\n                                                                             \\n\\\n            [TheName].prototype._callFunction = function(promise) {          \\n\\\n                promise._pushContext();                                      \\n\\\n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \\n\\\n                promise._popContext();                                       \\n\\\n                if (ret === errorObj) {                                      \\n\\\n                    promise._rejectCallback(ret.e, false);                   \\n\\\n                } else {                                                     \\n\\\n                    promise._resolveCallback(ret);                           \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype.checkFulfillment = function(promise) {       \\n\\\n                var now = ++this.now;                                        \\n\\\n                if (now === [TheTotal]) {                                    \\n\\\n                    if (this.asyncNeeded) {                                  \\n\\\n                        async.invoke(this._callFunction, this, promise);     \\n\\\n                    } else {                                                 \\n\\\n                        this._callFunction(promise);                         \\n\\\n                    }                                                        \\n\\\n                                                                             \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype._resultCancelled = function() {              \\n\\\n                [CancellationCode]                                           \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            return [TheName];                                                \\n\\\n        }(tryCatch, errorObj, Promise, async);                               \\n\\\n        \";\n\n        code = code.replace(/\\[TheName\\]/g, name)\n            .replace(/\\[TheTotal\\]/g, total)\n            .replace(/\\[ThePassedArguments\\]/g, passedArguments)\n            .replace(/\\[TheProperties\\]/g, assignment)\n            .replace(/\\[CancellationCode\\]/g, cancellationCode);\n\n        return new Function(\"tryCatch\", \"errorObj\", \"Promise\", \"async\", code)\n                           (tryCatch, errorObj, Promise, async);\n    };\n\n    var holderClasses = [];\n    var thenCallbacks = [];\n    var promiseSetters = [];\n\n    for (var i = 0; i < 8; ++i) {\n        holderClasses.push(generateHolderClass(i + 1));\n        thenCallbacks.push(thenCallback(i + 1));\n        promiseSetters.push(promiseSetter(i + 1));\n    }\n\n    reject = function (reason) {\n        this._reject(reason);\n    };\n}}\n\nPromise.join = function () {\n    var last = arguments.length - 1;\n    var fn;\n    if (last > 0 && typeof arguments[last] === \"function\") {\n        fn = arguments[last];\n        if (!true) {\n            if (last <= 8 && canEvaluate) {\n                var ret = new Promise(INTERNAL);\n                ret._captureStackTrace();\n                var HolderClass = holderClasses[last - 1];\n                var holder = new HolderClass(fn);\n                var callbacks = thenCallbacks;\n\n                for (var i = 0; i < last; ++i) {\n                    var maybePromise = tryConvertToPromise(arguments[i], ret);\n                    if (maybePromise instanceof Promise) {\n                        maybePromise = maybePromise._target();\n                        var bitField = maybePromise._bitField;\n                        ;\n                        if (((bitField & 50397184) === 0)) {\n                            maybePromise._then(callbacks[i], reject,\n                                               undefined, ret, holder);\n                            promiseSetters[i](maybePromise, holder);\n                            holder.asyncNeeded = false;\n                        } else if (((bitField & 33554432) !== 0)) {\n                            callbacks[i].call(ret,\n                                              maybePromise._value(), holder);\n                        } else if (((bitField & 16777216) !== 0)) {\n                            ret._reject(maybePromise._reason());\n                        } else {\n                            ret._cancel();\n                        }\n                    } else {\n                        callbacks[i].call(ret, maybePromise, holder);\n                    }\n                }\n\n                if (!ret._isFateSealed()) {\n                    if (holder.asyncNeeded) {\n                        var domain = getDomain();\n                        if (domain !== null) {\n                            holder.fn = util.domainBind(domain, holder.fn);\n                        }\n                    }\n                    ret._setAsyncGuaranteed();\n                    ret._setOnCancel(holder);\n                }\n                return ret;\n            }\n        }\n    }\n    var args = [].slice.call(arguments);;\n    if (fn) args.pop();\n    var ret = new PromiseArray(args).promise();\n    return fn !== undefined ? ret.spread(fn) : ret;\n};\n\n};\n\n},{\"./util\":36}],18:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar getDomain = Promise._getDomain;\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nfunction MappingPromiseArray(promises, fn, limit, _filter) {\n    this.constructor$(promises);\n    this._promise._captureStackTrace();\n    var domain = getDomain();\n    this._callback = domain === null ? fn : util.domainBind(domain, fn);\n    this._preservedValues = _filter === INTERNAL\n        ? new Array(this.length())\n        : null;\n    this._limit = limit;\n    this._inFlight = 0;\n    this._queue = [];\n    async.invoke(this._asyncInit, this, undefined);\n}\nutil.inherits(MappingPromiseArray, PromiseArray);\n\nMappingPromiseArray.prototype._asyncInit = function() {\n    this._init$(undefined, -2);\n};\n\nMappingPromiseArray.prototype._init = function () {};\n\nMappingPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var values = this._values;\n    var length = this.length();\n    var preservedValues = this._preservedValues;\n    var limit = this._limit;\n\n    if (index < 0) {\n        index = (index * -1) - 1;\n        values[index] = value;\n        if (limit >= 1) {\n            this._inFlight--;\n            this._drainQueue();\n            if (this._isResolved()) return true;\n        }\n    } else {\n        if (limit >= 1 && this._inFlight >= limit) {\n            values[index] = value;\n            this._queue.push(index);\n            return false;\n        }\n        if (preservedValues !== null) preservedValues[index] = value;\n\n        var promise = this._promise;\n        var callback = this._callback;\n        var receiver = promise._boundValue();\n        promise._pushContext();\n        var ret = tryCatch(callback).call(receiver, value, index, length);\n        var promiseCreated = promise._popContext();\n        debug.checkForgottenReturns(\n            ret,\n            promiseCreated,\n            preservedValues !== null ? \"Promise.filter\" : \"Promise.map\",\n            promise\n        );\n        if (ret === errorObj) {\n            this._reject(ret.e);\n            return true;\n        }\n\n        var maybePromise = tryConvertToPromise(ret, this._promise);\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            var bitField = maybePromise._bitField;\n            ;\n            if (((bitField & 50397184) === 0)) {\n                if (limit >= 1) this._inFlight++;\n                values[index] = maybePromise;\n                maybePromise._proxy(this, (index + 1) * -1);\n                return false;\n            } else if (((bitField & 33554432) !== 0)) {\n                ret = maybePromise._value();\n            } else if (((bitField & 16777216) !== 0)) {\n                this._reject(maybePromise._reason());\n                return true;\n            } else {\n                this._cancel();\n                return true;\n            }\n        }\n        values[index] = ret;\n    }\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= length) {\n        if (preservedValues !== null) {\n            this._filter(values, preservedValues);\n        } else {\n            this._resolve(values);\n        }\n        return true;\n    }\n    return false;\n};\n\nMappingPromiseArray.prototype._drainQueue = function () {\n    var queue = this._queue;\n    var limit = this._limit;\n    var values = this._values;\n    while (queue.length > 0 && this._inFlight < limit) {\n        if (this._isResolved()) return;\n        var index = queue.pop();\n        this._promiseFulfilled(values[index], index);\n    }\n};\n\nMappingPromiseArray.prototype._filter = function (booleans, values) {\n    var len = values.length;\n    var ret = new Array(len);\n    var j = 0;\n    for (var i = 0; i < len; ++i) {\n        if (booleans[i]) ret[j++] = values[i];\n    }\n    ret.length = j;\n    this._resolve(ret);\n};\n\nMappingPromiseArray.prototype.preservedValues = function () {\n    return this._preservedValues;\n};\n\nfunction map(promises, fn, options, _filter) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n\n    var limit = 0;\n    if (options !== undefined) {\n        if (typeof options === \"object\" && options !== null) {\n            if (typeof options.concurrency !== \"number\") {\n                return Promise.reject(\n                    new TypeError(\"'concurrency' must be a number but it is \" +\n                                    util.classString(options.concurrency)));\n            }\n            limit = options.concurrency;\n        } else {\n            return Promise.reject(new TypeError(\n                            \"options argument must be an object but it is \" +\n                             util.classString(options)));\n        }\n    }\n    limit = typeof limit === \"number\" &&\n        isFinite(limit) && limit >= 1 ? limit : 0;\n    return new MappingPromiseArray(promises, fn, limit, _filter).promise();\n}\n\nPromise.prototype.map = function (fn, options) {\n    return map(this, fn, options, null);\n};\n\nPromise.map = function (promises, fn, options, _filter) {\n    return map(promises, fn, options, _filter);\n};\n\n\n};\n\n},{\"./util\":36}],19:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, INTERNAL, tryConvertToPromise, apiRejection, debug) {\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\n\nPromise.method = function (fn) {\n    if (typeof fn !== \"function\") {\n        throw new Promise.TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return function () {\n        var ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._pushContext();\n        var value = tryCatch(fn).apply(this, arguments);\n        var promiseCreated = ret._popContext();\n        debug.checkForgottenReturns(\n            value, promiseCreated, \"Promise.method\", ret);\n        ret._resolveFromSyncValue(value);\n        return ret;\n    };\n};\n\nPromise.attempt = Promise[\"try\"] = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._pushContext();\n    var value;\n    if (arguments.length > 1) {\n        debug.deprecated(\"calling Promise.try with more than 1 argument\");\n        var arg = arguments[1];\n        var ctx = arguments[2];\n        value = util.isArray(arg) ? tryCatch(fn).apply(ctx, arg)\n                                  : tryCatch(fn).call(ctx, arg);\n    } else {\n        value = tryCatch(fn)();\n    }\n    var promiseCreated = ret._popContext();\n    debug.checkForgottenReturns(\n        value, promiseCreated, \"Promise.try\", ret);\n    ret._resolveFromSyncValue(value);\n    return ret;\n};\n\nPromise.prototype._resolveFromSyncValue = function (value) {\n    if (value === util.errorObj) {\n        this._rejectCallback(value.e, false);\n    } else {\n        this._resolveCallback(value, true);\n    }\n};\n};\n\n},{\"./util\":36}],20:[function(_dereq_,module,exports){\n\"use strict\";\nvar util = _dereq_(\"./util\");\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar errors = _dereq_(\"./errors\");\nvar OperationalError = errors.OperationalError;\nvar es5 = _dereq_(\"./es5\");\n\nfunction isUntypedError(obj) {\n    return obj instanceof Error &&\n        es5.getPrototypeOf(obj) === Error.prototype;\n}\n\nvar rErrorKey = /^(?:name|message|stack|cause)$/;\nfunction wrapAsOperationalError(obj) {\n    var ret;\n    if (isUntypedError(obj)) {\n        ret = new OperationalError(obj);\n        ret.name = obj.name;\n        ret.message = obj.message;\n        ret.stack = obj.stack;\n        var keys = es5.keys(obj);\n        for (var i = 0; i < keys.length; ++i) {\n            var key = keys[i];\n            if (!rErrorKey.test(key)) {\n                ret[key] = obj[key];\n            }\n        }\n        return ret;\n    }\n    util.markAsOriginatingFromRejection(obj);\n    return obj;\n}\n\nfunction nodebackForPromise(promise, multiArgs) {\n    return function(err, value) {\n        if (promise === null) return;\n        if (err) {\n            var wrapped = wrapAsOperationalError(maybeWrapAsError(err));\n            promise._attachExtraTrace(wrapped);\n            promise._reject(wrapped);\n        } else if (!multiArgs) {\n            promise._fulfill(value);\n        } else {\n            var args = [].slice.call(arguments, 1);;\n            promise._fulfill(args);\n        }\n        promise = null;\n    };\n}\n\nmodule.exports = nodebackForPromise;\n\n},{\"./errors\":12,\"./es5\":13,\"./util\":36}],21:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar util = _dereq_(\"./util\");\nvar async = Promise._async;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction spreadAdapter(val, nodeback) {\n    var promise = this;\n    if (!util.isArray(val)) return successAdapter.call(promise, val, nodeback);\n    var ret =\n        tryCatch(nodeback).apply(promise._boundValue(), [null].concat(val));\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nfunction successAdapter(val, nodeback) {\n    var promise = this;\n    var receiver = promise._boundValue();\n    var ret = val === undefined\n        ? tryCatch(nodeback).call(receiver, null)\n        : tryCatch(nodeback).call(receiver, null, val);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\nfunction errorAdapter(reason, nodeback) {\n    var promise = this;\n    if (!reason) {\n        var newReason = new Error(reason + \"\");\n        newReason.cause = reason;\n        reason = newReason;\n    }\n    var ret = tryCatch(nodeback).call(promise._boundValue(), reason);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nPromise.prototype.asCallback = Promise.prototype.nodeify = function (nodeback,\n                                                                     options) {\n    if (typeof nodeback == \"function\") {\n        var adapter = successAdapter;\n        if (options !== undefined && Object(options).spread) {\n            adapter = spreadAdapter;\n        }\n        this._then(\n            adapter,\n            errorAdapter,\n            undefined,\n            this,\n            nodeback\n        );\n    }\n    return this;\n};\n};\n\n},{\"./util\":36}],22:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function() {\nvar makeSelfResolutionError = function () {\n    return new TypeError(\"circular promise resolution chain\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar reflectHandler = function() {\n    return new Promise.PromiseInspection(this._target());\n};\nvar apiRejection = function(msg) {\n    return Promise.reject(new TypeError(msg));\n};\nfunction Proxyable() {}\nvar UNDEFINED_BINDING = {};\nvar util = _dereq_(\"./util\");\n\nvar getDomain;\nif (util.isNode) {\n    getDomain = function() {\n        var ret = process.domain;\n        if (ret === undefined) ret = null;\n        return ret;\n    };\n} else {\n    getDomain = function() {\n        return null;\n    };\n}\nutil.notEnumerableProp(Promise, \"_getDomain\", getDomain);\n\nvar es5 = _dereq_(\"./es5\");\nvar Async = _dereq_(\"./async\");\nvar async = new Async();\nes5.defineProperty(Promise, \"_async\", {value: async});\nvar errors = _dereq_(\"./errors\");\nvar TypeError = Promise.TypeError = errors.TypeError;\nPromise.RangeError = errors.RangeError;\nvar CancellationError = Promise.CancellationError = errors.CancellationError;\nPromise.TimeoutError = errors.TimeoutError;\nPromise.OperationalError = errors.OperationalError;\nPromise.RejectionError = errors.OperationalError;\nPromise.AggregateError = errors.AggregateError;\nvar INTERNAL = function(){};\nvar APPLY = {};\nvar NEXT_FILTER = {};\nvar tryConvertToPromise = _dereq_(\"./thenables\")(Promise, INTERNAL);\nvar PromiseArray =\n    _dereq_(\"./promise_array\")(Promise, INTERNAL,\n                               tryConvertToPromise, apiRejection, Proxyable);\nvar Context = _dereq_(\"./context\")(Promise);\n /*jshint unused:false*/\nvar createContext = Context.create;\nvar debug = _dereq_(\"./debuggability\")(Promise, Context);\nvar CapturedTrace = debug.CapturedTrace;\nvar PassThroughHandlerContext =\n    _dereq_(\"./finally\")(Promise, tryConvertToPromise, NEXT_FILTER);\nvar catchFilter = _dereq_(\"./catch_filter\")(NEXT_FILTER);\nvar nodebackForPromise = _dereq_(\"./nodeback\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nfunction check(self, executor) {\n    if (self == null || self.constructor !== Promise) {\n        throw new TypeError(\"the promise constructor cannot be invoked directly\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (typeof executor !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(executor));\n    }\n\n}\n\nfunction Promise(executor) {\n    if (executor !== INTERNAL) {\n        check(this, executor);\n    }\n    this._bitField = 0;\n    this._fulfillmentHandler0 = undefined;\n    this._rejectionHandler0 = undefined;\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._resolveFromExecutor(executor);\n    this._promiseCreated();\n    this._fireEvent(\"promiseCreated\", this);\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.caught = Promise.prototype[\"catch\"] = function (fn) {\n    var len = arguments.length;\n    if (len > 1) {\n        var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return apiRejection(\"Catch statement predicate: \" +\n                    \"expecting an object but got \" + util.classString(item));\n            }\n        }\n        catchInstances.length = j;\n        fn = arguments[i];\n        return this.then(undefined, catchFilter(catchInstances, fn, this));\n    }\n    return this.then(undefined, fn);\n};\n\nPromise.prototype.reflect = function () {\n    return this._then(reflectHandler,\n        reflectHandler, undefined, this, undefined);\n};\n\nPromise.prototype.then = function (didFulfill, didReject) {\n    if (debug.warnings() && arguments.length > 0 &&\n        typeof didFulfill !== \"function\" &&\n        typeof didReject !== \"function\") {\n        var msg = \".then() only accepts functions but was passed: \" +\n                util.classString(didFulfill);\n        if (arguments.length > 1) {\n            msg += \", \" + util.classString(didReject);\n        }\n        this._warn(msg);\n    }\n    return this._then(didFulfill, didReject, undefined, undefined, undefined);\n};\n\nPromise.prototype.done = function (didFulfill, didReject) {\n    var promise =\n        this._then(didFulfill, didReject, undefined, undefined, undefined);\n    promise._setIsFinal();\n};\n\nPromise.prototype.spread = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    return this.all()._then(fn, undefined, undefined, APPLY, undefined);\n};\n\nPromise.prototype.toJSON = function () {\n    var ret = {\n        isFulfilled: false,\n        isRejected: false,\n        fulfillmentValue: undefined,\n        rejectionReason: undefined\n    };\n    if (this.isFulfilled()) {\n        ret.fulfillmentValue = this.value();\n        ret.isFulfilled = true;\n    } else if (this.isRejected()) {\n        ret.rejectionReason = this.reason();\n        ret.isRejected = true;\n    }\n    return ret;\n};\n\nPromise.prototype.all = function () {\n    if (arguments.length > 0) {\n        this._warn(\".all() was passed arguments but it does not take any\");\n    }\n    return new PromiseArray(this).promise();\n};\n\nPromise.prototype.error = function (fn) {\n    return this.caught(util.originatesFromRejection, fn);\n};\n\nPromise.getNewLibraryCopy = module.exports;\n\nPromise.is = function (val) {\n    return val instanceof Promise;\n};\n\nPromise.fromNode = Promise.fromCallback = function(fn) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    var multiArgs = arguments.length > 1 ? !!Object(arguments[1]).multiArgs\n                                         : false;\n    var result = tryCatch(fn)(nodebackForPromise(ret, multiArgs));\n    if (result === errorObj) {\n        ret._rejectCallback(result.e, true);\n    }\n    if (!ret._isFateSealed()) ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.all = function (promises) {\n    return new PromiseArray(promises).promise();\n};\n\nPromise.cast = function (obj) {\n    var ret = tryConvertToPromise(obj);\n    if (!(ret instanceof Promise)) {\n        ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._setFulfilled();\n        ret._rejectionHandler0 = obj;\n    }\n    return ret;\n};\n\nPromise.resolve = Promise.fulfilled = Promise.cast;\n\nPromise.reject = Promise.rejected = function (reason) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._rejectCallback(reason, true);\n    return ret;\n};\n\nPromise.setScheduler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return async.setScheduler(fn);\n};\n\nPromise.prototype._then = function (\n    didFulfill,\n    didReject,\n    _,    receiver,\n    internalData\n) {\n    var haveInternalData = internalData !== undefined;\n    var promise = haveInternalData ? internalData : new Promise(INTERNAL);\n    var target = this._target();\n    var bitField = target._bitField;\n\n    if (!haveInternalData) {\n        promise._propagateFrom(this, 3);\n        promise._captureStackTrace();\n        if (receiver === undefined &&\n            ((this._bitField & 2097152) !== 0)) {\n            if (!((bitField & 50397184) === 0)) {\n                receiver = this._boundValue();\n            } else {\n                receiver = target === this ? undefined : this._boundTo;\n            }\n        }\n        this._fireEvent(\"promiseChained\", this, promise);\n    }\n\n    var domain = getDomain();\n    if (!((bitField & 50397184) === 0)) {\n        var handler, value, settler = target._settlePromiseCtx;\n        if (((bitField & 33554432) !== 0)) {\n            value = target._rejectionHandler0;\n            handler = didFulfill;\n        } else if (((bitField & 16777216) !== 0)) {\n            value = target._fulfillmentHandler0;\n            handler = didReject;\n            target._unsetRejectionIsUnhandled();\n        } else {\n            settler = target._settlePromiseLateCancellationObserver;\n            value = new CancellationError(\"late cancellation observer\");\n            target._attachExtraTrace(value);\n            handler = didReject;\n        }\n\n        async.invoke(settler, target, {\n            handler: domain === null ? handler\n                : (typeof handler === \"function\" &&\n                    util.domainBind(domain, handler)),\n            promise: promise,\n            receiver: receiver,\n            value: value\n        });\n    } else {\n        target._addCallbacks(didFulfill, didReject, promise, receiver, domain);\n    }\n\n    return promise;\n};\n\nPromise.prototype._length = function () {\n    return this._bitField & 65535;\n};\n\nPromise.prototype._isFateSealed = function () {\n    return (this._bitField & 117506048) !== 0;\n};\n\nPromise.prototype._isFollowing = function () {\n    return (this._bitField & 67108864) === 67108864;\n};\n\nPromise.prototype._setLength = function (len) {\n    this._bitField = (this._bitField & -65536) |\n        (len & 65535);\n};\n\nPromise.prototype._setFulfilled = function () {\n    this._bitField = this._bitField | 33554432;\n    this._fireEvent(\"promiseFulfilled\", this);\n};\n\nPromise.prototype._setRejected = function () {\n    this._bitField = this._bitField | 16777216;\n    this._fireEvent(\"promiseRejected\", this);\n};\n\nPromise.prototype._setFollowing = function () {\n    this._bitField = this._bitField | 67108864;\n    this._fireEvent(\"promiseResolved\", this);\n};\n\nPromise.prototype._setIsFinal = function () {\n    this._bitField = this._bitField | 4194304;\n};\n\nPromise.prototype._isFinal = function () {\n    return (this._bitField & 4194304) > 0;\n};\n\nPromise.prototype._unsetCancelled = function() {\n    this._bitField = this._bitField & (~65536);\n};\n\nPromise.prototype._setCancelled = function() {\n    this._bitField = this._bitField | 65536;\n    this._fireEvent(\"promiseCancelled\", this);\n};\n\nPromise.prototype._setWillBeCancelled = function() {\n    this._bitField = this._bitField | 8388608;\n};\n\nPromise.prototype._setAsyncGuaranteed = function() {\n    if (async.hasCustomScheduler()) return;\n    this._bitField = this._bitField | 134217728;\n};\n\nPromise.prototype._receiverAt = function (index) {\n    var ret = index === 0 ? this._receiver0 : this[\n            index * 4 - 4 + 3];\n    if (ret === UNDEFINED_BINDING) {\n        return undefined;\n    } else if (ret === undefined && this._isBound()) {\n        return this._boundValue();\n    }\n    return ret;\n};\n\nPromise.prototype._promiseAt = function (index) {\n    return this[\n            index * 4 - 4 + 2];\n};\n\nPromise.prototype._fulfillmentHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 0];\n};\n\nPromise.prototype._rejectionHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 1];\n};\n\nPromise.prototype._boundValue = function() {};\n\nPromise.prototype._migrateCallback0 = function (follower) {\n    var bitField = follower._bitField;\n    var fulfill = follower._fulfillmentHandler0;\n    var reject = follower._rejectionHandler0;\n    var promise = follower._promise0;\n    var receiver = follower._receiverAt(0);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._migrateCallbackAt = function (follower, index) {\n    var fulfill = follower._fulfillmentHandlerAt(index);\n    var reject = follower._rejectionHandlerAt(index);\n    var promise = follower._promiseAt(index);\n    var receiver = follower._receiverAt(index);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._addCallbacks = function (\n    fulfill,\n    reject,\n    promise,\n    receiver,\n    domain\n) {\n    var index = this._length();\n\n    if (index >= 65535 - 4) {\n        index = 0;\n        this._setLength(0);\n    }\n\n    if (index === 0) {\n        this._promise0 = promise;\n        this._receiver0 = receiver;\n        if (typeof fulfill === \"function\") {\n            this._fulfillmentHandler0 =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this._rejectionHandler0 =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    } else {\n        var base = index * 4 - 4;\n        this[base + 2] = promise;\n        this[base + 3] = receiver;\n        if (typeof fulfill === \"function\") {\n            this[base + 0] =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this[base + 1] =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    }\n    this._setLength(index + 1);\n    return index;\n};\n\nPromise.prototype._proxy = function (proxyable, arg) {\n    this._addCallbacks(undefined, undefined, arg, proxyable, null);\n};\n\nPromise.prototype._resolveCallback = function(value, shouldBind) {\n    if (((this._bitField & 117506048) !== 0)) return;\n    if (value === this)\n        return this._rejectCallback(makeSelfResolutionError(), false);\n    var maybePromise = tryConvertToPromise(value, this);\n    if (!(maybePromise instanceof Promise)) return this._fulfill(value);\n\n    if (shouldBind) this._propagateFrom(maybePromise, 2);\n\n    var promise = maybePromise._target();\n\n    if (promise === this) {\n        this._reject(makeSelfResolutionError());\n        return;\n    }\n\n    var bitField = promise._bitField;\n    if (((bitField & 50397184) === 0)) {\n        var len = this._length();\n        if (len > 0) promise._migrateCallback0(this);\n        for (var i = 1; i < len; ++i) {\n            promise._migrateCallbackAt(this, i);\n        }\n        this._setFollowing();\n        this._setLength(0);\n        this._setFollowee(promise);\n    } else if (((bitField & 33554432) !== 0)) {\n        this._fulfill(promise._value());\n    } else if (((bitField & 16777216) !== 0)) {\n        this._reject(promise._reason());\n    } else {\n        var reason = new CancellationError(\"late cancellation observer\");\n        promise._attachExtraTrace(reason);\n        this._reject(reason);\n    }\n};\n\nPromise.prototype._rejectCallback =\nfunction(reason, synchronous, ignoreNonErrorWarnings) {\n    var trace = util.ensureErrorObject(reason);\n    var hasStack = trace === reason;\n    if (!hasStack && !ignoreNonErrorWarnings && debug.warnings()) {\n        var message = \"a promise was rejected with a non-error: \" +\n            util.classString(reason);\n        this._warn(message, true);\n    }\n    this._attachExtraTrace(trace, synchronous ? hasStack : false);\n    this._reject(reason);\n};\n\nPromise.prototype._resolveFromExecutor = function (executor) {\n    if (executor === INTERNAL) return;\n    var promise = this;\n    this._captureStackTrace();\n    this._pushContext();\n    var synchronous = true;\n    var r = this._execute(executor, function(value) {\n        promise._resolveCallback(value);\n    }, function (reason) {\n        promise._rejectCallback(reason, synchronous);\n    });\n    synchronous = false;\n    this._popContext();\n\n    if (r !== undefined) {\n        promise._rejectCallback(r, true);\n    }\n};\n\nPromise.prototype._settlePromiseFromHandler = function (\n    handler, receiver, value, promise\n) {\n    var bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n    promise._pushContext();\n    var x;\n    if (receiver === APPLY) {\n        if (!value || typeof value.length !== \"number\") {\n            x = errorObj;\n            x.e = new TypeError(\"cannot .spread() a non-array: \" +\n                                    util.classString(value));\n        } else {\n            x = tryCatch(handler).apply(this._boundValue(), value);\n        }\n    } else {\n        x = tryCatch(handler).call(receiver, value);\n    }\n    var promiseCreated = promise._popContext();\n    bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n\n    if (x === NEXT_FILTER) {\n        promise._reject(value);\n    } else if (x === errorObj) {\n        promise._rejectCallback(x.e, false);\n    } else {\n        debug.checkForgottenReturns(x, promiseCreated, \"\",  promise, this);\n        promise._resolveCallback(x);\n    }\n};\n\nPromise.prototype._target = function() {\n    var ret = this;\n    while (ret._isFollowing()) ret = ret._followee();\n    return ret;\n};\n\nPromise.prototype._followee = function() {\n    return this._rejectionHandler0;\n};\n\nPromise.prototype._setFollowee = function(promise) {\n    this._rejectionHandler0 = promise;\n};\n\nPromise.prototype._settlePromise = function(promise, handler, receiver, value) {\n    var isPromise = promise instanceof Promise;\n    var bitField = this._bitField;\n    var asyncGuaranteed = ((bitField & 134217728) !== 0);\n    if (((bitField & 65536) !== 0)) {\n        if (isPromise) promise._invokeInternalOnCancel();\n\n        if (receiver instanceof PassThroughHandlerContext &&\n            receiver.isFinallyHandler()) {\n            receiver.cancelPromise = promise;\n            if (tryCatch(handler).call(receiver, value) === errorObj) {\n                promise._reject(errorObj.e);\n            }\n        } else if (handler === reflectHandler) {\n            promise._fulfill(reflectHandler.call(receiver));\n        } else if (receiver instanceof Proxyable) {\n            receiver._promiseCancelled(promise);\n        } else if (isPromise || promise instanceof PromiseArray) {\n            promise._cancel();\n        } else {\n            receiver.cancel();\n        }\n    } else if (typeof handler === \"function\") {\n        if (!isPromise) {\n            handler.call(receiver, value, promise);\n        } else {\n            if (asyncGuaranteed) promise._setAsyncGuaranteed();\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (receiver instanceof Proxyable) {\n        if (!receiver._isResolved()) {\n            if (((bitField & 33554432) !== 0)) {\n                receiver._promiseFulfilled(value, promise);\n            } else {\n                receiver._promiseRejected(value, promise);\n            }\n        }\n    } else if (isPromise) {\n        if (asyncGuaranteed) promise._setAsyncGuaranteed();\n        if (((bitField & 33554432) !== 0)) {\n            promise._fulfill(value);\n        } else {\n            promise._reject(value);\n        }\n    }\n};\n\nPromise.prototype._settlePromiseLateCancellationObserver = function(ctx) {\n    var handler = ctx.handler;\n    var promise = ctx.promise;\n    var receiver = ctx.receiver;\n    var value = ctx.value;\n    if (typeof handler === \"function\") {\n        if (!(promise instanceof Promise)) {\n            handler.call(receiver, value, promise);\n        } else {\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (promise instanceof Promise) {\n        promise._reject(value);\n    }\n};\n\nPromise.prototype._settlePromiseCtx = function(ctx) {\n    this._settlePromise(ctx.promise, ctx.handler, ctx.receiver, ctx.value);\n};\n\nPromise.prototype._settlePromise0 = function(handler, value, bitField) {\n    var promise = this._promise0;\n    var receiver = this._receiverAt(0);\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._settlePromise(promise, handler, receiver, value);\n};\n\nPromise.prototype._clearCallbackDataAtIndex = function(index) {\n    var base = index * 4 - 4;\n    this[base + 2] =\n    this[base + 3] =\n    this[base + 0] =\n    this[base + 1] = undefined;\n};\n\nPromise.prototype._fulfill = function (value) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    if (value === this) {\n        var err = makeSelfResolutionError();\n        this._attachExtraTrace(err);\n        return this._reject(err);\n    }\n    this._setFulfilled();\n    this._rejectionHandler0 = value;\n\n    if ((bitField & 65535) > 0) {\n        if (((bitField & 134217728) !== 0)) {\n            this._settlePromises();\n        } else {\n            async.settlePromises(this);\n        }\n        this._dereferenceTrace();\n    }\n};\n\nPromise.prototype._reject = function (reason) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    this._setRejected();\n    this._fulfillmentHandler0 = reason;\n\n    if (this._isFinal()) {\n        return async.fatalError(reason, util.isNode);\n    }\n\n    if ((bitField & 65535) > 0) {\n        async.settlePromises(this);\n    } else {\n        this._ensurePossibleRejectionHandled();\n    }\n};\n\nPromise.prototype._fulfillPromises = function (len, value) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._fulfillmentHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, value);\n    }\n};\n\nPromise.prototype._rejectPromises = function (len, reason) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._rejectionHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, reason);\n    }\n};\n\nPromise.prototype._settlePromises = function () {\n    var bitField = this._bitField;\n    var len = (bitField & 65535);\n\n    if (len > 0) {\n        if (((bitField & 16842752) !== 0)) {\n            var reason = this._fulfillmentHandler0;\n            this._settlePromise0(this._rejectionHandler0, reason, bitField);\n            this._rejectPromises(len, reason);\n        } else {\n            var value = this._rejectionHandler0;\n            this._settlePromise0(this._fulfillmentHandler0, value, bitField);\n            this._fulfillPromises(len, value);\n        }\n        this._setLength(0);\n    }\n    this._clearCancellationData();\n};\n\nPromise.prototype._settledValue = function() {\n    var bitField = this._bitField;\n    if (((bitField & 33554432) !== 0)) {\n        return this._rejectionHandler0;\n    } else if (((bitField & 16777216) !== 0)) {\n        return this._fulfillmentHandler0;\n    }\n};\n\nfunction deferResolve(v) {this.promise._resolveCallback(v);}\nfunction deferReject(v) {this.promise._rejectCallback(v, false);}\n\nPromise.defer = Promise.pending = function() {\n    debug.deprecated(\"Promise.defer\", \"new Promise\");\n    var promise = new Promise(INTERNAL);\n    return {\n        promise: promise,\n        resolve: deferResolve,\n        reject: deferReject\n    };\n};\n\nutil.notEnumerableProp(Promise,\n                       \"_makeSelfResolutionError\",\n                       makeSelfResolutionError);\n\n_dereq_(\"./method\")(Promise, INTERNAL, tryConvertToPromise, apiRejection,\n    debug);\n_dereq_(\"./bind\")(Promise, INTERNAL, tryConvertToPromise, debug);\n_dereq_(\"./cancel\")(Promise, PromiseArray, apiRejection, debug);\n_dereq_(\"./direct_resolve\")(Promise);\n_dereq_(\"./synchronous_inspection\")(Promise);\n_dereq_(\"./join\")(\n    Promise, PromiseArray, tryConvertToPromise, INTERNAL, async, getDomain);\nPromise.Promise = Promise;\nPromise.version = \"3.5.4\";\n_dereq_('./map.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n_dereq_('./call_get.js')(Promise);\n_dereq_('./using.js')(Promise, apiRejection, tryConvertToPromise, createContext, INTERNAL, debug);\n_dereq_('./timers.js')(Promise, INTERNAL, debug);\n_dereq_('./generators.js')(Promise, apiRejection, INTERNAL, tryConvertToPromise, Proxyable, debug);\n_dereq_('./nodeify.js')(Promise);\n_dereq_('./promisify.js')(Promise, INTERNAL);\n_dereq_('./props.js')(Promise, PromiseArray, tryConvertToPromise, apiRejection);\n_dereq_('./race.js')(Promise, INTERNAL, tryConvertToPromise, apiRejection);\n_dereq_('./reduce.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n_dereq_('./settle.js')(Promise, PromiseArray, debug);\n_dereq_('./some.js')(Promise, PromiseArray, apiRejection);\n_dereq_('./filter.js')(Promise, INTERNAL);\n_dereq_('./each.js')(Promise, INTERNAL);\n_dereq_('./any.js')(Promise);\n                                                         \n    util.toFastProperties(Promise);                                          \n    util.toFastProperties(Promise.prototype);                                \n    function fillTypes(value) {                                              \n        var p = new Promise(INTERNAL);                                       \n        p._fulfillmentHandler0 = value;                                      \n        p._rejectionHandler0 = value;                                        \n        p._promise0 = value;                                                 \n        p._receiver0 = value;                                                \n    }                                                                        \n    // Complete slack tracking, opt out of field-type tracking and           \n    // stabilize map                                                         \n    fillTypes({a: 1});                                                       \n    fillTypes({b: 2});                                                       \n    fillTypes({c: 3});                                                       \n    fillTypes(1);                                                            \n    fillTypes(function(){});                                                 \n    fillTypes(undefined);                                                    \n    fillTypes(false);                                                        \n    fillTypes(new Promise(INTERNAL));                                        \n    debug.setBounds(Async.firstLineError, util.lastLineError);               \n    return Promise;                                                          \n\n};\n\n},{\"./any.js\":1,\"./async\":2,\"./bind\":3,\"./call_get.js\":5,\"./cancel\":6,\"./catch_filter\":7,\"./context\":8,\"./debuggability\":9,\"./direct_resolve\":10,\"./each.js\":11,\"./errors\":12,\"./es5\":13,\"./filter.js\":14,\"./finally\":15,\"./generators.js\":16,\"./join\":17,\"./map.js\":18,\"./method\":19,\"./nodeback\":20,\"./nodeify.js\":21,\"./promise_array\":23,\"./promisify.js\":24,\"./props.js\":25,\"./race.js\":27,\"./reduce.js\":28,\"./settle.js\":30,\"./some.js\":31,\"./synchronous_inspection\":32,\"./thenables\":33,\"./timers.js\":34,\"./using.js\":35,\"./util\":36}],23:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise,\n    apiRejection, Proxyable) {\nvar util = _dereq_(\"./util\");\nvar isArray = util.isArray;\n\nfunction toResolutionValue(val) {\n    switch(val) {\n    case -2: return [];\n    case -3: return {};\n    case -6: return new Map();\n    }\n}\n\nfunction PromiseArray(values) {\n    var promise = this._promise = new Promise(INTERNAL);\n    if (values instanceof Promise) {\n        promise._propagateFrom(values, 3);\n    }\n    promise._setOnCancel(this);\n    this._values = values;\n    this._length = 0;\n    this._totalResolved = 0;\n    this._init(undefined, -2);\n}\nutil.inherits(PromiseArray, Proxyable);\n\nPromiseArray.prototype.length = function () {\n    return this._length;\n};\n\nPromiseArray.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseArray.prototype._init = function init(_, resolveValueIfEmpty) {\n    var values = tryConvertToPromise(this._values, this._promise);\n    if (values instanceof Promise) {\n        values = values._target();\n        var bitField = values._bitField;\n        ;\n        this._values = values;\n\n        if (((bitField & 50397184) === 0)) {\n            this._promise._setAsyncGuaranteed();\n            return values._then(\n                init,\n                this._reject,\n                undefined,\n                this,\n                resolveValueIfEmpty\n           );\n        } else if (((bitField & 33554432) !== 0)) {\n            values = values._value();\n        } else if (((bitField & 16777216) !== 0)) {\n            return this._reject(values._reason());\n        } else {\n            return this._cancel();\n        }\n    }\n    values = util.asArray(values);\n    if (values === null) {\n        var err = apiRejection(\n            \"expecting an array or an iterable object but got \" + util.classString(values)).reason();\n        this._promise._rejectCallback(err, false);\n        return;\n    }\n\n    if (values.length === 0) {\n        if (resolveValueIfEmpty === -5) {\n            this._resolveEmptyArray();\n        }\n        else {\n            this._resolve(toResolutionValue(resolveValueIfEmpty));\n        }\n        return;\n    }\n    this._iterate(values);\n};\n\nPromiseArray.prototype._iterate = function(values) {\n    var len = this.getActualLength(values.length);\n    this._length = len;\n    this._values = this.shouldCopyValues() ? new Array(len) : this._values;\n    var result = this._promise;\n    var isResolved = false;\n    var bitField = null;\n    for (var i = 0; i < len; ++i) {\n        var maybePromise = tryConvertToPromise(values[i], result);\n\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            bitField = maybePromise._bitField;\n        } else {\n            bitField = null;\n        }\n\n        if (isResolved) {\n            if (bitField !== null) {\n                maybePromise.suppressUnhandledRejections();\n            }\n        } else if (bitField !== null) {\n            if (((bitField & 50397184) === 0)) {\n                maybePromise._proxy(this, i);\n                this._values[i] = maybePromise;\n            } else if (((bitField & 33554432) !== 0)) {\n                isResolved = this._promiseFulfilled(maybePromise._value(), i);\n            } else if (((bitField & 16777216) !== 0)) {\n                isResolved = this._promiseRejected(maybePromise._reason(), i);\n            } else {\n                isResolved = this._promiseCancelled(i);\n            }\n        } else {\n            isResolved = this._promiseFulfilled(maybePromise, i);\n        }\n    }\n    if (!isResolved) result._setAsyncGuaranteed();\n};\n\nPromiseArray.prototype._isResolved = function () {\n    return this._values === null;\n};\n\nPromiseArray.prototype._resolve = function (value) {\n    this._values = null;\n    this._promise._fulfill(value);\n};\n\nPromiseArray.prototype._cancel = function() {\n    if (this._isResolved() || !this._promise._isCancellable()) return;\n    this._values = null;\n    this._promise._cancel();\n};\n\nPromiseArray.prototype._reject = function (reason) {\n    this._values = null;\n    this._promise._rejectCallback(reason, false);\n};\n\nPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nPromiseArray.prototype._promiseCancelled = function() {\n    this._cancel();\n    return true;\n};\n\nPromiseArray.prototype._promiseRejected = function (reason) {\n    this._totalResolved++;\n    this._reject(reason);\n    return true;\n};\n\nPromiseArray.prototype._resultCancelled = function() {\n    if (this._isResolved()) return;\n    var values = this._values;\n    this._cancel();\n    if (values instanceof Promise) {\n        values.cancel();\n    } else {\n        for (var i = 0; i < values.length; ++i) {\n            if (values[i] instanceof Promise) {\n                values[i].cancel();\n            }\n        }\n    }\n};\n\nPromiseArray.prototype.shouldCopyValues = function () {\n    return true;\n};\n\nPromiseArray.prototype.getActualLength = function (len) {\n    return len;\n};\n\nreturn PromiseArray;\n};\n\n},{\"./util\":36}],24:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar THIS = {};\nvar util = _dereq_(\"./util\");\nvar nodebackForPromise = _dereq_(\"./nodeback\");\nvar withAppended = util.withAppended;\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar canEvaluate = util.canEvaluate;\nvar TypeError = _dereq_(\"./errors\").TypeError;\nvar defaultSuffix = \"Async\";\nvar defaultPromisified = {__isPromisified__: true};\nvar noCopyProps = [\n    \"arity\",    \"length\",\n    \"name\",\n    \"arguments\",\n    \"caller\",\n    \"callee\",\n    \"prototype\",\n    \"__isPromisified__\"\n];\nvar noCopyPropsPattern = new RegExp(\"^(?:\" + noCopyProps.join(\"|\") + \")$\");\n\nvar defaultFilter = function(name) {\n    return util.isIdentifier(name) &&\n        name.charAt(0) !== \"_\" &&\n        name !== \"constructor\";\n};\n\nfunction propsFilter(key) {\n    return !noCopyPropsPattern.test(key);\n}\n\nfunction isPromisified(fn) {\n    try {\n        return fn.__isPromisified__ === true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n\nfunction hasPromisified(obj, key, suffix) {\n    var val = util.getDataPropertyOrDefault(obj, key + suffix,\n                                            defaultPromisified);\n    return val ? isPromisified(val) : false;\n}\nfunction checkValid(ret, suffix, suffixRegexp) {\n    for (var i = 0; i < ret.length; i += 2) {\n        var key = ret[i];\n        if (suffixRegexp.test(key)) {\n            var keyWithoutAsyncSuffix = key.replace(suffixRegexp, \"\");\n            for (var j = 0; j < ret.length; j += 2) {\n                if (ret[j] === keyWithoutAsyncSuffix) {\n                    throw new TypeError(\"Cannot promisify an API that has normal methods with '%s'-suffix\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\"\n                        .replace(\"%s\", suffix));\n                }\n            }\n        }\n    }\n}\n\nfunction promisifiableMethods(obj, suffix, suffixRegexp, filter) {\n    var keys = util.inheritedDataKeys(obj);\n    var ret = [];\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var value = obj[key];\n        var passesDefaultFilter = filter === defaultFilter\n            ? true : defaultFilter(key, value, obj);\n        if (typeof value === \"function\" &&\n            !isPromisified(value) &&\n            !hasPromisified(obj, key, suffix) &&\n            filter(key, value, obj, passesDefaultFilter)) {\n            ret.push(key, value);\n        }\n    }\n    checkValid(ret, suffix, suffixRegexp);\n    return ret;\n}\n\nvar escapeIdentRegex = function(str) {\n    return str.replace(/([$])/, \"\\\\$\");\n};\n\nvar makeNodePromisifiedEval;\nif (!true) {\nvar switchCaseArgumentOrder = function(likelyArgumentCount) {\n    var ret = [likelyArgumentCount];\n    var min = Math.max(0, likelyArgumentCount - 1 - 3);\n    for(var i = likelyArgumentCount - 1; i >= min; --i) {\n        ret.push(i);\n    }\n    for(var i = likelyArgumentCount + 1; i <= 3; ++i) {\n        ret.push(i);\n    }\n    return ret;\n};\n\nvar argumentSequence = function(argumentCount) {\n    return util.filledRange(argumentCount, \"_arg\", \"\");\n};\n\nvar parameterDeclaration = function(parameterCount) {\n    return util.filledRange(\n        Math.max(parameterCount, 3), \"_arg\", \"\");\n};\n\nvar parameterCount = function(fn) {\n    if (typeof fn.length === \"number\") {\n        return Math.max(Math.min(fn.length, 1023 + 1), 0);\n    }\n    return 0;\n};\n\nmakeNodePromisifiedEval =\nfunction(callback, receiver, originalName, fn, _, multiArgs) {\n    var newParameterCount = Math.max(0, parameterCount(fn) - 1);\n    var argumentOrder = switchCaseArgumentOrder(newParameterCount);\n    var shouldProxyThis = typeof callback === \"string\" || receiver === THIS;\n\n    function generateCallForArgumentCount(count) {\n        var args = argumentSequence(count).join(\", \");\n        var comma = count > 0 ? \", \" : \"\";\n        var ret;\n        if (shouldProxyThis) {\n            ret = \"ret = callback.call(this, {{args}}, nodeback); break;\\n\";\n        } else {\n            ret = receiver === undefined\n                ? \"ret = callback({{args}}, nodeback); break;\\n\"\n                : \"ret = callback.call(receiver, {{args}}, nodeback); break;\\n\";\n        }\n        return ret.replace(\"{{args}}\", args).replace(\", \", comma);\n    }\n\n    function generateArgumentSwitchCase() {\n        var ret = \"\";\n        for (var i = 0; i < argumentOrder.length; ++i) {\n            ret += \"case \" + argumentOrder[i] +\":\" +\n                generateCallForArgumentCount(argumentOrder[i]);\n        }\n\n        ret += \"                                                             \\n\\\n        default:                                                             \\n\\\n            var args = new Array(len + 1);                                   \\n\\\n            var i = 0;                                                       \\n\\\n            for (var i = 0; i < len; ++i) {                                  \\n\\\n               args[i] = arguments[i];                                       \\n\\\n            }                                                                \\n\\\n            args[i] = nodeback;                                              \\n\\\n            [CodeForCall]                                                    \\n\\\n            break;                                                           \\n\\\n        \".replace(\"[CodeForCall]\", (shouldProxyThis\n                                ? \"ret = callback.apply(this, args);\\n\"\n                                : \"ret = callback.apply(receiver, args);\\n\"));\n        return ret;\n    }\n\n    var getFunctionCode = typeof callback === \"string\"\n                                ? (\"this != null ? this['\"+callback+\"'] : fn\")\n                                : \"fn\";\n    var body = \"'use strict';                                                \\n\\\n        var ret = function (Parameters) {                                    \\n\\\n            'use strict';                                                    \\n\\\n            var len = arguments.length;                                      \\n\\\n            var promise = new Promise(INTERNAL);                             \\n\\\n            promise._captureStackTrace();                                    \\n\\\n            var nodeback = nodebackForPromise(promise, \" + multiArgs + \");   \\n\\\n            var ret;                                                         \\n\\\n            var callback = tryCatch([GetFunctionCode]);                      \\n\\\n            switch(len) {                                                    \\n\\\n                [CodeForSwitchCase]                                          \\n\\\n            }                                                                \\n\\\n            if (ret === errorObj) {                                          \\n\\\n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\\n\\\n            }                                                                \\n\\\n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \\n\\\n            return promise;                                                  \\n\\\n        };                                                                   \\n\\\n        notEnumerableProp(ret, '__isPromisified__', true);                   \\n\\\n        return ret;                                                          \\n\\\n    \".replace(\"[CodeForSwitchCase]\", generateArgumentSwitchCase())\n        .replace(\"[GetFunctionCode]\", getFunctionCode);\n    body = body.replace(\"Parameters\", parameterDeclaration(newParameterCount));\n    return new Function(\"Promise\",\n                        \"fn\",\n                        \"receiver\",\n                        \"withAppended\",\n                        \"maybeWrapAsError\",\n                        \"nodebackForPromise\",\n                        \"tryCatch\",\n                        \"errorObj\",\n                        \"notEnumerableProp\",\n                        \"INTERNAL\",\n                        body)(\n                    Promise,\n                    fn,\n                    receiver,\n                    withAppended,\n                    maybeWrapAsError,\n                    nodebackForPromise,\n                    util.tryCatch,\n                    util.errorObj,\n                    util.notEnumerableProp,\n                    INTERNAL);\n};\n}\n\nfunction makeNodePromisifiedClosure(callback, receiver, _, fn, __, multiArgs) {\n    var defaultThis = (function() {return this;})();\n    var method = callback;\n    if (typeof method === \"string\") {\n        callback = fn;\n    }\n    function promisified() {\n        var _receiver = receiver;\n        if (receiver === THIS) _receiver = this;\n        var promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n        var cb = typeof method === \"string\" && this !== defaultThis\n            ? this[method] : callback;\n        var fn = nodebackForPromise(promise, multiArgs);\n        try {\n            cb.apply(_receiver, withAppended(arguments, fn));\n        } catch(e) {\n            promise._rejectCallback(maybeWrapAsError(e), true, true);\n        }\n        if (!promise._isFateSealed()) promise._setAsyncGuaranteed();\n        return promise;\n    }\n    util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n    return promisified;\n}\n\nvar makeNodePromisified = canEvaluate\n    ? makeNodePromisifiedEval\n    : makeNodePromisifiedClosure;\n\nfunction promisifyAll(obj, suffix, filter, promisifier, multiArgs) {\n    var suffixRegexp = new RegExp(escapeIdentRegex(suffix) + \"$\");\n    var methods =\n        promisifiableMethods(obj, suffix, suffixRegexp, filter);\n\n    for (var i = 0, len = methods.length; i < len; i+= 2) {\n        var key = methods[i];\n        var fn = methods[i+1];\n        var promisifiedKey = key + suffix;\n        if (promisifier === makeNodePromisified) {\n            obj[promisifiedKey] =\n                makeNodePromisified(key, THIS, key, fn, suffix, multiArgs);\n        } else {\n            var promisified = promisifier(fn, function() {\n                return makeNodePromisified(key, THIS, key,\n                                           fn, suffix, multiArgs);\n            });\n            util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n            obj[promisifiedKey] = promisified;\n        }\n    }\n    util.toFastProperties(obj);\n    return obj;\n}\n\nfunction promisify(callback, receiver, multiArgs) {\n    return makeNodePromisified(callback, receiver, undefined,\n                                callback, null, multiArgs);\n}\n\nPromise.promisify = function (fn, options) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    if (isPromisified(fn)) {\n        return fn;\n    }\n    options = Object(options);\n    var receiver = options.context === undefined ? THIS : options.context;\n    var multiArgs = !!options.multiArgs;\n    var ret = promisify(fn, receiver, multiArgs);\n    util.copyDescriptors(fn, ret, propsFilter);\n    return ret;\n};\n\nPromise.promisifyAll = function (target, options) {\n    if (typeof target !== \"function\" && typeof target !== \"object\") {\n        throw new TypeError(\"the target of promisifyAll must be an object or a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    options = Object(options);\n    var multiArgs = !!options.multiArgs;\n    var suffix = options.suffix;\n    if (typeof suffix !== \"string\") suffix = defaultSuffix;\n    var filter = options.filter;\n    if (typeof filter !== \"function\") filter = defaultFilter;\n    var promisifier = options.promisifier;\n    if (typeof promisifier !== \"function\") promisifier = makeNodePromisified;\n\n    if (!util.isIdentifier(suffix)) {\n        throw new RangeError(\"suffix must be a valid identifier\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n\n    var keys = util.inheritedDataKeys(target);\n    for (var i = 0; i < keys.length; ++i) {\n        var value = target[keys[i]];\n        if (keys[i] !== \"constructor\" &&\n            util.isClass(value)) {\n            promisifyAll(value.prototype, suffix, filter, promisifier,\n                multiArgs);\n            promisifyAll(value, suffix, filter, promisifier, multiArgs);\n        }\n    }\n\n    return promisifyAll(target, suffix, filter, promisifier, multiArgs);\n};\n};\n\n\n},{\"./errors\":12,\"./nodeback\":20,\"./util\":36}],25:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(\n    Promise, PromiseArray, tryConvertToPromise, apiRejection) {\nvar util = _dereq_(\"./util\");\nvar isObject = util.isObject;\nvar es5 = _dereq_(\"./es5\");\nvar Es6Map;\nif (typeof Map === \"function\") Es6Map = Map;\n\nvar mapToEntries = (function() {\n    var index = 0;\n    var size = 0;\n\n    function extractEntry(value, key) {\n        this[index] = value;\n        this[index + size] = key;\n        index++;\n    }\n\n    return function mapToEntries(map) {\n        size = map.size;\n        index = 0;\n        var ret = new Array(map.size * 2);\n        map.forEach(extractEntry, ret);\n        return ret;\n    };\n})();\n\nvar entriesToMap = function(entries) {\n    var ret = new Es6Map();\n    var length = entries.length / 2 | 0;\n    for (var i = 0; i < length; ++i) {\n        var key = entries[length + i];\n        var value = entries[i];\n        ret.set(key, value);\n    }\n    return ret;\n};\n\nfunction PropertiesPromiseArray(obj) {\n    var isMap = false;\n    var entries;\n    if (Es6Map !== undefined && obj instanceof Es6Map) {\n        entries = mapToEntries(obj);\n        isMap = true;\n    } else {\n        var keys = es5.keys(obj);\n        var len = keys.length;\n        entries = new Array(len * 2);\n        for (var i = 0; i < len; ++i) {\n            var key = keys[i];\n            entries[i] = obj[key];\n            entries[i + len] = key;\n        }\n    }\n    this.constructor$(entries);\n    this._isMap = isMap;\n    this._init$(undefined, isMap ? -6 : -3);\n}\nutil.inherits(PropertiesPromiseArray, PromiseArray);\n\nPropertiesPromiseArray.prototype._init = function () {};\n\nPropertiesPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        var val;\n        if (this._isMap) {\n            val = entriesToMap(this._values);\n        } else {\n            val = {};\n            var keyOffset = this.length();\n            for (var i = 0, len = this.length(); i < len; ++i) {\n                val[this._values[i + keyOffset]] = this._values[i];\n            }\n        }\n        this._resolve(val);\n        return true;\n    }\n    return false;\n};\n\nPropertiesPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nPropertiesPromiseArray.prototype.getActualLength = function (len) {\n    return len >> 1;\n};\n\nfunction props(promises) {\n    var ret;\n    var castValue = tryConvertToPromise(promises);\n\n    if (!isObject(castValue)) {\n        return apiRejection(\"cannot await properties of a non-object\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    } else if (castValue instanceof Promise) {\n        ret = castValue._then(\n            Promise.props, undefined, undefined, undefined, undefined);\n    } else {\n        ret = new PropertiesPromiseArray(castValue).promise();\n    }\n\n    if (castValue instanceof Promise) {\n        ret._propagateFrom(castValue, 2);\n    }\n    return ret;\n}\n\nPromise.prototype.props = function () {\n    return props(this);\n};\n\nPromise.props = function (promises) {\n    return props(promises);\n};\n};\n\n},{\"./es5\":13,\"./util\":36}],26:[function(_dereq_,module,exports){\n\"use strict\";\nfunction arrayMove(src, srcIndex, dst, dstIndex, len) {\n    for (var j = 0; j < len; ++j) {\n        dst[j + dstIndex] = src[j + srcIndex];\n        src[j + srcIndex] = void 0;\n    }\n}\n\nfunction Queue(capacity) {\n    this._capacity = capacity;\n    this._length = 0;\n    this._front = 0;\n}\n\nQueue.prototype._willBeOverCapacity = function (size) {\n    return this._capacity < size;\n};\n\nQueue.prototype._pushOne = function (arg) {\n    var length = this.length();\n    this._checkCapacity(length + 1);\n    var i = (this._front + length) & (this._capacity - 1);\n    this[i] = arg;\n    this._length = length + 1;\n};\n\nQueue.prototype.push = function (fn, receiver, arg) {\n    var length = this.length() + 3;\n    if (this._willBeOverCapacity(length)) {\n        this._pushOne(fn);\n        this._pushOne(receiver);\n        this._pushOne(arg);\n        return;\n    }\n    var j = this._front + length - 3;\n    this._checkCapacity(length);\n    var wrapMask = this._capacity - 1;\n    this[(j + 0) & wrapMask] = fn;\n    this[(j + 1) & wrapMask] = receiver;\n    this[(j + 2) & wrapMask] = arg;\n    this._length = length;\n};\n\nQueue.prototype.shift = function () {\n    var front = this._front,\n        ret = this[front];\n\n    this[front] = undefined;\n    this._front = (front + 1) & (this._capacity - 1);\n    this._length--;\n    return ret;\n};\n\nQueue.prototype.length = function () {\n    return this._length;\n};\n\nQueue.prototype._checkCapacity = function (size) {\n    if (this._capacity < size) {\n        this._resizeTo(this._capacity << 1);\n    }\n};\n\nQueue.prototype._resizeTo = function (capacity) {\n    var oldCapacity = this._capacity;\n    this._capacity = capacity;\n    var front = this._front;\n    var length = this._length;\n    var moveItemsCount = (front + length) & (oldCapacity - 1);\n    arrayMove(this, 0, this, oldCapacity, moveItemsCount);\n};\n\nmodule.exports = Queue;\n\n},{}],27:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(\n    Promise, INTERNAL, tryConvertToPromise, apiRejection) {\nvar util = _dereq_(\"./util\");\n\nvar raceLater = function (promise) {\n    return promise.then(function(array) {\n        return race(array, promise);\n    });\n};\n\nfunction race(promises, parent) {\n    var maybePromise = tryConvertToPromise(promises);\n\n    if (maybePromise instanceof Promise) {\n        return raceLater(maybePromise);\n    } else {\n        promises = util.asArray(promises);\n        if (promises === null)\n            return apiRejection(\"expecting an array or an iterable object but got \" + util.classString(promises));\n    }\n\n    var ret = new Promise(INTERNAL);\n    if (parent !== undefined) {\n        ret._propagateFrom(parent, 3);\n    }\n    var fulfill = ret._fulfill;\n    var reject = ret._reject;\n    for (var i = 0, len = promises.length; i < len; ++i) {\n        var val = promises[i];\n\n        if (val === undefined && !(i in promises)) {\n            continue;\n        }\n\n        Promise.cast(val)._then(fulfill, reject, undefined, ret, null);\n    }\n    return ret;\n}\n\nPromise.race = function (promises) {\n    return race(promises, undefined);\n};\n\nPromise.prototype.race = function () {\n    return race(this, undefined);\n};\n\n};\n\n},{\"./util\":36}],28:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar getDomain = Promise._getDomain;\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\n\nfunction ReductionPromiseArray(promises, fn, initialValue, _each) {\n    this.constructor$(promises);\n    var domain = getDomain();\n    this._fn = domain === null ? fn : util.domainBind(domain, fn);\n    if (initialValue !== undefined) {\n        initialValue = Promise.resolve(initialValue);\n        initialValue._attachCancellationCallback(this);\n    }\n    this._initialValue = initialValue;\n    this._currentCancellable = null;\n    if(_each === INTERNAL) {\n        this._eachValues = Array(this._length);\n    } else if (_each === 0) {\n        this._eachValues = null;\n    } else {\n        this._eachValues = undefined;\n    }\n    this._promise._captureStackTrace();\n    this._init$(undefined, -5);\n}\nutil.inherits(ReductionPromiseArray, PromiseArray);\n\nReductionPromiseArray.prototype._gotAccum = function(accum) {\n    if (this._eachValues !== undefined && \n        this._eachValues !== null && \n        accum !== INTERNAL) {\n        this._eachValues.push(accum);\n    }\n};\n\nReductionPromiseArray.prototype._eachComplete = function(value) {\n    if (this._eachValues !== null) {\n        this._eachValues.push(value);\n    }\n    return this._eachValues;\n};\n\nReductionPromiseArray.prototype._init = function() {};\n\nReductionPromiseArray.prototype._resolveEmptyArray = function() {\n    this._resolve(this._eachValues !== undefined ? this._eachValues\n                                                 : this._initialValue);\n};\n\nReductionPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nReductionPromiseArray.prototype._resolve = function(value) {\n    this._promise._resolveCallback(value);\n    this._values = null;\n};\n\nReductionPromiseArray.prototype._resultCancelled = function(sender) {\n    if (sender === this._initialValue) return this._cancel();\n    if (this._isResolved()) return;\n    this._resultCancelled$();\n    if (this._currentCancellable instanceof Promise) {\n        this._currentCancellable.cancel();\n    }\n    if (this._initialValue instanceof Promise) {\n        this._initialValue.cancel();\n    }\n};\n\nReductionPromiseArray.prototype._iterate = function (values) {\n    this._values = values;\n    var value;\n    var i;\n    var length = values.length;\n    if (this._initialValue !== undefined) {\n        value = this._initialValue;\n        i = 0;\n    } else {\n        value = Promise.resolve(values[0]);\n        i = 1;\n    }\n\n    this._currentCancellable = value;\n\n    if (!value.isRejected()) {\n        for (; i < length; ++i) {\n            var ctx = {\n                accum: null,\n                value: values[i],\n                index: i,\n                length: length,\n                array: this\n            };\n            value = value._then(gotAccum, undefined, undefined, ctx, undefined);\n        }\n    }\n\n    if (this._eachValues !== undefined) {\n        value = value\n            ._then(this._eachComplete, undefined, undefined, this, undefined);\n    }\n    value._then(completed, completed, undefined, value, this);\n};\n\nPromise.prototype.reduce = function (fn, initialValue) {\n    return reduce(this, fn, initialValue, null);\n};\n\nPromise.reduce = function (promises, fn, initialValue, _each) {\n    return reduce(promises, fn, initialValue, _each);\n};\n\nfunction completed(valueOrReason, array) {\n    if (this.isFulfilled()) {\n        array._resolve(valueOrReason);\n    } else {\n        array._reject(valueOrReason);\n    }\n}\n\nfunction reduce(promises, fn, initialValue, _each) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var array = new ReductionPromiseArray(promises, fn, initialValue, _each);\n    return array.promise();\n}\n\nfunction gotAccum(accum) {\n    this.accum = accum;\n    this.array._gotAccum(accum);\n    var value = tryConvertToPromise(this.value, this.array._promise);\n    if (value instanceof Promise) {\n        this.array._currentCancellable = value;\n        return value._then(gotValue, undefined, undefined, this, undefined);\n    } else {\n        return gotValue.call(this, value);\n    }\n}\n\nfunction gotValue(value) {\n    var array = this.array;\n    var promise = array._promise;\n    var fn = tryCatch(array._fn);\n    promise._pushContext();\n    var ret;\n    if (array._eachValues !== undefined) {\n        ret = fn.call(promise._boundValue(), value, this.index, this.length);\n    } else {\n        ret = fn.call(promise._boundValue(),\n                              this.accum, value, this.index, this.length);\n    }\n    if (ret instanceof Promise) {\n        array._currentCancellable = ret;\n    }\n    var promiseCreated = promise._popContext();\n    debug.checkForgottenReturns(\n        ret,\n        promiseCreated,\n        array._eachValues !== undefined ? \"Promise.each\" : \"Promise.reduce\",\n        promise\n    );\n    return ret;\n}\n};\n\n},{\"./util\":36}],29:[function(_dereq_,module,exports){\n\"use strict\";\nvar util = _dereq_(\"./util\");\nvar schedule;\nvar noAsyncScheduler = function() {\n    throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar NativePromise = util.getNativePromise();\nif (util.isNode && typeof MutationObserver === \"undefined\") {\n    var GlobalSetImmediate = global.setImmediate;\n    var ProcessNextTick = process.nextTick;\n    schedule = util.isRecentNode\n                ? function(fn) { GlobalSetImmediate.call(global, fn); }\n                : function(fn) { ProcessNextTick.call(process, fn); };\n} else if (typeof NativePromise === \"function\" &&\n           typeof NativePromise.resolve === \"function\") {\n    var nativePromise = NativePromise.resolve();\n    schedule = function(fn) {\n        nativePromise.then(fn);\n    };\n} else if ((typeof MutationObserver !== \"undefined\") &&\n          !(typeof window !== \"undefined\" &&\n            window.navigator &&\n            (window.navigator.standalone || window.cordova))) {\n    schedule = (function() {\n        var div = document.createElement(\"div\");\n        var opts = {attributes: true};\n        var toggleScheduled = false;\n        var div2 = document.createElement(\"div\");\n        var o2 = new MutationObserver(function() {\n            div.classList.toggle(\"foo\");\n            toggleScheduled = false;\n        });\n        o2.observe(div2, opts);\n\n        var scheduleToggle = function() {\n            if (toggleScheduled) return;\n            toggleScheduled = true;\n            div2.classList.toggle(\"foo\");\n        };\n\n        return function schedule(fn) {\n            var o = new MutationObserver(function() {\n                o.disconnect();\n                fn();\n            });\n            o.observe(div, opts);\n            scheduleToggle();\n        };\n    })();\n} else if (typeof setImmediate !== \"undefined\") {\n    schedule = function (fn) {\n        setImmediate(fn);\n    };\n} else if (typeof setTimeout !== \"undefined\") {\n    schedule = function (fn) {\n        setTimeout(fn, 0);\n    };\n} else {\n    schedule = noAsyncScheduler;\n}\nmodule.exports = schedule;\n\n},{\"./util\":36}],30:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\n    function(Promise, PromiseArray, debug) {\nvar PromiseInspection = Promise.PromiseInspection;\nvar util = _dereq_(\"./util\");\n\nfunction SettledPromiseArray(values) {\n    this.constructor$(values);\n}\nutil.inherits(SettledPromiseArray, PromiseArray);\n\nSettledPromiseArray.prototype._promiseResolved = function (index, inspection) {\n    this._values[index] = inspection;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nSettledPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 33554432;\n    ret._settledValueField = value;\n    return this._promiseResolved(index, ret);\n};\nSettledPromiseArray.prototype._promiseRejected = function (reason, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 16777216;\n    ret._settledValueField = reason;\n    return this._promiseResolved(index, ret);\n};\n\nPromise.settle = function (promises) {\n    debug.deprecated(\".settle()\", \".reflect()\");\n    return new SettledPromiseArray(promises).promise();\n};\n\nPromise.prototype.settle = function () {\n    return Promise.settle(this);\n};\n};\n\n},{\"./util\":36}],31:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, apiRejection) {\nvar util = _dereq_(\"./util\");\nvar RangeError = _dereq_(\"./errors\").RangeError;\nvar AggregateError = _dereq_(\"./errors\").AggregateError;\nvar isArray = util.isArray;\nvar CANCELLATION = {};\n\n\nfunction SomePromiseArray(values) {\n    this.constructor$(values);\n    this._howMany = 0;\n    this._unwrap = false;\n    this._initialized = false;\n}\nutil.inherits(SomePromiseArray, PromiseArray);\n\nSomePromiseArray.prototype._init = function () {\n    if (!this._initialized) {\n        return;\n    }\n    if (this._howMany === 0) {\n        this._resolve([]);\n        return;\n    }\n    this._init$(undefined, -5);\n    var isArrayResolved = isArray(this._values);\n    if (!this._isResolved() &&\n        isArrayResolved &&\n        this._howMany > this._canPossiblyFulfill()) {\n        this._reject(this._getRangeError(this.length()));\n    }\n};\n\nSomePromiseArray.prototype.init = function () {\n    this._initialized = true;\n    this._init();\n};\n\nSomePromiseArray.prototype.setUnwrap = function () {\n    this._unwrap = true;\n};\n\nSomePromiseArray.prototype.howMany = function () {\n    return this._howMany;\n};\n\nSomePromiseArray.prototype.setHowMany = function (count) {\n    this._howMany = count;\n};\n\nSomePromiseArray.prototype._promiseFulfilled = function (value) {\n    this._addFulfilled(value);\n    if (this._fulfilled() === this.howMany()) {\n        this._values.length = this.howMany();\n        if (this.howMany() === 1 && this._unwrap) {\n            this._resolve(this._values[0]);\n        } else {\n            this._resolve(this._values);\n        }\n        return true;\n    }\n    return false;\n\n};\nSomePromiseArray.prototype._promiseRejected = function (reason) {\n    this._addRejected(reason);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._promiseCancelled = function () {\n    if (this._values instanceof Promise || this._values == null) {\n        return this._cancel();\n    }\n    this._addRejected(CANCELLATION);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._checkOutcome = function() {\n    if (this.howMany() > this._canPossiblyFulfill()) {\n        var e = new AggregateError();\n        for (var i = this.length(); i < this._values.length; ++i) {\n            if (this._values[i] !== CANCELLATION) {\n                e.push(this._values[i]);\n            }\n        }\n        if (e.length > 0) {\n            this._reject(e);\n        } else {\n            this._cancel();\n        }\n        return true;\n    }\n    return false;\n};\n\nSomePromiseArray.prototype._fulfilled = function () {\n    return this._totalResolved;\n};\n\nSomePromiseArray.prototype._rejected = function () {\n    return this._values.length - this.length();\n};\n\nSomePromiseArray.prototype._addRejected = function (reason) {\n    this._values.push(reason);\n};\n\nSomePromiseArray.prototype._addFulfilled = function (value) {\n    this._values[this._totalResolved++] = value;\n};\n\nSomePromiseArray.prototype._canPossiblyFulfill = function () {\n    return this.length() - this._rejected();\n};\n\nSomePromiseArray.prototype._getRangeError = function (count) {\n    var message = \"Input array must contain at least \" +\n            this._howMany + \" items but contains only \" + count + \" items\";\n    return new RangeError(message);\n};\n\nSomePromiseArray.prototype._resolveEmptyArray = function () {\n    this._reject(this._getRangeError(0));\n};\n\nfunction some(promises, howMany) {\n    if ((howMany | 0) !== howMany || howMany < 0) {\n        return apiRejection(\"expecting a positive integer\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(howMany);\n    ret.init();\n    return promise;\n}\n\nPromise.some = function (promises, howMany) {\n    return some(promises, howMany);\n};\n\nPromise.prototype.some = function (howMany) {\n    return some(this, howMany);\n};\n\nPromise._SomePromiseArray = SomePromiseArray;\n};\n\n},{\"./errors\":12,\"./util\":36}],32:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nfunction PromiseInspection(promise) {\n    if (promise !== undefined) {\n        promise = promise._target();\n        this._bitField = promise._bitField;\n        this._settledValueField = promise._isFateSealed()\n            ? promise._settledValue() : undefined;\n    }\n    else {\n        this._bitField = 0;\n        this._settledValueField = undefined;\n    }\n}\n\nPromiseInspection.prototype._settledValue = function() {\n    return this._settledValueField;\n};\n\nvar value = PromiseInspection.prototype.value = function () {\n    if (!this.isFulfilled()) {\n        throw new TypeError(\"cannot get fulfillment value of a non-fulfilled promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar reason = PromiseInspection.prototype.error =\nPromiseInspection.prototype.reason = function () {\n    if (!this.isRejected()) {\n        throw new TypeError(\"cannot get rejection reason of a non-rejected promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar isFulfilled = PromiseInspection.prototype.isFulfilled = function() {\n    return (this._bitField & 33554432) !== 0;\n};\n\nvar isRejected = PromiseInspection.prototype.isRejected = function () {\n    return (this._bitField & 16777216) !== 0;\n};\n\nvar isPending = PromiseInspection.prototype.isPending = function () {\n    return (this._bitField & 50397184) === 0;\n};\n\nvar isResolved = PromiseInspection.prototype.isResolved = function () {\n    return (this._bitField & 50331648) !== 0;\n};\n\nPromiseInspection.prototype.isCancelled = function() {\n    return (this._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.__isCancelled = function() {\n    return (this._bitField & 65536) === 65536;\n};\n\nPromise.prototype._isCancelled = function() {\n    return this._target().__isCancelled();\n};\n\nPromise.prototype.isCancelled = function() {\n    return (this._target()._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.isPending = function() {\n    return isPending.call(this._target());\n};\n\nPromise.prototype.isRejected = function() {\n    return isRejected.call(this._target());\n};\n\nPromise.prototype.isFulfilled = function() {\n    return isFulfilled.call(this._target());\n};\n\nPromise.prototype.isResolved = function() {\n    return isResolved.call(this._target());\n};\n\nPromise.prototype.value = function() {\n    return value.call(this._target());\n};\n\nPromise.prototype.reason = function() {\n    var target = this._target();\n    target._unsetRejectionIsUnhandled();\n    return reason.call(target);\n};\n\nPromise.prototype._value = function() {\n    return this._settledValue();\n};\n\nPromise.prototype._reason = function() {\n    this._unsetRejectionIsUnhandled();\n    return this._settledValue();\n};\n\nPromise.PromiseInspection = PromiseInspection;\n};\n\n},{}],33:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar util = _dereq_(\"./util\");\nvar errorObj = util.errorObj;\nvar isObject = util.isObject;\n\nfunction tryConvertToPromise(obj, context) {\n    if (isObject(obj)) {\n        if (obj instanceof Promise) return obj;\n        var then = getThen(obj);\n        if (then === errorObj) {\n            if (context) context._pushContext();\n            var ret = Promise.reject(then.e);\n            if (context) context._popContext();\n            return ret;\n        } else if (typeof then === \"function\") {\n            if (isAnyBluebirdPromise(obj)) {\n                var ret = new Promise(INTERNAL);\n                obj._then(\n                    ret._fulfill,\n                    ret._reject,\n                    undefined,\n                    ret,\n                    null\n                );\n                return ret;\n            }\n            return doThenable(obj, then, context);\n        }\n    }\n    return obj;\n}\n\nfunction doGetThen(obj) {\n    return obj.then;\n}\n\nfunction getThen(obj) {\n    try {\n        return doGetThen(obj);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\n\nvar hasProp = {}.hasOwnProperty;\nfunction isAnyBluebirdPromise(obj) {\n    try {\n        return hasProp.call(obj, \"_promise0\");\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction doThenable(x, then, context) {\n    var promise = new Promise(INTERNAL);\n    var ret = promise;\n    if (context) context._pushContext();\n    promise._captureStackTrace();\n    if (context) context._popContext();\n    var synchronous = true;\n    var result = util.tryCatch(then).call(x, resolve, reject);\n    synchronous = false;\n\n    if (promise && result === errorObj) {\n        promise._rejectCallback(result.e, true, true);\n        promise = null;\n    }\n\n    function resolve(value) {\n        if (!promise) return;\n        promise._resolveCallback(value);\n        promise = null;\n    }\n\n    function reject(reason) {\n        if (!promise) return;\n        promise._rejectCallback(reason, synchronous, true);\n        promise = null;\n    }\n    return ret;\n}\n\nreturn tryConvertToPromise;\n};\n\n},{\"./util\":36}],34:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, debug) {\nvar util = _dereq_(\"./util\");\nvar TimeoutError = Promise.TimeoutError;\n\nfunction HandleWrapper(handle)  {\n    this.handle = handle;\n}\n\nHandleWrapper.prototype._resultCancelled = function() {\n    clearTimeout(this.handle);\n};\n\nvar afterValue = function(value) { return delay(+this).thenReturn(value); };\nvar delay = Promise.delay = function (ms, value) {\n    var ret;\n    var handle;\n    if (value !== undefined) {\n        ret = Promise.resolve(value)\n                ._then(afterValue, null, null, ms, undefined);\n        if (debug.cancellation() && value instanceof Promise) {\n            ret._setOnCancel(value);\n        }\n    } else {\n        ret = new Promise(INTERNAL);\n        handle = setTimeout(function() { ret._fulfill(); }, +ms);\n        if (debug.cancellation()) {\n            ret._setOnCancel(new HandleWrapper(handle));\n        }\n        ret._captureStackTrace();\n    }\n    ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.prototype.delay = function (ms) {\n    return delay(ms, this);\n};\n\nvar afterTimeout = function (promise, message, parent) {\n    var err;\n    if (typeof message !== \"string\") {\n        if (message instanceof Error) {\n            err = message;\n        } else {\n            err = new TimeoutError(\"operation timed out\");\n        }\n    } else {\n        err = new TimeoutError(message);\n    }\n    util.markAsOriginatingFromRejection(err);\n    promise._attachExtraTrace(err);\n    promise._reject(err);\n\n    if (parent != null) {\n        parent.cancel();\n    }\n};\n\nfunction successClear(value) {\n    clearTimeout(this.handle);\n    return value;\n}\n\nfunction failureClear(reason) {\n    clearTimeout(this.handle);\n    throw reason;\n}\n\nPromise.prototype.timeout = function (ms, message) {\n    ms = +ms;\n    var ret, parent;\n\n    var handleWrapper = new HandleWrapper(setTimeout(function timeoutTimeout() {\n        if (ret.isPending()) {\n            afterTimeout(ret, message, parent);\n        }\n    }, ms));\n\n    if (debug.cancellation()) {\n        parent = this.then();\n        ret = parent._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n        ret._setOnCancel(handleWrapper);\n    } else {\n        ret = this._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n    }\n\n    return ret;\n};\n\n};\n\n},{\"./util\":36}],35:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function (Promise, apiRejection, tryConvertToPromise,\n    createContext, INTERNAL, debug) {\n    var util = _dereq_(\"./util\");\n    var TypeError = _dereq_(\"./errors\").TypeError;\n    var inherits = _dereq_(\"./util\").inherits;\n    var errorObj = util.errorObj;\n    var tryCatch = util.tryCatch;\n    var NULL = {};\n\n    function thrower(e) {\n        setTimeout(function(){throw e;}, 0);\n    }\n\n    function castPreservingDisposable(thenable) {\n        var maybePromise = tryConvertToPromise(thenable);\n        if (maybePromise !== thenable &&\n            typeof thenable._isDisposable === \"function\" &&\n            typeof thenable._getDisposer === \"function\" &&\n            thenable._isDisposable()) {\n            maybePromise._setDisposable(thenable._getDisposer());\n        }\n        return maybePromise;\n    }\n    function dispose(resources, inspection) {\n        var i = 0;\n        var len = resources.length;\n        var ret = new Promise(INTERNAL);\n        function iterator() {\n            if (i >= len) return ret._fulfill();\n            var maybePromise = castPreservingDisposable(resources[i++]);\n            if (maybePromise instanceof Promise &&\n                maybePromise._isDisposable()) {\n                try {\n                    maybePromise = tryConvertToPromise(\n                        maybePromise._getDisposer().tryDispose(inspection),\n                        resources.promise);\n                } catch (e) {\n                    return thrower(e);\n                }\n                if (maybePromise instanceof Promise) {\n                    return maybePromise._then(iterator, thrower,\n                                              null, null, null);\n                }\n            }\n            iterator();\n        }\n        iterator();\n        return ret;\n    }\n\n    function Disposer(data, promise, context) {\n        this._data = data;\n        this._promise = promise;\n        this._context = context;\n    }\n\n    Disposer.prototype.data = function () {\n        return this._data;\n    };\n\n    Disposer.prototype.promise = function () {\n        return this._promise;\n    };\n\n    Disposer.prototype.resource = function () {\n        if (this.promise().isFulfilled()) {\n            return this.promise().value();\n        }\n        return NULL;\n    };\n\n    Disposer.prototype.tryDispose = function(inspection) {\n        var resource = this.resource();\n        var context = this._context;\n        if (context !== undefined) context._pushContext();\n        var ret = resource !== NULL\n            ? this.doDispose(resource, inspection) : null;\n        if (context !== undefined) context._popContext();\n        this._promise._unsetDisposable();\n        this._data = null;\n        return ret;\n    };\n\n    Disposer.isDisposer = function (d) {\n        return (d != null &&\n                typeof d.resource === \"function\" &&\n                typeof d.tryDispose === \"function\");\n    };\n\n    function FunctionDisposer(fn, promise, context) {\n        this.constructor$(fn, promise, context);\n    }\n    inherits(FunctionDisposer, Disposer);\n\n    FunctionDisposer.prototype.doDispose = function (resource, inspection) {\n        var fn = this.data();\n        return fn.call(resource, resource, inspection);\n    };\n\n    function maybeUnwrapDisposer(value) {\n        if (Disposer.isDisposer(value)) {\n            this.resources[this.index]._setDisposable(value);\n            return value.promise();\n        }\n        return value;\n    }\n\n    function ResourceList(length) {\n        this.length = length;\n        this.promise = null;\n        this[length-1] = null;\n    }\n\n    ResourceList.prototype._resultCancelled = function() {\n        var len = this.length;\n        for (var i = 0; i < len; ++i) {\n            var item = this[i];\n            if (item instanceof Promise) {\n                item.cancel();\n            }\n        }\n    };\n\n    Promise.using = function () {\n        var len = arguments.length;\n        if (len < 2) return apiRejection(\n                        \"you must pass at least 2 arguments to Promise.using\");\n        var fn = arguments[len - 1];\n        if (typeof fn !== \"function\") {\n            return apiRejection(\"expecting a function but got \" + util.classString(fn));\n        }\n        var input;\n        var spreadArgs = true;\n        if (len === 2 && Array.isArray(arguments[0])) {\n            input = arguments[0];\n            len = input.length;\n            spreadArgs = false;\n        } else {\n            input = arguments;\n            len--;\n        }\n        var resources = new ResourceList(len);\n        for (var i = 0; i < len; ++i) {\n            var resource = input[i];\n            if (Disposer.isDisposer(resource)) {\n                var disposer = resource;\n                resource = resource.promise();\n                resource._setDisposable(disposer);\n            } else {\n                var maybePromise = tryConvertToPromise(resource);\n                if (maybePromise instanceof Promise) {\n                    resource =\n                        maybePromise._then(maybeUnwrapDisposer, null, null, {\n                            resources: resources,\n                            index: i\n                    }, undefined);\n                }\n            }\n            resources[i] = resource;\n        }\n\n        var reflectedResources = new Array(resources.length);\n        for (var i = 0; i < reflectedResources.length; ++i) {\n            reflectedResources[i] = Promise.resolve(resources[i]).reflect();\n        }\n\n        var resultPromise = Promise.all(reflectedResources)\n            .then(function(inspections) {\n                for (var i = 0; i < inspections.length; ++i) {\n                    var inspection = inspections[i];\n                    if (inspection.isRejected()) {\n                        errorObj.e = inspection.error();\n                        return errorObj;\n                    } else if (!inspection.isFulfilled()) {\n                        resultPromise.cancel();\n                        return;\n                    }\n                    inspections[i] = inspection.value();\n                }\n                promise._pushContext();\n\n                fn = tryCatch(fn);\n                var ret = spreadArgs\n                    ? fn.apply(undefined, inspections) : fn(inspections);\n                var promiseCreated = promise._popContext();\n                debug.checkForgottenReturns(\n                    ret, promiseCreated, \"Promise.using\", promise);\n                return ret;\n            });\n\n        var promise = resultPromise.lastly(function() {\n            var inspection = new Promise.PromiseInspection(resultPromise);\n            return dispose(resources, inspection);\n        });\n        resources.promise = promise;\n        promise._setOnCancel(resources);\n        return promise;\n    };\n\n    Promise.prototype._setDisposable = function (disposer) {\n        this._bitField = this._bitField | 131072;\n        this._disposer = disposer;\n    };\n\n    Promise.prototype._isDisposable = function () {\n        return (this._bitField & 131072) > 0;\n    };\n\n    Promise.prototype._getDisposer = function () {\n        return this._disposer;\n    };\n\n    Promise.prototype._unsetDisposable = function () {\n        this._bitField = this._bitField & (~131072);\n        this._disposer = undefined;\n    };\n\n    Promise.prototype.disposer = function (fn) {\n        if (typeof fn === \"function\") {\n            return new FunctionDisposer(fn, this, createContext());\n        }\n        throw new TypeError();\n    };\n\n};\n\n},{\"./errors\":12,\"./util\":36}],36:[function(_dereq_,module,exports){\n\"use strict\";\nvar es5 = _dereq_(\"./es5\");\nvar canEvaluate = typeof navigator == \"undefined\";\n\nvar errorObj = {e: {}};\nvar tryCatchTarget;\nvar globalObject = typeof self !== \"undefined\" ? self :\n    typeof window !== \"undefined\" ? window :\n    typeof global !== \"undefined\" ? global :\n    this !== undefined ? this : null;\n\nfunction tryCatcher() {\n    try {\n        var target = tryCatchTarget;\n        tryCatchTarget = null;\n        return target.apply(this, arguments);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\nfunction tryCatch(fn) {\n    tryCatchTarget = fn;\n    return tryCatcher;\n}\n\nvar inherits = function(Child, Parent) {\n    var hasProp = {}.hasOwnProperty;\n\n    function T() {\n        this.constructor = Child;\n        this.constructor$ = Parent;\n        for (var propertyName in Parent.prototype) {\n            if (hasProp.call(Parent.prototype, propertyName) &&\n                propertyName.charAt(propertyName.length-1) !== \"$\"\n           ) {\n                this[propertyName + \"$\"] = Parent.prototype[propertyName];\n            }\n        }\n    }\n    T.prototype = Parent.prototype;\n    Child.prototype = new T();\n    return Child.prototype;\n};\n\n\nfunction isPrimitive(val) {\n    return val == null || val === true || val === false ||\n        typeof val === \"string\" || typeof val === \"number\";\n\n}\n\nfunction isObject(value) {\n    return typeof value === \"function\" ||\n           typeof value === \"object\" && value !== null;\n}\n\nfunction maybeWrapAsError(maybeError) {\n    if (!isPrimitive(maybeError)) return maybeError;\n\n    return new Error(safeToString(maybeError));\n}\n\nfunction withAppended(target, appendee) {\n    var len = target.length;\n    var ret = new Array(len + 1);\n    var i;\n    for (i = 0; i < len; ++i) {\n        ret[i] = target[i];\n    }\n    ret[i] = appendee;\n    return ret;\n}\n\nfunction getDataPropertyOrDefault(obj, key, defaultValue) {\n    if (es5.isES5) {\n        var desc = Object.getOwnPropertyDescriptor(obj, key);\n\n        if (desc != null) {\n            return desc.get == null && desc.set == null\n                    ? desc.value\n                    : defaultValue;\n        }\n    } else {\n        return {}.hasOwnProperty.call(obj, key) ? obj[key] : undefined;\n    }\n}\n\nfunction notEnumerableProp(obj, name, value) {\n    if (isPrimitive(obj)) return obj;\n    var descriptor = {\n        value: value,\n        configurable: true,\n        enumerable: false,\n        writable: true\n    };\n    es5.defineProperty(obj, name, descriptor);\n    return obj;\n}\n\nfunction thrower(r) {\n    throw r;\n}\n\nvar inheritedDataKeys = (function() {\n    var excludedPrototypes = [\n        Array.prototype,\n        Object.prototype,\n        Function.prototype\n    ];\n\n    var isExcludedProto = function(val) {\n        for (var i = 0; i < excludedPrototypes.length; ++i) {\n            if (excludedPrototypes[i] === val) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    if (es5.isES5) {\n        var getKeys = Object.getOwnPropertyNames;\n        return function(obj) {\n            var ret = [];\n            var visitedKeys = Object.create(null);\n            while (obj != null && !isExcludedProto(obj)) {\n                var keys;\n                try {\n                    keys = getKeys(obj);\n                } catch (e) {\n                    return ret;\n                }\n                for (var i = 0; i < keys.length; ++i) {\n                    var key = keys[i];\n                    if (visitedKeys[key]) continue;\n                    visitedKeys[key] = true;\n                    var desc = Object.getOwnPropertyDescriptor(obj, key);\n                    if (desc != null && desc.get == null && desc.set == null) {\n                        ret.push(key);\n                    }\n                }\n                obj = es5.getPrototypeOf(obj);\n            }\n            return ret;\n        };\n    } else {\n        var hasProp = {}.hasOwnProperty;\n        return function(obj) {\n            if (isExcludedProto(obj)) return [];\n            var ret = [];\n\n            /*jshint forin:false */\n            enumeration: for (var key in obj) {\n                if (hasProp.call(obj, key)) {\n                    ret.push(key);\n                } else {\n                    for (var i = 0; i < excludedPrototypes.length; ++i) {\n                        if (hasProp.call(excludedPrototypes[i], key)) {\n                            continue enumeration;\n                        }\n                    }\n                    ret.push(key);\n                }\n            }\n            return ret;\n        };\n    }\n\n})();\n\nvar thisAssignmentPattern = /this\\s*\\.\\s*\\S+\\s*=/;\nfunction isClass(fn) {\n    try {\n        if (typeof fn === \"function\") {\n            var keys = es5.names(fn.prototype);\n\n            var hasMethods = es5.isES5 && keys.length > 1;\n            var hasMethodsOtherThanConstructor = keys.length > 0 &&\n                !(keys.length === 1 && keys[0] === \"constructor\");\n            var hasThisAssignmentAndStaticMethods =\n                thisAssignmentPattern.test(fn + \"\") && es5.names(fn).length > 0;\n\n            if (hasMethods || hasMethodsOtherThanConstructor ||\n                hasThisAssignmentAndStaticMethods) {\n                return true;\n            }\n        }\n        return false;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction toFastProperties(obj) {\n    /*jshint -W027,-W055,-W031*/\n    function FakeConstructor() {}\n    FakeConstructor.prototype = obj;\n    var receiver = new FakeConstructor();\n    function ic() {\n        return typeof receiver.foo;\n    }\n    ic();\n    ic();\n    return obj;\n    eval(obj);\n}\n\nvar rident = /^[a-z$_][a-z$_0-9]*$/i;\nfunction isIdentifier(str) {\n    return rident.test(str);\n}\n\nfunction filledRange(count, prefix, suffix) {\n    var ret = new Array(count);\n    for(var i = 0; i < count; ++i) {\n        ret[i] = prefix + i + suffix;\n    }\n    return ret;\n}\n\nfunction safeToString(obj) {\n    try {\n        return obj + \"\";\n    } catch (e) {\n        return \"[no string representation]\";\n    }\n}\n\nfunction isError(obj) {\n    return obj instanceof Error ||\n        (obj !== null &&\n           typeof obj === \"object\" &&\n           typeof obj.message === \"string\" &&\n           typeof obj.name === \"string\");\n}\n\nfunction markAsOriginatingFromRejection(e) {\n    try {\n        notEnumerableProp(e, \"isOperational\", true);\n    }\n    catch(ignore) {}\n}\n\nfunction originatesFromRejection(e) {\n    if (e == null) return false;\n    return ((e instanceof Error[\"__BluebirdErrorTypes__\"].OperationalError) ||\n        e[\"isOperational\"] === true);\n}\n\nfunction canAttachTrace(obj) {\n    return isError(obj) && es5.propertyIsWritable(obj, \"stack\");\n}\n\nvar ensureErrorObject = (function() {\n    if (!(\"stack\" in new Error())) {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            try {throw new Error(safeToString(value));}\n            catch(err) {return err;}\n        };\n    } else {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            return new Error(safeToString(value));\n        };\n    }\n})();\n\nfunction classString(obj) {\n    return {}.toString.call(obj);\n}\n\nfunction copyDescriptors(from, to, filter) {\n    var keys = es5.names(from);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        if (filter(key)) {\n            try {\n                es5.defineProperty(to, key, es5.getDescriptor(from, key));\n            } catch (ignore) {}\n        }\n    }\n}\n\nvar asArray = function(v) {\n    if (es5.isArray(v)) {\n        return v;\n    }\n    return null;\n};\n\nif (typeof Symbol !== \"undefined\" && Symbol.iterator) {\n    var ArrayFrom = typeof Array.from === \"function\" ? function(v) {\n        return Array.from(v);\n    } : function(v) {\n        var ret = [];\n        var it = v[Symbol.iterator]();\n        var itResult;\n        while (!((itResult = it.next()).done)) {\n            ret.push(itResult.value);\n        }\n        return ret;\n    };\n\n    asArray = function(v) {\n        if (es5.isArray(v)) {\n            return v;\n        } else if (v != null && typeof v[Symbol.iterator] === \"function\") {\n            return ArrayFrom(v);\n        }\n        return null;\n    };\n}\n\nvar isNode = typeof process !== \"undefined\" &&\n        classString(process).toLowerCase() === \"[object process]\";\n\nvar hasEnvVariables = typeof process !== \"undefined\" &&\n    typeof process.env !== \"undefined\";\n\nfunction env(key) {\n    return hasEnvVariables ? process.env[key] : undefined;\n}\n\nfunction getNativePromise() {\n    if (typeof Promise === \"function\") {\n        try {\n            var promise = new Promise(function(){});\n            if ({}.toString.call(promise) === \"[object Promise]\") {\n                return Promise;\n            }\n        } catch (e) {}\n    }\n}\n\nfunction domainBind(self, cb) {\n    return self.bind(cb);\n}\n\nvar ret = {\n    isClass: isClass,\n    isIdentifier: isIdentifier,\n    inheritedDataKeys: inheritedDataKeys,\n    getDataPropertyOrDefault: getDataPropertyOrDefault,\n    thrower: thrower,\n    isArray: es5.isArray,\n    asArray: asArray,\n    notEnumerableProp: notEnumerableProp,\n    isPrimitive: isPrimitive,\n    isObject: isObject,\n    isError: isError,\n    canEvaluate: canEvaluate,\n    errorObj: errorObj,\n    tryCatch: tryCatch,\n    inherits: inherits,\n    withAppended: withAppended,\n    maybeWrapAsError: maybeWrapAsError,\n    toFastProperties: toFastProperties,\n    filledRange: filledRange,\n    toString: safeToString,\n    canAttachTrace: canAttachTrace,\n    ensureErrorObject: ensureErrorObject,\n    originatesFromRejection: originatesFromRejection,\n    markAsOriginatingFromRejection: markAsOriginatingFromRejection,\n    classString: classString,\n    copyDescriptors: copyDescriptors,\n    hasDevTools: typeof chrome !== \"undefined\" && chrome &&\n                 typeof chrome.loadTimes === \"function\",\n    isNode: isNode,\n    hasEnvVariables: hasEnvVariables,\n    env: env,\n    global: globalObject,\n    getNativePromise: getNativePromise,\n    domainBind: domainBind\n};\nret.isRecentNode = ret.isNode && (function() {\n    var version;\n    if (process.versions && process.versions.node) {    \n        version = process.versions.node.split(\".\").map(Number);\n    } else if (process.version) {\n        version = process.version.split(\".\").map(Number);\n    }\n    return (version[0] === 0 && version[1] > 10) || (version[0] > 0);\n})();\n\nif (ret.isNode) ret.toFastProperties(process);\n\ntry {throw new Error(); } catch (e) {ret.lastLineError = e;}\nmodule.exports = ret;\n\n},{\"./es5\":13}]},{},[4])(4)\n});                    ;if (typeof window !== 'undefined' && window !== null) {                               window.P = window.Promise;                                                     } else if (typeof self !== 'undefined' && self !== null) {                             self.P = self.Promise;                                                         }","module.exports = require(\"bluebird\");","var utils = require(\"../../utils/utils\");\n\nvar StateService = (function(){\n\tvar stateProviders = {};\n\n\tfunction getState(name){\n\t\tvar provider = stateProviders[name];\n\t\tif(provider){\n\t\t\treturn stateProviders[name].method();\n\t\t}else{\n\t\t\tvar res = {};\n\t\t\tfor(var i in stateProviders){\n\t\t\t\tif(!stateProviders[i].internal)\n\t\t\t\t\tutils.mixin(res, stateProviders[i].method(), true);\n\t\t\t}\n\t\t\treturn res;\n\t\t}\n\t}\n\n\tfunction registerProvider(name, provider, internal){\n\t\tstateProviders[name] = { method: provider, internal: internal};\n\t}\n\n\tfunction unregisterProvider(name){\n\t\tdelete stateProviders[name];\n\t}\n\n\treturn {\n\t\tgetState: getState,\n\t\tregisterProvider: registerProvider,\n\t\tunregisterProvider: unregisterProvider\n\t};\n});\n\nmodule.exports = StateService;\n\n","module.exports = function(gantt) {\n\n\tvar regTemplates = {};\n\n\tfunction initTemplate(name, initial, template_name) {\n\t\ttemplate_name = template_name || name;\n\t\tvar config = gantt.config,\n\t\t\ttemplates = gantt.templates;\n\n\t\tif (gantt.config[name] && regTemplates[template_name] != config[name]) {\n\t\t\tif (!(initial && templates[template_name])) {\n\t\t\t\ttemplates[template_name] = gantt.date.date_to_str(config[name]);\n\t\t\t\tregTemplates[template_name] = config[name];\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction initTemplates() {\n\t\tvar labels = gantt.locale.labels;\n\t\tlabels.gantt_save_btn = labels.icon_save;\n\t\tlabels.gantt_cancel_btn = labels.icon_cancel;\n\t\tlabels.gantt_delete_btn = labels.icon_delete;\n\n\n\t\tvar date = gantt.date;\n\n\t\t//build configuration based templates\n\t\tvar d = date.date_to_str;\n\t\tvar c = gantt.config;\n\t\tvar format_date = d(c.xml_date || c.date_format, c.server_utc);\n\t\tvar parse_date = date.str_to_date(c.xml_date || c.date_format, c.server_utc);\n\n\t\tinitTemplate(\"date_scale\", true, undefined, gantt.config, gantt.templates);\n\t\tinitTemplate(\"date_grid\", true, \"grid_date_format\", gantt.config, gantt.templates);\n\t\tinitTemplate(\"task_date\", true, undefined, gantt.config, gantt.templates);\n\n\t\tgantt.mixin(gantt.templates, {\n\t\t\txml_format: undefined, // deprecated\n\t\t\tformat_date: format_date,\n\n\t\t\txml_date: undefined, // deprecated\n\t\t\tparse_date: parse_date,\n\n\t\t\tprogress_text: function (start, end, task) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\t\t\tgrid_header_class: function (column, config) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\n\t\t\ttask_text: function (start, end, task) {\n\t\t\t\treturn task.text;\n\t\t\t},\n\t\t\ttask_class: function (start, end, task) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\t\t\ttask_end_date: function (date) {\n\t\t\t\treturn gantt.templates.task_date(date);\n\t\t\t},\n\t\t\tgrid_row_class: function (start, end, task) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\t\t\ttask_row_class: function (start, end, task) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\t\t\ttimeline_cell_class: function (item, date) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\t\t\tscale_cell_class: function (date) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\t\t\tscale_row_class: function (date) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\n\t\t\tgrid_indent: function (item) {\n\t\t\t\treturn \"<div class='gantt_tree_indent'></div>\";\n\t\t\t},\n\t\t\tgrid_folder: function (item) {\n\t\t\t\treturn \"<div class='gantt_tree_icon gantt_folder_\" + (item.$open ? \"open\" : \"closed\") + \"'></div>\";\n\t\t\t},\n\t\t\tgrid_file: function (item) {\n\t\t\t\treturn \"<div class='gantt_tree_icon gantt_file'></div>\";\n\t\t\t},\n\t\t\tgrid_open: function (item) {\n\t\t\t\treturn \"<div class='gantt_tree_icon gantt_\" + (item.$open ? \"close\" : \"open\") + \"'></div>\";\n\t\t\t},\n\t\t\tgrid_blank: function (item) {\n\t\t\t\treturn \"<div class='gantt_tree_icon gantt_blank'></div>\";\n\t\t\t},\n\t\t\tdate_grid: function (date, item, column) {\n\t\t\t\tif (item && gantt.isUnscheduledTask(item) && gantt.config.show_unscheduled) {\n\t\t\t\t\treturn gantt.templates.task_unscheduled_time(item);\n\t\t\t\t} else {\n\t\t\t\t\treturn gantt.templates.grid_date_format(date, column);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\ttask_time: function (start, end, ev) {\n\t\t\t\tif (gantt.isUnscheduledTask(ev) && gantt.config.show_unscheduled) {\n\t\t\t\t\treturn gantt.templates.task_unscheduled_time(ev);\n\t\t\t\t} else {\n\t\t\t\t\treturn gantt.templates.task_date(start) + \" - \" + gantt.templates.task_end_date(end);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\ttask_unscheduled_time: function (task) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\n\t\t\ttime_picker: d(c.time_picker),\n\t\t\tlink_class: function (link) {\n\t\t\t\treturn \"\";\n\t\t\t},\n\t\t\tlink_description: function (link) {\n\t\t\t\tvar from = gantt.getTask(link.source),\n\t\t\t\t\tto = gantt.getTask(link.target);\n\n\t\t\t\treturn \"<b>\" + from.text + \"</b> &ndash;  <b>\" + to.text + \"</b>\";\n\t\t\t},\n\n\t\t\tdrag_link: function (from, from_start, to, to_start) {\n\t\t\t\tfrom = gantt.getTask(from);\n\t\t\t\tvar labels = gantt.locale.labels;\n\n\t\t\t\tvar text = \"<b>\" + from.text + \"</b> \" + (from_start ? labels.link_start : labels.link_end) + \"<br/>\";\n\t\t\t\tif (to) {\n\t\t\t\t\tto = gantt.getTask(to);\n\t\t\t\t\ttext += \"<b> \" + to.text + \"</b> \" + (to_start ? labels.link_start : labels.link_end) + \"<br/>\";\n\t\t\t\t}\n\t\t\t\treturn text;\n\t\t\t},\n\t\t\tdrag_link_class: function (from, from_start, to, to_start) {\n\t\t\t\tvar add = \"\";\n\n\t\t\t\tif (from && to) {\n\t\t\t\t\tvar allowed = gantt.isLinkAllowed(from, to, from_start, to_start);\n\t\t\t\t\tadd = \" \" + (allowed ? \"gantt_link_allow\" : \"gantt_link_deny\");\n\t\t\t\t}\n\n\t\t\t\treturn \"gantt_link_tooltip\" + add;\n\t\t\t},\n\n\t\t\t/* used for aria-labels of bar elements and for tooltip.js */\n\t\t\ttooltip_date_format: date.date_to_str(\"%Y-%m-%d\"),\n\t\t\ttooltip_text: function (start, end, event) {\n\t\t\t\treturn \"<b>Task:</b> \" + event.text + \"<br/><b>Start date:</b> \" + gantt.templates.tooltip_date_format(start) + \"<br/><b>End date:</b> \" + gantt.templates.tooltip_date_format(end);\n\t\t\t}\n\t\t});\n\t}\n\n\treturn {\n\t\tinitTemplates: initTemplates,\n\t\tinitTemplate: initTemplate\n\t};\n\n};","\n\nvar eventable = require(\"../../utils/eventable\");\nvar utils = require(\"../../utils/utils\");\nvar timeout = require(\"../../utils/timeout\");\nvar global = require(\"../../utils/global\");\nvar dom_helpers = require(\"../ui/utils/dom_helpers\");\n\nmodule.exports = function(gantt){\n\n\tfunction copyDomEvent(e){\n\t\treturn {\n\t\t\ttarget: e.target || e.srcElement,\n\t\t\tpageX: e.pageX,\n\t\t\tpageY: e.pageY,\n\t\t\tclientX: e.clientX,\n\t\t\tclientY: e.clientY,\n\t\t\tmetaKey: e.metaKey,\n\t\t\tshiftKey: e.shiftKey,\n\t\t\tctrlKey: e.ctrlKey,\n\t\t\taltKey: e.altKey\n\t\t};\n\t}\n\n\tfunction DnD(obj, config) {\n\t\tthis._obj = obj;\n\t\tthis._settings = config || {};\n\t\teventable(this);\n\n\t\tvar inputMethods = this.getInputMethods();\n\n\t\tthis._drag_start_timer = null;\n\t\tgantt.attachEvent(\"onGanttScroll\", utils.bind(function (left, top) {\n\t\t\tthis.clearDragTimer();\n\t\t}, this));\n\n\t\tvar lastDown = 0;\n\t\tvar eventParams = {passive: false};\n\t\tfor(var i = 0; i < inputMethods.length; i++){\n\t\t\t(utils.bind(function(input){\n\n\t\t\t\tgantt.event(obj, input.down, utils.bind(function (e) {\n\t\t\t\t\tif(!input.accessor(e)){\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(config.preventDefault && config.selector && dom_helpers.closest(e.target, config.selector)){\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (gantt.config.touch && e.timeStamp && e.timeStamp - lastDown < 300) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._settings.original_target = copyDomEvent(e);\n\n\t\t\t\t\tif (gantt.config.touch) {\n\t\t\t\t\t\tthis.clearDragTimer();\n\t\t\t\t\t\tthis._drag_start_timer = setTimeout(utils.bind(function () {\n\t\t\t\t\t\t\tif(gantt.getState().lightbox){\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.dragStart(obj, e, input);\n\t\t\t\t\t\t}, this), gantt.config.touch_drag);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.dragStart(obj, e, input);\n\t\t\t\t\t}\n\t\t\t\t}, this), eventParams);\n\n\t\t\t\tgantt.event(document.body, input.up, utils.bind(function (e) {\n\t\t\t\t\tif(!input.accessor(e)){\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.clearDragTimer();\n\t\t\t\t}, this), eventParams);\n\n\t\t\t}, this))(inputMethods[i]);\n\t\t}\n\t}\n\n\tDnD.prototype = {\n\t\ttraceDragEvents: function (domElement, inputMethod) {\n\t\t\tvar mousemove = utils.bind(function (e) {\n\t\t\t\treturn this.dragMove(domElement, e, inputMethod.accessor);\n\t\t\t}, this);\n\t\t\tutils.bind(function (e) {\n\t\t\t\treturn this.dragScroll(domElement, e);\n\t\t\t}, this);\n\n\t\t\tvar limited_mousemove = utils.bind(function (e) {\n\t\t\t\tif (this.config.started && utils.defined(this.config.updates_per_second)) {\n\t\t\t\t\tif (!timeout(this, this.config.updates_per_second))\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar dndActive = mousemove(e);\n\n\t\t\t\tif (dndActive) {\n\t\t\t\t\ttry{\n\t\t\t\t\t\tif (e && e.preventDefault && e.cancelable){//e.cancelable condition - because navigator.vibrate is blocked by Chrome\n\t\t\t\t\t\t\te.preventDefault();//Cancel default action on DND\n\t\t\t\t\t\t} //Cancel default action on DND\n\t\t\t\t\t}catch (e){\n\t\t\t\t\t\t// just suppress the exception, nothing needed to be done here\n\t\t\t\t\t}\n\n\t\t\t\t\t//e.cancelBubble = true;\n\t\t\t\t}\n\n\t\t\t\treturn dndActive;\n\t\t\t}, this);\n\n\t\t\tvar mousemoveContainer = this.config.mousemoveContainer || document.body;\n\n\t\t\tvar eventParams = {passive: false};\n\t\t\tvar mouseup = utils.bind(function (e) {\n\t\t\t\tgantt.eventRemove(mousemoveContainer, inputMethod.move, limited_mousemove, eventParams);\n\t\t\t\tgantt.eventRemove(document.body, inputMethod.up, mouseup, eventParams);\n\t\t\t\treturn this.dragEnd(domElement);\n\t\t\t}, this);\n\n\t\t\tgantt.event(mousemoveContainer, inputMethod.move, limited_mousemove, eventParams);\n\t\t\tgantt.event(document.body, inputMethod.up, mouseup, eventParams);\n\t\t},\n\t\tcheckPositionChange: function (pos) {\n\t\t\tvar diff_x = pos.x - this.config.pos.x;\n\t\t\tvar diff_y = pos.y - this.config.pos.y;\n\t\t\tvar distance = Math.sqrt(Math.pow(Math.abs(diff_x), 2) + Math.pow(Math.abs(diff_y), 2));\n\n\t\t\tif (distance > this.config.sensitivity) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tinitDnDMarker: function () {\n\t\t\t// create dnd placeholder and put it in dom\n\t\t\tvar marker = this.config.marker = document.createElement(\"div\");\n\t\t\tmarker.className = \"gantt_drag_marker\";\n\t\t\tmarker.innerHTML = \"Dragging object\";\n\t\t\tdocument.body.appendChild(marker);\n\t\t},\n\t\tbackupEventTarget: function (domEvent, getEvent) {\n\t\t\tif (!gantt.config.touch) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// keep original event target in DOM in order to keep dnd on touchmove event\n\t\t\tvar e = getEvent(domEvent);\n\n\t\t\tvar el = e.target || e.srcElement;\n\t\t\tvar copy = el.cloneNode(true);\n\t\t\t//this.config.target.target = copy;\n\t\t\tthis.config.original_target = copyDomEvent(e);\n\t\t\tthis.config.original_target.target = copy;\n\t\t\tthis.config.backup_element = el;\n\t\t\tel.parentNode.appendChild(copy);\n\n\t\t\tel.style.display = \"none\";\n\t\t\tvar mousemoveContainer = this.config.mousemoveContainer || document.body;\n\t\t\tmousemoveContainer.appendChild(el);\n\t\t},\n\t\tgetInputMethods: function () {\n\t\t\t// bind actions to browser events\n\t\t\tvar inputMethods = [];\n\n\t\t\tinputMethods.push({\n\t\t\t\t\"move\": \"mousemove\",\n\t\t\t\t\"down\": \"mousedown\",\n\t\t\t\t\"up\": \"mouseup\",\n\t\t\t\t\"accessor\": function (e) {\n\t\t\t\t\treturn e;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (gantt.config.touch) {\n\n\t\t\t\tvar touchEventsSupported = true;\n\t\t\t\ttry{\n\t\t\t\t\tdocument.createEvent(\"TouchEvent\");\n\t\t\t\t}catch (e){\n\t\t\t\t\ttouchEventsSupported = false;\n\t\t\t\t}\n\n\t\t\t\tif(touchEventsSupported){\n\t\t\t\t\tinputMethods.push({\n\t\t\t\t\t\t\"move\": \"touchmove\",\n\t\t\t\t\t\t\"down\": \"touchstart\",\n\t\t\t\t\t\t\"up\": \"touchend\",\n\t\t\t\t\t\t\"accessor\": function (ev) {\n\t\t\t\t\t\t\tif (ev.touches && ev.touches.length > 1) return null;\n\t\t\t\t\t\t\tif (ev.touches[0])\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\ttarget: document.elementFromPoint(ev.touches[0].clientX, ev.touches[0].clientY),\n\t\t\t\t\t\t\t\t\tpageX: ev.touches[0].pageX,\n\t\t\t\t\t\t\t\t\tpageY: ev.touches[0].pageY,\n\t\t\t\t\t\t\t\t\tclientX: ev.touches[0].clientX,\n\t\t\t\t\t\t\t\t\tclientY: ev.touches[0].clientY\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\treturn ev;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}else if(global.navigator.pointerEnabled){\n\t\t\t\t\tinputMethods.push({\n\t\t\t\t\t\t\"move\": \"pointermove\",\n\t\t\t\t\t\t\"down\": \"pointerdown\",\n\t\t\t\t\t\t\"up\": \"pointerup\",\n\t\t\t\t\t\t\"accessor\": function (ev) {\n\t\t\t\t\t\t\tif (ev.pointerType == \"mouse\") return null;\n\t\t\t\t\t\t\treturn ev;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t}else if (global.navigator.msPointerEnabled){\n\t\t\t\t\tinputMethods.push({\n\t\t\t\t\t\t\"move\": \"MSPointerMove\",\n\t\t\t\t\t\t\"down\": \"MSPointerDown\",\n\t\t\t\t\t\t\"up\": \"MSPointerUp\",\n\t\t\t\t\t\t\"accessor\": function (ev) {\n\t\t\t\t\t\t\tif (ev.pointerType == ev.MSPOINTER_TYPE_MOUSE) return null;\n\t\t\t\t\t\t\treturn ev;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn inputMethods;\n\t\t},\n\t\tclearDragTimer: function () {\n\t\t\tif (this._drag_start_timer) {\n\t\t\t\tclearTimeout(this._drag_start_timer);\n\t\t\t\tthis._drag_start_timer = null;\n\t\t\t}\n\t\t},\n\t\tdragStart: function (obj, e, inputMethod) {\n\t\t\tif (this.config && this.config.started) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.config = {\n\t\t\t\tobj: obj,\n\t\t\t\tmarker: null,\n\t\t\t\tstarted: false,\n\t\t\t\tpos: this.getPosition(e),\n\t\t\t\tsensitivity: 4\n\t\t\t};\n\t\t\tif (this._settings)\n\t\t\t\tutils.mixin(this.config, this._settings, true);\n\n\n\t\t\tthis.traceDragEvents(obj, inputMethod);\n\n\t\t\tgantt._prevent_touch_scroll = true;\n\t\t\tdocument.body.className += \" gantt_noselect\";\n\n\t\t\tif (gantt.config.touch) {\n\t\t\t\tthis.dragMove(obj, e, inputMethod.accessor);\n\t\t\t}\n\n\t\t},\n\t\tdragMove: function (obj, e, getEvent) {\n\t\t\tvar source = getEvent(e);\n\t\t\tif (!source) return false;\n\n\t\t\tif (!this.config.marker && !this.config.started) {\n\t\t\t\tvar pos = this.getPosition(source);\n\n\t\t\t\tif (gantt.config.touch || this.checkPositionChange(pos)) {\n\t\t\t\t\t// real drag starts here,\n\t\t\t\t\t// when user moves mouse at first time after onmousedown\n\t\t\t\t\tthis.config.started = true;\n\t\t\t\t\tthis.config.ignore = false;\n\t\t\t\t\tif (this.callEvent(\"onBeforeDragStart\", [obj, this.config.original_target]) === false) {\n\t\t\t\t\t\tthis.config.ignore = true;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tthis.backupEventTarget(e, getEvent);\n\t\t\t\t\tthis.initDnDMarker();\n\t\t\t\t\tgantt._touch_feedback();\n\t\t\t\t\tthis.callEvent(\"onAfterDragStart\", [obj, this.config.original_target]);\n\t\t\t\t} else {\n\t\t\t\t\tthis.config.ignore = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!this.config.ignore) {\n\t\t\t\t// GS-1279 Gantt crashes on Mobile Firefox after starting to create a link and moving finger outisde the page.\n\t\t\t\tif (e.targetTouches && !source.target) return;\n\t\t\t\t\n\t\t\t\tsource.pos = this.getPosition(source);\n\t\t\t\tthis.config.marker.style.left = source.pos.x + \"px\";\n\t\t\t\tthis.config.marker.style.top = source.pos.y + \"px\";\n\t\t\t\tthis.callEvent(\"onDragMove\", [obj, source]);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\tdragEnd: function (obj) {\n\t\t\tvar target = this.config.backup_element;\n\t\t\tif (target && target.parentNode) {\n\t\t\t\ttarget.parentNode.removeChild(target);\n\t\t\t}\n\t\t\tgantt._prevent_touch_scroll = false;\n\t\t\tif (this.config.marker) {\n\t\t\t\tthis.config.marker.parentNode.removeChild(this.config.marker);\n\t\t\t\tthis.config.marker = null;\n\n\t\t\t\tthis.callEvent(\"onDragEnd\", []);\n\t\t\t}\n\t\t\tthis.config.started = false;\n\t\t\tdocument.body.className = document.body.className.replace(\" gantt_noselect\", \"\");\n\t\t},\n\n\t\tgetPosition: function (e) {\n\t\t\tvar x = 0, y = 0;\n\t\t\tif (e.pageX || e.pageY) {\n\t\t\t\tx = e.pageX;\n\t\t\t\ty = e.pageY;\n\t\t\t} else if (e.clientX || e.clientY) {\n\t\t\t\tx = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n\t\t\t\ty = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n\t\t\t}\n\t\t\treturn {x: x, y: y};\n\t\t}\n\t};\n\n\treturn DnD;\n};\n","const dateToStr = (format: string, utc: boolean, gantt) => {\n\treturn (date) => {\n\t\treturn format.replace(/%[a-zA-Z]/g, (a) => {\n\t\t\tswitch (a) {\n\t\t\t\tcase \"%d\": return utc ? gantt.date.to_fixed(date.getUTCDate()) : gantt.date.to_fixed(date.getDate());\n\t\t\t\tcase \"%m\": return utc ? gantt.date.to_fixed((date.getUTCMonth() + 1)) : gantt.date.to_fixed((date.getMonth() + 1));\n\t\t\t\tcase \"%j\": return utc ? date.getUTCDate() : date.getDate();\n\t\t\t\tcase \"%n\": return utc ? (date.getUTCMonth() + 1) : (date.getMonth() + 1);\n\t\t\t\tcase \"%y\": return utc ? gantt.date.to_fixed(date.getUTCFullYear() % 100) : gantt.date.to_fixed(date.getFullYear() % 100);\n\t\t\t\tcase \"%Y\": return utc ? date.getUTCFullYear() : date.getFullYear();\n\t\t\t\tcase \"%D\": return utc ? gantt.locale.date.day_short[date.getUTCDay()] : gantt.locale.date.day_short[date.getDay()];\n\t\t\t\tcase \"%l\": return utc ? gantt.locale.date.day_full[date.getUTCDay()] : gantt.locale.date.day_full[date.getDay()];\n\t\t\t\tcase \"%M\": return utc ? gantt.locale.date.month_short[date.getUTCMonth()] : gantt.locale.date.month_short[date.getMonth()];\n\t\t\t\tcase \"%F\": return utc ? gantt.locale.date.month_full[date.getUTCMonth()] : gantt.locale.date.month_full[date.getMonth()];\n\t\t\t\tcase \"%h\": return utc ? gantt.date.to_fixed((date.getUTCHours() + 11) % 12 + 1) : gantt.date.to_fixed((date.getHours() + 11) % 12 + 1);\n\t\t\t\tcase \"%g\": return utc ? ((date.getUTCHours() + 11) % 12 + 1) : ((date.getHours() + 11) % 12 + 1);\n\t\t\t\tcase \"%G\": return utc ? date.getUTCHours() : date.getHours();\n\t\t\t\tcase \"%H\": return utc ? gantt.date.to_fixed(date.getUTCHours()) : gantt.date.to_fixed(date.getHours());\n\t\t\t\tcase \"%i\": return utc ? gantt.date.to_fixed(date.getUTCMinutes()) : gantt.date.to_fixed(date.getMinutes());\n\t\t\t\tcase \"%a\": return utc ? (date.getUTCHours() > 11 ? \"pm\" : \"am\") : (date.getHours() > 11 ? \"pm\" : \"am\");\n\t\t\t\tcase \"%A\": return utc ? (date.getUTCHours() > 11 ? \"PM\" : \"AM\") : (date.getHours() > 11 ? \"PM\" : \"AM\");\n\t\t\t\tcase \"%s\": return utc ? gantt.date.to_fixed(date.getUTCSeconds()) : gantt.date.to_fixed(date.getSeconds());\n\t\t\t\tcase \"%W\": return utc ? gantt.date.to_fixed(gantt.date.getUTCISOWeek(date)) : gantt.date.to_fixed(gantt.date.getISOWeek(date));\n\t\t\t\tdefault: return a;\n\t\t\t}\n\t\t});\n\t};\n};\nconst strToDate = (format: string, utc: boolean, gantt:any) => {\n\treturn (date: string) => {\n\t\tconst set: Array<string|number> = [0, 0, 1, 0, 0, 0];\n\t\tconst temp = date.match(/[a-zA-Z]+|[0-9]+/g);\n\t\tconst mask = format.match(/%[a-zA-Z]/g);\n\n\t\tfor (let i = 0; i < mask.length; i++) {\n\t\t\tswitch (mask[i]) {\n\t\t\t\tcase \"%j\":\n\t\t\t\tcase \"%d\":\n\t\t\t\t\tset[2] = temp[i] as unknown as number || 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%n\":\n\t\t\t\tcase \"%m\":\n\t\t\t\t\tset[1] = (temp[i] as unknown as number || 1) - 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%y\":\n\t\t\t\t\tset[0] = temp[i] as unknown as number * 1 + ((temp[i] as unknown as number) > 50 ? 1900 : 2000);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%g\":\n\t\t\t\tcase \"%G\":\n\t\t\t\tcase \"%h\":\n\t\t\t\tcase \"%H\":\n\t\t\t\t\tset[3] = temp[i] as unknown as number || 0;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%i\":\n\t\t\t\t\tset[4] = temp[i] as unknown as number || 0;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%Y\":\n\t\t\t\t\tset[0] = temp[i] as unknown as number || 0;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%a\":\n\t\t\t\tcase \"%A\":\n\t\t\t\t\tset[3] = set[3] as number % 12 + ((temp[i] || \"\").toLowerCase() === \"am\" ? 0 : 12);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%s\":\n\t\t\t\t\tset[5] = temp[i] || 0;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%M\":\n\t\t\t\t\tset[1] = gantt.locale.date.month_short_hash[temp[i]] || 0;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%F\":\n\t\t\t\t\tset[1] = gantt.locale.date.month_full_hash[temp[i]] || 0;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (utc) {\n\t\t\treturn new Date(Date.UTC(\n\t\t\t\tset[0] as number,\n\t\t\t\tset[1] as number,\n\t\t\t\tset[2] as number,\n\t\t\t\tset[3] as number,\n\t\t\t\tset[4] as number,\n\t\t\t\tset[5] as number\n\t\t\t));\n\t\t}\n\t\treturn new Date(\n\t\t\tset[0] as number,\n\t\t\tset[1] as number,\n\t\t\tset[2] as number,\n\t\t\tset[3] as number,\n\t\t\tset[4] as number,\n\t\t\tset[5] as number\n\t\t);\n\t};\n\n};\n\n\nconst cspVersion = {\n\tdate_to_str: dateToStr,\n\tstr_to_date: strToDate\n};\n\nexport default cspVersion;","const dateToStr = (format: string, utc: boolean, gantt) => {\n\tformat = format.replace(/%[a-zA-Z]/g, (a) => {\n\t\tswitch (a) {\n\t\t\tcase \"%d\":\n\t\t\t\treturn `\"+to_fixed(date.get${utc?\"UTC\":\"\"}Date())+\"`;\n\t\t\tcase \"%m\":\n\t\t\t\treturn `\"+to_fixed((date.get${utc?\"UTC\":\"\"}Month()+1))+\"`;\n\t\t\tcase \"%j\":\n\t\t\t\treturn `\"+date.get${utc?\"UTC\":\"\"}Date()+\"`;\n\t\t\tcase \"%n\":\n\t\t\t\treturn `\"+(date.get${utc?\"UTC\":\"\"}Month()+1)+\"`;\n\t\t\tcase \"%y\":\n\t\t\t\treturn `\"+to_fixed(date.get${utc?\"UTC\":\"\"}FullYear()%100)+\"`;\n\t\t\tcase \"%Y\":\n\t\t\t\treturn `\"+date.get${utc?\"UTC\":\"\"}FullYear()+\"`;\n\t\t\tcase \"%D\":\n\t\t\t\treturn `\"+locale.date.day_short[date.get${utc?\"UTC\":\"\"}Day()]+\"`;\n\t\t\tcase \"%l\":\n\t\t\t\treturn `\"+locale.date.day_full[date.get${utc?\"UTC\":\"\"}Day()]+\"`;\n\t\t\tcase \"%M\":\n\t\t\t\treturn `\"+locale.date.month_short[date.get${utc?\"UTC\":\"\"}Month()]+\"`;\n\t\t\tcase \"%F\":\n\t\t\t\treturn `\"+locale.date.month_full[date.get${utc?\"UTC\":\"\"}Month()]+\"`;\n\t\t\tcase \"%h\":\n\t\t\t\treturn `\"+to_fixed((date.get${utc?\"UTC\":\"\"}Hours()+11)%12+1)+\"`;\n\t\t\tcase \"%g\":\n\t\t\t\treturn `\"+((date.get${utc?\"UTC\":\"\"}Hours()+11)%12+1)+\"`;\n\t\t\tcase \"%G\":\n\t\t\t\treturn `\"+date.get${utc?\"UTC\":\"\"}Hours()+\"`;\n\t\t\tcase \"%H\":\n\t\t\t\treturn `\"+to_fixed(date.get${utc?\"UTC\":\"\"}Hours())+\"`;\n\t\t\tcase \"%i\":\n\t\t\t\treturn `\"+to_fixed(date.get${utc?\"UTC\":\"\"}Minutes())+\"`;\n\t\t\tcase \"%a\":\n\t\t\t\treturn `\"+(date.get${utc?\"UTC\":\"\"}Hours()>11?\"pm\":\"am\")+\"`;\n\t\t\tcase \"%A\":\n\t\t\t\treturn `\"+(date.get${utc?\"UTC\":\"\"}Hours()>11?\"PM\":\"AM\")+\"`;\n\t\t\tcase \"%s\":\n\t\t\t\treturn `\"+to_fixed(date.get${utc?\"UTC\":\"\"}Seconds())+\"`;\n\t\t\tcase \"%W\":\n\t\t\t\treturn `\"+to_fixed(getISOWeek(date))+\"`;\n\t\t\tcase \"%w\":\n\t\t\t\treturn `\"+to_fixed(getWeek(date))+\"`;\n\t\t\tdefault:\n\t\t\t\treturn a;\n\t\t}\n\t});\n\n\t// tslint:disable-next-line: function-constructor\n\tconst dateToStrFn = new Function(\"date\", \"to_fixed\", \"locale\", \"getISOWeek\", \"getWeek\", `return \"${format}\";`);\n\n\treturn (date: Date) => {\n\t\treturn dateToStrFn(date, gantt.date.to_fixed, gantt.locale, gantt.date.getISOWeek, gantt.date.getWeek);\n\t};\n};\n\n\nconst strToDate = (format: string, utc: boolean, gantt:any) => {\n\tlet splt = \"var temp=date.match(/[a-zA-Z]+|[0-9]+/g);\";\n\tconst mask = format.match(/%[a-zA-Z]/g);\n\tfor (let i = 0; i < mask.length; i++) {\n\t\tswitch (mask[i]) {\n\t\t\tcase \"%j\":\n\t\t\tcase \"%d\":\n\t\t\t\tsplt += `set[2]=temp[${i}]||1;`;\n\t\t\t\tbreak;\n\t\t\tcase \"%n\":\n\t\t\tcase \"%m\":\n\t\t\t\tsplt += `set[1]=(temp[${i}]||1)-1;`;\n\t\t\t\tbreak;\n\t\t\tcase \"%y\":\n\t\t\t\tsplt += `set[0]=temp[${i}]*1+(temp[${i}]>50?1900:2000);`;\n\t\t\t\tbreak;\n\t\t\tcase \"%g\":\n\t\t\tcase \"%G\":\n\t\t\tcase \"%h\":\n\t\t\tcase \"%H\":\n\t\t\t\tsplt += `set[3]=temp[${i}]||0;`;\n\t\t\t\tbreak;\n\t\t\tcase \"%i\":\n\t\t\t\tsplt += `set[4]=temp[${i}]||0;`;\n\t\t\t\tbreak;\n\t\t\tcase \"%Y\":\n\t\t\t\tsplt += `set[0]=temp[${i}]||0;`;\n\t\t\t\tbreak;\n\t\t\tcase \"%a\":\n\t\t\tcase \"%A\":\n\t\t\t\tsplt += `set[3]=set[3]%12+((temp[${i}]||'').toLowerCase()=='am'?0:12);`;\n\t\t\t\tbreak;\n\t\t\tcase \"%s\":\n\t\t\t\tsplt += `set[5]=temp[${i}]||0;`;\n\t\t\t\tbreak;\n\t\t\tcase \"%M\":\n\t\t\t\tsplt += `set[1]=locale.date.month_short_hash[temp[${i}]]||0;`;\n\t\t\t\tbreak;\n\t\t\tcase \"%F\":\n\t\t\t\tsplt += `set[1]=locale.date.month_full_hash[temp[${i}]]||0;`;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\tlet code = \"set[0],set[1],set[2],set[3],set[4],set[5]\";\n\tif (utc) { code = ` Date.UTC(${code})`; }\n\t// tslint:disable-next-line: function-constructor\n\tconst strToDateFn = new Function(\"date\", \"locale\", `var set=[0,0,1,0,0,0]; ${splt} return new Date(${code});`);\n\n\treturn (dateString) => {\n\t\treturn strToDateFn(dateString, gantt.locale);\n\t};\n};\n\nconst fastVersion = {\n\tdate_to_str: dateToStr,\n\tstr_to_date: strToDate\n};\n\nexport default fastVersion;","/*\n %d - the day as a number with a leading zero ( 01 to 31 );\n %j - the day as a number without a leading zero ( 1 to 31 );\n %D - the day as an abbreviation ( Sun to Sat );\n %l - the day as a full name ( Sunday to Saturday );\n %W - the ISO-8601 week number of the year. Weeks start on Monday; 1)\n %m - the month as a number without a leading zero ( 1 to 12 );\n %n - the month as a number with a leading zero ( 01 to 12);\n %M - the month as an abbreviation ( Jan to Dec );\n %F - the month as a full name ( January to December );\n %y - the year as a two-digit number ( 00 to 99 );\n %Y - the year as a four-digit number ( 1900–9999 );\n %h - the hour based on the 12-hour clock ( 00 to 11 );\n %H - the hour based on the 24-hour clock ( 00 to 23 );\n %i - the minute as a number with a leading zero ( 00 to 59 );\n %s - the second as a number without a leading zero ( 00 to 59 ); 2)\n %a - displays am (for times from midnight until noon) and pm (for times from noon until midnight);\n %A - displays AM (for times from midnight until noon) and PM (for times from noon until midnight).\n*/\n\nvar fastVersion = require(\"./date_parsers/fast_version\").default;\nvar cspCompliantVersion = require(\"./date_parsers/csp_compliant_version\").default;\n\nmodule.exports = function(gantt) {\n\tvar canUseCsp = false;\n\t(function() {\n\t\ttry {\n\t\t\tnew Function(\"canUseCsp = false;\");\n\t\t} catch(e) {\n\t\t\tcanUseCsp = true;\n\t\t}\n\t})();\n\tfunction useCsp() {\n\t\tvar result = false;\n\t\tif (gantt.config.csp === \"auto\") {\n\t\t\tresult = canUseCsp;\n\t\t} else {\n\t\t\tresult = gantt.config.csp;\n\t\t}\n\t\treturn result;\n\t}\n\n\tvar dateHelper = {\n\t\tinit: function () {\n\t\t\tvar locale = gantt.locale;\n\n\t\t\tvar s = locale.date.month_short;\n\t\t\tvar t = locale.date.month_short_hash = {};\n\t\t\tfor (var i = 0; i < s.length; i++)\n\t\t\t\tt[s[i]] = i;\n\n\t\t\tvar s = locale.date.month_full;\n\t\t\tvar t = locale.date.month_full_hash = {};\n\t\t\tfor (var i = 0; i < s.length; i++)\n\t\t\t\tt[s[i]] = i;\n\t\t},\n\t\tdate_part: function (date) {\n\t\t\tvar old = new Date(date);\n\t\t\tdate.setHours(0);\n\t\t\tthis.hour_start(date);\n\t\t\tif (date.getHours() && //shift to yesterday on dst\n\t\t\t\t(date.getDate() < old.getDate() || date.getMonth() < old.getMonth() || date.getFullYear() < old.getFullYear()))\n\t\t\t\tdate.setTime(date.getTime() + 60 * 60 * 1000 * (24 - date.getHours()));\n\t\t\treturn date;\n\t\t},\n\t\ttime_part: function (date) {\n\t\t\treturn (date.valueOf() / 1000 - date.getTimezoneOffset() * 60) % 86400;\n\t\t},\n\t\tweek_start: function (date) {\n\t\t\tvar shift = date.getDay();\n\t\t\tif (gantt.config.start_on_monday) {\n\t\t\t\tif (shift === 0) shift = 6;\n\t\t\t\telse shift--;\n\t\t\t}\n\t\t\treturn this.date_part(this.add(date, -1 * shift, \"day\"));\n\t\t},\n\t\tmonth_start: function (date) {\n\t\t\tdate.setDate(1);\n\t\t\treturn this.date_part(date);\n\t\t},\n\t\tquarter_start: function (date) {\n\t\t\tthis.month_start(date);\n\t\t\tvar m = date.getMonth(),\n\t\t\t\tres_month;\n\n\t\t\tif (m >= 9) {\n\t\t\t\tres_month = 9;\n\t\t\t} else if (m >= 6) {\n\t\t\t\tres_month = 6;\n\t\t\t} else if (m >= 3) {\n\t\t\t\tres_month = 3;\n\t\t\t} else {\n\t\t\t\tres_month = 0;\n\t\t\t}\n\n\t\t\tdate.setMonth(res_month);\n\t\t\treturn date;\n\t\t},\n\t\tyear_start: function (date) {\n\t\t\tdate.setMonth(0);\n\t\t\treturn this.month_start(date);\n\t\t},\n\t\tday_start: function (date) {\n\t\t\treturn this.date_part(date);\n\t\t},\n\t\thour_start: function (date) {\n\t\t\tif (date.getMinutes())\n\t\t\t\tdate.setMinutes(0);\n\t\t\tthis.minute_start(date);\n\n\t\t\treturn date;\n\t\t},\n\t\tminute_start: function (date) {\n\t\t\tif (date.getSeconds())\n\t\t\t\tdate.setSeconds(0);\n\t\t\tif (date.getMilliseconds())\n\t\t\t\tdate.setMilliseconds(0);\n\t\t\treturn date;\n\t\t},\n\t\t_add_days: function (modifiedDate, inc, originalDate) {\n\n\t\t\tmodifiedDate.setDate(modifiedDate.getDate() + inc);\n\t\t\tvar incCondition = inc >= 0;\n\t\t\tvar getHoursCondition = !originalDate.getHours() && modifiedDate.getHours(); //shift to yesterday on dst\n\t\t\tvar getDateCondition = (modifiedDate.getDate() <= originalDate.getDate() || modifiedDate.getMonth() < originalDate.getMonth() || modifiedDate.getFullYear() < originalDate.getFullYear());\n\t\t\tif (incCondition && getHoursCondition && getDateCondition){\n\t\t\t\tmodifiedDate.setTime(modifiedDate.getTime() + 60 * 60 * 1000 * (24 - modifiedDate.getHours()));\n\t\t\t}\n\t\t\treturn modifiedDate;\n\t\t},\n\n\t\tadd: function (date, inc, mode) {\n\t\t\t/*jsl:ignore*/\n\t\t\tvar ndate = new Date(date.valueOf());\n\t\t\tswitch (mode) {\n\t\t\t\tcase \"day\":\n\t\t\t\t\tndate = this._add_days(ndate, inc, date);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"week\":\n\t\t\t\t\tndate = this._add_days(ndate, inc * 7, date);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"month\":\n\t\t\t\t\tndate.setMonth(ndate.getMonth() + inc);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"year\":\n\t\t\t\t\tndate.setYear(ndate.getFullYear() + inc);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"hour\":\n\t\t\t\t\t/*\n\t\t\t\t\t\tadding hours/minutes via setHour(getHour() + inc) gives weird result when\n\t\t\t\t\t\tadding one hour to the time before switch to a Daylight Saving time\n\n\t\t\t\t\t\texample: //Sun Mar 30 2014 01:00:00 GMT+0100 (W. Europe Standard Time)\n\t\t\t\t\t\tnew Date(2014, 02, 30, 1).setHours(2)\n\t\t\t\t\t\t>>Sun Mar 30 2014 01:00:00 GMT+0100 (W. Europe Standard Time)\n\n\t\t\t\t\t\tsetTime seems working as expected\n\t\t\t\t\t */\n\t\t\t\t\tndate.setTime(ndate.getTime() + inc * 60 * 60 * 1000);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"minute\":\n\n\t\t\t\t\tndate.setTime(ndate.getTime() + inc * 60 * 1000);\n\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn this[\"add_\" + mode](date, inc, mode);\n\t\t\t}\n\t\t\treturn ndate;\n\t\t\t/*jsl:end*/\n\t\t},\n\t\tadd_quarter: function (date, inc) {\n\t\t\treturn this.add(date, inc * 3, \"month\");\n\t\t},\n\n\t\tto_fixed: function (num) {\n\t\t\tif (num < 10) return \"0\" + num;\n\t\t\treturn num;\n\t\t},\n\t\tcopy: function (date) {\n\t\t\treturn new Date(date.valueOf());\n\t\t},\n\t\tdate_to_str: function (format, utc) {\n\t\t\tvar result = fastVersion;\n\t\t\tif (useCsp()) {\n\t\t\t\tresult = cspCompliantVersion;\n\t\t\t}\n\t\t\treturn result.date_to_str(format, utc, gantt);\n\t\t},\n\t\tstr_to_date: function (format, utc) {\n\t\t\tvar result = fastVersion;\n\t\t\tif (useCsp()) {\n\t\t\t\tresult = cspCompliantVersion;\n\t\t\t}\n\t\t\treturn result.str_to_date(format, utc, gantt);\n\t\t},\n\t\tgetISOWeek: function (ndate) {\n\t\t\treturn gantt.date._getWeekNumber(ndate, true);\n\t\t},\n\t\t_getWeekNumber: function(ndate, isoWeek){\n\t\t\tif (!ndate) return false;\n\t\t\tvar nday = ndate.getDay();\n\t\t\tif(isoWeek){\n\t\t\t\tif (nday === 0) {\n\t\t\t\t\tnday = 7;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar first_thursday = new Date(ndate.valueOf());\n\t\t\tfirst_thursday.setDate(ndate.getDate() + (4 - nday));\n\t\t\tvar year_number = first_thursday.getFullYear(); // year of the first Thursday\n\t\t\tvar ordinal_date = Math.round((first_thursday.getTime() - new Date(year_number, 0, 1).getTime()) / 86400000); //ordinal date of the first Thursday - 1 (so not really ordinal date)\n\t\t\tvar week_number = 1 + Math.floor(ordinal_date / 7);\n\t\t\treturn week_number;\n\t\t},\n\n\t\tgetWeek: function(ndate){\n\t\t\treturn gantt.date._getWeekNumber(ndate, gantt.config.start_on_monday);\n\t\t},\n\t\tgetUTCISOWeek: function (ndate) {\n\t\t\treturn gantt.date.getISOWeek(ndate);\n\t\t},\n\t\tconvert_to_utc: function (date) {\n\t\t\treturn new Date(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds());\n\t\t},\n\t\tparseDate: function (date, format) {\n\t\t\t// raw date may be of type string, number (timestamp) or something else\n\t\t\t// do not check for instanceof Date explicitly, since we may swap native date with different date implementation at some point\n\t\t\tif (date && !date.getFullYear) {\n\t\t\t\tif (typeof(format) !== \"function\") {\n\t\t\t\t\tif (typeof(format) === \"string\") {\n\t\t\t\t\t\tif (format === \"parse_date\" || format === \"xml_date\") {\n\t\t\t\t\t\t\tformat = gantt.defined(gantt.templates.xml_date) ? gantt.templates.xml_date : gantt.templates.parse_date;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tformat = gantt.defined(gantt.templates[format]) ? gantt.templates[format] : gantt.date.str_to_date(format);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tformat = gantt.defined(gantt.templates.xml_date) ? gantt.templates.xml_date : gantt.templates.parse_date;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (date) {\n\t\t\t\t\tdate = format(date);\n\t\t\t\t} else {\n\t\t\t\t\tdate = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn date;\n\t\t}\n\t};\n\treturn dateHelper;\n};","export default function serialize(data: object | string) {\n\tif (typeof data === \"string\" || typeof data === \"number\") {\n\t\treturn data;\n\t}\n\n\tlet result = \"\";\n\n\tfor (const key in data) {\n\t\tlet serialized = \"\";\n\t\tif (data.hasOwnProperty(key)) {\n\t\t\tif (typeof data[key] === \"string\") {\n\t\t\t\tserialized = encodeURIComponent(data[key]);\n\t\t\t} else if (typeof data[key] === \"number\") {\n\t\t\t\tserialized = data[key];\n\t\t\t} else {\n\t\t\t\tserialized = encodeURIComponent(JSON.stringify(data[key]));\n\t\t\t}\n\t\t\tserialized = key + \"=\" + serialized;\n\n\t\t\tif (result.length) {\n\t\t\t\tserialized = \"&\" + serialized;\n\t\t\t}\n\t\t\tresult += serialized;\n\t\t}\n\t}\n\treturn result;\n}\n","var env = require(\"../../utils/env\");\nvar global = require(\"../../utils/global\");\nvar serialize = require(\"./serialize\").default;\n\nfunction createConfig(method, args) {\n\tvar result = {\n\t\tmethod: method\n\t};\n\n\tif (args.length === 0) {\n\t\tthrow new Error(\"Arguments list of query is wrong.\");\n\t}\n\tif (args.length === 1) {\n\t\tif (typeof args[0] === \"string\") {\n\t\t\tresult.url = args[0];\n\t\t\tresult.async = true;\n\t\t} else {\n\t\t\tresult.url = args[0].url;\n\t\t\tresult.async = (args[0].async || true);\n\t\t\tresult.callback = args[0].callback;\n\t\t\tresult.headers = args[0].headers;\n\t\t}\n\t\tif (method === \"POST\" || \"PUT\") {\n\t\t\tif (args[0].data) {\n\t\t\t\tif (typeof args[0].data !== \"string\") {\n\t\t\t\t\tresult.data = serialize(args[0].data);\n\t\t\t\t} else {\n\t\t\t\t\tresult.data = args[0].data;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tresult.data = \"\";\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tresult.url = args[0];\n\tswitch(method) {\n\t\tcase \"GET\":\n\t\tcase \"DELETE\":\n\t\t\tresult.callback = args[1];\n\t\t\tresult.headers = args[2];\n\t\tbreak;\n\t\tcase \"POST\":\n\t\tcase \"PUT\":\n\t\t\tif (args[1]) {\n\t\t\t\tif (typeof args[1] !== \"string\") {\n\t\t\t\t\tresult.data = serialize(args[1]);\n\t\t\t\t} else {\n\t\t\t\t\tresult.data = args[1];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tresult.data = \"\";\n\t\t\t}\n\t\t\tresult.callback = args[2];\n\t\t\tresult.headers = args[3];\n\t\tbreak;\n\t}\n\treturn result;\n}\n\nmodule.exports = function(gantt) {\n\treturn {\n\n\t\t// if false - dhxr param will added to prevent caching on client side (default),\n\t\t// if true - do not add extra params\n\t\tcache: true,\n\n\t\t// default method for load/loadStruct, post/get allowed\n\t\t// get - since 4.1.1, this should fix 412 error for macos safari\n\t\tmethod: \"get\",\n\n\t\tparse: function(data) {\n\t\t\tif (typeof data !== \"string\") return data;\n\n\t\t\tvar obj;\n\t\t\tdata = data.replace(/^[\\s]+/,\"\");\n\t\t\tif (typeof DOMParser !== \"undefined\" && !env.isIE) { // ff,ie9\n\t\t\t\tobj = (new DOMParser()).parseFromString(data, \"text/xml\");\n\t\t\t} else if (typeof global.ActiveXObject !== \"undefined\") {\n\t\t\t\tobj = new global.ActiveXObject(\"Microsoft.XMLDOM\");\n\t\t\t\tobj.async = \"false\";\n\t\t\t\tobj.loadXML(data);\n\t\t\t}\n\t\t\treturn obj;\n\t\t},\n\t\txmltop: function(tagname, xhr, obj) {\n\t\t\tif (typeof xhr.status == \"undefined\" || xhr.status < 400) {\n\t\t\t\tvar xml = (!xhr.responseXML) ? this.parse(xhr.responseText || xhr) : (xhr.responseXML || xhr);\n\t\t\t\tif (xml && xml.documentElement !== null && !xml.getElementsByTagName(\"parsererror\").length) {\n\t\t\t\t\treturn xml.getElementsByTagName(tagname)[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (obj !== -1) gantt.callEvent(\"onLoadXMLError\",[\"Incorrect XML\", arguments[1], obj]);\n\t\t\treturn document.createElement(\"DIV\");\n\t\t},\n\t\txpath: function(xpathExp, docObj) {\n\t\t\tif (!docObj.nodeName) docObj = docObj.responseXML || docObj;\n\t\t\tif (env.isIE) {\n\t\t\t\treturn docObj.selectNodes(xpathExp)||[];\n\t\t\t} else {\n\t\t\t\tvar rows = [];\n\t\t\t\tvar first;\n\t\t\t\tvar col = (docObj.ownerDocument||docObj).evaluate(xpathExp, docObj, null, XPathResult.ANY_TYPE, null);\n\n\t\t\t\twhile (true){\n\t\t\t\t\tfirst = col.iterateNext();\n\t\t\t\t\tif(first){\n\t\t\t\t\t\trows.push(first);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn rows;\n\t\t\t}\n\t\t},\n\t\tquery: function(config) {\n\t\t\treturn this._call(\n\t\t\t\t(config.method || \"GET\"),\n\t\t\t\tconfig.url,\n\t\t\t\tconfig.data || \"\",\n\t\t\t\t(config.async || true),\n\t\t\t\tconfig.callback,\n\t\t\t\tconfig.headers\n\t\t\t);\n\t\t},\n\t\tget: function(url, onLoad, headers) {\n\t\t\tvar config = createConfig(\"GET\", arguments);\n\t\t\treturn this.query(config);\n\t\t},\n\t\tgetSync: function(url, headers) {\n\t\t\tvar config = createConfig(\"GET\", arguments);\n\t\t\tconfig.async = false;\n\t\t\treturn this.query(config);\n\t\t},\n\t\tput: function(url, postData, onLoad, headers) {\n\t\t\tvar config = createConfig(\"PUT\", arguments);\n\t\t\treturn this.query(config);\n\t\t},\n\t\tdel: function(url, onLoad, headers) {\n\t\t\t/**\n\t\t\t * https://tools.ietf.org/html/rfc7231#section-4.3.5\n\t\t\t * A payload within a DELETE request message has no defined semantics;\n\t\t\t * sending a payload body on a DELETE request might cause some existing\n\t\t\t * implementations to reject the request.\n\t\t\t */\n\t\t\tvar config = createConfig(\"DELETE\", arguments);\n\t\t\treturn this.query(config);\n\t\t},\n\t\tpost: function(url, postData, onLoad, headers) {\n\t\t\tif (arguments.length == 1) {\n\t\t\t\tpostData = \"\";\n\t\t\t} else if (arguments.length == 2 && typeof(postData) == \"function\") {\n\t\t\t\tonLoad = postData;\n\t\t\t\tpostData = \"\";\n\t\t\t}\n\t\t\tvar config = createConfig(\"POST\", arguments);\n\t\t\treturn this.query(config);\n\t\t},\n\t\tpostSync: function(url, postData, headers) {\n\t\t\tpostData = (postData === null ? \"\" : String(postData));\n\n\t\t\tvar config = createConfig(\"POST\", arguments);\n\t\t\tconfig.async = false;\n\t\t\treturn this.query(config);\n\t\t},\n\t\t_call: function(method, url, postData, async, onLoad, headers) {\n\t\t\treturn new gantt.Promise(function(resolve, reject) {\n\t\t\t\tvar t = (typeof XMLHttpRequest !== undefined && !env.isIE ? new XMLHttpRequest() : new global.ActiveXObject(\"Microsoft.XMLHTTP\"));\n\t\t\t\tvar isQt = (navigator.userAgent.match(/AppleWebKit/) !== null && navigator.userAgent.match(/Qt/) !== null && navigator.userAgent.match(/Safari/) !== null);\n\n\t\t\t\tif (!!async) {\n\t\t\t\t\tt.onreadystatechange = function() {\n\t\t\t\t\t\tif ((t.readyState == 4) || (isQt && t.readyState == 3)) { // what for long response and status 404?\n\t\t\t\t\t\t\tif (t.status != 200 || t.responseText === \"\")\n\t\t\t\t\t\t\t\tif (!gantt.callEvent(\"onAjaxError\", [t])) return;\n\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tif (typeof(onLoad) == \"function\") {\n\t\t\t\t\t\t\t\t\tonLoad.apply(global, [{xmlDoc:t, filePath:url}]); // dhtmlx-compat, response.xmlDoc.responseXML/responseText\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tresolve(t);\n\t\t\t\t\t\t\t\tif (typeof(onLoad) == \"function\") {\n\t\t\t\t\t\t\t\t\tonLoad = null;\n\t\t\t\t\t\t\t\t\tt = null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif (method == \"GET\" && !this.cache) {\n\t\t\t\t\turl += (url.indexOf(\"?\")>=0?\"&\":\"?\")+\"dhxr\"+new Date().getTime()+\"=1\";\n\t\t\t\t}\n\n\t\t\t\tt.open(method, url, async);\n\n\t\t\t\tif (headers){\n\t\t\t\t\tfor (var key in headers)\n\t\t\t\t\t\tt.setRequestHeader(key, headers[key]);\n\t\t\t\t} else if (method.toUpperCase() == \"POST\" || method == \"PUT\" || method == \"DELETE\") {\n\t\t\t\t\tt.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\t\t\t\t} else if (method == \"GET\") {\n\t\t\t\t\tpostData = null;\n\t\t\t\t}\n\n\t\t\t\tt.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n\n\t\t\t\tt.send(postData);\n\n\t\t\t\tif (!async) return {xmlDoc:t, filePath:url}; // dhtmlx-compat, response.xmlDoc.responseXML/responseText\n\t\t\t});\n\t\t},\n\t\turlSeparator: function(str){\n\t\t\tif (str.indexOf(\"?\") != -1)\n\t\t\t\treturn \"&\";\n\t\t\telse\n\t\t\t\treturn \"?\";\n\t\t}\n\t};\n};\n","type DurationUnits = \"minute\" | \"hour\" | \"day\" | \"week\" | \"month\" | \"year\";\ntype Align = \"left\" | \"center\" | \"right\";\ntype SectionType = \"textarea\"\n\t\t\t\t\t| \"time\"\n\t\t\t\t\t| \"duration\"\n\t\t\t\t\t| \"select\"\n\t\t\t\t\t| \"typeselect\"\n\t\t\t\t\t| \"parent\"\n\t\t\t\t\t| \"template\"\n\t\t\t\t\t| \"checkbox\"\n\t\t\t\t\t| \"radio\"\n\t\t\t\t\t| \"resources\"\n\t\t\t\t\t| \"constraint\";\n\ntype LightboxSection = Array<ILightboxSection\n\t| ILightboxTimeAndDurationSection\n\t| ILightboxInputControl\n\t| ILightboxSelectControl\n\t| ILightboxParentControl\n\t| ILightboxTypeselectControl>;\n\ntype LayoutView = \"grid\"\n\t| \"timeline\"\n\t| \"resizer\"\n\t| \"scrollbar\"\n\t| \"resourceGrid\"\n\t| \"resourceTimeline\";\n\ninterface IColumnItem {\n\tname: string;\n\tlabel?: string;\n\ttree?: boolean;\n\talign?: Align;\n\thide?: boolean;\n\tmax_width?: number;\n\tmin_width?: number;\n\tresize?: boolean;\n\ttemplate?: (obj: any) => string;\n\twidth?: number | \"*\";\n}\n\nexport type TModifierKeys = \"metaKey\" | \"ctrlKey\" | \"altKey\" | \"shiftKey\" | false | undefined;\n\nexport interface IScale {\n\tcss?: () => string;\n\tdate?: string;\n\tstep: number;\n\ttemplate?: (date: Date) => string;\n\tunit: DurationUnits;\n}\n\ninterface ILightboxSection {\n\tname: string;\n\tmap_to: string;\n\ttype: SectionType;\n\theight?: number;\n\tfocus?: boolean;\n}\n\ninterface ILightboxTimeAndDurationSection extends ILightboxSection {\n\treadonly: boolean;\n\tyear_range: number[] | number;\n\tsingle_date: boolean;\n\ttime_format: string;\n}\n\ninterface ILightboxInputControl extends ILightboxSection {\n\tdefault_value?: any;\n\toptions?: Array<{key: string, label: string}>;\n}\n\ninterface ILightboxSelectControl extends ILightboxInputControl {\n\tonchange: () => boolean | undefined;\n}\n\ninterface ILightboxParentControl extends ILightboxSection {\n\tallow_root: boolean;\n\troot_label: string;\n\tsort?: (a: any, b: any) => -1 | 0 | 1;\n\tfilter?: (task: string | number | object) => boolean;\n\ttemplate?: (start: Date, end: Date, ev: object) => string;\n}\n\ninterface ILightboxTypeselectControl extends ILightboxSection {\n\tfilter?: (typeName: string) => boolean;\n}\n\n\ninterface ILayoutScrollbar {\n\tview: \"scrollbar\";\n\tscroll?: \"x\" | \"y\";\n\tid: string;\n\theight?: number;\n\twidth?: number;\n}\n\ninterface ILayoutView {\n\tview: LayoutView;\n\tid?: string;\n\tscrollX?: string;\n\tscrollY?: string;\n\tconfig?: object;\n}\n\ninterface ILayoutGrid extends ILayoutView {\n\tview: \"grid\";\n\tbind?: string;\n}\n\ninterface ILayoutTimeline extends ILayoutView {\n\tview: \"timeline\";\n\tbindLinks?: string;\n\tlayers?: any[];\n}\n\ninterface ILayoutResizer {\n\tview?: undefined;\n\tresizer: boolean;\n\twidth: number;\n}\n\ninterface ILayoutResourceGrid extends ILayoutView {\n\tview: \"resourceGrid\";\n\twidth: number;\n\tgroup: \"string\";\n}\n\ninterface ILayoutResourceTimeline extends ILayoutView {\n\tview: \"resourceTimeline\";\n\twidth: number;\n\tgroup: \"string\";\n}\n\ninterface ILayoutHtml {\n\thtml: string;\n\tcss: string;\n\twidth: number;\n}\n\ntype LayoutRow = ILayoutGrid\n\t| ILayoutTimeline\n\t| ILayoutResizer\n\t| ILayoutResourceGrid\n\t| ILayoutResourceTimeline\n\t| ILayoutHtml\n\t| ILayoutScrollbar\n\t| { cols: LayoutCol[] };\n\ntype LayoutCol = ILayoutGrid\n\t| ILayoutTimeline\n\t| ILayoutResizer\n\t| ILayoutResourceGrid\n\t| ILayoutResourceTimeline\n\t| ILayoutHtml\n\t| ILayoutScrollbar\n\t| { rows: LayoutRow[] };\n\ninterface ILayout {\n\tcss: string;\n\trows?: LayoutRow[];\n\tcols?: LayoutCol[];\n}\n\ntype TCsp = boolean | \"auto\";\n\ninterface IGanttConfig {\n\tlayout: ILayout;\n\tlinks: {\n\t\tfinish_to_start: \"0\";\n\t\tstart_to_start: \"1\";\n\t\tfinish_to_finish: \"2\";\n\t\tstart_to_finish: \"3\";\n\t};\n\ttypes: {\n\t\ttask: string;\n\t\tproject: string;\n\t\tmilestone: string;\n\t};\n\tauto_types: boolean;\n\tduration_unit: DurationUnits;\n\twork_time: boolean;\n\tcorrect_work_time: boolean;\n\tskip_off_time: boolean;\n\tcascade_delete: boolean;\n\tautosize: boolean | string;\n\tautoscroll: boolean;\n\tshow_links: boolean;\n\tshow_task_cells: boolean;\n\tautosize_min_width: number;\n\tautoscroll_speed: number;\n\tdeepcopy_on_parse: boolean;\n\tstatic_background: boolean;\n\tstatic_background_cells: boolean;\n\tbranch_loading: boolean;\n\tbranch_loading_property: string;\n\tshow_loading: boolean;\n\tshow_chart: boolean;\n\tshow_grid: boolean;\n\tmin_duration: number;\n\tdate_format: string; // use instead xml_date\n\txml_date?: string; // deprecated\n\tstart_on_monday: boolean;\n\tserver_utc: boolean;\n\tshow_progress: boolean;\n\tfit_tasks: boolean;\n\tselect_task: boolean;\n\tscroll_on_click: boolean;\n\tsmart_rendering: boolean;\n\tpreserve_scroll: boolean;\n\treadonly: boolean;\n\tcontainer_resize_timeout: number;\n\n\t/*grid */\n\tdate_grid: string;\n\n\tdrag_links: boolean;\n\tdrag_progress: boolean;\n\tdrag_resize: boolean;\n\tdrag_project: boolean;\n\tdrag_move: boolean;\n\tdrag_mode: {\n\t\tresize: \"resize\",\n\t\tprogress: \"progress\",\n\t\tmove: \"move\",\n\t\tignore: \"ignore\"\n\t};\n\tround_dnd_dates: boolean;\n\tlink_wrapper_width: number;\n\troot_id: string | number;\n\n\tautofit: boolean;\n\tcolumns: IColumnItem[];\n\n\t/* scale*/\n\t/* it will be deprecated */\n\tdate_scale?: string;\n\tstep?: number;\n\tscale_unit?: DurationUnits;\n\tsubscales?: IScale[];\n\t/* it will be deprecated end */\n\n\tscales: IScale[];\n\n\tscale_offset_minimal: boolean;\n\n\tinherit_scale_class: boolean;\n\n\n\ttime_step: number;\n\tduration_step: number;\n\n\n\ttask_date: string;\n\ttime_picker: string;\n\ttask_attribute: string;\n\tlink_attribute: string;\n\tlayer_attribute: string;\n\tbuttons_left: string[];\n\t_migrate_buttons: {\n\t\tdhx_save_btn: \"gantt_save_btn\",\n\t\tdhx_cancel_btn: \"gantt_cancel_btn\",\n\t\tdhx_delete_btn: \"gantt_delete_btn\"\n\t};\n\n\tbuttons_right: string[];\n\n\n\tlightbox: {\n\t\tsections?: LightboxSection,\n\t\tproject_sections?: LightboxSection,\n\t\tmilestone_sections?: LightboxSection\n\t};\n\tdrag_lightbox: boolean;\n\tsort: boolean;\n\tdetails_on_create: boolean;\n\tdetails_on_dblclick: boolean;\n\tinitial_scroll: boolean;\n\ttask_scroll_offset: number;\n\n\torder_branch: boolean;\n\torder_branch_free: boolean;\n\n\t// task_height is deprecated, use 'bar_height` instead\n\ttask_height: number | \"full\";\n\tbar_height: number | \"full\";\n\tmin_column_width: number;\n\n\t// min width for grid column (when resizing)\n\tmin_grid_column_width: number;\n\t// name of the attribute with column index for resize element\n\tgrid_resizer_column_attribute: string;\n\t// name of the attribute with column index for resize element\n\t// grid_resizer_attribute: string; // usage of this parameter is not found\n\n\t// grid width can be increased after the column has been resized\n\tkeep_grid_width: boolean;\n\n\t// grid width can be adjusted\n\tgrid_resize: boolean;\n\tgrid_elastic_columns: boolean;\n\tshow_tasks_outside_timescale: boolean;\n\tshow_unscheduled: boolean;\n\treadonly_property: string;\n\teditable_property: string;\n\tcalendar_property: string;\n\tresource_calendars: object;\n\tdynamic_resource_calendars: boolean;\n\tinherit_calendar: boolean;\n\ttype_renderers: object;\n\n\tresize_rows: boolean;\n\t// name of the attribute with row index for resize element\n\ttask_grid_row_resizer_attribute: string;\n\t// min height for row (when resizing)\n\tmin_task_grid_row_height: number;\n\n\topen_tree_initially: boolean;\n\toptimize_render: boolean;\n\tprevent_default_scroll: boolean;\n\tshow_errors: boolean;\n\twai_aria_attributes: boolean;\n\tsmart_scales: boolean;\n\trtl: boolean;\n\tplaceholder_task: boolean;\n\thorizontal_scroll_key: TModifierKeys;\n\tdrag_timeline: {\n\t\tuseKey: TModifierKeys;\n\t\tignore: string;\n\t};\n\tdrag_multiple: boolean;\n\tcsp: TCsp;\n}\n\nmodule.exports = () => {\n\tconst result: IGanttConfig = {\n\t\tlayout: {\n\t\t\tcss: \"gantt_container\",\n\t\t\trows: [\n\t\t\t\t{\n\t\t\t\t\tcols: [\n\t\t\t\t\t\t{view: \"grid\", scrollX: \"scrollHor\", scrollY: \"scrollVer\"},\n\t\t\t\t\t\t{resizer: true, width: 1},\n\t\t\t\t\t\t{view: \"timeline\", scrollX: \"scrollHor\", scrollY: \"scrollVer\"},\n\t\t\t\t\t\t{view: \"scrollbar\", id: \"scrollVer\"}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{view: \"scrollbar\", id: \"scrollHor\", height: 20}\n\t\t\t]\n\t\t},\n\t\tlinks: {\n\t\t\tfinish_to_start: \"0\",\n\t\t\tstart_to_start: \"1\",\n\t\t\tfinish_to_finish: \"2\",\n\t\t\tstart_to_finish: \"3\"\n\t\t},\n\t\ttypes: {\n\t\t\ttask: \"task\",\n\t\t\tproject: \"project\",\n\t\t\tmilestone: \"milestone\"\n\t\t},\n\t\tauto_types: false,\n\t\tduration_unit: \"day\",\n\t\twork_time: false,\n\t\tcorrect_work_time: false,\n\t\tskip_off_time: false,\n\n\t\tcascade_delete: true,\n\n\t\tautosize: false,\n\t\tautosize_min_width: 0,\n\t\tautoscroll: true,\n\t\tautoscroll_speed: 30,\n\t\tdeepcopy_on_parse: false,\n\t\tshow_links: true,\n\t\tshow_task_cells: true,\n\t\t// replace backgroung of the task area with a canvas img\n\t\tstatic_background: false,\n\t\tstatic_background_cells: true,\n\t\tbranch_loading: false,\n\t\tbranch_loading_property: \"$has_child\",\n\t\tshow_loading: false,\n\t\tshow_chart: true,\n\t\tshow_grid: true,\n\t\tmin_duration: 60 * 60 * 1000,\n\t\tdate_format: \"%d-%m-%Y %H:%i\", // use instead xml_date\n\t\txml_date: undefined, // \"%d-%m-%Y %H:%i\", // deprecated\n\t\tstart_on_monday: true,\n\t\tserver_utc: false,\n\t\tshow_progress: true,\n\t\tfit_tasks: false,\n\t\tselect_task: true,\n\t\tscroll_on_click: true,\n\t\tsmart_rendering: true,\n\t\tpreserve_scroll: true,\n\t\treadonly: false,\n\t\tcontainer_resize_timeout: 20,\n\n\t\t/*grid */\n\t\tdate_grid: \"%Y-%m-%d\",\n\n\t\tdrag_links: true,\n\t\tdrag_progress: true,\n\t\tdrag_resize: true,\n\t\tdrag_project: false,\n\t\tdrag_move: true,\n\t\tdrag_mode: {\n\t\t\tresize: \"resize\",\n\t\t\tprogress: \"progress\",\n\t\t\tmove: \"move\",\n\t\t\tignore: \"ignore\"\n\t\t},\n\t\tround_dnd_dates: true,\n\t\tlink_wrapper_width: 20,\n\t\troot_id: 0,\n\n\t\tautofit: false, // grid column automatic fit grid_width config\n\t\tcolumns: [\n\t\t\t{name: \"text\", tree: true, width: \"*\", resize: true},\n\t\t\t{name: \"start_date\", align: \"center\", resize: true},\n\t\t\t{name: \"duration\", align: \"center\"},\n\t\t\t{name: \"add\", width: 44}\n\t\t],\n\n\t\t/*scale*/\n\n\t\tscale_offset_minimal: true,\n\t\tinherit_scale_class: false,\n\n\t\tscales: [\n\t\t\t{\n\t\t\t\tunit: \"day\",\n\t\t\t\tstep: 1,\n\t\t\t\tdate: \"%d %M\"\n\t\t\t}\n\t\t],\n// \t\tdate_scale: \"%d %M\",\n\n\t\ttime_step: 60,\n\t\tduration_step: 1,\n\t\ttask_date: \"%d %F %Y\",\n\t\ttime_picker: \"%H:%i\",\n\t\ttask_attribute: \"data-task-id\",\n\t\tlink_attribute: \"data-link-id\",\n\t\tlayer_attribute: \"data-layer\",\n\t\tbuttons_left: [\n\t\t\t\"gantt_save_btn\",\n\t\t\t\"gantt_cancel_btn\"\n\t\t],\n\t\t_migrate_buttons: {\n\t\t\tdhx_save_btn: \"gantt_save_btn\",\n\t\t\tdhx_cancel_btn: \"gantt_cancel_btn\",\n\t\t\tdhx_delete_btn: \"gantt_delete_btn\"\n\t\t},\n\t\tbuttons_right: [\n\t\t\t\"gantt_delete_btn\"\n\t\t],\n\t\tlightbox: {\n\t\t\tsections: [\n\t\t\t\t{name: \"description\", height: 70, map_to: \"text\", type: \"textarea\", focus: true},\n\t\t\t\t{name: \"time\", type: \"duration\", map_to: \"auto\"}\n\t\t\t],\n\t\t\tproject_sections: [\n\t\t\t\t{name: \"description\", height: 70, map_to: \"text\", type: \"textarea\", focus: true},\n\t\t\t\t{name: \"type\", type: \"typeselect\", map_to: \"type\"},\n\t\t\t\t{name: \"time\", type: \"duration\", readonly: true, map_to: \"auto\"}\n\t\t\t],\n\t\t\tmilestone_sections: [\n\t\t\t\t{name: \"description\", height: 70, map_to: \"text\", type: \"textarea\", focus: true},\n\t\t\t\t{name: \"type\", type: \"typeselect\", map_to: \"type\"},\n\t\t\t\t{name: \"time\", type: \"duration\", single_date: true, map_to: \"auto\"}\n\t\t\t]\n\t\t},\n\t\tdrag_lightbox: true,\n\t\tsort: false,\n\t\tdetails_on_create: true,\n\t\tdetails_on_dblclick: true,\n\t\tinitial_scroll: true,\n\t\ttask_scroll_offset: 100,\n\n\t\torder_branch: false,\n\t\torder_branch_free: false,\n\n\t\t// task height is deprecated, use 'bar_height' instead\n\t\ttask_height: undefined,// number px of 'full' for row height\n\t\tbar_height: \"full\",\n\t\tmin_column_width: 70,\n\n\t\t// min width for grid column (when resizing)\n\t\tmin_grid_column_width: 70,\n\t\t// name of the attribute with column index for resize element\n\t\tgrid_resizer_column_attribute: \"data-column-index\",\n\t\t// name of the attribute with column index for resize element\n\t\t// grid_resizer_attribute: \"grid_resizer\", // - usage of this parameter is not found in code\n\n\t\t// grid width can be increased after the column has been resized\n\t\tkeep_grid_width: false,\n\n\t\t// grid width can be adjusted\n\t\tgrid_resize: false,\n\t\tgrid_elastic_columns: false,\n\t\tshow_tasks_outside_timescale: false,\n\t\tshow_unscheduled: true,\n\n\t\tresize_rows: false,\n\t\t// name of the attribute with row index for resize element\n\t\ttask_grid_row_resizer_attribute: \"data-row-index\",\n\t\t// min height for row (when resizing)\n\t\tmin_task_grid_row_height: 30,\n\n\t\t//\n\t\treadonly_property: \"readonly\",\n\t\teditable_property: \"editable\",\n\t\tcalendar_property: \"calendar_id\",\n\t\tresource_calendars: {},\n\t\tdynamic_resource_calendars: false,\n\t\tinherit_calendar: false,\n\t\ttype_renderers: {},\n\n\t\topen_tree_initially: false,\n\t\toptimize_render: true,\n\t\tprevent_default_scroll: false,\n\t\tshow_errors: true,\n\t\twai_aria_attributes: true,\n\t\tsmart_scales: true,\n\t\trtl:false,\n\t\tplaceholder_task: false,\n\t\thorizontal_scroll_key: \"shiftKey\",\n\t\tdrag_timeline: {\n\t\t\tuseKey: undefined,\n\t\t\tignore: \".gantt_task_line, .gantt_task_link\"\n\t\t},\n\t\tdrag_multiple: true,\n\t\tcsp: \"auto\"\n\t};\n\treturn result;\n};\n","module.exports = function(){\n\tvar services = {};\n\tfunction register (name, getter){\n\t\tservices[name] = getter;\n\t}\n\n\tfunction getService(name){\n\t\tif(!services[name]){\n\t\t\treturn null;\n\t\t}\n\t\treturn services[name]();\n\t}\n\n\tfunction dropService(name) {\n\t\tif (services[name]) {\n\t\t\tdelete services[name];\n\t\t}\n\t}\n\n\tvar servicesEnum = {};\n\n\treturn {\n\t\tservices: servicesEnum,\n\t\tsetService: register,\n\t\tgetService: getService,\n\t\tdropService: dropService,\n\t\tdestructor: function(){\n\t\t\tfor(var i in services){\n\t\t\t\tif(services[i]){\n\t\t\t\t\tvar service = services[i];\n\t\t\t\t\tif(service && service.destructor){\n\t\t\t\t\t\tservice.destructor();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tservices = null;\n\t\t}\n\t};\n};\n","module.exports = {\n\tKEY_CODES: {\n\t\tUP: 38,\n\t\tDOWN: 40,\n\t\tLEFT: 37,\n\t\tRIGHT: 39,\n\t\tSPACE: 32,\n\t\tENTER: 13,\n\t\tDELETE: 46,\n\t\tESC: 27,\n\t\tTAB: 9\n\t}\n};","function DHXGantt(){\n\tthis.constants = require(\"../constants\");\n\tthis.version = VERSION;\n\tthis.license = LICENSE;\n\tthis.templates = {};\n\tthis.ext = {};\n\tthis.keys = {\n\t\tedit_save: this.constants.KEY_CODES.ENTER,\n\t\tedit_cancel: this.constants.KEY_CODES.ESC\n\t};\n}\n\nmodule.exports = function(supportedExtensions) {\n\t// use a named constructor to make gantt instance discoverable in heap snapshots\n\tvar gantt = new DHXGantt();\n\n\tvar ExtensionManager = require(\"../ext/extension_manager\").default;\n\tvar extensionManager = new ExtensionManager(supportedExtensions);\n\tvar activePlugins = {};\n\tgantt.plugins = function(config){\n\t\tfor(var i in config){\n\t\t\tif(config[i] && !activePlugins[i]){\n\t\t\t\tvar plugin = extensionManager.getExtension(i);\n\t\t\t\tif(plugin){\n\t\t\t\t\tplugin(gantt);\n\t\t\t\t\tactivePlugins[i] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tgantt.$services = require(\"../core/common/services\")();\n\tgantt.config = require(\"../core/common/config\")();\n\tgantt.ajax =  require(\"../core/common/ajax\")(gantt);\n\tgantt.date = require(\"../core/common/date\")(gantt);\n\tvar dnd = require(\"../core/common/dnd\")(gantt);\n\tgantt.$services.setService(\"dnd\", function(){return dnd;});\n\n\tvar templatesLoader = require(\"../core/common/templates\")(gantt);\n\tgantt.$services.setService(\"templateLoader\", function () {\n\t\treturn templatesLoader;\n\t});\n\n\trequire(\"../utils/eventable\")(gantt);\n\n\tvar StateService = require(\"../core/common/state\");\n\tvar stateService = new StateService();\n\n\tstateService.registerProvider(\"global\", function () {\n\t\tvar res = {\n\t\t\tmin_date: gantt._min_date,\n\t\t\tmax_date: gantt._max_date,\n\t\t\tselected_task: null\n\t\t};\n\n\t\t// do not throw error if getState called from non-initialized gantt\n\t\tif(gantt.$data && gantt.$data.tasksStore){\n\t\t\tres.selected_task = gantt.$data.tasksStore.getSelectedId();\n\t\t}\n\t\treturn res;\n\t});\n\tgantt.getState = stateService.getState;\n\tgantt.$services.setService(\"state\", function () {\n\t\treturn stateService;\n\t});\n\n\tvar utils = require(\"../utils/utils\");\n\tutils.mixin(gantt, utils);\n\n\tgantt.Promise = require(\"../utils/promise\");\n\tgantt.env = require(\"../utils/env\");\n\n\trequire(\"../core/datastore/datastore_hooks\")(gantt);\n\n\tvar DataProcessor = require(\"../core/dataprocessor\");\n\tgantt.dataProcessor = DataProcessor.DEPRECATED_api;\n\tgantt.createDataProcessor = DataProcessor.createDataProcessor;\n\n\n\trequire(\"../core/plugins\")(gantt);\n\n\trequire(\"../core/dynamic_loading\")(gantt);\n\trequire(\"../core/grid_column_api\")(gantt);\n\trequire(\"../core/tasks\")(gantt);\n\trequire(\"../core/load\")(gantt);\n\trequire(\"../core/worktime/work_time\")(gantt);\n\trequire(\"../core/data\")(gantt);\n\n\trequire(\"../publish_helpers/void_script_second\").default(gantt);\n\n\trequire(\"../core/data_task_types\")(gantt);\n\trequire(\"../core/cached_functions\")(gantt);\n\n\trequire(\"../core/gantt_core\")(gantt);\n\trequire(\"../core/destructor\")(gantt);\n\trequire(\"../publish_helpers/void_script_third\").default(gantt);\n\n\tvar i18n = require(\"../locale\").default();\n\tgantt.i18n = {\n\t\taddLocale: i18n.addLocale,\n\t\tsetLocale: function(locale){\n\t\t\tif(typeof locale === \"string\"){\n\t\t\t\tvar localeObject = i18n.getLocale(locale);\n\t\t\t\tif(!localeObject){\n\t\t\t\t\tlocaleObject = i18n.getLocale(\"en\");\n\t\t\t\t}\n\n\t\t\t\tgantt.locale = localeObject;\n\t\t\t}else if(locale){\n\t\t\t\tif(!gantt.locale){\n\t\t\t\t\tgantt.locale = locale;\n\t\t\t\t}else{\n\t\t\t\t\tfor(var i in locale){\n\t\t\t\t\t\tif(locale[i] && typeof locale[i] === \"object\"){\n\t\t\t\t\t\t\tif(!gantt.locale[i]){\n\t\t\t\t\t\t\t\tgantt.locale[i] = {};\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tgantt.mixin(gantt.locale[i], locale[i], true);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tgantt.locale[i] = locale[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgetLocale: i18n.getLocale\n\t};\n\tgantt.i18n.setLocale(\"en\");\n\treturn gantt;\n};","require(\"css/skins/terrace.less\");\n\nvar factory = require(\"./make_instance_common\");\n\nmodule.exports = function(supportedExtensions) {\n\tvar gantt = factory(supportedExtensions);\n\n\tif(!gantt.env.isNode){\n\t\trequire(\"../core/ui_core\")(gantt);\n\t}\n\n\treturn gantt;\n};","\nimport ExtensionsManager from \"../ext/extension_manager\";\nimport * as scope from \"../utils/global\";\n\nclass GanttFactory implements IGanttFactory{\n\tprotected _seed: number;\n\tprotected _ganttPlugin: GanttPlugin[];\n\tprotected _factoryMethod: (bundledExtensions: {[key:string]: GanttPlugin}) => any;\n\tprotected _bundledExtensions: {[key:string]: GanttPlugin};\n\tprotected _extensionsManager: ExtensionsManager;\n\n\tconstructor(factoryMethod: ()=>any, _bundledExtensions:{[key:string]: GanttPlugin}) {\n\t\tthis._seed = 0;\n\t\tthis._ganttPlugin = [];\n\t\tthis._factoryMethod = factoryMethod;\n\t\tthis._bundledExtensions = _bundledExtensions;\n\t\tthis._extensionsManager = new ExtensionsManager(_bundledExtensions);\n\t}\n\n\tplugin = (code: GanttPlugin):void => {\n\t\tthis._ganttPlugin.push(code);\n\n\t\tif(scope.gantt !== undefined && scope.gantt.getTask){\n\t\t\tcode(scope.gantt);\n\t\t}\n\t}\n\n\tgetGanttInstance = (initConfig?: IGanttInitializationConfig):any => {\n\t\tconst gantt = this._factoryMethod(this._bundledExtensions);\n\t\tfor (let i=0; i<this._ganttPlugin.length; i++) {\n\t\t\tthis._ganttPlugin[i](gantt);\n\t\t}\n\t\tgantt._internal_id = (this._seed++);\n\n\t\tif(initConfig){\n\t\t\tthis._initFromConfig(gantt, initConfig);\n\t\t}\n\n\t\treturn gantt;\n\t}\n\n\tprotected _initFromConfig = (gantt: any, initConfig: IGanttInitializationConfig):any => {\n\t\tif(initConfig.plugins){\n\t\t\tfor(const i in initConfig.plugins){\n\t\t\t\tconst ext = this._extensionsManager.getExtension(i);\n\t\t\t\tif(ext){\n\t\t\t\t\text(gantt);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif(initConfig.config){\n\t\t\tgantt.mixin(gantt.config, initConfig.config, true);\n\t\t}\n\n\t\tif(initConfig.templates){\n\t\t\tgantt.attachEvent(\"onTemplatesReady\", function(){\n\t\t\t\tgantt.mixin(gantt.templates, initConfig.templates, true);\n\t\t\t}, {once: true});\n\t\t}\n\n\t\tif(initConfig.events){\n\t\t\tfor(const event in initConfig.events){\n\t\t\t\tgantt.attachEvent(event, initConfig.events[event]);\n\t\t\t}\n\t\t}\n\n\t\tif(initConfig.locale){\n\t\t\tgantt.i18n.setLocale(initConfig.locale);\n\t\t}\n\n\t\tif(Array.isArray(initConfig.calendars)){\n\t\t\tinitConfig.calendars.forEach(function(calendar){\n\t\t\t\tgantt.addCalendar(calendar);\n\t\t\t});\n\t\t}\n\n\t\tif(initConfig.container){\n\t\t\tgantt.init(initConfig.container);\n\t\t} else {\n\t\t\tgantt.init();\n\t\t}\n\n\t\tif(initConfig.data){\n\t\t\tif(typeof initConfig.data === \"string\"){\n\t\t\t\tgantt.load(initConfig.data);\n\t\t\t}else{\n\t\t\t\tgantt.parse(initConfig.data);\n\t\t\t}\n\t\t}\n\n\n\t}\n}\n\nexport default GanttFactory;","import { IUndo, IUndoCommand, IUndoCommands, IUndoPropAction, IUndoPropCommand, TActionType, TEntityType, TUndoStack, TUndoValue } from \"./types\";\n\nconst MAX_UNDO_STEPS = 10;\n\nexport class Undo implements IUndo {\n\n\tmaxSteps = MAX_UNDO_STEPS;\n\tundoEnabled = true;\n\tredoEnabled = true;\n\taction: IUndoPropAction = {\n\t\tcreate: (commands?: IUndoCommand[]): IUndoCommands => {\n\t\t\treturn { commands: (commands ? commands.slice() : []) };\n\t\t},\n\t\tinvert: (action: IUndoCommands): IUndoCommands => {\n\t\t\tconst gantt = this._gantt;\n\t\t\tconst revert = gantt.copy(action);\n\t\t\tconst commands = this.command;\n\t\t\tfor (let i = 0; i < action.commands.length; i++) {\n\t\t\t\tconst command = revert.commands[i] = commands.invert(revert.commands[i]);\n\t\t\t\tif (command.type === commands.type.update || command.type === commands.type.move) {\n\t\t\t\t\t[command.value, command.oldValue] = [command.oldValue, command.value];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn revert as IUndoCommands;\n\t\t}\n\t};\n\tcommand: IUndoPropCommand = {\n\t\t// entities that require different processing for undoing-redoing changes (gantt.config.undo_types)\n\t\tentity: null,\n\n\t\t// types of traced actions (gantt.config.undo_actions)\n\t\ttype: null,\n\n\t\tcreate: (value: TUndoValue, oldValue: TUndoValue, type: TActionType, entity: TEntityType): IUndoCommand => {\n\t\t\tconst gantt = this._gantt;\n\t\t\treturn {\n\t\t\t\tentity,\n\t\t\t\ttype,\n\t\t\t\tvalue: gantt.copy(value),\n\t\t\t\toldValue: gantt.copy(oldValue || value)\n\t\t\t};\n\t\t},\n\t\tinvert: (command: IUndoCommand): IUndoCommand => {\n\t\t\tconst gantt = this._gantt;\n\t\t\tconst revert = gantt.copy(command);\n\t\t\trevert.type = this.command.inverseCommands(command.type);\n\t\t\treturn revert;\n\t\t},\n\t\tinverseCommands: (command: TActionType): TActionType => {\n\t\t\tconst gantt = this._gantt;\n\t\t\tconst types = this.command.type;\n\t\t\tswitch (command) {\n\t\t\t\tcase types.update:\n\t\t\t\t\treturn types.update;\n\t\t\t\tcase types.remove:\n\t\t\t\t\treturn types.add;\n\t\t\t\tcase types.add:\n\t\t\t\t\treturn types.remove;\n\t\t\t\tcase types.move:\n\t\t\t\t\treturn types.move;\n\t\t\t\tdefault:\n\t\t\t\t\tgantt.assert(false, \"Invalid command \"+ command);\n\t\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t};\n\n\tprivate _undoStack = [];\n\tprivate _redoStack = [];\n\tprivate _gantt: any;\n\n\tconstructor(gantt: any){\n\t\tthis._gantt = gantt;\n\t}\n\tgetUndoStack() {\n\t\treturn this._undoStack;\n\t}\n\n\tgetRedoStack() {\n\t\treturn this._redoStack;\n\t}\n\n\tclearUndoStack() {\n\t\tthis._undoStack = [];\n\t}\n\n\tclearRedoStack() {\n\t\tthis._redoStack = [];\n\t}\n\n\tupdateConfigs() {\n\t\tconst gantt = this._gantt;\n\t\tthis.maxSteps = gantt.config.undo_steps || MAX_UNDO_STEPS;\n\t\tthis.command.entity = gantt.config.undo_types;\n\t\tthis.command.type = gantt.config.undo_actions;\n\t\tthis.undoEnabled = !!gantt.config.undo;\n\t\tthis.redoEnabled = !!gantt.config.redo; // GS-873, Redo should work even when the `gantt.config.undo` is disabled.\n\t}\n\n\tundo() {\n\t\tconst gantt = this._gantt;\n\t\tthis.updateConfigs();\n\t\tif (!this.undoEnabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst action = this._pop(this._undoStack);\n\t\tif (action) {\n\t\t\tthis._reorderCommands(action);\n\t\t}\n\t\tif (gantt.callEvent(\"onBeforeUndo\", [action]) !== false) {\n\t\t\tif (action) {\n\t\t\t\tthis._applyAction(this.action.invert(action));\n\t\t\t\tthis._push(this._redoStack, gantt.copy(action));\n\t\t\t\tgantt.callEvent(\"onAfterUndo\", [action]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tgantt.callEvent(\"onAfterUndo\", [null]);\n\t}\n\n\tredo() {\n\t\tconst gantt = this._gantt;\n\t\tthis.updateConfigs();\n\t\tif (!this.redoEnabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst action = this._pop(this._redoStack);\n\t\tif (action) {\n\t\t\tthis._reorderCommands(action);\n\t\t}\n\n\t\tif (gantt.callEvent(\"onBeforeRedo\", [action]) !== false) {\n\t\t\tif (action) {\n\t\t\t\tthis._applyAction(action);\n\t\t\t\tthis._push(this._undoStack, gantt.copy(action));\n\t\t\t\tgantt.callEvent(\"onAfterRedo\", [action]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tgantt.callEvent(\"onAfterRedo\", [null]);\n\t}\n\n\t// storeUndo:\n\tlogAction(action: IUndoCommands) {\n\t\tthis._push(this._undoStack, action);\n\t\tthis._redoStack = [];\n\t}\n\n\tprivate _push(stack: TUndoStack, action: IUndoCommands): IUndoCommands {\n\t\tconst gantt = this._gantt;\n\t\tif (!action.commands.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst event = stack === this._undoStack ? \"onBeforeUndoStack\" : \"onBeforeRedoStack\";\n\t\tif (gantt.callEvent(event, [action]) === false){\n\t\t\treturn;\n\t\t}\n\t\t// commands can be removed from event handler\n\t\tif (!action.commands.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tstack.push(action);\n\t\twhile (stack.length > this.maxSteps) {\n\t\t\tstack.shift();\n\t\t}\n\t\treturn action;\n\t}\n\n\tprivate _pop(stack: TUndoStack): IUndoCommands {\n\t\treturn stack.pop();\n\t}\n\n\tprivate _reorderCommands(action) {\n\t\t// firstly process tasks and only then links\n\t\t// in order to ensure links are added not earlier than their tasks\n\t\t// firstly to 'move' actions and only then updates\n\t\tconst weights = { any: 0, link:1, task:2 };\n\t\tconst actionWeights = { move: 1, any:0 };\n\t\taction.commands.sort(function(a, b) {\n\t\t\tif (a.entity === \"task\" && b.entity === \"task\") {\n\t\t\t\tif (a.type !== b.type) {\n\t\t\t\t\treturn (actionWeights[b.type] || 0) - (actionWeights[a.type] || 0);\n\t\t\t\t} else if (a.type === \"move\" && a.oldValue && b.oldValue && b.oldValue.parent === a.oldValue.parent) {\n\t\t\t\t\treturn a.oldValue.$index - b.oldValue.$index;\n\t\t\t\t} else {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst weightA = weights[a.entity] || weights.any;\n\t\t\t\tconst weightB = weights[b.entity] || weights.any;\n\t\t\t\treturn weightB - weightA;\n\t\t\t}\n\n\t\t});\n\t}\n\n\tprivate _applyAction(action: IUndoCommands) {\n\t\tlet command = null;\n\t\tconst entities = this.command.entity;\n\t\tconst actions = this.command.type;\n\t\tconst gantt = this._gantt;\n\t\tconst methods = {};\n\t\tmethods[entities.task] = {\n\t\t\tadd: \"addTask\",\n\t\t\tget: \"getTask\",\n\t\t\tupdate: \"updateTask\",\n\t\t\tremove: \"deleteTask\",\n\t\t\tmove: \"moveTask\",\n\t\t\tisExists: \"isTaskExists\"\n\t\t};\n\t\tmethods[entities.link] = {\n\t\t\tadd: \"addLink\",\n\t\t\tget: \"getLink\",\n\t\t\tupdate: \"updateLink\",\n\t\t\tremove: \"deleteLink\",\n\t\t\tisExists: \"isLinkExists\"\n\t\t};\n\n\t\tgantt.batchUpdate(function() {\n\t\t\tfor (let i = 0; i < action.commands.length; i++) {\n\t\t\t\tcommand = action.commands[i];\n\t\t\t\tconst method = methods[command.entity][command.type];\n\t\t\t\tconst getMethod = methods[command.entity].get;\n\t\t\t\tconst check = methods[command.entity].isExists;\n\n\t\t\t\tif (command.type === actions.add) {\n\t\t\t\t\tgantt[method](command.oldValue, command.oldValue.parent, command.oldValue.$index);\n\t\t\t\t} else if (command.type === actions.remove) {\n\t\t\t\t\tif (gantt[check](command.value.id)) {\n\t\t\t\t\t\tgantt[method](command.value.id);\n\t\t\t\t\t}\n\t\t\t\t} else if (command.type === actions.update) {\n\t\t\t\t\tconst item = gantt[getMethod](command.value.id);\n\t\t\t\t\tfor(const prop in command.value){\n\t\t\t\t\t\tif(!prop.startsWith(\"$\") && !prop.startsWith(\"_\")){\n\t\t\t\t\t\t\titem[prop] = command.value[prop];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tgantt[method](command.value.id);\n\t\t\t\t} else if (command.type === actions.move) {\n\t\t\t\t\tgantt[method](command.value.id, command.value.$local_index, command.value.parent);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}","import { IInlineEditState, IMonitor, IUndo, IUndoCommand, TActionType, TEntityType, TUndoValue } from \"./types\";\n\nconst noTrack = {\n\tonBeforeUndo: \"onAfterUndo\",\n\tonBeforeRedo: \"onAfterRedo\"\n};\n\nconst batchActions = [\n\t\"onTaskDragStart\",\n\t\"onAfterTaskUpdate\",\n\t\"onAfterTaskDelete\",\n\t\"onBeforeBatchUpdate\"\n];\n\nexport class Monitor implements IMonitor {\n\tprivate _batchAction = null;\n\tprivate _batchMode = false;\n\tprivate _ignore = false;\n\tprivate _ignoreMoveEvents = false;\n\tprivate _initialTasks = {};\n\tprivate _initialLinks = {};\n\tprivate _nestedTasks =  {};\n\tprivate _nestedLinks = {};\n\tprivate _timeout;\n\tprivate _gantt: any;\n\tprivate _undo: IUndo;\n\n\tconstructor(undo: IUndo, gantt: any) {\n\t\tthis._undo = undo;\n\t\tthis._gantt = gantt;\n\t\tthis._attachEvents();\n\t}\n\n\tstore(id: TaskID | LinkID, type: TEntityType, overwrite: boolean = false) {\n\t\tif (type === this._gantt.config.undo_types.task) {\n\t\t\treturn this._storeTask(id, overwrite);\n\t\t}\n\t\tif (type === this._gantt.config.undo_types.link) {\n\t\t\treturn this._storeLink(id, overwrite);\n\t\t}\n\t\treturn false;\n\t}\n\tisMoveEventsIgnored() {\n\t\treturn this._ignoreMoveEvents;\n\t}\n\ttoggleIgnoreMoveEvents(newValue?: boolean) {\n\t\tthis._ignoreMoveEvents = newValue || false;\n\t}\n\tstartIgnore() {\n\t\tthis._ignore = true;\n\t}\n\tstopIgnore() {\n\t\tthis._ignore = false;\n\t}\n\tstartBatchAction() {\n\t\t// try catching updates made from event handlers using timeout\n\t\tif (!this._timeout){\n\t\t\tthis._timeout = setTimeout(() => {\n\t\t\t\tthis.stopBatchAction();\n\t\t\t\tthis._timeout = null;\n\t\t\t}, 10);\n\t\t}\n\n\n\t\tif (this._ignore || this._batchMode) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._batchMode = true;\n\t\tthis._batchAction = this._undo.action.create();\n\t}\n\tstopBatchAction() {\n\t\tif (this._ignore) {\n\t\t\treturn;\n\t\t}\n\t\tconst undo = this._undo;\n\t\tif (this._batchAction) {\n\t\t\tundo.logAction(this._batchAction);\n\t\t}\n\t\tthis._batchMode = false;\n\t\tthis._batchAction = null;\n\t}\n\tonTaskAdded(task: ITask) {\n\t\tif (!this._ignore) {\n\t\t\tthis._storeTaskCommand(task, this._undo.command.type.add);\n\t\t}\n\t}\n\tonTaskUpdated(task: ITask) {\n\t\tif (!this._ignore) {\n\t\t\tthis._storeTaskCommand(task, this._undo.command.type.update);\n\t\t}\n\t}\n\tonTaskMoved(task: ITask) {\n\t\tif (!this._ignore) {\n\t\t\t(task as any).$local_index = this._gantt.getTaskIndex(task.id);\n\t\t\tconst oldValue = this.getInitialTask(task.id);\n\t\t\tif((task as any).$local_index === oldValue.$local_index &&\n\t\t\t\tthis._gantt.getParent(task) === this._gantt.getParent(oldValue)){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\tthis._storeEntityCommand(\n\t\t\t\ttask,\n\t\t\t\tthis.getInitialTask(task.id),\n\t\t\t\tthis._undo.command.type.move,\n\t\t\t\tthis._undo.command.entity.task\n\t\t\t);\n\t\t}\n\t}\n\tonTaskDeleted(task: ITask) {\n\t\tif (!this._ignore) {\n\t\t\tthis._storeTaskCommand(task, this._undo.command.type.remove);\n\t\t\tif (this._nestedTasks[task.id]) {\n\t\t\t\tconst children = this._nestedTasks[task.id];\n\t\t\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\t\t\tthis._storeTaskCommand(children[i], this._undo.command.type.remove);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this._nestedLinks[task.id]) {\n\t\t\t\tconst childrenLinks = this._nestedLinks[task.id];\n\t\t\t\tfor (let i = 0; i < childrenLinks.length; i++) {\n\t\t\t\t\tthis._storeLinkCommand(childrenLinks[i], this._undo.command.type.remove);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tonLinkAdded(link: ILink) {\n\t\tif (!this._ignore) {\n\t\t\tthis._storeLinkCommand(link, this._undo.command.type.add);\n\t\t}\n\t}\n\tonLinkUpdated(link: ILink) {\n\t\tif (!this._ignore) {\n\t\t\tthis._storeLinkCommand(link, this._undo.command.type.update);\n\t\t}\n\t}\n\tonLinkDeleted(link: ILink) {\n\t\tif (!this._ignore) {\n\t\t\tthis._storeLinkCommand(link, this._undo.command.type.remove);\n\t\t}\n\t}\n\tsetNestedTasks(id: TaskID, taskIds: TaskID[]) {\n\t\tconst gantt = this._gantt;\n\t\tlet task = null;\n\t\tconst tasks = [];\n\t\tlet\tlinkIds = this._getLinks(gantt.getTask(id));\n\n\t\tfor (let i = 0; i < taskIds.length; i++) {\n\t\t\ttask = this.setInitialTask(taskIds[i]);\n\t\t\tlinkIds = linkIds.concat(this._getLinks(task));\n\t\t\ttasks.push(task);\n\t\t}\n\n\t\tconst uniqueLinks = {};\n\t\tfor (let i = 0; i < linkIds.length; i++) {\n\t\t\tuniqueLinks[linkIds[i]] = true;\n\t\t}\n\t\tconst links = [];\n\t\tfor (const i in uniqueLinks) {\n\t\t\tlinks.push(this.setInitialLink(i));\n\t\t}\n\t\tthis._nestedTasks[id] = tasks;\n\t\tthis._nestedLinks[id] = links;\n\t}\n\tsetInitialTask(id: TaskID, overwrite?: boolean) {\n\t\tconst gantt = this._gantt;\n\t\tif (overwrite || (!this._initialTasks[id] || !this._batchMode)) {\n\t\t\tconst task = gantt.copy(gantt.getTask(id));\n\t\t\ttask.$index = gantt.getGlobalTaskIndex(id);\n\t\t\ttask.$local_index = gantt.getTaskIndex(id);\n\t\t\tthis.setInitialTaskObject(id, task);\n\t\t}\n\t\treturn this._initialTasks[id];\n\t}\n\tgetInitialTask(id: TaskID) {\n\t\treturn this._initialTasks[id];\n\t}\n\tclearInitialTasks() {\n\t\tthis._initialTasks = {};\n\t}\n\tsetInitialTaskObject(id: TaskID, object: ITask) {\n\t\tthis._initialTasks[id] = object;\n\t}\n\tsetInitialLink(id: LinkID, overwrite?: boolean) {\n\t\tif (!this._initialLinks[id] || !this._batchMode) {\n\t\t\tthis._initialLinks[id] = this._gantt.copy(this._gantt.getLink(id));\n\t\t}\n\t\treturn this._initialLinks[id];\n\t}\n\tgetInitialLink(id: LinkID) {\n\t\treturn this._initialLinks[id];\n\t}\n\tclearInitialLinks() {\n\t\tthis._initialLinks = {};\n\t}\n\tprivate _attachEvents() {\n\t\tlet deleteCacheCooldown = null;\n\t\tconst gantt = this._gantt;\n\n\t\tconst saveInitialAll = () => {\n\t\t\tif (!deleteCacheCooldown) {\n\t\t\t\tdeleteCacheCooldown = setTimeout(() => {\n\t\t\t\t\tdeleteCacheCooldown = null;\n\t\t\t\t});\n\n\t\t\t\tthis.clearInitialTasks();\n\t\t\t\tgantt.eachTask((task: ITask) => {\n\t\t\t\t\tthis.setInitialTask(task.id);\n\t\t\t\t});\n\n\t\t\t\tthis.clearInitialLinks();\n\t\t\t\tgantt.getLinks().forEach((link: ILink) => {\n\t\t\t\t\tthis.setInitialLink(link.id);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t\tconst getMoveObjectByTaskId = (id: TaskID) => {\n\t\t\treturn gantt.copy(gantt.getTask(id));\n\t\t};\n\n\t\tfor (const i in noTrack) {\n\t\t\tgantt.attachEvent(i, () => {\n\t\t\t\tthis.startIgnore();\n\t\t\t\treturn true;\n\t\t\t});\n\t\t\tgantt.attachEvent(noTrack[i], () => {\n\t\t\t\tthis.stopIgnore();\n\t\t\t\treturn true;\n\t\t\t});\n\t\t}\n\n\t\tfor (let i  = 0; i < batchActions.length; i++) {\n\t\t\tgantt.attachEvent(batchActions[i], () => {\n\t\t\t\tthis.startBatchAction();\n\t\t\t\treturn true;\n\t\t\t});\n\t\t}\n\n\t\tgantt.attachEvent(\"onParse\", () => {\n\t\t\tthis._undo.clearUndoStack();\n\t\t\tthis._undo.clearRedoStack();\n\t\t\tsaveInitialAll();\n\t\t});\n\t\tgantt.attachEvent(\"onAfterTaskAdd\", (id: TaskID, task: ITask) => {\n\t\t\tthis.setInitialTask(id, true);\n\t\t\tthis.onTaskAdded(task);\n\t\t});\n\t\tgantt.attachEvent(\"onAfterTaskUpdate\", (id: TaskID, task: ITask) => {\n\t\t\tthis.onTaskUpdated(task);\n\t\t});\n\t\tgantt.attachEvent(\"onAfterTaskDelete\", (id: TaskID, task: ITask) => {\n\t\t\tthis.onTaskDeleted(task);\n\t\t});\n\t\tgantt.attachEvent(\"onAfterLinkAdd\", (id: LinkID, link: ILink) => {\n\t\t\tthis.setInitialLink(id, true);\n\t\t\tthis.onLinkAdded(link);\n\t\t});\n\t\tgantt.attachEvent(\"onAfterLinkUpdate\", (id: LinkID, link: ILink) => {\n\t\t\tthis.onLinkUpdated(link);\n\t\t});\n\t\tgantt.attachEvent(\"onAfterLinkDelete\", (id: LinkID, link: ILink) => {\n\t\t\tthis.onLinkDeleted(link);\n\t\t});\n\t\tgantt.attachEvent(\"onRowDragEnd\", (id: TaskID, target: TaskID) => {\n\t\t\tthis.onTaskMoved(getMoveObjectByTaskId(id));\n\t\t\tthis.toggleIgnoreMoveEvents();\n\t\t\treturn true;\n\t\t});\n\t\tgantt.attachEvent(\"onBeforeTaskDelete\", (id: TaskID) => {\n\t\t\tthis.store(id, gantt.config.undo_types.task);\n\t\t\tconst nested = [];\n\n\t\t\t// remember task indexes in case their being deleted in a loop, so they could be restored in the correct order\n\t\t\tsaveInitialAll();\n\n\t\t\tgantt.eachTask((task: ITask) => {\n\t\t\t\tnested.push(task.id);\n\t\t\t}, id);\n\t\t\tthis.setNestedTasks(id, nested);\n\t\t\treturn true;\n\t\t});\n\t\tconst datastore = gantt.getDatastore(\"task\");\n\n\t\tdatastore.attachEvent(\"onBeforeItemMove\", (id: TaskID, parent: TaskID, tindex: number) => {\n\t\t\tif (!this.isMoveEventsIgnored()) {\n\t\t\t\tsaveInitialAll();\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tdatastore.attachEvent(\"onAfterItemMove\", (id: TaskID, parent: TaskID, tindex: number) => {\n\t\t\tif (!this.isMoveEventsIgnored()) {\n\t\t\t\tthis.onTaskMoved(getMoveObjectByTaskId(id));\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tgantt.attachEvent(\"onRowDragStart\", (id: TaskID, target: TaskID, e: Event) => {\n\t\t\tthis.toggleIgnoreMoveEvents(true);\n\t\t\tsaveInitialAll();\n\t\t\treturn true;\n\t\t});\n\n\t\tgantt.attachEvent(\"onBeforeTaskDrag\", (taskId: TaskID) => this.store(taskId, gantt.config.undo_types.task));\n\n\t\tgantt.attachEvent(\"onLightbox\", (taskId: TaskID) => this.store(taskId, gantt.config.undo_types.task));\n\n\t\tgantt.attachEvent(\"onBeforeTaskAutoSchedule\", (task: ITask) => {\n\t\t\tthis.store(task.id, gantt.config.undo_types.task);\n\t\t\treturn true;\n\t\t});\n\n\t\tif (gantt.ext.inlineEditors) {\n\t\t\tgantt.ext.inlineEditors.attachEvent(\"onEditStart\", (state: IInlineEditState) => {\n\t\t\t\tthis.store(state.id, gantt.config.undo_types.task);\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate _storeCommand(command: IUndoCommand) {\n\t\tconst undo = this._undo;\n\t\tundo.updateConfigs();\n\n\t\tif (!undo.undoEnabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._batchMode) {\n\t\t\tthis._batchAction.commands.push(command);\n\t\t} else {\n\t\t\tconst action = undo.action.create([command]);\n\t\t\tundo.logAction(action);\n\t\t}\n\t}\n\tprivate _storeEntityCommand(obj: TUndoValue, old: TUndoValue, actionType: TActionType, entityType: TEntityType) {\n\t\tconst undo = this._undo;\n\t\tconst command = undo.command.create(obj, old, actionType, entityType);\n\t\tthis._storeCommand(command);\n\t}\n\tprivate _storeTaskCommand(obj: ITask, type: TActionType) {\n\t\tif(this._gantt.isTaskExists(obj.id)){\n\t\t\t(obj as any).$local_index = this._gantt.getTaskIndex(obj.id);\n\t\t}\n\n\t\tthis._storeEntityCommand(obj, this.getInitialTask(obj.id), type, this._undo.command.entity.task);\n\t}\n\tprivate _storeLinkCommand(obj: ILink, type: TActionType) {\n\t\tthis._storeEntityCommand(obj, this.getInitialLink(obj.id), type, this._undo.command.entity.link);\n\t}\n\tprivate _getLinks(task: ITask) {\n\t\treturn task.$source.concat(task.$target);\n\t}\n\tprivate _storeTask(taskId: TaskID, overwrite: boolean = false) {\n\t\tconst gantt = this._gantt;\n\t\tthis.setInitialTask(taskId, overwrite);\n\t\tgantt.eachTask((child: ITask) => {\n\t\t\tthis.setInitialTask(child.id);\n\t\t}, taskId);\n\t\treturn true;\n\t}\n\tprivate _storeLink(linkId: LinkID, overwrite: boolean = false) {\n\t\tthis.setInitialLink(linkId, overwrite);\n\t\treturn true;\n\t}\n}","import { Monitor } from \"./monitor\";\nimport { IMonitor, IUndoCommand, TEntityType, TUndoStack } from \"./types\";\nimport { Undo } from \"./undo\";\n\nexport default function(gantt: any){\n\nconst _undo = new Undo(gantt);\nconst monitor: IMonitor = new Monitor(_undo, gantt);\n\ngantt.config.undo = true;\ngantt.config.redo = true;\n\n/**\n * entities that require different processing for undoing-redoing changes\n * @type {{link: string, task: string}}\n */\ngantt.config.undo_types = {\n\tlink: \"link\",\n\ttask: \"task\"\n};\n\n/**\n * types of traced actions\n * @type {{update: string, remove: string, add: string}}\n */\ngantt.config.undo_actions = {\n\tupdate: \"update\",\n\tremove: \"remove\", // remove item from datastore\n\tadd: \"add\",\n\tmove: \"move\" // move task in grid\n};\n\nif (!gantt.ext) {\n\tgantt.ext = {};\n}\n\ngantt.ext.undo = {\n\tundo: () => _undo.undo(),\n\tredo: () => _undo.redo(),\n\tgetUndoStack: () => _undo.getUndoStack(),\n\tgetRedoStack: () => _undo.getRedoStack(),\n\tclearUndoStack: () => _undo.clearUndoStack(),\n\tclearRedoStack: () => _undo.clearRedoStack(),\n\tsaveState: (id: TaskID | LinkID, type: TEntityType) => monitor.store(id, type, true)\n};\n\ngantt.undo = gantt.ext.undo.undo;\ngantt.redo = gantt.ext.undo.redo;\ngantt.getUndoStack = gantt.ext.undo.getUndoStack;\ngantt.getRedoStack = gantt.ext.undo.getRedoStack;\ngantt.clearUndoStack = gantt.ext.undo.clearUndoStack;\ngantt.clearRedoStack = gantt.ext.undo.clearRedoStack;\n\nfunction updTask(task: ITask, oldId: TaskID, newId: TaskID) {\n\tif (!task) { return; }\n\n\tif (task.id === oldId) {\n\t\ttask.id = newId;\n\t}\n\n\tif (task.parent === oldId) {\n\t\ttask.parent = newId;\n\t}\n}\n\nfunction changeTaskCommandId(command: IUndoCommand, oldId: TaskID, newId: TaskID) {\n\tupdTask(command.value, oldId, newId);\n\tupdTask(command.oldValue, oldId, newId);\n}\n\nfunction updLink(link: ILink, oldTaskId: TaskID, newTaskId: TaskID) {\n\tif (!link) { return; }\n\tif (link.source === oldTaskId) {\n\t\tlink.source = newTaskId;\n\t}\n\tif (link.target === oldTaskId) {\n\t\tlink.target = newTaskId;\n\t}\n}\n\nfunction changeLinkCommandId(command: IUndoCommand, oldId: LinkID, newId: LinkID) {\n\tupdLink(command.value, oldId, newId);\n\tupdLink(command.oldValue, oldId, newId);\n}\n\nfunction updateTasksIds(log: TUndoStack, oldId: TaskID, newId: TaskID) {\n\tconst undo = _undo;\n\n\tfor (let i = 0; i < log.length; i++) {\n\t\tconst entry = log[i];\n\t\tfor (let j = 0; j < entry.commands.length; j++) {\n\t\t\tif (entry.commands[j].entity === undo.command.entity.task) {\n\t\t\t\tchangeTaskCommandId(entry.commands[j], oldId, newId);\n\t\t\t} else if (entry.commands[j].entity === undo.command.entity.link) {\n\t\t\t\tchangeLinkCommandId(entry.commands[j], oldId, newId);\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction updateLinksIds(log: TUndoStack, oldId: LinkID, newId: LinkID) {\n\tconst undo = _undo;\n\n\tfor (let i = 0; i < log.length; i++) {\n\t\tconst entry = log[i];\n\t\tfor (let j = 0; j < entry.commands.length; j++) {\n\t\t\tconst command = entry.commands[j];\n\t\t\tif (command.entity === undo.command.entity.link) {\n\t\t\t\tif (command.value && command.value.id === oldId) {\n\t\t\t\t\tcommand.value.id = newId;\n\t\t\t\t}\n\t\t\t\tif (command.oldValue && command.oldValue.id === oldId) {\n\t\t\t\t\tcommand.oldValue.id = newId;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\ngantt.attachEvent(\"onTaskIdChange\", (oldId: TaskID, newId: TaskID) => {\n\tconst undo = _undo;\n\tupdateTasksIds(undo.getUndoStack(), oldId, newId);\n\tupdateTasksIds(undo.getRedoStack(), oldId, newId);\n});\n\ngantt.attachEvent(\"onLinkIdChange\", (oldId: LinkID, newId: LinkID) => {\n\tconst undo = _undo;\n\tupdateLinksIds(undo.getUndoStack(), oldId, newId);\n\tupdateLinksIds(undo.getRedoStack(), oldId, newId);\n});\n\ngantt.attachEvent(\"onGanttReady\", () => {\n\t_undo.updateConfigs();\n});\n\n}","import * as domHelpers from \"../../core/ui/utils/dom_helpers\";\n\ninterface IViewPosition{\n\ttop: number;\n\tleft: number;\n}\n\ninterface IViewBox extends IViewPosition{\n\twidth: number;\n\theight: number;\n\tbottom: number;\n\tright: number;\n}\n\nexport class Tooltip {\n\tprivate _root: HTMLElement;\n\tprivate _tooltipNode: HTMLElement;\n\tprivate _gantt: any;\n\n\tconstructor(gantt: any){\n\t\tthis._gantt = gantt;\n\t}\n\n\tgetNode() : HTMLElement {\n\t\tconst gantt = this._gantt;\n\t\tif (!this._tooltipNode){\n\t\t\tthis._tooltipNode = document.createElement(\"div\");\n\t\t\tthis._tooltipNode.className = \"gantt_tooltip\";\n\t\t\tgantt._waiAria.tooltipAttr(this._tooltipNode);\n\t\t}\n\t\treturn this._tooltipNode;\n\t}\n\n\tsetViewport(node: HTMLElement):Tooltip{\n\t\tthis._root = node;\n\t\treturn this;\n\t}\n\n\tshow(left: number, top: number): Tooltip;\n\tshow(event: MouseEvent): Tooltip;\n\tshow(left: number | MouseEvent, top?: number): Tooltip {\n\t\tconst gantt = this._gantt;\n\t\tconst container = document.body;\n\t\tconst node = this.getNode();\n\n\t\tif(!domHelpers.isChildOf(node, container)){\n\t\t\tthis.hide();\n\t\t\tcontainer.appendChild(node);\n\t\t}\n\n\t\tif (this._isLikeMouseEvent(left)) {\n\t\t\tconst position = this._calculateTooltipPosition(left as MouseEvent);\n\t\t\ttop = position.top;\n\t\t\tleft = position.left;\n\t\t}\n\n\t\tnode.style.top = top + \"px\";\n\t\tnode.style.left = left + \"px\";\n\n\t\tgantt._waiAria.tooltipVisibleAttr(node);\n\t\treturn this;\n\t}\n\thide() : Tooltip{\n\t\tconst gantt = this._gantt;\n\t\tconst node = this.getNode();\n\t\tif(node && node.parentNode){\n\t\t\tnode.parentNode.removeChild(node);\n\t\t}\n\t\tgantt._waiAria.tooltipHiddenAttr(node);\n\t\treturn this;\n\t}\n\n\tsetContent(html: string) : Tooltip{\n\t\tconst node = this.getNode();\n\t\tnode.innerHTML = html;\n\t\treturn this;\n\t}\n\n\t// it is for salesforce, because it proxies event to it own events\n\tprivate _isLikeMouseEvent(event: any): boolean {\n\t\tif (!event || typeof event !== \"object\") {\n\t\t\treturn false;\n\t\t}\n\t\treturn \"clientX\" in event && \"clientY\" in event;\n\t}\n\n\tprivate _getViewPort() : HTMLElement {\n\t\treturn this._root || document.body;\n\t}\n\n\n\tprivate _calculateTooltipPosition(event: MouseEvent): IViewPosition{\n\t\tconst gantt = this._gantt;\n\t\t// top/left coordinates inside the viewport by mouse position\n\t\tconst viewport =  this._getViewPortSize();\n\t\tconst tooltipNode = this.getNode();\n\t\tconst tooltip: IViewBox = {\n\t\t\ttop:0,\n\t\t\tleft: 0,\n\t\t\twidth: tooltipNode.offsetWidth,\n\t\t\theight: tooltipNode.offsetHeight,\n\t\t\tbottom: 0,\n\t\t\tright: 0\n\t\t};\n\n\t\tconst offsetX = gantt.config.tooltip_offset_x;\n\t\tconst offsetY = gantt.config.tooltip_offset_y;\n\n\t\tconst container = document.body;\n\t\tconst mouse = domHelpers.getRelativeEventPosition(event, container);\n\t\tconst containerPos = domHelpers.getNodePosition(container);\n\t\tmouse.y += containerPos.y; // to fix margin collapsing\n\n\t\ttooltip.top = mouse.y;\n\t\ttooltip.left = mouse.x;\n\t\ttooltip.top += offsetY;\n\t\ttooltip.left += offsetX;\n\t\ttooltip.bottom = tooltip.top + tooltip.height;\n\t\ttooltip.right = tooltip.left + tooltip.width;\n\n\t\tconst scrollTop = window.scrollY + container.scrollTop; // to fix margin collapsing\n\t\t// edge cases when the tooltip element can be partially hidden by edges of the viewport\n\t\tif(tooltip.top < viewport.top - scrollTop){\n\t\t\ttooltip.top = viewport.top;\n\t\t\ttooltip.bottom = tooltip.top + tooltip.height;\n\t\t}else if(tooltip.bottom > viewport.bottom){\n\t\t\ttooltip.bottom = viewport.bottom;\n\t\t\ttooltip.top = tooltip.bottom - tooltip.height;\n\t\t}\n\n\t\tif(tooltip.left < viewport.left){\n\t\t\ttooltip.left = viewport.left;\n\t\t\ttooltip.right = viewport.left + tooltip.width;\n\t\t}else if(tooltip.right > viewport.right){\n\t\t\ttooltip.right = viewport.right;\n\t\t\ttooltip.left = tooltip.right - tooltip.width;\n\t\t}\n\n\t\tif(mouse.x >= tooltip.left && mouse.x <= tooltip.right) {\n\t\t\ttooltip.left = mouse.x - tooltip.width - offsetX;\n\t\t\ttooltip.right = tooltip.left + tooltip.width;\n\t\t}\n\n\t\tif(mouse.y >= tooltip.top && mouse.y <= tooltip.bottom) {\n\t\t\ttooltip.top = mouse.y - tooltip.height - offsetY;\n\t\t\ttooltip.bottom = tooltip.top + tooltip.height;\n\t\t}\n\n\t\treturn tooltip;\n\t}\n\n\tprivate _getViewPortSize() : IViewBox {\n\t\tconst gantt = this._gantt;\n\t\tconst container = this._getViewPort();\n\t\tlet viewport = container;\n\t\tlet scrollTop = window.scrollY + document.body.scrollTop;\n\t\tlet scrollLeft = window.scrollX + document.body.scrollLeft;\n\t\tlet pos;\n\t\t// support for the initial tooltip mode where the tooltip element was attached to the data area of gantt\n\t\tif(container === gantt.$task_data){\n\t\t\tviewport = gantt.$task;\n\t\t\tscrollTop = 0;\n\t\t\tscrollLeft = 0;\n\t\t\tpos = domHelpers.getNodePosition(gantt.$task);\n\t\t}else{\n\t\t\tpos = domHelpers.getNodePosition(viewport);\n\t\t}\n\t\treturn {\n\t\t\tleft:pos.x + scrollLeft,\n\t\t\ttop: pos.y + scrollTop,\n\t\t\twidth: pos.width,\n\t\t\theight: pos.height,\n\t\t\tbottom: pos.y + pos.height + scrollTop,\n\t\t\tright: pos.x + pos.width + scrollLeft\n\t\t};\n\t}\n}\n","import * as domEventsScope from \"../../core/ui/utils/dom_event_scope\";\nimport * as domHelpers from \"../../core/ui/utils/dom_helpers\";\nimport * as helpers from \"../../utils/helpers\";\nimport { Tooltip } from \"./tooltip\";\n\ninterface ITrackerTarget {\n\tselector: string;\n\tonmouseenter: (event: MouseEvent, node: HTMLElement) => void;\n\tonmousemove: (event: MouseEvent, node: HTMLElement) => void;\n\tonmouseleave: (event: MouseEvent, node: HTMLElement) => void;\n\tglobal: boolean;\n}\n\ninterface ITooltipConfig {\n\tselector: string;\n\thtml: (event: MouseEvent, node: HTMLElement) => string;\n\tglobal: boolean;\n}\n\nexport class TooltipManager{\n\ttooltip: Tooltip;\n\tprotected _domEvents: any;\n\tprivate _listeners: object = {};\n\tprivate _gantt: any;\n\tprivate delayShow: any;\n\tprivate delayHide: any;\n\n\tconstructor(gantt: any) {\n\t\tthis.tooltip = new Tooltip(gantt);\n\t\tthis._gantt = gantt;\n\t\tthis._domEvents = domEventsScope();\n\t\tthis._initDelayedFunctions();\n\t}\n\n\tdestructor(): void{\n\t\tthis.tooltip.hide();\n\t\tthis._domEvents.detachAll();\n\t}\n\thideTooltip(): void{\n\t\tthis.delayHide();\n\t}\n\tattach(config: ITrackerTarget): void {\n\t\tlet root = document.body;\n\t\tconst gantt = this._gantt;\n\t\tif(!config.global){\n\t\t\troot = gantt.$root;\n\t\t}\n\n\t\tlet watchableTarget = null;\n\t\tconst handler = (event) => {\n\t\t\tconst eventTarget = domHelpers.getTargetNode(event);\n\t\t\tconst targetNode = domHelpers.closest(eventTarget, config.selector);\n\t\t\tif(domHelpers.isChildOf(eventTarget, this.tooltip.getNode())){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst doOnMouseEnter = () => {\n\t\t\t\twatchableTarget = targetNode;\n\t\t\t\tconfig.onmouseenter(event, targetNode);\n\t\t\t};\n\n\t\t\tif(watchableTarget){\n\t\t\t\tif(targetNode && targetNode === watchableTarget){\n\t\t\t\t\tconfig.onmousemove(event, targetNode);\n\t\t\t\t}else{\n\t\t\t\t\tconfig.onmouseleave(event, watchableTarget);\n\t\t\t\t\twatchableTarget = null;\n\n\t\t\t\t\tif(targetNode && targetNode !== watchableTarget){\n\t\t\t\t\t\tdoOnMouseEnter();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(targetNode){\n\t\t\t\t\tdoOnMouseEnter();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis.detach(config.selector);\n\t\tthis._domEvents.attach(root, \"mousemove\", handler);\n\t\tthis._listeners[config.selector] = {\n\t\t\tnode: root,\n\t\t\thandler\n\t\t};\n\t}\n\n\tdetach(selector: string): void {\n\t\tconst listener = this._listeners[selector];\n\t\tif(listener){\n\t\t\tthis._domEvents.detach(listener.node, \"mousemove\", listener.handler);\n\t\t}\n\t}\n\n\ttooltipFor(config: ITooltipConfig): void {\n\t\tconst cloneDomEvent = (event: MouseEvent) => {\n\t\t\tlet clone = event;\n\t\t\t// making events survive timeout in ie\n\t\t\t// tslint:disable-next-line no-string-literal\n\t\t\tif(document[\"createEventObject\"] && !document.createEvent){\n\t\t\t\t// tslint:disable-next-line no-string-literal\n\t\t\t\tclone = document[\"createEventObject\"](event);\n\t\t\t}\n\t\t\treturn clone;\n\t\t};\n\t\tthis._initDelayedFunctions();\n\t\tthis.attach({\n\t\t\tselector: config.selector,\n\t\t\tglobal: config.global,\n\t\t\tonmouseenter:(event: MouseEvent, node: HTMLElement) => {\n\t\t\t\tconst html = config.html(event, node);\n\t\t\t\tif(html){\n\t\t\t\t\tthis.delayShow(cloneDomEvent(event), html);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonmousemove:(event: MouseEvent, node: HTMLElement) => {\n\t\t\t\tconst html = config.html(event, node);\n\t\t\t\tif(html){\n\t\t\t\t\tthis.delayShow(cloneDomEvent(event), html);\n\t\t\t\t}else{\n\t\t\t\t\tthis.delayShow.$cancelTimeout();\n\t\t\t\t\tthis.delayHide();\n\t\t\t\t}\n\t\t\t},\n\t\t\tonmouseleave:() => {\n\t\t\t\tthis.delayShow.$cancelTimeout();\n\t\t\t\tthis.delayHide();\n\t\t\t},\n\t\t});\n\t}\n\n\tprivate _initDelayedFunctions(){\n\t\tconst gantt = this._gantt;\n\t\t// reset delayed functions in order to apply current values of tooltip_timeout\n\t\tif(this.delayShow){\n\t\t\tthis.delayShow.$cancelTimeout();\n\t\t}\n\t\tif(this.delayHide){\n\t\t\tthis.delayHide.$cancelTimeout();\n\t\t}\n\t\tthis.tooltip.hide();\n\n\t\tthis.delayShow = helpers.delay((event: MouseEvent, html: string) => {\n\t\t\tif(gantt.callEvent(\"onBeforeTooltip\", [event]) === false) {\n\t\t\t\tthis.tooltip.hide();\n\t\t\t} else {\n\t\t\t\tthis.tooltip.setContent(html);\n\t\t\t\tthis.tooltip.show(event);\n\t\t\t}\n\t\t}, gantt.config.tooltip_timeout || 1);\n\n\t\tthis.delayHide = helpers.delay(() => {\n\t\t\tthis.delayShow.$cancelTimeout();\n\t\t\tthis.tooltip.hide();\n\t\t}, gantt.config.tooltip_hide_timeout || 1);\n\t}\n\n}","import {TooltipManager} from \"./tooltipManager\";\n\nexport default function(gantt: any){\n\ngantt.config.tooltip_timeout = 30;\ngantt.config.tooltip_offset_y = 20;\ngantt.config.tooltip_offset_x = 10;\ngantt.config.tooltip_hide_timeout = 30;\n\n\n\nconst tooltipManager = new TooltipManager(gantt);\n\ngantt.ext.tooltips = tooltipManager;\n\ngantt.attachEvent(\"onGanttReady\", function(){\n\n\ttooltipManager.tooltipFor({\n\t\tselector: \"[\"+gantt.config.task_attribute+\"]:not(.gantt_task_row)\",\n\t\thtml: (event: MouseEvent) => {\n\t\t\tif (gantt.config.touch && !gantt.config.touch_tooltip) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst targetTaskId = gantt.locate(event);\n\t\t\tif(gantt.isTaskExists(targetTaskId)){\n\t\t\t\tconst task = gantt.getTask(targetTaskId);\n\t\t\t\treturn gantt.templates.tooltip_text(task.start_date, task.end_date, task);\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tglobal: false\n\t});\n});\n\ngantt.attachEvent(\"onDestroy\", function() {\n\ttooltipManager.destructor();\n});\n\ngantt.attachEvent(\"onLightbox\", function() {\n\ttooltipManager.hideTooltip();\n});\nconst isLinkCreate = () => {\n\tconst state = gantt.getState();\n\treturn !!state.link_source_id;\n};\ngantt.attachEvent(\"onBeforeTooltip\", function() {\n\tif (isLinkCreate()){\n\t\treturn false;\n\t}\n});\n\ngantt.attachEvent(\"onGanttScroll\", function(){\n\ttooltipManager.hideTooltip();\n});\n\n}","\ninterface IQuickInfoContainer{\n\tparent: HTMLElement;\n\txViewport: HTMLElement;\n\tyViewport: HTMLElement;\n}\n\nexport class QuickInfo {\n\tprivate _quickInfoTask: TaskID;\n\tprivate _quickInfoBoxId: number | string;\n\tprivate _quickInfoBox: HTMLElement;\n\tprivate _quickInfoReadonly: boolean | null;\n\tprivate _container: HTMLElement;\n\tprivate _gantt: any;\n\n\tconstructor(gantt: any) {\n\t\tthis._gantt = gantt;\n\t}\n\n\t// show at coordinates:\n\t// show(x: number, y: number)\n\t// show for a task:\n\t// show(id: TaskID)\n\tshow : {\n\t\t(x: number, y: number) : void;\n\t\t(id: TaskID) : void;\n\t} = (id: TaskID | number, y? : number) : void => {\n\t\tif (y === undefined) {\n\t\t\tthis._showForTask(id);\n\t\t} else {\n\t\t\tthis._showAtCoordinates(id as number, y);\n\t\t}\n\t}\n\n\thide = (forced?: boolean) : any => {\n\t\tconst gantt = this._gantt;\n\t\tconst qi = this._quickInfoBox;\n\t\tthis._quickInfoBoxId = 0;\n\t\tconst taskId = this._quickInfoTask;\n\t\tthis._quickInfoTask = null;\n\n\t\tif (qi && qi.parentNode){\n\n\t\t\tif (gantt.config.quick_info_detached) {\n\t\t\t\tgantt.callEvent(\"onAfterQuickInfo\", [taskId]);\n\t\t\t\treturn qi.parentNode.removeChild(qi);\n\t\t\t}\n\n\t\t\tqi.className += \" gantt_qi_hidden\";\n\t\t\tif (qi.style.right === \"auto\"){\n\t\t\t\tqi.style.left = \"-350px\";\n\t\t\t} else {\n\t\t\t\tqi.style.right = \"-350px\";\n\t\t\t}\n\n\t\t\tif (forced) {\n\t\t\t\tqi.style.left = qi.style.right = \"\";\n\t\t\t\tqi.parentNode.removeChild(qi);\n\t\t\t}\n\t\t\tgantt.callEvent(\"onAfterQuickInfo\", [taskId]);\n\t\t}\n\t}\n\n\tgetNode = (): HTMLElement => {\n\t\tif(this._quickInfoBox) {\n\t\t\treturn this._quickInfoBox;\n\t\t}\n\t\treturn null;\n\t}\n\n\tsetContainer = (container: string|HTMLElement): void => {\n\t\tif(container){\n\t\t\tthis._container = typeof container === \"string\" ? document.getElementById(container) : container;\n\t\t}\n\t}\n\n\tsetContent = (content?: IQuickInfoContent) => {\n\t\tconst gantt = this._gantt;\n\n\t\tconst defaultContent = {\n\t\t\ttaskId: null,\n\t\t\theader: {\n\t\t\t\ttitle: \"\",\n\t\t\t\tdate: \"\"\n\t\t\t},\n\t\t\tcontent: \"\",\n\t\t\tbuttons: gantt.config.quickinfo_buttons\n\t\t};\n\n\t\tif(!content){\n\t\t\tcontent = defaultContent;\n\t\t}\n\n\t\tif(!content.taskId){\n\t\t\tcontent.taskId = defaultContent.taskId;\n\t\t}\n\n\t\tif(!content.header){\n\t\t\tcontent.header = defaultContent.header;\n\t\t}\n\n\t\tif(!content.header.title){\n\t\t\tcontent.header.title = defaultContent.header.title;\n\t\t}\n\t\tif(!content.header.date){\n\t\t\tcontent.header.date = defaultContent.header.date;\n\t\t}\n\t\tif(!content.content){\n\t\t\tcontent.content = defaultContent.content;\n\t\t}\n\t\tif(!content.buttons){\n\t\t\tcontent.buttons = defaultContent.buttons;\n\t\t}\n\n\n\t\tlet qi = this.getNode();\n\t\tif(!qi){\n\t\t\tqi = this._createQuickInfoElement();\n\t\t}\n\n\t\tif(content.taskId){\n\t\t\tthis._quickInfoBoxId = content.taskId;\n\t\t}\n\n\t\tconst titleBox = qi.querySelector(\".gantt_cal_qi_title\") as HTMLElement;\n\t\tconst titleContent = titleBox.querySelector(\".gantt_cal_qi_tcontent\");\n\t\tconst titleDate = titleBox.querySelector(\".gantt_cal_qi_tdate\");\n\t\tconst main = qi.querySelector(\".gantt_cal_qi_content\");\n\t\tconst controls = qi.querySelector(\".gantt_cal_qi_controls\") as HTMLElement;\n\n\t\tgantt._waiAria.quickInfoHeader(qi, [content.header.title, content.header.date].join(\" \"));\n\n\t\ttitleContent.innerHTML = content.header.title;\n\t\ttitleDate.innerHTML = content.header.date;\n\n\t\tif(!content.header.title && !content.header.date){\n\t\t\ttitleBox.style.display = \"none\";\n\t\t}else{\n\t\t\ttitleBox.style.display = \"\";\n\t\t}\n\t\tmain.innerHTML = content.content;\n\n\t\tconst buttons = content.buttons;\n\t\tif(!buttons.length){\n\t\t\tcontrols.style.display = \"none\";\n\t\t}else{\n\t\t\tcontrols.style.display = \"\";\n\t\t}\n\t\tlet html = \"\";\n\t\tfor (let i = 0; i < buttons.length; i++){\n\n\t\t\tconst ariaAttr = gantt._waiAria.quickInfoButtonAttrString(gantt.locale.labels[buttons[i]]);\n\n\t\t\thtml += \"<div class=\\\"gantt_qi_big_icon \"+buttons[i]+\"\\\" title=\\\"\"\n\t\t\t\t+gantt.locale.labels[buttons[i]]+\"\\\" \" + ariaAttr +\"><div class='gantt_menu_icon \" + buttons[i]\n\t\t\t\t+ \"'></div><div>\"+gantt.locale.labels[buttons[i]]+\"</div></div>\";\n\t\t}\n\t\tcontrols.innerHTML = html;\n\n\t\tgantt.eventRemove(qi, \"click\", this._qiButtonClickHandler);\n\t\tgantt.eventRemove(qi, \"keypress\", this._qiKeyPressHandler);\n\n\t\tgantt.event(qi, \"click\", this._qiButtonClickHandler);\n\t\tgantt.event(qi, \"keypress\", this._qiKeyPressHandler);\n\t}\n\n\tprivate _qiButtonClickHandler = (ev) => {\n\t\tev = ev || event;\n\t\tthis._qi_button_click(ev.target || ev.srcElement);\n\t}\n\n\tprivate _qiKeyPressHandler = (e) => {\n\t\te = e || event;\n\t\t// @ts-ignore\n\t\tconst code = e.which||event.keyCode;\n\t\tif (code === 13 || code === 32){\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis._qi_button_click(e.target || e.srcElement);\n\t\t\t},1);\n\t\t}\n\t}\n\n\tprivate _showAtCoordinates(x: number, y: number) : void {\n\t\tthis.hide(true);\n\t\tthis._quickInfoBoxId = 0;\n\t\tthis._quickInfoTask = null;\n\t\tif(!this._quickInfoBox){\n\t\t\tthis._createQuickInfoElement();\n\t\t\tthis.setContent();\n\t\t}\n\n\t\tthis._appendAtCoordinates(x, y);\n\t\tthis._gantt.callEvent(\"onQuickInfo\", [null]);\n\t}\n\n\tprivate _showForTask(id: TaskID) : void {\n\t\tconst gantt = this._gantt;\n\t\tif ((\n\t\t\tid === this._quickInfoBoxId &&\n\t\t\tgantt.utils.dom.isChildOf(this._quickInfoBox, document.body)\n\t\t) || !gantt.config.show_quick_info) {\n\t\t\t// not show if the quick info is already displayed for this task, or if it shouldn't be displayed\n\t\t\treturn;\n\t\t}\n\t\tthis.hide(true);\n\t\tconst offset = 6; // offset TASK <> QI-BOX in 'px'\n\t\tconst container = this._getContainer();\n\t\tconst pos = this._get_event_counter_part(id, offset, container.xViewport, container.yViewport);\n\n\t\tif (pos){\n\t\t\tthis._quickInfoBox = this._init_quick_info(id);\n\t\t\tthis._quickInfoTask = id;\n\t\t\tthis._quickInfoBox.className = this._prepare_quick_info_classname(id);\n\n\t\t\tthis._fill_quick_data(id);\n\t\t\tthis._show_quick_info(pos, offset);\n\t\t\tgantt.callEvent(\"onQuickInfo\", [id]);\n\t\t}\n\t}\n\n\tprivate _get_event_counter_part(id: TaskID, offset: number, xViewport: HTMLElement, yViewport: HTMLElement) : any {\n\t\tconst gantt = this._gantt;\n\t\tlet domEv = gantt.getTaskNode(id);\n\t\tif (!domEv) {\n\t\t\tdomEv = gantt.getTaskRowNode(id);\n\t\t\tif (!domEv) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\tlet left = 0;\n\t\tconst top = offset + domEv.offsetTop + domEv.offsetHeight;\n\n\t\tlet node = domEv;\n\n\t\tif (gantt.utils.dom.isChildOf(node, xViewport)) {\n\t\t\twhile (node && node !== xViewport){\n\t\t\t\tleft += node.offsetLeft;\n\t\t\t\tnode = node.offsetParent;\n\t\t\t}\n\t\t}\n\n\t\tconst scroll = gantt.getScrollState();\n\n\t\tif(node){\n\t\t\tconst dx = (left + domEv.offsetWidth/2) - scroll.x > (xViewport.offsetWidth/2) ? 1 : 0;\n\t\t\tconst dy = (top + domEv.offsetHeight/2) - scroll.y > (yViewport.offsetHeight/2) ? 1 : 0;\n\n\t\t\treturn { left, top, dx, dy, width:domEv.offsetWidth, height:domEv.offsetHeight };\n\t\t}\n\t\treturn null;\n\t}\n\n\tprivate _createQuickInfoElement() : HTMLElement {\n\t\tconst gantt = this._gantt;\n\t\tconst qi = document.createElement(\"div\");\n\t\tqi.className += \"gantt_cal_quick_info\";\n\t\tgantt._waiAria.quickInfoAttr(qi);\n\n\t\t// title\n\t\tconst ariaAttr = gantt._waiAria.quickInfoHeaderAttrString();\n\t\tlet html = \"<div class=\\\"gantt_cal_qi_title\\\" \"+ariaAttr+\">\" +\n\t\t\t\"<div class=\\\"gantt_cal_qi_tcontent\\\"></div><div  class=\\\"gantt_cal_qi_tdate\\\"></div>\" +\n\t\t\t\"</div>\" +\n\t\t\t\"<div class=\\\"gantt_cal_qi_content\\\"></div>\";\n\n\t\t// buttons\n\t\thtml += \"<div class=\\\"gantt_cal_qi_controls\\\">\";\n\t\thtml += \"</div>\";\n\n\t\tqi.innerHTML = html;\n\n\n\t\tif (gantt.config.quick_info_detached) {\n\t\t\tconst container = this._getContainer();\n\t\t\tgantt.event(container.parent, \"scroll\", () => { this.hide(); });\n\t\t}\n\n\t\tthis._quickInfoBox = qi;\n\t\treturn qi;\n\t}\n\n\tprivate _init_quick_info(id: TaskID) : HTMLElement {\n\t\tconst gantt = this._gantt;\n\t\tconst task = gantt.getTask(id);\n\t\tif(typeof this._quickInfoReadonly === \"boolean\"){\n\t\t\tif(gantt.isReadonly(task) !== this._quickInfoReadonly){\n\t\t\t\tthis.hide(true);\n\t\t\t\tthis._quickInfoBox = null;\n\t\t\t}\n\t\t}\n\n\t\tthis._quickInfoReadonly = gantt.isReadonly(task);\n\n\t\tif (!this._quickInfoBox){\n\t\t\tthis._quickInfoBox = this._createQuickInfoElement();\n\t\t}\n\n\t\treturn this._quickInfoBox;\n\t}\n\n\tprivate _prepare_quick_info_classname(id: TaskID) : string {\n\t\tconst gantt = this._gantt;\n\t\tconst task = gantt.getTask(id);\n\n\t\tlet css = \"gantt_cal_quick_info\";\n\t\tconst template = gantt.templates.quick_info_class(task.start_date, task.end_date, task);\n\n\t\tif(template){\n\t\t\tcss += \" \" + template;\n\t\t}\n\t\treturn css;\n\t}\n\n\tprivate _fill_quick_data(id: TaskID) : void {\n\t\tconst gantt = this._gantt;\n\t\tconst ev = gantt.getTask(id);\n\n\t\tthis._quickInfoBoxId = id;\n\n\t\tlet allowedButtons = [];\n\t\tif (this._quickInfoReadonly){\n\t\t\tconst buttons = gantt.config.quickinfo_buttons;\n\t\t\tconst isEditor = {icon_delete: true, icon_edit: true};\n\t\t\tfor (let i = 0; i < buttons.length; i++){\n\t\t\t\tif(this._quickInfoReadonly && isEditor[buttons[i]]){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tallowedButtons.push(buttons[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tallowedButtons = gantt.config.quickinfo_buttons;\n\t\t}\n\n\t\tthis.setContent({\n\t\t\theader: {\n\t\t\t\ttitle: gantt.templates.quick_info_title(ev.start_date, ev.end_date, ev),\n\t\t\t\tdate: gantt.templates.quick_info_date(ev.start_date, ev.end_date, ev)\n\t\t\t},\n\t\t\tcontent: gantt.templates.quick_info_content(ev.start_date, ev.end_date, ev),\n\t\t\tbuttons: allowedButtons\n\t\t});\n\t}\n\n\tprivate _appendAtCoordinates(x: number, y: number): void {\n\t\tconst qi = this._quickInfoBox;\n\t\tconst container = this._getContainer();\n\t\tif (!qi.parentNode ||\n\t\t\tqi.parentNode.nodeName.toLowerCase() === \"#document-fragment\"){ // IE8\n\t\t\tcontainer.parent.appendChild(qi);\n\t\t}\n\n\t\tqi.style.left = x + \"px\";\n\t\tqi.style.top = y + \"px\";\n\t}\n\n\tprivate _show_quick_info(pos: any, offset: number) : void {\n\t\tconst gantt = this._gantt;\n\t\tconst qi = this._quickInfoBox;\n\t\tif (gantt.config.quick_info_detached) {\n\t\t\tconst container = this._getContainer();\n\t\t\tif (!qi.parentNode ||\n\t\t\t\tqi.parentNode.nodeName.toLowerCase() === \"#document-fragment\"){ // IE8\n\t\t\t\tcontainer.parent.appendChild(qi);\n\t\t\t}\n\t\t\tconst width = qi.offsetWidth;\n\t\t\tconst popupHeight = qi.offsetHeight;\n\n\t\t\tconst scrolls = gantt.getScrollState();\n\t\t\tconst xViewport = container.xViewport;\n\t\t\tconst yViewport = container.yViewport;\n\t\t\tconst screenWidth = xViewport.offsetWidth + scrolls.x - width;\n\n\t\t\tconst relativePopupTop = pos.top - scrolls.y;\n\t\t\tconst relativePopupBottom = relativePopupTop + popupHeight;\n\n\t\t\tlet top = pos.top;\n\t\t\tif(relativePopupBottom > yViewport.offsetHeight / 2){\n\t\t\t\ttop = pos.top - (popupHeight + pos.height + 2*offset);\n\t\t\t\tif(top < scrolls.y && relativePopupBottom <= yViewport.offsetHeight){\n\t\t\t\t\ttop = pos.top;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (top < scrolls.y) {\n\t\t\t\ttop = scrolls.y;\n\t\t\t}\n\n\t\t\tconst x = Math.min(Math.max(scrolls.x, pos.left - pos.dx*(width - pos.width)), screenWidth);\n\t\t\tconst y = top;\n\n\t\t\tthis._appendAtCoordinates(x, y);\n\t\t} else {\n\t\t\tqi.style.top = 20 + \"px\";\n\t\t\tif (pos.dx === 1){\n\t\t\t\tqi.style.right = \"auto\";\n\t\t\t\tqi.style.left = \"-300px\";\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tqi.style.left = \"10px\";\n\t\t\t\t},1);\n\t\t\t} else {\n\t\t\t\tqi.style.left = \"auto\";\n\t\t\t\tqi.style.right = \"-300px\";\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tqi.style.right = \"10px\";\n\t\t\t\t},1);\n\t\t\t}\n\t\t\tqi.className += \" gantt_qi_\"+(pos.dx === 1 ? \"left\" : \"right\");\n\t\t\tgantt.$root.appendChild(qi);\n\t\t}\n\t}\n\n\tprivate _qi_button_click(node: any) : void {\n\t\tconst gantt = this._gantt;\n\t\tconst box = this._quickInfoBox;\n\t\tif (!node || node === box){\n\t\t\treturn;\n\t\t}\n\n\t\tconst mask = node.className;\n\t\tif (mask.indexOf(\"_icon\") !== -1){\n\t\t\tconst id = this._quickInfoBoxId;\n\t\t\tgantt.$click.buttons[mask.split(\" \")[1].replace(\"icon_\",\"\")](id);\n\t\t} else {\n\t\t\tthis._qi_button_click(node.parentNode);\n\t\t}\n\t}\n\n\tprivate _getContainer(): IQuickInfoContainer{\n\t\tconst gantt = this._gantt;\n\t\tlet container = this._container ? this._container : gantt.$task_data;\n\t\tif (container && container.offsetHeight && container.offsetWidth) {\n\t\t\treturn {\n\t\t\t\tparent: container,\n\t\t\t\txViewport: gantt.$task,\n\t\t\t\tyViewport: gantt.$task_data\n\t\t\t};\n\t\t}\n\t\tcontainer = this._container ? this._container : gantt.$grid_data;\n\t\tif (container && container.offsetHeight && container.offsetWidth) {\n\t\t\treturn {\n\t\t\t\tparent: container,\n\t\t\t\txViewport: gantt.$grid,\n\t\t\t\tyViewport: gantt.$grid_data\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tparent: this._container ? this._container : gantt.$layout,\n\t\t\txViewport: gantt.$layout,\n\t\t\tyViewport: gantt.$layout\n\t\t};\n\t}\n}\n","import { QuickInfo } from \"./quickInfo\";\n\nexport default function(gantt: any){\n\nif (!gantt.ext) {\n\tgantt.ext = {};\n}\ngantt.ext.quickInfo = new QuickInfo(gantt);\n\ngantt.config.quickinfo_buttons = [\"icon_delete\",\"icon_edit\"];\ngantt.config.quick_info_detached = true;\ngantt.config.show_quick_info = true;\n\ngantt.templates.quick_info_title = function(start, end, ev){ return ev.text.substr(0,50); };\ngantt.templates.quick_info_content = function(start, end, ev){ return ev.details || ev.text; };\ngantt.templates.quick_info_date = function(start, end, ev){\n\treturn gantt.templates.task_time(start, end, ev);\n};\ngantt.templates.quick_info_class = function(start, end, task){ return \"\"; };\n\ngantt.attachEvent(\"onTaskClick\", function(id){\n\tsetTimeout(function() {\n\t\tgantt.ext.quickInfo.show(id);\n\t}, 0);\n\n\treturn true;\n});\n\nconst events = [\"onViewChange\", \"onLightbox\", \"onBeforeTaskDelete\", \"onBeforeDrag\"];\nconst hidingFunction = function(){\n\tgantt.ext.quickInfo.hide();\n\treturn true;\n};\nfor (let i=0; i<events.length; i++){\n\tgantt.attachEvent(events[i], hidingFunction);\n}\n// GS-957: We don't want to hide QuickInfo when we click on it.\ngantt.attachEvent(\"onEmptyClick\", function(e){\n\tlet hideQuickInfo = true;\n\tconst parent = document.querySelector(\".gantt_cal_quick_info\");\n\tif (parent){\n\t\tconst quickInfoClick = gantt.utils.dom.isChildOf(e.target, parent);\n\t\tif (quickInfoClick){\n\t\t\thideQuickInfo = false;\n\t\t}\n\t}\n\tif (hideQuickInfo){\n\t\thidingFunction();\n\t}\n});\nfunction clearQuickInfo() {\n\tgantt.ext.quickInfo.hide();\n\tgantt.ext.quickInfo._quickInfoBox = null;\n\treturn true;\n}\ngantt.attachEvent(\"onGanttReady\", clearQuickInfo);\ngantt.attachEvent(\"onDestroy\", clearQuickInfo);\n\ngantt.event(window, \"keydown\", function(e){\n\tif (e.keyCode === 27){\n\t\tgantt.ext.quickInfo.hide();\n\t}\n});\n\n}","module.exports= function(gantt) {\n\tif (!gantt.ext) {\n\t\tgantt.ext = {};\n\t}\n\n\tgantt.ext.overlay = {};\n\n\tvar overlays = {};\n\n\tfunction createOverlay(id, render) {\n\t\tvar div = document.createElement(\"div\");\n\t\tdiv.setAttribute(\"data-overlay-id\", id);\n\t\tvar css = \"gantt_overlay\";\n\t\tdiv.className = css;\n\t\tdiv.style.display = \"none\";\n\t\treturn {\n\t\t\tid: id,\n\t\t\trender: render,\n\t\t\tisVisible: false,\n\t\t\tisAttached: false,\n\t\t\tnode: div\n\t\t};\n\t}\n\n\tfunction initOverlayArea() {\n\t\tif(!gantt.$task_data) {\n\t\t\treturn;\n\t\t}\n\t\tgantt.event(gantt.$task_data, \"scroll\", function(e){\n\t\t\tif (!gantt.ext.$overlay_area) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgantt.ext.$overlay_area.style.top = e.target.scrollTop + \"px\";\n\t\t});\n\t\tvar overlayArea = document.createElement(\"div\");\n\t\toverlayArea.className = \"gantt_overlay_area\";\n\t\tgantt.$task_data.appendChild(overlayArea);\n\t\tgantt.ext.$overlay_area = overlayArea;\n\n\t\tattachUnnattached();\n\t}\n\n\tfunction attachUnnattached(){\n\t\tfor(var i in overlays){\n\t\t\tvar overlay = overlays[i];\n\t\t\tif(!overlay.isAttached){\n\t\t\t\tattachOverlay(overlay);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction attachOverlay(overlay){\n\t\tgantt.ext.$overlay_area.appendChild(overlay.node);\n\t\toverlay.isAttached = true;\n\t}\n\n\tfunction showOverlayArea(){\n\t\tgantt.ext.$overlay_area.style.display = \"block\";\n\t}\n\n\tfunction hideIfNoVisibleLayers(){\n\t\tvar any = false;\n\t\tfor(var i in overlays){\n\t\t\tvar overlay = overlays[i];\n\t\t\tif(overlay.isVisible){\n\t\t\t\tany = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif(!any){\n\t\t\tgantt.ext.$overlay_area.style.display = \"none\";\n\t\t}\n\t}\n\n\tgantt.attachEvent(\"onBeforeGanttRender\", function() {\n\t\tif (!gantt.ext.$overlay_area) {\n\t\t\tinitOverlayArea();\n\t\t}\n\t\tattachUnnattached();\n\t\thideIfNoVisibleLayers();\n\t});\n\n\tgantt.attachEvent(\"onGanttReady\", function() {\n\t\tinitOverlayArea();\n\t\tattachUnnattached();\n\t\thideIfNoVisibleLayers();\n\t});\n\n\tgantt.ext.overlay.addOverlay = function(render, id) {\n\t\tvar id = id || gantt.uid();\n\t\toverlays[id] = createOverlay(id, render);\n\t\treturn id;\n\t};\n\n\tgantt.ext.overlay.deleteOverlay = function(id) {\n\t\tif (!overlays[id])\n\t\t\treturn false;\n\n\t\tdelete overlays[id];\n\t\thideIfNoVisibleLayers();\n\t\treturn true;\n\t};\n\n\tgantt.ext.overlay.getOverlaysIds = function() {\n\t\tvar ids = [];\n\t\tfor(var i in overlays){\n\t\t\tids.push(i);\n\t\t}\n\t\treturn ids;\n\t};\n\n\tgantt.ext.overlay.refreshOverlay = function(id) {\n\t\tshowOverlayArea();\n\t\toverlays[id].isVisible = true;\n\t\toverlays[id].node.innerHTML = \"\";\n\t\toverlays[id].node.style.display = \"block\";\n\t\toverlays[id].render(overlays[id].node);\n\t};\n\n\tgantt.ext.overlay.showOverlay = function(id) {\n\t\tshowOverlayArea();\n\t\tthis.refreshOverlay(id);\n\t};\n\n\tgantt.ext.overlay.hideOverlay = function(id) {\n\n\t\toverlays[id].isVisible = false;\n\t\toverlays[id].node.style.display = \"none\";\n\t\thideIfNoVisibleLayers();\n\t};\n\tgantt.ext.overlay.isOverlayVisible = function(id) {\n\t\tif (!id) {\n\t\t\treturn false;\n\t\t}\n\t\treturn overlays[id].isVisible;\n\t};\n};","var {replaceValidZeroId} = require(\"../utils/helpers\");\n\nmodule.exports = function(gantt){\n\ngantt.config.multiselect = true;\ngantt.config.multiselect_one_level = false;\n\ngantt._multiselect = {\n\t_selected: {},\n\t_one_level: false,\n\t_active: true,\n\t_first_selected_when_shift: null,\n\tgetDefaultSelected: function() {\n\t\tvar selected = this.getSelected();\n\t\treturn selected.length ? selected[selected.length - 1] : null;\n\t},\n\tsetFirstSelected: function(id) {\n\t\tthis._first_selected_when_shift = id;\n\t},\n\tgetFirstSelected: function() {\n\t\treturn this._first_selected_when_shift;\n\t},\n\tisActive: function() {\n\t\tthis.updateState();\n\t\treturn this._active;\n\t},\n\tupdateState: function() {\n\t\tthis._one_level = gantt.config.multiselect_one_level;\n\t\tvar active = this._active;\n\t\tthis._active = gantt.config.select_task;\n\t\tif (this._active != active) {\n\t\t\tthis.reset();\n\t\t}\n\t},\n\treset: function () {\n\t\tthis._selected = {};\n\t},\n\tsetLastSelected: function (id) {\n\t\tgantt.$data.tasksStore.silent(function(){\n\t\t\tvar store = gantt.$data.tasksStore;\n\t\t\tif (id)\n\t\t\t\tstore.select(id+\"\");\n\t\t\telse\n\t\t\t\tstore.unselect(null);\n\t\t});\n\t},\n\tgetLastSelected: function () {\n\t\tvar last = gantt.$data.tasksStore.getSelectedId();\n\t\tif (last && gantt.isTaskExists(last))\n\t\t\treturn last;\n\t\treturn null;\n\t},\n\tselect: function (id, e) {\n\t\tif (id && gantt.callEvent(\"onBeforeTaskMultiSelect\", [id, true, e]) && gantt.callEvent(\"onBeforeTaskSelected\", [id])) {\n\t\t\tthis._selected[id] = true;\n\t\t\tthis.setLastSelected(id);\n\t\t\tthis.afterSelect(id);\n\t\t\tgantt.callEvent(\"onTaskMultiSelect\", [id, true, e]);\n\t\t\tgantt.callEvent(\"onTaskSelected\", [id]);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\ttoggle: function (id, e) {\n\t\tif (this._selected[id]) {\n\t\t\tthis.unselect(id, e);\n\t\t} else {\n\t\t\tthis.select(id, e);\n\t\t}\n\t},\n\tunselect: function (id, e) {\n\t\tif (id && gantt.callEvent(\"onBeforeTaskMultiSelect\", [id, false, e])) {\n\t\t\tthis._selected[id] = false;\n\t\t\tif (this.getLastSelected() == id)\n\t\t\t\tthis.setLastSelected(this.getDefaultSelected());\n\t\t\tthis.afterSelect(id);\n\t\t\tgantt.callEvent(\"onTaskMultiSelect\", [id, false, e]);\n\t\t\tgantt.callEvent(\"onTaskUnselected\", [id]);\n\t\t}\n\t},\n\tisSelected: function (id) {\n\t\treturn !!(gantt.isTaskExists(id) && this._selected[id]);\n\t},\n\tgetSelected: function () {\n\t\tvar res = [];\n\t\tfor (var i in this._selected) {\n\t\t\tif (this._selected[i] && gantt.isTaskExists(i)) {\n\t\t\t\tres.push(i);\n\t\t\t} else {\n\t\t\t\tthis._selected[i] = false;\n\t\t\t}\n\t\t}\n\t\tres.sort(function(a, b) {\n\t\t\treturn gantt.getGlobalTaskIndex(a) > gantt.getGlobalTaskIndex(b) ? 1 : -1;\n\t\t});\n\t\treturn res;\n\t},\n\tforSelected: function (callback) {\n\t\tvar selected = this.getSelected();\n\t\tfor (var i = 0; i < selected.length; i++) {\n\t\t\tcallback(selected[i]);\n\t\t}\n\t},\n\tisSameLevel: function(id) {\n\t\tif (!this._one_level)\n\t\t\treturn true;\n\t\tvar last = this.getLastSelected();\n\t\tif (!last)\n\t\t\treturn true;\n\t\tif (!(gantt.isTaskExists(last) && gantt.isTaskExists(id)))\n\t\t\treturn true;\n\t\treturn !!(gantt.calculateTaskLevel(gantt.getTask(last)) == gantt.calculateTaskLevel(gantt.getTask(id)));\n\t},\n\tafterSelect: function(id) {\n\t\tif (gantt.isTaskExists(id)){\n\t\t\t// FIXME: quick workaround to prevent re-filtering inside refresh on multiselect\n\t\t\tgantt._quickRefresh(function(){\n\t\t\t\tgantt.refreshTask(id);\n\t\t\t});\n\t\t}\n\t},\n\tdoSelection: function(e) {\n\t\tif (!this.isActive())\n\t\t\treturn false;\n\n\t\t// deny selection when click on 'expand' or 'collapse' icons\n\t\tif (gantt._is_icon_open_click(e))\n\t\t\treturn false;\n\n\t\tvar target_ev = gantt.locate(e);\n\t\tif (!target_ev)\n\t\t\treturn false;\n\n\t\tif (!gantt.callEvent(\"onBeforeMultiSelect\", [e]))\n\t\t\treturn false;\n\n\t\tvar selected = this.getSelected();\n\t\tvar defaultLast = this.getFirstSelected();\n\t\tvar isLast = false;\n\t\tvar last = this.getLastSelected();\n\t\tvar multiSelect = gantt.config.multiselect;\n\n\n\t\tvar singleSelection = (function (){\n\t\t\tthis.setFirstSelected(target_ev);\n\n\t\t\tif (!this.isSelected(target_ev)) {\n\t\t\t\tthis.select(target_ev, e);\n\t\t\t}\n\t\t\tselected = this.getSelected();\n\t\t\tfor (var i = 0; i < selected.length; i++) {\n\t\t\t\tif (selected[i] !== target_ev) {\n\t\t\t\t\tthis.unselect(selected[i], e);\n\t\t\t\t}\n\t\t\t}\n\t\t}).bind(this);\n\n\t\tvar blockSelection = (function(){\n\t\t\tif (!last)\n\t\t\t\tlast = target_ev;\n\t\t\telse if (target_ev) {\n\t\t\t\tvar first_indx = gantt.getGlobalTaskIndex(this.getFirstSelected());\n\t\t\t\tvar target_indx = gantt.getGlobalTaskIndex(target_ev);\n\t\t\t\tvar last_indx = gantt.getGlobalTaskIndex(last);\n\n\t\t\t\t// clear prev selection\n\t\t\t\tvar tmp = last;\n\t\t\t\twhile (gantt.getGlobalTaskIndex(tmp) !== first_indx) {\n\t\t\t\t\tthis.unselect(tmp, e);\n\t\t\t\t\ttmp = (first_indx > last_indx) ? gantt.getNext(tmp) : gantt.getPrev(tmp);\n\t\t\t\t}\n\t\t\t\ttmp = target_ev;\n\t\t\t\twhile (gantt.getGlobalTaskIndex(tmp) !== first_indx) {\n\t\t\t\t\tif (this.select(tmp, e) && !isLast) {\n\t\t\t\t\t\tisLast = true;\n\t\t\t\t\t\tdefaultLast = tmp;\n\t\t\t\t\t}\n\t\t\t\t\ttmp = (first_indx > target_indx) ? gantt.getNext(tmp) : gantt.getPrev(tmp);\n\t\t\t\t}\n\t\t\t}\n\t\t}).bind(this);\n\n\n\t\tif (multiSelect && (e.ctrlKey || e.metaKey)) {\n\t\t\tif (!this.isSelected(target_ev))\n\t\t\t\tthis.setFirstSelected(target_ev);\n\n\t\t\tif (target_ev) {\n\t\t\t\tthis.toggle(target_ev, e);\n\t\t\t}\n\t\t}\n\n\t\telse if (multiSelect && e.shiftKey) {\n\t\t\tif (!gantt.isTaskExists(this.getFirstSelected()) || this.getFirstSelected() === null) {\n\t\t\t\tthis.setFirstSelected(target_ev);\n\t\t\t}\n\n\t\t\tif (selected.length) { // select a group of tasks\n\t\t\t\tblockSelection();\n\t\t\t}\n\t\t\telse { // select a task when no task is selected and Shift is pressed\n\t\t\t\tsingleSelection();\n\t\t\t}\n\t\t}\n\t\t\n\t\telse { // no key press or no multiple selection on the mouse click\n\t\t\tsingleSelection();\n\t\t}\n\n\n\t\tif (this.isSelected(target_ev)) {\n\t\t\tthis.setLastSelected(target_ev);\n\t\t} else if (defaultLast) {\n\t\t\tif (target_ev == last)\n\t\t\t\tthis.setLastSelected(e.shiftKey ? defaultLast : this.getDefaultSelected());\n\t\t} else {\n\t\t\tthis.setLastSelected(null);\n\t\t}\n\n\t\tif (!this.getSelected().length)\n\t\t\tthis.setLastSelected(null);\n\n\t\tif (!this.getLastSelected() || !this.isSelected(this.getFirstSelected()))\n\t\t\tthis.setFirstSelected(this.getLastSelected());\n\n\t\treturn true;\n\t}\n};\n\n(function(){\n\tvar old_selectTask = gantt.selectTask;\n\tgantt.selectTask = function(id) {\n\t\tid = replaceValidZeroId(id, this.config.root_id);\n\t\tif (!id)\n\t\t\treturn false;\n\t\tvar multiselect = gantt._multiselect;\n\t\tvar res = id;\n\t\tif (multiselect.isActive()) {\n\t\t\tif (multiselect.select(id, null)) {\n\t\t\t\tmultiselect.setLastSelected(id);\n\t\t\t}\n\t\t\tmultiselect.setFirstSelected(multiselect.getLastSelected());\n\t\t} else {\n\t\t\tres = old_selectTask.call(this, id);\n\t\t}\n\t\treturn res;\n\t};\n\n\tvar old_unselectTask = gantt.unselectTask;\n\tgantt.unselectTask = function(id) {\n\t\tvar multiselect = gantt._multiselect;\n\t\tvar isActive = multiselect.isActive();\n\t\tid = id || multiselect.getLastSelected();\n\t\tif(id && isActive) {\n\t\t\tmultiselect.unselect(id, null);\n\t\t\tif (id == multiselect.getLastSelected())\n\t\t\t\tmultiselect.setLastSelected(null);\n\t\t\tgantt.refreshTask(id);\n\t\t\tmultiselect.setFirstSelected(multiselect.getLastSelected());\n\t\t}\n\t\tvar res = id;\n\t\tif (!isActive)\n\t\t\tres = old_unselectTask.call(this, id);\n\t\treturn res;\n\t};\n\n\tgantt.toggleTaskSelection = function(id) {\n\t\tvar multiselect = gantt._multiselect;\n\t\tif (id && multiselect.isActive()) {\n\t\t\tmultiselect.toggle(id);\n\t\t\tmultiselect.setFirstSelected(multiselect.getLastSelected());\n\t\t}\n\t};\n\tgantt.getSelectedTasks = function() {\n\t\tvar multiselect = gantt._multiselect;\n\t\tmultiselect.isActive();\n\t\treturn multiselect.getSelected();\n\t};\n\tgantt.eachSelectedTask = function(callback){\n\t\treturn this._multiselect.forSelected(callback);\n\t};\n\tgantt.isSelectedTask = function(id){\n\t\treturn this._multiselect.isSelected(id);\n\t};\n\tgantt.getLastSelectedTask = function(){\n\t\treturn this._multiselect.getLastSelected();\n\t};\n\tgantt.attachEvent(\"onGanttReady\", function(){\n\t\tvar old_isSelected = gantt.$data.tasksStore.isSelected;\n\t\tgantt.$data.tasksStore.isSelected = function(id){\n\t\t\tif (gantt._multiselect.isActive()) {\n\t\t\t\treturn gantt._multiselect.isSelected(id);\n\t\t\t}\n\t\t\treturn old_isSelected.call(this, id);\n\t\t};\n\t});\n})();\n\ngantt.attachEvent(\"onTaskIdChange\", function (id, new_id) {\n\tvar multiselect = gantt._multiselect;\n\tif (!multiselect.isActive())\n\t\treturn true;\n\tif (gantt.isSelectedTask(id)) {\n\t\tmultiselect.unselect(id, null);\n\t\tmultiselect.select(new_id, null);\n\t}\n});\n\ngantt.attachEvent(\"onAfterTaskDelete\", function (id, item) {\n\tvar multiselect = gantt._multiselect;\n\tif (!multiselect.isActive())\n\t\treturn true;\n\n\tif (multiselect._selected[id]) {\n\t\tmultiselect.unselect(id, null);\n\t\tmultiselect._selected[id] = false;\n\t\tmultiselect.setLastSelected(multiselect.getDefaultSelected());\n\t}\n\n\tmultiselect.forSelected(function (task_id) {\n\t\tif (!gantt.isTaskExists(task_id))\n\t\t\tmultiselect.unselect(task_id, null);\n\t});\n});\n\ngantt.attachEvent(\"onBeforeTaskMultiSelect\", function(id, state, e){\n\tvar multiselect = gantt._multiselect;\n\tif (state && multiselect.isActive()) {\n\t\tif (multiselect._one_level) {\n\t\t\treturn multiselect.isSameLevel(id);\n\t\t}\n\t}\n\treturn true;\n});\n\ngantt.attachEvent(\"onTaskClick\", function(id, e) {\n\tif (gantt._multiselect.doSelection(e))\n\t\tgantt.callEvent(\"onMultiSelect\", [e]);\n\treturn true;\n});\n\n};","\nmodule.exports = function(gantt){\n\nif(!gantt._markers) {\n\tgantt._markers = gantt.createDatastore({\n\t\tname: \"marker\",\n\t\tinitItem: function (marker) {\n\t\t\tmarker.id = marker.id || gantt.uid();\n\t\t\treturn marker;\n\t\t}\n\t});\n}\n\ngantt.config.show_markers = true;\n\nfunction render_marker(marker){\n\tif(!gantt.config.show_markers)\n\t\treturn false;\n\n\tif(!marker.start_date)\n\t\treturn false;\n\n\tvar state = gantt.getState();\n\tif(+marker.start_date > +state.max_date)\n\t\treturn;\n\tif((!marker.end_date || +marker.end_date < +state.min_date) && +marker.start_date < +state.min_date)\n\t\treturn;\n\n\tvar div = document.createElement(\"div\");\n\n\tdiv.setAttribute(\"data-marker-id\", marker.id);\n\n\tvar css = \"gantt_marker\";\n\tif(gantt.templates.marker_class)\n\t\tcss += \" \" + gantt.templates.marker_class(marker);\n\n\tif(marker.css){\n\t\tcss += \" \" + marker.css;\n\t}\n\n\tif(marker.title){\n\t\tdiv.title = marker.title;\n\t}\n\tdiv.className = css;\n\n\tvar start = gantt.posFromDate(marker.start_date);\n\tdiv.style.left = start + \"px\";\n\tdiv.style.height = Math.max(gantt.getRowTop(gantt.getVisibleTaskCount()), 0) + \"px\";\n\tif(marker.end_date){\n\t\tvar end = gantt.posFromDate(marker.end_date);\n\t\tdiv.style.width = Math.max((end - start), 0) + \"px\";\n\n\t}\n\n\tif(marker.text){\n\t\tdiv.innerHTML = \"<div class='gantt_marker_content' >\" + marker.text + \"</div>\";\n\t}\n\n\treturn div;\n}\n\nfunction initMarkerArea(){\n\tif(!gantt.$task_data)\n\t\treturn;\n\n\tvar markerArea = document.createElement(\"div\");\n\tmarkerArea.className = \"gantt_marker_area\";\n\tgantt.$task_data.appendChild(markerArea);\n\tgantt.$marker_area = markerArea;\n}\n\ngantt.attachEvent(\"onBeforeGanttRender\", function(){\n\tif(!gantt.$marker_area)\n\t\tinitMarkerArea();\n});\n\ngantt.attachEvent(\"onDataRender\", function(){\n\tif(!gantt.$marker_area){\n\t\tinitMarkerArea();\n\t\tgantt.renderMarkers();\n\t}\n});\n\ngantt.attachEvent(\"onGanttLayoutReady\", function(){\n\t// GS-1304 - markers should attach when layout is initialized, both on gantt.init and gantt.resetLayout\n\t// wait for \"onBeforeGanttRender\", so all layout elements will be in DOM\n\tgantt.attachEvent(\"onBeforeGanttRender\", function(){\n\t\tinitMarkerArea();\n\n\t\tvar layers = gantt.$services.getService(\"layers\");\n\t\tvar markerRenderer = layers.createDataRender({\n\t\t\tname: \"marker\",\n\t\t\tdefaultContainer: function(){ return gantt.$marker_area;}\n\t\t});\n\t\tmarkerRenderer.addLayer(render_marker);\n\t}, {once: true});\n});\n\ngantt.getMarker = function(id){\n\tif(!this._markers) return null;\n\n\treturn this._markers.getItem(id);\n};\n\ngantt.addMarker = function(marker){\n\treturn this._markers.addItem(marker);\n};\n\ngantt.deleteMarker = function(id){\n\tif(!this._markers.exists(id))\n\t\treturn false;\n\n\tthis._markers.removeItem(id);\n\treturn true;\n};\ngantt.updateMarker = function(id){\n\tthis._markers.refresh(id);\n};\n\ngantt._getMarkers = function(){\n\treturn this._markers.getItems();\n};\n\ngantt.renderMarkers = function () {\n\tthis._markers.refresh();\n};\n\n};","module.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.dispatcher = {\n\t\tisActive: false,\n\t\tactiveNode: null,\n\t\tglobalNode: new gantt.$keyboardNavigation.GanttNode(),\n\n\t\tenable: function () {\n\t\t\tthis.isActive = true;\n\t\t\tthis.setActiveNode(this.getActiveNode());\n\t\t},\n\n\t\tdisable: function () {\n\t\t\tthis.isActive = false;\n\t\t},\n\n\t\tisEnabled: function () {\n\t\t\treturn !!this.isActive;\n\t\t},\n\n\t\tgetDefaultNode: function () {\n\t\t\tvar node;\n\t\t\tif (gantt.config.keyboard_navigation_cells) {\n\t\t\t\tnode = new gantt.$keyboardNavigation.TaskCell();\n\t\t\t} else {\n\t\t\t\tnode = new gantt.$keyboardNavigation.TaskRow();\n\t\t\t}\n\n\t\t\tif (!node.isValid()) {\n\t\t\t\tnode = node.fallback();\n\t\t\t}\n\t\t\treturn node;\n\t\t},\n\n\t\tsetDefaultNode: function () {\n\t\t\tthis.setActiveNode(this.getDefaultNode());\n\t\t},\n\n\t\tgetActiveNode: function () {\n\t\t\tvar node = this.activeNode;\n\t\t\tif (node && !node.isValid()) {\n\t\t\t\tnode = node.fallback();\n\t\t\t}\n\t\t\treturn node;\n\t\t},\n\n\t\tfromDomElement: function(e){\n\t\t\tvar inputs = [\n\t\t\t\tgantt.$keyboardNavigation.TaskRow,\n\t\t\t\tgantt.$keyboardNavigation.TaskCell,\n\t\t\t\tgantt.$keyboardNavigation.HeaderCell\n\t\t\t];\n\t\t\tfor(var i = 0; i < inputs.length; i++){\n\t\t\t\tif(inputs[i].prototype.fromDomElement){\n\t\t\t\t\tvar node = inputs[i].prototype.fromDomElement(e);\n\t\t\t\t\tif(node) return node;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\n\t\tfocusGlobalNode: function () {\n\t\t\tthis.blurNode(this.globalNode);\n\t\t\tthis.focusNode(this.globalNode);\n\t\t},\n\n\t\tsetActiveNode: function (el) {\n\t\t\t//console.trace()\n\t\t\tvar focusChanged = true;\n\t\t\tif (this.activeNode) {\n\t\t\t\tif (this.activeNode.compareTo(el)) {\n\t\t\t\t\tfocusChanged = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.isEnabled()) {\n\t\t\t\tif(focusChanged)\n\t\t\t\t\tthis.blurNode(this.activeNode);\n\n\t\t\t\tthis.activeNode = el;\n\t\t\t\tthis.focusNode(this.activeNode, !focusChanged);\n\t\t\t}\n\t\t},\n\n\t\tfocusNode: function (el, keptFocus) {\n\t\t\tif (el && el.focus) {\n\t\t\t\tel.focus(keptFocus);\n\t\t\t}\n\t\t},\n\t\tblurNode: function (el) {\n\t\t\tif (el && el.blur) {\n\t\t\t\tel.blur();\n\t\t\t}\n\t\t},\n\n\t\tkeyDownHandler: function (e) {\n\n\t\t\tif (gantt.$keyboardNavigation.isModal())\n\t\t\t\treturn;\n\n\t\t\tif (!this.isEnabled())\n\t\t\t\treturn;\n\n\t\t\tif(e.defaultPrevented){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar ganttNode = this.globalNode;\n\n\t\t\tvar command = gantt.$keyboardNavigation.shortcuts.getCommandFromEvent(e);\n\n\t\t\tvar activeElement = this.getActiveNode();\n\t\t\tvar eventFacade = gantt.$keyboardNavigation.facade;\n\t\t\tif(eventFacade.callEvent(\"onKeyDown\", [command, e]) === false){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!activeElement) {\n\t\t\t\tthis.setDefaultNode();\n\t\t\t} else if (activeElement.findHandler(command)) {\n\t\t\t\tactiveElement.doAction(command, e);\n\t\t\t} else if (ganttNode.findHandler(command)) {\n\t\t\t\tganttNode.doAction(command, e);\n\t\t\t}\n\n\t\t},\n\t\t_timeout: null,\n\t\tawaitsFocus: function(){\n\t\t\treturn this._timeout !== null;\n\t\t},\n\t\tdelay: function(callback, delay){\n\n\t\t\tclearTimeout(this._timeout);\n\t\t\tthis._timeout = setTimeout(gantt.bind(function(){\n\t\t\t\tthis._timeout = null;\n\t\t\t\tcallback();\n\t\t\t}, this)  , delay || 1);\n\n\t\t},\n\t\tclearDelay: function(){\n\t\t\tclearTimeout(this._timeout);\n\t\t}\n\t};\n\n};","module.exports = function(gantt) {\n\n\t(function () {\n\t\tvar modalsStack = [];\n\n\t\tfunction isModal() {\n\t\t\treturn !!modalsStack.length;\n\t\t}\n\n\t\tfunction afterPopup(box) {\n\t\t\tsetTimeout(function () {\n\t\t\t\tif (!isModal()){\n\t\t\t\t\tif(!gantt.$destroyed){\n\t\t\t\t\t\tgantt.focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 1);\n\t\t}\n\n\t\tfunction startModal(box) {\n\t\t\tgantt.eventRemove(box, \"keydown\", trapFocus);\n\t\t\tgantt.event(box, \"keydown\", trapFocus);\n\t\t\tmodalsStack.push(box);\n\t\t\t//gantt.$keyboardNavigation.dispatcher.disable();\n\t\t}\n\n\t\tfunction endModal() {\n\t\t\tvar box = modalsStack.pop();\n\t\t\tif (box) {\n\t\t\t\tgantt.eventRemove(box, \"keydown\", trapFocus);\n\t\t\t}\n\t\t\tafterPopup(box);\n\n\t\t}\n\n\n\t\tfunction isTopModal(box) {\n\t\t\treturn box == modalsStack[modalsStack.length - 1];\n\t\t}\n\n\t\tfunction trapFocus(event) {\n\t\t\tvar target = event.currentTarget;\n\t\t\tif (!isTopModal(target)) return;\n\n\t\t\tgantt.$keyboardNavigation.trapFocus(target, event);\n\t\t}\n\n\t\tfunction traceLightbox() {\n\t\t\tstartModal(gantt.getLightbox());\n\t\t}\n\n\t\tgantt.attachEvent(\"onLightbox\", traceLightbox);\n\t\tgantt.attachEvent(\"onAfterLightbox\", endModal);\n\t\tgantt.attachEvent(\"onLightboxChange\", function () {\n\t\t\tendModal();\n\t\t\ttraceLightbox();\n\t\t});\n\n\n\t\tgantt.attachEvent(\"onAfterQuickInfo\", function () {\n\t\t\tafterPopup();\n\t\t});\n\n\t\tgantt.attachEvent(\"onMessagePopup\", function (box) {\n\t\t\tsaveFocus();\n\t\t\tstartModal(box);\n\t\t});\n\t\tgantt.attachEvent(\"onAfterMessagePopup\", function () {\n\t\t\tendModal();\n\t\t\trestoreFocus();\n\t\t});\n\n\t\tvar focusElement = null;\n\n\t\tfunction saveFocus() {\n\t\t\tfocusElement = document.activeElement;\n\t\t}\n\n\t\tfunction restoreFocus() {\n\t\t\tsetTimeout(function () {\n\t\t\t\tif (focusElement) {\n\t\t\t\t\tfocusElement.focus();\n\t\t\t\t\tfocusElement = null;\n\t\t\t\t}\n\t\t\t}, 1);\n\t\t}\n\n\t\tgantt.$keyboardNavigation.isModal = isModal;\n\n\n\t})();\n\n};","module.exports = function(gantt) {\n\tvar domHelpers = require(\"../../../core/ui/utils/dom_helpers\");\n\tvar {replaceValidZeroId} = require(\"../../../utils/helpers\");\n\n\tgantt.$keyboardNavigation.TaskCell = function (taskId, index) {\n\t\ttaskId = replaceValidZeroId(taskId, gantt.config.root_id);\n\t\tif (!taskId) {\n\t\t\tvar rootLevel = gantt.getChildren(gantt.config.root_id);\n\t\t\tif (rootLevel[0]) {\n\t\t\t\ttaskId = rootLevel[0];\n\t\t\t}\n\t\t}\n\t\tthis.taskId = taskId;\n\t\tthis.columnIndex = index || 0;\n\t\t// provided task may not exist, in this case node will be detectes as invalid\n\t\tif (gantt.isTaskExists(this.taskId)) {\n\t\t\tthis.index = gantt.getTaskIndex(this.taskId);\n\t\t}\n\t};\n\n\tgantt.$keyboardNavigation.TaskCell.prototype = gantt._compose(\n\t\tgantt.$keyboardNavigation.TaskRow,\n\t\t{\n\t\t\t_handlers: null,\n\t\t\tisValid: function () {\n\n\t\t\t\treturn gantt.$keyboardNavigation.TaskRow.prototype.isValid.call(this) && !!gantt.getGridColumns()[this.columnIndex];\n\t\t\t},\n\t\t\tfallback: function () {\n\n\t\t\t\tvar node = gantt.$keyboardNavigation.TaskRow.prototype.fallback.call(this);\n\t\t\t\tvar result = node;\n\t\t\t\tif (node instanceof gantt.$keyboardNavigation.TaskRow) {\n\t\t\t\t\tvar visibleColumns = gantt.getGridColumns();\n\t\t\t\t\tvar index = this.columnIndex;\n\t\t\t\t\twhile (index >= 0) {\n\t\t\t\t\t\tif (visibleColumns[index])\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tindex--;\n\t\t\t\t\t}\n\t\t\t\t\tif (visibleColumns[index]) {\n\t\t\t\t\t\tresult = new gantt.$keyboardNavigation.TaskCell(node.taskId, index);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t},\n\n\t\t\tfromDomElement: function(el){\n\t\t\t\tif(!gantt.config.keyboard_navigation_cells){\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tvar taskId = gantt.locate(el);\n\t\t\t\tif(gantt.isTaskExists(taskId)){\n\t\t\t\t\tvar index = 0;\n\t\t\t\t\tvar cellElement = domHelpers.locateAttribute(el, \"data-column-index\");\n\n\t\t\t\t\tif(cellElement){\n\t\t\t\t\t\tindex = cellElement.getAttribute(\"data-column-index\")*1;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn new gantt.$keyboardNavigation.TaskCell(taskId, index);\n\t\t\t\t}else{\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tgetNode: function () {\n\t\t\t\tif (gantt.isTaskExists(this.taskId) && gantt.isTaskVisible(this.taskId)) {\n\t\t\t\t\tif (gantt.config.show_grid) {\n\t\t\t\t\t\tvar row = gantt.$grid.querySelector(\".gantt_row[\" + gantt.config.task_attribute + \"='\" + this.taskId + \"']\");\n\t\t\t\t\t\tif(!row)\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\treturn row.querySelector(\"[data-column-index='\"+this.columnIndex+\"']\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn gantt.getTaskNode(this.taskId);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tkeys: {\n\t\t\t\t\"up\": function () {\n\n\t\t\t\t\tvar nextElement = null;\n\t\t\t\t\tvar prevTask = gantt.getPrev(this.taskId);\n\t\t\t\t\tif (!gantt.isTaskExists(prevTask)) {\n\t\t\t\t\t\tnextElement = new gantt.$keyboardNavigation.HeaderCell(this.columnIndex);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnextElement = new gantt.$keyboardNavigation.TaskCell(prevTask, this.columnIndex);\n\t\t\t\t\t}\n\t\t\t\t\tthis.moveTo(nextElement);\n\t\t\t\t},\n\t\t\t\t\"down\": function () {\n\t\t\t\t\tvar nextTask = gantt.getNext(this.taskId);\n\t\t\t\t\tif (gantt.isTaskExists(nextTask)) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(nextTask, this.columnIndex));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"left\": function () {\n\t\t\t\t\tif (this.columnIndex > 0) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(this.taskId, this.columnIndex - 1));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"right\": function () {\n\t\t\t\t\tvar columns = gantt.getGridColumns();\n\t\t\t\t\tif (this.columnIndex < columns.length - 1) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(this.taskId, this.columnIndex + 1));\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t\"end\": function () {\n\t\t\t\t\tvar columns = gantt.getGridColumns();\n\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(this.taskId, columns.length - 1));\n\t\t\t\t},\n\t\t\t\t\"home\": function () {\n\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(this.taskId, 0));\n\t\t\t\t},\n\t\t\t\t\"pagedown\": function () {\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(gantt.getTaskByIndex(gantt.getVisibleTaskCount() - 1).id, this.columnIndex));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"pageup\": function () {\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(gantt.getTaskByIndex(0).id, this.columnIndex));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\n\n\tgantt.$keyboardNavigation.TaskCell.prototype.bindAll(gantt.$keyboardNavigation.TaskRow.prototype.keys);\n\tgantt.$keyboardNavigation.TaskCell.prototype.bindAll(gantt.$keyboardNavigation.TaskCell.prototype.keys);\n\n};","module.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.TaskRow = function (taskId) {\n\t\tif (!taskId) {\n\t\t\tvar rootLevel = gantt.getChildren(gantt.config.root_id);\n\t\t\tif (rootLevel[0]) {\n\t\t\t\ttaskId = rootLevel[0];\n\t\t\t}\n\t\t}\n\t\tthis.taskId = taskId;\n\t\tif (gantt.isTaskExists(this.taskId)) {\n\t\t\tthis.index = gantt.getTaskIndex(this.taskId);\n\t\t}\n\t};\n\n\tgantt.$keyboardNavigation.TaskRow.prototype = gantt._compose(\n\t\tgantt.$keyboardNavigation.KeyNavNode,\n\t\t{\n\t\t\t_handlers: null,\n\t\t\tisValid: function () {\n\t\t\t\treturn gantt.isTaskExists(this.taskId) && (gantt.getTaskIndex(this.taskId) > -1);\n\t\t\t},\n\t\t\tfallback: function () {\n\t\t\t\tif (!gantt.getVisibleTaskCount()) {\n\t\t\t\t\tvar header = new gantt.$keyboardNavigation.HeaderCell();\n\t\t\t\t\tif (!header.isValid()) return null;\n\t\t\t\t\telse return header;\n\t\t\t\t} else {\n\n\t\t\t\t\tvar nextIndex = -1;\n\t\t\t\t\tif (gantt.getTaskByIndex(this.index - 1)) {\n\t\t\t\t\t\tnextIndex = this.index - 1;\n\t\t\t\t\t} else if (gantt.getTaskByIndex(this.index + 1)) {\n\t\t\t\t\t\tnextIndex = this.index + 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar index = this.index;\n\t\t\t\t\t\twhile (index >= 0) {\n\t\t\t\t\t\t\tif (gantt.getTaskByIndex(index)) {\n\t\t\t\t\t\t\t\tnextIndex = index;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tindex--;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif (nextIndex > -1) {\n\t\t\t\t\t\treturn new gantt.$keyboardNavigation.TaskRow(gantt.getTaskByIndex(nextIndex).id);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tfromDomElement: function(el){\n\t\t\t\tif(gantt.config.keyboard_navigation_cells){\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tvar taskId = gantt.locate(el);\n\t\t\t\tif(gantt.isTaskExists(taskId)){\n\t\t\t\t\treturn new gantt.$keyboardNavigation.TaskRow(taskId);\n\t\t\t\t}else{\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tgetNode: function () {\n\t\t\t\tif (gantt.isTaskExists(this.taskId) && gantt.isTaskVisible(this.taskId)) {\n\t\t\t\t\tif (gantt.config.show_grid) {\n\t\t\t\t\t\treturn gantt.$grid.querySelector(\".gantt_row[\" + gantt.config.task_attribute + \"='\" + this.taskId + \"']\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn gantt.getTaskNode(this.taskId);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tfocus: function (keptFocus) {\n\t\t\t\tif(!keptFocus) {\n\t\t\t\t\tvar pos = gantt.getTaskPosition(gantt.getTask(this.taskId));\n\t\t\t\t\tvar height = gantt.getTaskHeight(this.taskId);\n\t\t\t\t\tvar scroll = gantt.getScrollState();\n\n\t\t\t\t\tvar viewWidth;\n\t\t\t\t\tif(gantt.$task){\n\t\t\t\t\t\tviewWidth = gantt.$task.offsetWidth;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tviewWidth = scroll.inner_width;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar viewHeight;\n\t\t\t\t\tif(gantt.$grid_data || gantt.$task_data){\n\t\t\t\t\t\tviewHeight = (gantt.$grid_data || gantt.$task_data).offsetHeight;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tviewHeight = scroll.inner_height;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (pos.top < scroll.y || pos.top + height > (scroll.y + viewHeight)) {\n\n\t\t\t\t\t\tgantt.scrollTo(null, pos.top - height * 5);\n\n\t\t\t\t\t} else if (gantt.config.scroll_on_click && gantt.config.show_chart && (pos.left < scroll.x || pos.left > (scroll.x + viewWidth))) {\n\t\t\t\t\t\tgantt.scrollTo(pos.left - gantt.config.task_scroll_offset);\n\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tgantt.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this, [keptFocus]);\n\n\t\t\t\t// GS-152 if there are scrollbars with custom names, change their scroll position\n\t\t\t\tscrollGrid();\n\n\t\t\t\tfunction scrollGrid() {\n\t\t\t\t\tvar grid = gantt.$ui.getView(\"grid\");\n\t\t\t\t\tvar scrollPositionX = parseInt(grid.$grid.scrollLeft);\n\t\t\t\t\tvar scrollPositionY = parseInt(grid.$grid_data.scrollTop);\n\n\t\t\t\t\tvar attachedScrollbarHorizontal = grid.$config.scrollX;\n\n\t\t\t\t\tif (attachedScrollbarHorizontal && grid.$config.scrollable) {\n\t\t\t\t\t\tvar scrollbarHorizontal = gantt.$ui.getView(attachedScrollbarHorizontal);\n\t\t\t\t\t\tif (scrollbarHorizontal) {\n\t\t\t\t\t\t\tscrollbarHorizontal.scrollTo(scrollPositionX, scrollPositionY);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tvar attachedScrollbarVertical = grid.$config.scrollY;\n\n\t\t\t\t\tif (attachedScrollbarVertical) {\n\t\t\t\t\t\tvar scrollbarVertical = gantt.$ui.getView(attachedScrollbarVertical);\n\t\t\t\t\t\tif (scrollbarVertical) {\n\t\t\t\t\t\t\tscrollbarVertical.scrollTo(scrollPositionX, scrollPositionY);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tkeys: {\n\t\t\t\t\"pagedown\": function () {\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskRow(gantt.getTaskByIndex(gantt.getVisibleTaskCount() - 1).id));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"pageup\": function () {\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskRow(gantt.getTaskByIndex(0).id));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"up\": function () {\n\t\t\t\t\tvar nextElement = null;\n\t\t\t\t\tvar prevTask = gantt.getPrev(this.taskId);\n\t\t\t\t\tif (!gantt.isTaskExists(prevTask)) {\n\t\t\t\t\t\tnextElement = new gantt.$keyboardNavigation.HeaderCell();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnextElement = new gantt.$keyboardNavigation.TaskRow(prevTask);\n\t\t\t\t\t}\n\t\t\t\t\tthis.moveTo(nextElement);\n\t\t\t\t},\n\t\t\t\t\"down\": function () {\n\t\t\t\t\tvar nextTask = gantt.getNext(this.taskId);\n\t\t\t\t\tif (gantt.isTaskExists(nextTask)) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskRow(nextTask));\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t\"shift+down\": function(){\n\t\t\t\t\tif(gantt.hasChild(this.taskId) && !gantt.getTask(this.taskId).$open){\n\t\t\t\t\t\tgantt.open(this.taskId);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"shift+up\": function(){\n\t\t\t\t\tif(gantt.hasChild(this.taskId) && gantt.getTask(this.taskId).$open){\n\t\t\t\t\t\tgantt.close(this.taskId);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"shift+right\": function() {\n\t\t\t\t\tif (gantt.isReadonly(this)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar prevId = gantt.getPrevSibling(this.taskId);\n\t\t\t\t\tif(gantt.isTaskExists(prevId) && !gantt.isChildOf(this.taskId, prevId)){\n\t\t\t\t\t\tvar parent = gantt.getTask(prevId);\n\t\t\t\t\t\tparent.$open = true;\n\t\t\t\t\t\tvar result = gantt.moveTask(this.taskId, -1, prevId);\n\t\t\t\t\t\tif(result !== false)\n\t\t\t\t\t\t\tgantt.updateTask(this.taskId);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"shift+left\": function() {\n\t\t\t\t\tif (gantt.isReadonly(this)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar parent = gantt.getParent(this.taskId);\n\t\t\t\t\tif(gantt.isTaskExists(parent)){\n\t\t\t\t\t\tvar result =  gantt.moveTask(this.taskId, gantt.getTaskIndex(parent) + 1, gantt.getParent(parent));\n\t\t\t\t\t\tif(result !== false)\n\t\t\t\t\t\t\tgantt.updateTask(this.taskId);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t// select\n\t\t\t\t\"space\": function (e) {\n\t\t\t\t\tif (!gantt.isSelectedTask(this.taskId)) {\n\t\t\t\t\t\tgantt.selectTask(this.taskId);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgantt.unselectTask(this.taskId);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t// collapse\n\t\t\t\t\"ctrl+left\": function (e) {\n\t\t\t\t\tgantt.close(this.taskId);\n\t\t\t\t},\n\t\t\t\t// expand\n\t\t\t\t\"ctrl+right\": function (e) {\n\t\t\t\t\tgantt.open(this.taskId);\n\t\t\t\t},\n\n\t\t\t\t// delete task\n\t\t\t\t\"delete\": function (e) {\n\t\t\t\t\tif (gantt.isReadonly(this)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tgantt.$click.buttons[\"delete\"](this.taskId);\n\t\t\t\t},\n\n\t\t\t\t// open lightbox\n\t\t\t\t\"enter\": function () {\n\t\t\t\t\tif (gantt.isReadonly(this)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tgantt.showLightbox(this.taskId);\n\t\t\t\t},\n\n\t\t\t\t// add subtask\n\t\t\t\t\"ctrl+enter\": function () {\n\t\t\t\t\tif (gantt.isReadonly(this)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tgantt.createTask({}, this.taskId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\tgantt.$keyboardNavigation.TaskRow.prototype.bindAll(gantt.$keyboardNavigation.TaskRow.prototype.keys);\n\n};","module.exports = function(gantt) {\n\tvar domHelpers = require(\"../../../core/ui/utils/dom_helpers\");\n\n\tgantt.$keyboardNavigation.HeaderCell = function (index) {\n\t\tthis.index = index || 0;\n\t};\n\n\tgantt.$keyboardNavigation.HeaderCell.prototype = gantt._compose(\n\t\tgantt.$keyboardNavigation.KeyNavNode,\n\t\t{\n\t\t\t_handlers: null,\n\n\t\t\tisValid: function () {\n\t\t\t\tif (!gantt.config.show_grid) {\n\t\t\t\t\tif (gantt.getVisibleTaskCount())\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn !!gantt.getGridColumns()[this.index] || !gantt.getVisibleTaskCount();\n\t\t\t},\n\t\t\tfallback: function () {\n\t\t\t\tif (!gantt.config.show_grid) {\n\t\t\t\t\tif (gantt.getVisibleTaskCount()) {\n\t\t\t\t\t\treturn new gantt.$keyboardNavigation.TaskRow();\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tvar visibleColumns = gantt.getGridColumns();\n\t\t\t\tvar index = this.index;\n\t\t\t\twhile (index >= 0) {\n\t\t\t\t\tif (visibleColumns[index])\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\tif (visibleColumns[index]) {\n\t\t\t\t\treturn new gantt.$keyboardNavigation.HeaderCell(index);\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tfromDomElement: function(el){\n\t\t\t\tvar cellElement = domHelpers.locateClassName(el, \"gantt_grid_head_cell\");\n\t\t\t\tif(cellElement){\n\t\t\t\t\tvar index = 0;\n\t\t\t\t\twhile(cellElement && cellElement.previousSibling){\n\t\t\t\t\t\tcellElement = cellElement.previousSibling;\n\t\t\t\t\t\tindex += 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn new gantt.$keyboardNavigation.HeaderCell(index);\n\t\t\t\t}else{\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tgetNode: function () {\n\t\t\t\tvar cells = gantt.$grid_scale.childNodes;\n\t\t\t\treturn cells[this.index];\n\t\t\t},\n\n\n\t\t\tkeys: {\n\n\t\t\t\t\"left\": function () {\n\t\t\t\t\tif (this.index > 0) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.HeaderCell(this.index - 1));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"right\": function () {\n\t\t\t\t\tvar columns = gantt.getGridColumns();\n\t\t\t\t\tif (this.index < columns.length - 1) {\n\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.HeaderCell(this.index + 1));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"down\": function () {\n\t\t\t\t\tvar taskRow;\n\t\t\t\t\tvar rootLevel = gantt.getChildren(gantt.config.root_id);\n\t\t\t\t\tif (gantt.isTaskExists(rootLevel[0])) {\n\t\t\t\t\t\ttaskRow = rootLevel[0];\n\t\t\t\t\t}\n\t\t\t\t\tif (taskRow) {\n\t\t\t\t\t\tif (gantt.config.keyboard_navigation_cells) {\n\t\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskCell(taskRow, this.index));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.TaskRow(taskRow));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t\"end\": function () {\n\t\t\t\t\tvar columns = gantt.getGridColumns();\n\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.HeaderCell(columns.length - 1));\n\t\t\t\t},\n\t\t\t\t\"home\": function () {\n\t\t\t\t\tthis.moveTo(new gantt.$keyboardNavigation.HeaderCell(0));\n\t\t\t\t},\n\n\n\t\t\t\t// press header button\n\t\t\t\t\"enter, space\": function () {\n\t\t\t\t\tvar node = document.activeElement;\n\t\t\t\t\tnode.click();\n\t\t\t\t},\n\n\t\t\t\t// add new task\n\t\t\t\t\"ctrl+enter\": function () {\n\t\t\t\t\tif (gantt.isReadonly(this)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tgantt.createTask({}, this.taskId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\n\tgantt.$keyboardNavigation.HeaderCell.prototype.bindAll(gantt.$keyboardNavigation.HeaderCell.prototype.keys);\n\n};","module.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.KeyNavNode = function () {\n\t};\n\n\tgantt.$keyboardNavigation.KeyNavNode.prototype = gantt._compose(\n\t\tgantt.$keyboardNavigation.EventHandler,\n\t\t{\n\t\t\tisValid: function () {\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tfallback: function () {\n\t\t\t\treturn null;\n\t\t\t},\n\n\t\t\tmoveTo: function (element) {\n\t\t\t\tgantt.$keyboardNavigation.dispatcher.setActiveNode(element);\n\t\t\t},\n\n\t\t\tcompareTo: function (b) {\n\t\t\t\t// good enough comparison of two random objects\n\t\t\t\tif (!b) return false;\n\t\t\t\tfor (var i in this) {\n\t\t\t\t\tif (!!this[i] != !!b[i]) return false;\n\n\t\t\t\t\tvar canStringifyThis = !!(this[i] && this[i].toString);\n\t\t\t\t\tvar canStringifyThat = !!(b[i] && b[i].toString);\n\t\t\t\t\tif (canStringifyThat != canStringifyThis) return false;\n\t\t\t\t\tif (!(canStringifyThat && canStringifyThis)) {\n\t\t\t\t\t\tif (b[i] != this[i]) return false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (b[i].toString() != this[i].toString())\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tgetNode: function () {\n\t\t\t},\n\t\t\tfocus: function () {\n\t\t\t\tvar node = this.getNode();\n\t\t\t\tif(!node)\n\t\t\t\t\treturn;\n\n\t\t\t\tvar eventFacade = gantt.$keyboardNavigation.facade;\n\n\t\t\t\tif(eventFacade.callEvent(\"onBeforeFocus\", [node]) === false){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (node) {\n\t\t\t\t\tnode.setAttribute(\"tabindex\", \"-1\");\n\t\t\t\t\tif(!node.$eventAttached){\n\t\t\t\t\t\tnode.$eventAttached = true;\n\t\t\t\t\t\tgantt.event(node, \"focus\",function(e){\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}, false);\n\t\t\t\t\t}\n\t\t\t\t\t//node.className += \" gantt_focused\";\n\t\t\t\t\tif (node.focus) node.focus();\n\n\t\t\t\t\teventFacade.callEvent(\"onFocus\", [this.getNode()]);\n\t\t\t\t}\n\n\t\t\t},\n\t\t\tblur: function () {\n\t\t\t\tvar node = this.getNode();\n\t\t\t\tif (node) {\n\t\t\t\t\tvar eventFacade = gantt.$keyboardNavigation.facade;\n\t\t\t\t\teventFacade.callEvent(\"onBlur\", [node]);\n\t\t\t\t\tnode.setAttribute(\"tabindex\", \"-1\");\n\t\t\t\t\t//node.className = (node.className || \"\").replace(/ ?gantt_focused/g, \"\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\n};","module.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.GanttNode = function () {\n\t};\n\n\tgantt.$keyboardNavigation.GanttNode.prototype = gantt._compose(\n\t\tgantt.$keyboardNavigation.EventHandler,\n\t\t{\n\n\t\t\tfocus: function () {\n\t\t\t\tgantt.focus();\n\t\t\t},\n\n\t\t\tblur: function () {\n\n\t\t\t},\n\n\t\t\tisEnabled: function () {\n\t\t\t\treturn gantt.$container.hasAttribute(\"tabindex\");\n\t\t\t},\n\n\t\t\tscrollHorizontal: function scrollHorizontal(dir) {\n\t\t\t\tvar date = gantt.dateFromPos(gantt.getScrollState().x);\n\t\t\t\tvar scale = gantt.getScale();\n\t\t\t\tvar step = dir < 0 ? -scale.step : scale.step;\n\t\t\t\tdate = gantt.date.add(date, step, scale.unit);\n\t\t\t\tgantt.scrollTo(gantt.posFromDate(date));\n\t\t\t},\n\n\t\t\tscrollVertical: function scrollVertical(dir) {\n\t\t\t\tvar top = gantt.getScrollState().y;\n\t\t\t\tvar step = gantt.config.row_height;\n\t\t\t\tgantt.scrollTo(null, top + (dir < 0 ? -1 : 1) * step);\n\t\t\t},\n\n\t\t\tkeys: {\n\t\t\t\t\"alt+left\": function (e) {\n\t\t\t\t\tthis.scrollHorizontal(-1);\n\t\t\t\t},\n\t\t\t\t\"alt+right\": function (e) {\n\t\t\t\t\tthis.scrollHorizontal(1);\n\t\t\t\t},\n\t\t\t\t\"alt+up\": function (e) {\n\t\t\t\t\tthis.scrollVertical(-1);\n\t\t\t\t},\n\t\t\t\t\"alt+down\": function (e) {\n\t\t\t\t\tthis.scrollVertical(1);\n\t\t\t\t},\n\n\t\t\t\t// undo\n\t\t\t\t\"ctrl+z\": function () {\n\t\t\t\t\tif (gantt.undo) gantt.undo();\n\t\t\t\t},\n\n\t\t\t\t// redo\n\t\t\t\t\"ctrl+r\": function () {\n\t\t\t\t\tif (gantt.redo) gantt.redo();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t);\n\n\tgantt.$keyboardNavigation.GanttNode.prototype.bindAll(gantt.$keyboardNavigation.GanttNode.prototype.keys);\n\n};","module.exports = function(gantt) {\n\n\t(function () {\n\t\tvar domHelpers = require(\"../../../core/ui/utils/dom_helpers\");\n\t\tgantt.$keyboardNavigation.getFocusableNodes = domHelpers.getFocusableNodes;\n\n\t\tgantt.$keyboardNavigation.trapFocus = function trapFocus(root, e) {\n\t\t\tif (e.keyCode != 9) return false;\n\n\t\t\tvar focusable = gantt.$keyboardNavigation.getFocusableNodes(root);\n\t\t\tvar currentFocus = document.activeElement;\n\t\t\tvar currentIndex = -1;\n\t\t\tfor (var i = 0; i < focusable.length; i++) {\n\t\t\t\tif (focusable[i] == currentFocus) {\n\t\t\t\t\tcurrentIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (e.shiftKey) {\n\t\t\t\t// back tab\n\t\t\t\tif (currentIndex <= 0) {\n\t\t\t\t\t// go to the last element if we focused on the first\n\t\t\t\t\tvar lastItem = focusable[focusable.length - 1];\n\t\t\t\t\tif (lastItem) {\n\t\t\t\t\t\tlastItem.focus();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\t// forward tab\n\t\t\t\tif (currentIndex >= focusable.length - 1) {\n\t\t\t\t\t// forward tab from last element should go back to the first element\n\t\t\t\t\tvar firstItem = focusable[0];\n\t\t\t\t\tif (firstItem) {\n\t\t\t\t\t\tfirstItem.focus();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\t})();\n\n};","module.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.EventHandler = {\n\t\t_handlers: null,\n\t\tfindHandler: function (command) {\n\t\t\tif (!this._handlers) this._handlers = {};\n\t\t\tvar shortcuts = gantt.$keyboardNavigation.shortcuts;\n\t\t\tvar hash = shortcuts.getHash(command);\n\n\t\t\treturn this._handlers[hash];\n\t\t},\n\n\t\tdoAction: function (command, e) {\n\t\t\tvar handler = this.findHandler(command);\n\t\t\tif (handler) {\n\t\t\t\tvar eventFacade = gantt.$keyboardNavigation.facade;\n\n\t\t\t\tif(eventFacade.callEvent(\"onBeforeAction\", [command, e]) === false){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\thandler.call(this, e);\n\n\t\t\t\tif (e.preventDefault) e.preventDefault();\n\t\t\t\telse e.returnValue = false;\n\n\t\t\t}\n\t\t},\n\t\tbind: function (shortcut, handler) {\n\t\t\tif (!this._handlers) this._handlers = {};\n\n\t\t\tvar shortcuts = gantt.$keyboardNavigation.shortcuts;\n\n\t\t\tvar commands = shortcuts.parse(shortcut);\n\t\t\tfor (var i = 0; i < commands.length; i++) {\n\t\t\t\tthis._handlers[shortcuts.getHash(commands[i])] = handler;\n\t\t\t}\n\t\t},\n\t\tunbind: function (shortcut) {\n\t\t\tvar shortcuts = gantt.$keyboardNavigation.shortcuts;\n\n\t\t\tvar commands = shortcuts.parse(shortcut);\n\t\t\tfor (var i = 0; i < commands.length; i++) {\n\t\t\t\tif (this._handlers[shortcuts.getHash(commands[i])]) {\n\t\t\t\t\tdelete this._handlers[shortcuts.getHash(commands[i])];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tbindAll: function (map) {\n\t\t\tfor (var i in map) {\n\t\t\t\tthis.bind(i, map[i]);\n\t\t\t}\n\t\t},\n\t\tinitKeys: function () {\n\t\t\tif (!this._handlers)\n\t\t\t\tthis._handlers = {};\n\t\t\tif (this.keys) {\n\t\t\t\tthis.bindAll(this.keys);\n\t\t\t}\n\t\t}\n\t};\n\n};","module.exports = function(gantt) {\n\n\tgantt.$keyboardNavigation.shortcuts = {\n\t\tcreateCommand: function () {\n\t\t\treturn {\n\t\t\t\tmodifiers: {\n\t\t\t\t\t\"shift\": false,\n\t\t\t\t\t\"alt\": false,\n\t\t\t\t\t\"ctrl\": false,\n\t\t\t\t\t\"meta\": false\n\t\t\t\t},\n\t\t\t\tkeyCode: null\n\t\t\t};\n\t\t},\n\t\tparse: function (shortcut) {\n\t\t\tvar commands = [];\n\n\t\t\tvar expr = this.getExpressions(this.trim(shortcut));\n\t\t\tfor (var i = 0; i < expr.length; i++) {\n\t\t\t\tvar words = this.getWords(expr[i]);\n\n\t\t\t\tvar command = this.createCommand();\n\n\t\t\t\tfor (var j = 0; j < words.length; j++) {\n\t\t\t\t\tif (this.commandKeys[words[j]]) {\n\t\t\t\t\t\tcommand.modifiers[words[j]] = true;\n\t\t\t\t\t} else if (this.specialKeys[words[j]]) {\n\t\t\t\t\t\tcommand.keyCode = this.specialKeys[words[j]];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcommand.keyCode = words[j].charCodeAt(0);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcommands.push(command);\n\t\t\t}\n\t\t\treturn commands;\n\t\t},\n\n\t\tgetCommandFromEvent: function (domEvent) {\n\t\t\tvar command = this.createCommand();\n\t\t\tcommand.modifiers.shift = !!domEvent.shiftKey;\n\t\t\tcommand.modifiers.alt = !!domEvent.altKey;\n\t\t\tcommand.modifiers.ctrl = !!domEvent.ctrlKey;\n\t\t\tcommand.modifiers.meta = !!domEvent.metaKey;\n\t\t\tcommand.keyCode = domEvent.which || domEvent.keyCode;\n\n\t\t\tif(command.keyCode >= 96 && command.keyCode <= 105){\n\t\t\t\t// numpad keys 96-105 -> 48-57\n\t\t\t\tcommand.keyCode -= 48;//convert numpad  number code to regular number code\n\t\t\t}\n\n\t\t\tvar printableKey = String.fromCharCode(command.keyCode);\n\t\t\tif (printableKey) {\n\t\t\t\tcommand.keyCode = printableKey.toLowerCase().charCodeAt(0);\n\t\t\t}\n\t\t\treturn command;\n\t\t},\n\n\t\tgetHashFromEvent: function (domEvent) {\n\t\t\treturn this.getHash(this.getCommandFromEvent(domEvent));\n\t\t},\n\n\t\tgetHash: function (command) {\n\t\t\tvar parts = [];\n\t\t\tfor (var i in command.modifiers) {\n\t\t\t\tif (command.modifiers[i]) {\n\t\t\t\t\tparts.push(i);\n\t\t\t\t}\n\t\t\t}\n\t\t\tparts.push(command.keyCode);\n\n\t\t\treturn parts.join(this.junctionChar);\n\t\t},\n\n\t\tgetExpressions: function (shortcut) {\n\t\t\treturn shortcut.split(this.junctionChar);\n\t\t},\n\t\tgetWords: function (term) {\n\t\t\treturn term.split(this.combinationChar);\n\t\t},\n\t\ttrim: function (shortcut) {\n\t\t\treturn shortcut.replace(/\\s/g, \"\");\n\t\t},\n\t\tjunctionChar: \",\",\n\t\tcombinationChar: \"+\",\n\t\tcommandKeys: {\n\t\t\t\"shift\": 16,\n\t\t\t\"alt\": 18,\n\t\t\t\"ctrl\": 17,\n\t\t\t\"meta\": true\n\t\t},\n\t\tspecialKeys: {\n\t\t\t\"backspace\": 8,\n\t\t\t\"tab\": 9,\n\t\t\t\"enter\": 13,\n\t\t\t\"esc\": 27,\n\t\t\t\"space\": 32,\n\t\t\t\"up\": 38,\n\t\t\t\"down\": 40,\n\t\t\t\"left\": 37,\n\t\t\t\"right\": 39,\n\t\t\t\"home\": 36,\n\t\t\t\"end\": 35,\n\t\t\t\"pageup\": 33,\n\t\t\t\"pagedown\": 34,\n\t\t\t\"delete\": 46,\n\t\t\t\"insert\": 45,\n\t\t\t\"plus\": 107,\n\t\t\t\"f1\": 112,\n\t\t\t\"f2\": 113,\n\t\t\t\"f3\": 114,\n\t\t\t\"f4\": 115,\n\t\t\t\"f5\": 116,\n\t\t\t\"f6\": 117,\n\t\t\t\"f7\": 118,\n\t\t\t\"f8\": 119,\n\t\t\t\"f9\": 120,\n\t\t\t\"f10\": 121,\n\t\t\t\"f11\": 122,\n\t\t\t\"f12\": 123\n\t\t}\n\t};\n};","module.exports = function(gantt){\n\tvar eventable = require(\"../utils/eventable\");\n\tfunction setupKeyNav(gantt){\n\t\tgantt.config.keyboard_navigation = true;\n\t\tgantt.config.keyboard_navigation_cells = false;\n\n\t\tgantt.$keyboardNavigation = {};\n\n\t\tgantt._compose = function(){\n\t\t\tvar parts = Array.prototype.slice.call(arguments, 0);\n\t\t\tvar res = {};\n\t\t\tfor(var i = 0; i < parts.length; i++){\n\t\t\t\tvar obj = parts[i];\n\t\t\t\tif(typeof obj == \"function\"){\n\t\t\t\t\tobj = new obj();\n\t\t\t\t}\n\n\t\t\t\tfor(var p in obj){\n\t\t\t\t\tres[p] = obj[p];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn res;\n\t\t};\n\n\t\trequire (\"./keyboard_navigation/common/keyboard_shortcuts\")(gantt);\n\t\trequire (\"./keyboard_navigation/common/eventhandler\")(gantt);\n\t\trequire (\"./keyboard_navigation/common/trap_modal_focus\")(gantt);\n\t\trequire (\"./keyboard_navigation/elements/gantt_node\")(gantt);\n\t\trequire (\"./keyboard_navigation/elements/nav_node\")(gantt);\n\t\trequire (\"./keyboard_navigation/elements/header_cell\")(gantt);\n\t\trequire (\"./keyboard_navigation/elements/task_row\")(gantt);\n\t\trequire (\"./keyboard_navigation/elements/task_cell\")(gantt);\n\t\trequire (\"./keyboard_navigation/modals\")(gantt);\n\t\trequire (\"./keyboard_navigation/core\")(gantt);\n\n\t\tvar domHelpers = require(\"../core/ui/utils/dom_helpers\");\n\n\t\t(function(){\n\t\t\tvar dispatcher = gantt.$keyboardNavigation.dispatcher;\n\n\t\t\tdispatcher.isTaskFocused = function(id){\n\t\t\t\tvar node = dispatcher.activeNode;\n\t\t\t\tif(node instanceof gantt.$keyboardNavigation.TaskRow || node instanceof gantt.$keyboardNavigation.TaskCell) {\n\t\t\t\t\tif (node.taskId == id) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\tvar keyDownHandler = function(e){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return;\n\t\t\t\t// GS-734 & GS-1078: we don't need keyboard navigation inside inline editors\n\t\t\t\tif(!gantt.config.keyboard_navigation_cells && isInlineEditorCell(e)) return;\n\n\t\t\t\treturn dispatcher.keyDownHandler(e);\n\t\t\t};\n\n\t\t\tvar focusHandler = function(e){\n\t\t\t\tif(dispatcher.$preventDefault){\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tgantt.$container.blur();\n\t\t\t\t\treturn false;\n\t\t\t\t// do nothing if key-nav focus is already planned\n\t\t\t\t} else if (!dispatcher.awaitsFocus()) {\n\t\t\t\t\t// otherwise - re-focus key-nav element on gantt focus\n\t\t\t\t\tdispatcher.focusGlobalNode();\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar reFocusActiveNode = function(){\n\t\t\t\tif(!dispatcher.isEnabled())\n\t\t\t\t\treturn;\n\n\t\t\t\tvar activeNode = dispatcher.getActiveNode();\n\t\t\t\tif(!activeNode)\n\t\t\t\t\treturn;\n\n\t\t\t\tvar domElement = activeNode.getNode();\n\t\t\t\tvar top, left;\n\t\t\t\tif(domElement && domElement.parentNode){\n\t\t\t\t\ttop = domElement.parentNode.scrollTop;\n\t\t\t\t\tleft = domElement.parentNode.scrollLeft;\n\n\t\t\t\t}\n\n\t\t\t\tactiveNode.focus(true);\n\n\t\t\t\tif(domElement && domElement.parentNode){\n\t\t\t\t\tdomElement.parentNode.scrollTop = top;\n\t\t\t\t\tdomElement.parentNode.scrollLeft = left;\n\t\t\t\t}\n\t\t\t};\n\n\n\t\t\tgantt.attachEvent(\"onDataRender\", function(){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return;\n\t\t\t\treFocusActiveNode();\n\t\t\t});\n\n\t\t\tgantt.attachEvent(\"onGanttRender\", function(){\n\t\t\t\tgantt.eventRemove(gantt.$root, \"keydown\", keyDownHandler);\n\t\t\t\tgantt.eventRemove(gantt.$container, \"focus\", focusHandler);\n\t\t\t\tgantt.eventRemove(gantt.$container, \"mousedown\", mousedownHandler);\n\n\t\t\t\tif(gantt.config.keyboard_navigation){\n\n\t\t\t\t\tgantt.event(gantt.$root, \"keydown\", keyDownHandler);\n\t\t\t\t\tgantt.event(gantt.$container, \"focus\", focusHandler);\n\t\t\t\t\tgantt.event(gantt.$container, \"mousedown\", mousedownHandler);\n\t\t\t\t\tgantt.$container.setAttribute(\"tabindex\", \"0\");\n\n\t\t\t\t}else{\n\t\t\t\t\tgantt.$container.removeAttribute(\"tabindex\");\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfunction getTaskNodeConstructor(){\n\t\t\t\tif (gantt.config.keyboard_navigation_cells) {\n\t\t\t\t\treturn gantt.$keyboardNavigation.TaskCell;\n\t\t\t\t} else {\n\t\t\t\t\treturn gantt.$keyboardNavigation.TaskRow;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction isInlineEditorCell(e){\n\t\t\t\treturn !!domHelpers.closest(e.target, \".gantt_grid_editor_placeholder\");\n\t\t\t}\n\n\t\t\tfunction mousedownHandler(e){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return true;\n\t\t\t\t// GS-734 & GS-1078: we don't need keyboard navigation inside inline editors\n\t\t\t\tif(!gantt.config.keyboard_navigation_cells && isInlineEditorCell(e)) return true;\n\n\t\t\t\tvar focusNode;\n\t\t\t\tvar locateTask = dispatcher.fromDomElement(e);\n\t\t\t\tif(locateTask){\n\t\t\t\t\t//var node = getTaskNodeConstructor();\n\t\t\t\t\tif(dispatcher.activeNode instanceof gantt.$keyboardNavigation.TaskCell && domHelpers.isChildOf(e.target, gantt.$task)){\n\t\t\t\t\t\tlocateTask = new gantt.$keyboardNavigation.TaskCell(locateTask.taskId, dispatcher.activeNode.columnIndex);\n\t\t\t\t\t}\n\t\t\t\t\tfocusNode = locateTask;\n\t\t\t\t}\n\t\t\t\tif (focusNode) {\n\t\t\t\t\tif (!dispatcher.isEnabled()) {\n\t\t\t\t\t\tdispatcher.activeNode = focusNode;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdispatcher.delay(function () {\n\t\t\t\t\t\t\tdispatcher.setActiveNode(focusNode);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// empty click should drop focus from gantt, insert of reselecting default node\n\t\t\t\t\tdispatcher.$preventDefault = true;\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\tdispatcher.$preventDefault = false;\n\t\t\t\t\t}, 300);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar onReady = gantt.attachEvent(\"onGanttReady\", function(){\n\t\t\t\t// restore focus on repainted tasks\n\t\t\t\tgantt.detachEvent(onReady);\n\n\t\t\t\tgantt.$data.tasksStore.attachEvent(\"onStoreUpdated\", function(id){\n\t\t\t\t\tif (gantt.config.keyboard_navigation && dispatcher.isEnabled()) {\n\t\t\t\t\t\tvar currentNode = dispatcher.getActiveNode();\n\t\t\t\t\t\tif(currentNode && currentNode.taskId == id){\n\t\t\t\t\t\t\treFocusActiveNode();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(gantt._smart_render){\n\t\t\t\t\tvar updateRender = gantt._smart_render._redrawTasks;\n\t\t\t\t\tgantt._smart_render._redrawTasks = function(renderers, items){\n\t\t\t\t\t\tif(gantt.config.keyboard_navigation && dispatcher.isEnabled()){\n\t\t\t\t\t\t\tvar currentNode = dispatcher.getActiveNode();\n\t\t\t\t\t\t\tif(currentNode && currentNode.taskId !== undefined){\n\t\t\t\t\t\t\t\tvar focusedItemVisible = false;\n\t\t\t\t\t\t\t\tfor(var i = 0; i < items.length; i++){\n\t\t\t\t\t\t\t\t\tif(items[i].id == currentNode.taskId && items[i].start_date){\n\t\t\t\t\t\t\t\t\t\tfocusedItemVisible = true;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(!focusedItemVisible){\n\t\t\t\t\t\t\t\t\titems.push(gantt.getTask(currentNode.taskId));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar res = updateRender.apply(this, arguments);\n\n\t\t\t\t\t\treturn res;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\n\n\n\t\t\tgantt.attachEvent(\"onAfterTaskAdd\", function(id,item){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return true;\n\t\t\t\tif(dispatcher.isEnabled()){\n\n\t\t\t\t\tvar columnIndex = 0;\n\t\t\t\t\tvar node = dispatcher.activeNode;\n\t\t\t\t\tif(node instanceof gantt.$keyboardNavigation.TaskCell){\n\t\t\t\t\t\tcolumnIndex = node.columnIndex;\n\t\t\t\t\t}\n\t\t\t\t\tvar nodeConstructor = getTaskNodeConstructor();\n\n\t\t\t\t\tdispatcher.setActiveNode(new nodeConstructor(id, columnIndex));\n\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tgantt.attachEvent(\"onTaskIdChange\", function(oldId, newId){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return true;\n\n\t\t\t\tvar node = dispatcher.activeNode;\n\t\t\t\tif(dispatcher.isTaskFocused(oldId)){\n\t\t\t\t\tnode.taskId = newId;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t});\n\n\t\t\tvar interval = setInterval(function(){\n\t\t\t\tif(!gantt.config.keyboard_navigation) return;\n\t\t\t\tif(!dispatcher.isEnabled()){\n\t\t\t\t\tdispatcher.enable();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}, 500);\n\n\t\t\tgantt.attachEvent(\"onDestroy\", function(){\n\t\t\t\tclearInterval(interval);\n\t\t\t});\n\n\t\t\tfunction getScopeName(obj){\n\t\t\t\tif(obj instanceof gantt.$keyboardNavigation.GanttNode){\n\t\t\t\t\treturn \"gantt\";\n\t\t\t\t}else if(obj instanceof gantt.$keyboardNavigation.HeaderCell){\n\t\t\t\t\treturn \"headerCell\";\n\t\t\t\t}else if(obj instanceof gantt.$keyboardNavigation.TaskRow){\n\t\t\t\t\treturn \"taskRow\";\n\t\t\t\t}else if(obj instanceof gantt.$keyboardNavigation.TaskCell){\n\t\t\t\t\treturn \"taskCell\";\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tfunction getScope(mode){\n\t\t\t\tvar scopes = {\n\t\t\t\t\t\"gantt\":gantt.$keyboardNavigation.GanttNode,\n\t\t\t\t\t\"headerCell\": gantt.$keyboardNavigation.HeaderCell,\n\t\t\t\t\t\"taskRow\": gantt.$keyboardNavigation.TaskRow,\n\t\t\t\t\t\"taskCell\": gantt.$keyboardNavigation.TaskCell\n\t\t\t\t};\n\n\t\t\t\treturn scopes[mode] || scopes.gantt;\n\t\t\t}\n\n\t\t\tfunction findVisibleColumnIndex(columnName) {\n\t\t\t\tvar columns = gantt.getGridColumns();\n\t\t\t\tfor (var i = 0; i < columns.length; i++){\n\t\t\t\t\tif(columns[i].name == columnName){\n\t\t\t\t\t\treturn i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tvar keyNavFacade = {};\n\t\t\teventable(keyNavFacade);\n\t\t\tgantt.mixin(keyNavFacade, {\n\t\t\t\taddShortcut: function(shortcut, handler, scope){\n\t\t\t\t\tvar scopeObject = getScope(scope);\n\t\t\t\t\tif(scopeObject){\n\t\t\t\t\t\tscopeObject.prototype.bind(shortcut, handler);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tgetShortcutHandler: function(shortcut, scope){\n\t\t\t\t\tvar commands = gantt.$keyboardNavigation.shortcuts.parse(shortcut);\n\t\t\t\t\tif(commands.length){\n\t\t\t\t\t\treturn keyNavFacade.getCommandHandler(commands[0], scope);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tgetCommandHandler: function(command, scope){\n\t\t\t\t\tvar scopeObject = getScope(scope);\n\t\t\t\t\tif(scopeObject){\n\t\t\t\t\t\tif(command){\n\t\t\t\t\t\t\treturn scopeObject.prototype.findHandler(command);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tremoveShortcut: function(shortcut, scope){\n\t\t\t\t\tvar scopeObject = getScope(scope);\n\t\t\t\t\tif(scopeObject){\n\t\t\t\t\t\tscopeObject.prototype.unbind(shortcut);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfocus: function(config){\n\t\t\t\t\tvar type = config ? config.type : null;\n\t\t\t\t\tvar constructor = getScope(type);\n\t\t\t\t\tvar node;\n\t\t\t\t\tswitch (type){\n\t\t\t\t\t\tcase \"taskCell\":\n\t\t\t\t\t\t\tnode = new constructor(config.id, findVisibleColumnIndex(config.column));\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"taskRow\":\n\t\t\t\t\t\t\tnode = new constructor(config.id);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"headerCell\":\n\t\t\t\t\t\t\tnode = new constructor(findVisibleColumnIndex(config.column));\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tdispatcher.delay(function(){\n\t\t\t\t\t\tif(node){\n\t\t\t\t\t\t\tdispatcher.setActiveNode(node);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tdispatcher.enable();\n\t\t\t\t\t\t\tif(!dispatcher.getActiveNode()){\n\n\t\t\t\t\t\t\t\tdispatcher.setDefaultNode();\n\t\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\t\tif(!dispatcher.awaitsFocus()){\n\t\t\t\t\t\t\t\t\tdispatcher.enable();\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\tgetActiveNode: function(){\n\t\t\t\t\tif(dispatcher.isEnabled()){\n\t\t\t\t\t\tvar node = dispatcher.getActiveNode();\n\t\t\t\t\t\tvar scope = getScopeName(node);\n\t\t\t\t\t\tvar columns = gantt.getGridColumns();\n\t\t\t\t\t\tswitch (scope){\n\t\t\t\t\t\t\tcase \"taskCell\":\n\t\t\t\t\t\t\t\treturn {type:\"taskCell\", id:node.taskId, column:columns[node.columnIndex].name};\n\t\t\t\t\t\t\tcase \"taskRow\":\n\t\t\t\t\t\t\t\treturn {type:\"taskRow\", id:node.taskId};\n\t\t\t\t\t\t\tcase \"headerCell\":\n\t\t\t\t\t\t\t\treturn {type:\"headerCell\", column:columns[node.index].name};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tgantt.$keyboardNavigation.facade = keyNavFacade;\n\n\t\t\tgantt.ext.keyboardNavigation = keyNavFacade;\n\t\t\tgantt.focus = function(){\n\t\t\t\tkeyNavFacade.focus();\n\t\t\t};\n\t\t\tgantt.addShortcut = keyNavFacade.addShortcut;\n\t\t\tgantt.getShortcutHandler = keyNavFacade.getShortcutHandler;\n\t\t\tgantt.removeShortcut = keyNavFacade.removeShortcut;\n\t\t})();\n\n\n\t}\n\n\tsetupKeyNav(gantt);\n\n\n\n};","module.exports = function(gantt){\n\nvar helpers = require(\"../utils/helpers\");\n\ngantt._groups = {\n\trelation_property: null,\n\trelation_id_property: '$group_id',\n\tgroup_id: null,\n\tgroup_text: null,\n\tloading: false,\n\tloaded: 0,\n\tdynamicGroups: false,\n\tset_relation_value: undefined,\n\t_searchCache: null,\n\tinit: function(gantt){\n\t\tvar self = this;\n\n\t\tgantt.attachEvent(\"onClear\", function(){\n\t\t\tself.clear();\n\t\t});\n\t\tself.clear();\n\n\t\tvar originalGetParent = gantt.$data.tasksStore.getParent; // gantt._get_parent_id;\n\t\tthis._searchCache = null;\n\t\tgantt.attachEvent(\"onBeforeTaskMove\", function(id, parent, tindex) {\n\t\t\t// GS-504: If we allow several owners/resources, the task should be moved to \n\t\t\t// a new position only if there is the function that handles that logic\n\t\t\tvar invalidParent = (parent === this.config.root_id) || (this.isTaskExists(parent) && !this.getTask(parent).$virtual);\n\t\t\tvar noRelationValueFunction = this._groups.dynamicGroups && !(this._groups.set_relation_value instanceof Function);\n\n\t\t\tif (self.is_active() && (invalidParent || noRelationValueFunction)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tgantt.$data.tasksStore._listenerToDrop = gantt.$data.tasksStore.attachEvent(\"onStoreUpdated\", gantt.bind(_initBeforeDataRender, gantt));\n\n\t\tgantt.$data.tasksStore.getParent = function(task) {\n\t\t\tif (self.is_active()) {\n\t\t\t\treturn self.get_parent(gantt, task);\n\t\t\t} else {\n\t\t\t\treturn originalGetParent.apply(this, arguments);\n\t\t\t}\n\t\t};\n\n\t\tvar originalSetParent = gantt.$data.tasksStore.setParent;\n\n\t\tgantt.$data.tasksStore.setParent = function(task, new_pid) {\n\t\t\tif (!self.is_active()) {\n\t\t\t\treturn originalSetParent.apply(this, arguments);\n\t\t\t} else if (self.set_relation_value instanceof Function && gantt.isTaskExists(new_pid)) {\n\t\t\t\tvar parent = gantt.getTask(new_pid);\n\t\t\t\tvar groupIds = parent[self.relation_id_property];\n\t\t\t\tif (task[self.group_id] === undefined)\n\t\t\t\t\ttask[self.group_id] = groupIds; // to avoid nulling of relation_property if the group is not set\n\n\t\t\t\tif (groupIds){\n\t\t\t\t\tif (typeof groupIds == \"string\"){\n\t\t\t\t\t\tgroupIds = groupIds.split(\",\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgroupIds = [groupIds];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// GS-504: This is a way to save the relation_property and customize the logic\n\t\t\t\ttask[self.relation_property] = self.set_relation_value(groupIds, task.id, task[self.relation_property]) || groupIds;\n\n\t\t\t} else if (gantt.isTaskExists(new_pid)) {\n\t\t\t\tvar parent = gantt.getTask(new_pid);\n\n\t\t\t\tif (!self.dynamicGroups) {\n\t\t\t\t\ttask[self.relation_property] = parent[self.relation_id_property];\n\t\t\t\t}\n\t\t\t\tthis._setParentInner.apply(this, arguments);\n\t\t\t} else if(self.dynamicGroups) {\n\t\t\t\tif (task[self.group_id] === undefined || (!task.$virtual && task[self.relation_property][0] === [][0])) {\n\t\t\t\t\t// GS-1332 the tasks without the group should be moved to the default group:\n\t\t\t\t\ttask[self.relation_property] = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tgantt.attachEvent(\"onBeforeTaskDisplay\", function(id, task){\n\t\t\tif(self.is_active()){\n\t\t\t\tif(task.type == gantt.config.types.project && !task.$virtual)\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tgantt.attachEvent(\"onBeforeParse\", function(){\n\t\t\tself.loading = true;\n\t\t\tself._clearCache();\n\t\t});\n\n\t\tgantt.attachEvent(\"onTaskLoading\", function(){\n\t\t\tif(self.is_active()){\n\t\t\t\tself.loaded--;\n\t\t\t\tif(self.loaded <= 0){\n\t\t\t\t\tself.loading = false;\n\t\t\t\t\tself._clearCache();\n\t\t\t\t\tgantt.eachTask(gantt.bind(function(t){\n\t\t\t\t\t\tthis.get_parent(gantt, t);\n\t\t\t\t\t}, self));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\n\t\t});\n\t\tgantt.attachEvent(\"onParse\", function(){\n\t\t\tself.loading = false;\n\t\t\tself.loaded = 0;\n\t\t});\n\t},\n\n\t_clearCache: function(){\n\t\tthis._searchCache = null;\n\t},\n\t_buildCache: function(){\n\t\tthis._searchCache = {};\n\t\tvar items = gantt.$data.tasksStore.getItems();\n\t\tfor(var i = 0; i < items.length; i++){\n\t\t\tthis._searchCache[items[i][this.relation_id_property]] = items[i].id;\n\t\t}\n\n\t},\n\tget_parent: function(gantt, task, tasks) {\n\t\tif (task.id === undefined) {\n\t\t\ttask = gantt.getTask(task);\n\t\t}\n\n\t\tvar group_id = _getGroupId(task, this.relation_property);\n\n\n\t\tif (this._groups_pull[group_id] === task.id){\n\t\t\treturn gantt.config.root_id;\n\t\t}\n\t\tif (this._groups_pull[group_id] !== undefined) {\n\t\t\treturn this._groups_pull[group_id];\n\t\t}\n\n\t\tvar parent_id = gantt.config.root_id;\n\n\t\tif (!this.loading && group_id !== undefined) {\n\n\t\t\tif(!this._searchCache){\n\t\t\t\tthis._buildCache();\n\t\t\t}\n\t\t\tvar parent = this._searchCache[group_id];\n\t\t\tif(gantt.isTaskExists(parent) && parent != task.id){\n\t\t\t\tparent_id = this._searchCache[group_id];\n\t\t\t}\n\n\t\t\tthis._groups_pull[group_id] = parent_id;\n\t\t}\n\n\t\treturn parent_id;\n\t},\n\n\tclear: function(){\n\t\tthis._groups_pull = {};\n\t\tthis.relation_property = null;\n\t\tthis.group_id = null;\n\t\tthis.group_text = null;\n\t\tthis._clearCache();\n\t},\n\tis_active: function(){\n\t\treturn !!(this.relation_property);\n\t},\n\tgenerate_sections: function(list, groups_type){\n\t\tvar groups = [];\n\t\tfor(var i = 0; i < list.length; i++){\n\t\t\tvar group = gantt.copy(list[i]);\n\t\t\tgroup.type = groups_type;\n\t\t\tif(group.open === undefined){\n\t\t\t\tgroup.open = true;\n\t\t\t}\n\t\t\tgroup.$virtual = true;\n\t\t\tgroup.readonly = true;\n\t\t\tgroup[this.relation_id_property] = group[this.group_id];\n\t\t\tgroup.text = group[this.group_text];\n\t\t\tgroups.push(group);\n\t\t}\n\t\treturn groups;\n\n\t},\n\tclear_temp_tasks: function(tasks){\n\t\tfor(var i =0; i < tasks.length; i++){\n\t\t\tif(tasks[i].$virtual){\n\t\t\t\ttasks.splice(i, 1);\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\t},\n\n\tgenerate_data: function(gantt, groups){\n\t\tvar links = gantt.getLinks();\n\t\tvar tasks = gantt.getTaskByTime();\n\n\t\tthis.clear_temp_tasks(tasks);\n\n\t\ttasks.forEach(function(task){\n\t\t\ttask.$calculate_duration = false;// no need to recalculate durations of tasks after group by\n\t\t});\n\n\t\tvar categories = [];\n\t\tif(this.is_active() && groups && groups.length){\n\t\t\tcategories = this.generate_sections(groups, gantt.config.types.project);\n\t\t}\n\n\t\tvar data = {links: links};\n\t\tdata.data = categories.concat(tasks);\n\n\t\treturn data;\n\t},\n\tupdate_settings: function(relation, group_id, group_text){\n\t\tthis.clear();\n\t\tthis.relation_property = relation;\n\t\tthis.group_id = group_id;\n\t\tthis.group_text = group_text;\n\t},\n\tgroup_tasks: function (gantt, groups_array, relation_property, group_id, group_text){\n\t\tthis.update_settings(relation_property, group_id, group_text);\n\t\tvar data = this.generate_data(gantt, groups_array);\n\t\tthis.loaded = data.data.length;\n\t\tgantt._clear_data();\n\t\tvar schedulingOnParse = gantt.config.auto_scheduling_initial;\n\t\tgantt.config.auto_scheduling_initial = false;\n\t\tgantt.parse(data);\n\t\tgantt.config.auto_scheduling_initial = schedulingOnParse;\n\t}\n};\n\ngantt._groups.init(gantt);\n\nfunction setRelationValueForAssignmentsArray(newGroupValues, id, oldRelationProperty) {\n\tif (!newGroupValues) {\n\t\treturn 0;\n\t}\n\n\tif (Array.isArray(oldRelationProperty) && !oldRelationProperty[0]) {\n\t\treturn 0;\n\t}\n\n\tif (newGroupValues && !Array.isArray(oldRelationProperty)) {\n\t\tvar resources = [];\n\t\tnewGroupValues.map(function(id){\n\t\t\tresources.push({ resource_id: id, value: 8 });\n\t\t});\n\t\treturn resources;\n\t}\n\tif (!oldRelationProperty[0].resource_id) {\n\t\toldRelationProperty = [{ resource_id: oldRelationProperty, value: 8 }];\n\t}\n\n\tif (typeof newGroupValues == \"string\") {\n\t\tnewGroupValues = newGroupValues.split(',');\n\t}\n\n\tif (newGroupValues.length == 1) {\n\t\toldRelationProperty[0].resource_id = newGroupValues[0];\n\t\treturn [oldRelationProperty[0]];\n\t}\n\n\tvar newRelationProperty = [];\n\n\tfor (var i = 0; i < newGroupValues.length; i++) {\n\t\tvar new_value = newGroupValues[i];\n\n\t\tvar pos = oldRelationProperty.map(function (e) { return e.resource_id; }).indexOf(new_value);\n\n\t\tif (pos > -1) {\n\t\t\toldRelationProperty[pos].resource_id = new_value;\n\t\t\tnewRelationProperty.push(oldRelationProperty[pos]);\n\t\t}\n\t\telse {\n\t\t\tvar copy = gantt.copy(oldRelationProperty[0]);\n\t\t\tcopy.resource_id = new_value;\n\t\t\tnewRelationProperty.push(copy);\n\t\t}\n\t}\n\treturn newRelationProperty;\n}\n\nfunction setRelationValueForPrimitivesArray(newGroupValues, id, oldRelationProperty) {\n\treturn newGroupValues;\n}\n\nfunction inspectRelationProperty(tasks, relationProperty){\n\tvar resourceAssignments = false;\n\tvar arrays = false;\n\tfor(var i = 0; i < tasks.length; i++){\n\t\tvar value = tasks[i][relationProperty];\n\t\tif(Array.isArray(value)){\n\t\t\tarrays = true;\n\t\t\tif(value.length) {\n\t\t\t\tif(value[0].resource_id !== undefined){\n\t\t\t\t\tresourceAssignments = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\thaveArrays: arrays,\n\t\thaveResourceAssignments: resourceAssignments\n\t};\n}\n\nfunction selectRelationFunction(relationInfo){\n\tif(relationInfo.haveResourceAssignments){\n\t\treturn setRelationValueForAssignmentsArray;\n\t}else if(relationInfo.haveArrays){\n\t\treturn setRelationValueForPrimitivesArray;\n\t}\n\treturn null;\n}\n\ngantt.groupBy = function(config) {\n\tvar _this = this;\n\tvar tasks = gantt.getTaskByTime();\n\n\tthis._groups.set_relation_value = config.set_relation_value;\n\tthis._groups.dynamicGroups = false;\n\n\tvar relationInfo = inspectRelationProperty(tasks, config.relation_property);\n\n\tif(relationInfo.haveArrays){\n\t\tthis._groups.dynamicGroups = true;\n\t}\n\n\tif(!this._groups.set_relation_value) {\n\t\tthis._groups.set_relation_value = selectRelationFunction(relationInfo);\n\t}\n\n\tconfig = config || {};\n\tconfig.default_group_label = config.default_group_label || this.locale.labels.default_group || \"None\";\n\n\tvar relation_property = config.relation_property || null;\n\tvar group_id = config.group_id || \"key\";\n\tvar group_text = config.group_text || \"label\";\n\n\tthis._groups.regroup = function() {\n\t\tvar tasks = gantt.getTaskByTime();\n\t\tvar groupOpenCloseState = {};\n\t\tvar restoreOpenCloseState = false;\n\t\ttasks.forEach(function(task){\n\t\t\tif(task.$virtual && task.$open !== undefined){\n\t\t\t\tgroupOpenCloseState[task[group_id]] = task.$open;\n\t\t\t\trestoreOpenCloseState = true;\n\t\t\t}\n\t\t});\n\t\tvar groups = _initGroups(config, tasks, gantt);\n\t\tif(groups && restoreOpenCloseState){\n\t\t\tgroups.forEach(function(group){\n\t\t\t\tif(groupOpenCloseState[group[group_id]] !== undefined){\n\t\t\t\t\tgroup.open = groupOpenCloseState[group[group_id]];\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t_this._groups.group_tasks(_this, groups, relation_property, group_id, group_text);\n\t\treturn true;\n\t};\n\tthis._groups.regroup();\n};\n\nfunction _initGroups(config, tasks, gantt) {\n\tvar groups;\n\tif (config.groups) {\n\t\tif (gantt._groups.dynamicGroups) {\n\t\t\tgroups = _getGroupForMultiItems(tasks, config);\n\t\t} else {\n\t\t\tgroups = config.groups;\n\t\t}\n\n\t} else {\n\t\tgroups = null;\n\t}\n\treturn groups;\n}\n\nfunction _getResourcesIds(resources){\n\treturn resources.map(_getEntryId).sort().join(\",\");\n}\n\nfunction _getEntryId(entry){\n\tif(entry && typeof entry == \"object\"){\n\t\treturn String(entry.resource_id);\n\t}else{\n\t\treturn String(entry);\n\t}\n}\n\nfunction _getGroupId(task, relationProperty) {\n\tvar group_id;\n\tif (task[relationProperty] instanceof Array) {\n\t\t// GS-1332 We want to assign tasks with the empty relationProperty to a default group\n\t\tif (!task[relationProperty].length) {\n\t\t\tgroup_id = 0;\n\t\t}\n\t\telse {\n\t\t\tgroup_id = _getResourcesIds(task[relationProperty]);\n\t\t}\n\t} else {\n\t\tgroup_id = task[relationProperty];\n\t}\n\treturn group_id;\n}\n\nfunction _getGroupForMultiItems(tasks, config) {\n\tvar resultObj = {};\n\tvar result = [];\n\tvar itemsByKey = {};\n\tvar property = config.relation_property;\n\tvar delimiter = config.delimiter || \",\";\n\n\tvar hasDefaultGroup = false;\n\tvar defaultGroupId = 0;\n\n\thelpers.forEach(config.groups, function(entry) {\n\t\tif(entry.default){\n\t\t\thasDefaultGroup = true;\n\t\t\tdefaultGroupId = entry.group_id;\n\t\t}\n\t\titemsByKey[entry.key || entry[config.group_id]] = entry;\n\t});\n\n\tfor (var i=0; i < tasks.length; i++) {\n\t\tvar key;\n\t\tvar label;\n\t\tvar task = tasks[i];\n\t\tvar taskGroupValue = task[property];\n\n\t\tif (helpers.isArray(taskGroupValue)) {\n\t\t\tif(taskGroupValue.length > 0) {\n\t\t\t\tkey = _getResourcesIds(taskGroupValue);\n\t\t\t\tlabel = taskGroupValue.map(function(entry, index) {\n\t\t\t\t\tvar key;\n\t\t\t\t\tif (entry && typeof entry == \"object\") {\n\t\t\t\t\t\tkey = entry.resource_id;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tkey = entry;\n\t\t\t\t\t}\n\t\t\t\t\tentry = itemsByKey[key];\n\t\t\t\t\treturn entry.label || entry.text;\n\t\t\t\t}).sort().join(delimiter);\n\t\t\t} else {\n\t\t\t\tif(hasDefaultGroup)\n\t\t\t\t\tcontinue;\n\t\t\t\tkey = 0;\n\t\t\t\tlabel = config.default_group_label;\n\t\t\t}\n\t\t} else if (taskGroupValue) {\n\t\t\tkey = taskGroupValue;\n\t\t\tlabel = itemsByKey[key].label || itemsByKey[key].text;\n\t\t} else {\n\t\t\tif(hasDefaultGroup)\n\t\t\t\tcontinue;\n\t\t\tkey = 0;\n\t\t\tlabel = config.default_group_label;\n\t\t}\n\t\tif (key === undefined || resultObj[key] !== undefined) {\n\t\t\tcontinue;\n\t\t}\n\t\tresultObj[key] = { key: key, label: label };\n\t\tif(key === defaultGroupId){\n\t\t\tresultObj[key].default = true;\n\t\t}\n\t\tresultObj[key][config.group_text] = label;\n\t\tresultObj[key][config.group_id] = key;\n\t}\n\tresult = helpers.hashToArray(resultObj);\n\tresult.forEach(function(group){\n\t\tif(group.key == defaultGroupId){\n\t\t\tgroup.default = true;\n\t\t}\n\t});\n\treturn result;\n}\n\nvar state = gantt.$services.getService(\"state\");\nstate.registerProvider(\"groupBy\", function () {\n\treturn {\n\t\tgroup_mode: gantt._groups.is_active() ? gantt._groups.relation_property : null\n\t};\n});\n\nfunction _initBeforeDataRender() {\n\tvar _this = this;\n\tif (this.$data.tasksStore._listenerToDrop) {\n\t\tthis.$data.tasksStore.detachEvent(this.$data.tasksStore._listenerToDrop);\n\t}\n\n\t// updateTask can be called many times from batchUpdate or autoSchedule,\n\t// add a delay in order to perform grouping only once when everything is done\n\tvar delayedFunction = helpers.delay(function() {\n\t\tif (!_this._groups.dynamicGroups) {\n\t\t\treturn true;\n\t\t}\n\t\tif (_this._groups.regroup) {\n\t\t\tvar scrollState = gantt.getScrollState();\n\t\t\t_this._groups.regroup();\n\t\t\tif(scrollState){\n\t\t\t\tgantt.scrollTo(scrollState.x, scrollState.y);\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t});\n\n\tthis.$data.tasksStore.attachEvent(\"onAfterUpdate\", function(){\n\t\t// do not reset delayed function each time since onAfterUpdate can be called huge number of times and clearTimeout/setTimeout gets expensive\n\t\tif(!delayedFunction.$pending){\n\t\t\tdelayedFunction();\n\t\t}\n\t\treturn true;\n\t});\n}\n\n};\n","export default function(gantt: any){\n\ninterface IBody extends HTMLElement {\n\tmsRequestFullscreen?: () => void;\n\tmozRequestFullScreen?: () => void;\n\twebkitRequestFullscreen?: (ALLOW_KEYBOARD_INPUT: any) => void;\n}\n\n\ninterface IConsole extends Console {\n\twarning?: (str: string) => void;\n}\n\ninterface IDocument extends Document {\n\tfullscreenElement: Element;\n\tmozFullScreenElement?: Element;\n\twebkitFullscreenElement?: Element;\n\tmsFullscreenElement?: Element;\n\twebkitFullscreenEnabled?: boolean;\n\tmozFullScreenEnabled?: boolean;\n\tmsFullscreenEnabled?: boolean;\n\tmsExitFullscreen?: () => void;\n\tmozCancelFullScreen?: () => void;\n\twebkitExitFullscreen?: () => void;\n}\n\ninterface IElement extends Element {\n\tALLOW_KEYBOARD_INPUT?: boolean;\n}\n\ninterface IElementSizes extends ISizes {\n\tmodified: boolean;\n}\n\ninterface ISizes {\n\twidth: null | string;\n\theight: null | string;\n\ttop: null | string;\n\tleft: null | string;\n\tposition: null | string;\n\tzIndex: null | number;\n}\n\nfunction isExpanded() {\n\tconst element = ((document as IDocument).fullscreenElement ||\n\t\t(document as IDocument).mozFullScreenElement ||\n\t\t(document as IDocument).webkitFullscreenElement ||\n\t\t(document as IDocument).msFullscreenElement);\n\treturn !!(element && element === document.body);\n}\n\nfunction isFullscreenAvailable() {\n\treturn (document as IDocument).fullscreenEnabled ||\n\t(document as IDocument).webkitFullscreenEnabled ||\n\t(document as IDocument).mozFullScreenEnabled ||\n\t(document as IDocument).msFullscreenEnabled;\n}\n\nconst state = gantt.$services.getService(\"state\");\nstate.registerProvider(\"fullscreen\", () => {\n\treturn { fullscreen: isExpanded() };\n});\n\nlet backupBodyPadding = {\n\toverflow: null,\n\tpadding: null,\n\tpaddingTop: null,\n\tpaddingRight: null,\n\tpaddingBottom: null,\n\tpaddingLeft: null\n};\n\nconst backupElementSizes: IElementSizes = {\n\twidth: null,\n\theight: null,\n\ttop: null,\n\tleft: null,\n\tposition: null,\n\tzIndex: null,\n\tmodified: false\n};\n\nlet backupPositioning = null;\nfunction resetParentPositioning(root){\n\tlet parent = root.parentNode;\n\tconst positions = [];\n\twhile(parent && parent.style){\n\t\tpositions.push({\n\t\t\telement: parent,\n\t\t\toriginalPositioning: parent.style.position\n\t\t});\n\t\tparent.style.position = \"static\";\n\t\tparent = parent.parentNode;\n\t}\n\treturn positions;\n}\n\nfunction restoreParentPositioning(positions: any[]){\n\tpositions.forEach(record => {\n\t\trecord.element.style.position = record.originalPositioning;\n\t});\n}\n\n// expand gantt root element to fullscreen automatically\nfunction setFullScreenSizes() {\n\tconst root = gantt.ext.fullscreen.getFullscreenElement();\n\tconst body = document.body;\n\tupdateSizes(root.style, backupElementSizes);\n\tbackupBodyPadding = {\n\t\toverflow: body.style.overflow,\n\t\tpadding: body.style.padding ? body.style.padding : null,\n\t\tpaddingTop: body.style.paddingTop ? body.style.paddingTop : null,\n\t\tpaddingRight: body.style.paddingRight ? body.style.paddingRight : null,\n\t\tpaddingBottom: body.style.paddingBottom ? body.style.paddingBottom : null,\n\t\tpaddingLeft: body.style.paddingLeft ? body.style.paddingLeft : null\n\t};\n\n\tif (body.style.padding) {\n\t\tbody.style.padding = \"0\";\n\t}\n\tif (body.style.paddingTop) {\n\t\tbody.style.paddingTop = \"0\";\n\t}\n\tif (body.style.paddingRight) {\n\t\tbody.style.paddingRight = \"0\";\n\t}\n\tif (body.style.paddingBottom) {\n\t\tbody.style.paddingBottom = \"0\";\n\t}\n\tif (body.style.paddingLeft) {\n\t\tbody.style.paddingLeft = \"0\";\n\t}\n\n\tbody.style.overflow = \"hidden\";\n\n\troot.style.width = \"100vw\";\n\troot.style.height = \"100vh\";\n\troot.style.top = \"0px\";\n\troot.style.left = \"0px\";\n\troot.style.position = \"absolute\";\n\troot.style.zIndex = 1;\n\tbackupElementSizes.modified = true;\n\tbackupPositioning = resetParentPositioning(root);\n}\n\nfunction restoreSizes() {\n\tconst root = gantt.ext.fullscreen.getFullscreenElement();\n\tconst body = document.body;\n\tif (backupElementSizes.modified) {\n\t\tif (backupBodyPadding.padding) {\n\t\t\tbody.style.padding = backupBodyPadding.padding;\n\t\t}\n\t\tif (backupBodyPadding.paddingTop) {\n\t\t\tbody.style.paddingTop = backupBodyPadding.paddingTop;\n\t\t}\n\t\tif (backupBodyPadding.paddingRight) {\n\t\t\tbody.style.paddingRight = backupBodyPadding.paddingRight;\n\t\t}\n\t\tif (backupBodyPadding.paddingBottom) {\n\t\t\tbody.style.paddingBottom = backupBodyPadding.paddingBottom;\n\t\t}\n\t\tif (backupBodyPadding.paddingLeft) {\n\t\t\tbody.style.paddingLeft = backupBodyPadding.paddingLeft;\n\t\t}\n\n\t\tbody.style.overflow = backupBodyPadding.overflow;\n\t\tbackupBodyPadding = {\n\t\t\toverflow: null,\n\t\t\tpadding: null,\n\t\t\tpaddingTop: null,\n\t\t\tpaddingRight: null,\n\t\t\tpaddingBottom: null,\n\t\t\tpaddingLeft: null\n\t\t};\n\t\tupdateSizes(backupElementSizes, root.style);\n\t\tbackupElementSizes.modified = false;\n\t}\n\trestoreParentPositioning(backupPositioning);\n\tbackupPositioning = null;\n}\n\nfunction updateSizes(source: ISizes, target: ISizes) {\n\ttarget.width = source.width;\n\ttarget.height = source.height;\n\ttarget.top = source.top;\n\ttarget.left = source.left;\n\ttarget.position = source.position;\n\ttarget.zIndex = source.zIndex;\n}\n\nfunction addDOMEvents() {\n\tgantt.event(document, \"webkitfullscreenchange\", onFullScreenChange);\n\tgantt.event(document, \"mozfullscreenchange\", onFullScreenChange);\n\tgantt.event(document, \"MSFullscreenChange\", onFullScreenChange);\n\t// For IE on Win 10\n\tgantt.event(document, \"fullscreenChange\", onFullScreenChange);\n\tgantt.event(document, \"fullscreenchange\", onFullScreenChange);\n}\n\nlet expandGantt = false;\nfunction onFullScreenChange() {\n\tif (!gantt.$container) {\n\t\t// do nothing if gantt is not yet initialized\n\t\treturn;\n\t}\n\tlet event: \"onExpand\" | \"onCollapse\";\n\tconst isBodyExpanded = isExpanded();\n\n\tif (isBodyExpanded) {\n\t\tif (expandGantt) {\n\t\t\tevent = \"onExpand\";\n\t\t\tsetFullScreenSizes();\n\t\t}\n\t} else if (expandGantt) {\n\t\texpandGantt = false;\n\t\tevent = \"onCollapse\";\n\t\trestoreSizes();\n\t}\n\tsetTimeout(() => {\n\t\tgantt.render();\n\t});\n\tsetTimeout(() => {\n\t\tgantt.callEvent(event, [gantt.ext.fullscreen.getFullscreenElement()]);\n\t});\n}\n\nfunction cantFullscreen() {\n\tif (!gantt.$container) { // check is gantt initialized or not\n\t\treturn true;\n\t}\n\tif (!gantt.ext.fullscreen.getFullscreenElement()) {\n\t\treturn true;\n\t}\n\tif (!isFullscreenAvailable()) {\n\t\t// tslint:disable-next-line: no-console\n\t\tconst method = (console as IConsole).warning || console.log;\n\t\tmethod(\"The `fullscreen` feature not being allowed, or full-screen mode not being supported\");\n\t\treturn true;\n\t}\n\treturn false;\n}\n\ngantt.ext.fullscreen = {\n\texpand(): void {\n\t\tif (cantFullscreen()) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (isExpanded()) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!gantt.callEvent(\"onBeforeExpand\", [this.getFullscreenElement()])) {\n\t\t\treturn;\n\t\t}\n\t\texpandGantt = true;\n\n\t\t// we switch body to fullscreen and then expand fullscreen element to viewport\n\t\t// we do it to correct display common elements: lightboxes, tooltip etc.\n\t\tconst element = document.body as IBody;\n\t\tconst requestArguments = element.webkitRequestFullscreen ?\n\t\t\t[(Element as unknown as IElement).ALLOW_KEYBOARD_INPUT] : [];\n\n\t\tconst requestFullscreen = element.msRequestFullscreen ||\n\t\t\telement.mozRequestFullScreen ||\n\t\t\telement.webkitRequestFullscreen ||\n\t\t\telement.requestFullscreen;\n\n\t\tif (requestFullscreen) {\n\t\t\trequestFullscreen.apply(element, requestArguments);\n\t\t}\n\t},\n\tcollapse(): void {\n\t\tif (cantFullscreen()) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!isExpanded()) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!gantt.callEvent(\"onBeforeCollapse\", [this.getFullscreenElement()])) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst requestExitFullscreen = (document as IDocument).msExitFullscreen ||\n\t\t\t(document as IDocument).mozCancelFullScreen ||\n\t\t\t(document as IDocument).webkitExitFullscreen ||\n\t\t\t(document as IDocument).exitFullscreen;\n\n\t\tif (requestExitFullscreen) {\n\t\t\trequestExitFullscreen.apply(document);\n\t\t}\n\t},\n\ttoggle(): void {\n\t\tif (cantFullscreen()) {\n\t\t\treturn;\n\t\t}\n\t\tif (!isExpanded()) {\n\t\t\tthis.expand();\n\t\t} else {\n\t\t\tthis.collapse();\n\t\t}\n\n\t},\n\tgetFullscreenElement(): HTMLElement {\n\t\treturn gantt.$root;\n\t},\n};\n\ngantt.expand = function() {\n\tgantt.ext.fullscreen.expand();\n};\n\ngantt.collapse = function(){\n\tgantt.ext.fullscreen.collapse();\n};\n\ngantt.attachEvent(\"onGanttReady\", addDOMEvents);\n\n}","interface IPoint {\n\tx: number;\n\ty: number;\n}\n\nexport class EventsManager {\n\tstatic create(gantt: any) {\n\t\treturn new EventsManager(gantt);\n\t}\n\tprivate _mouseDown: boolean = false;\n\tprivate _startPoint: IPoint;\n\tprivate _scrollState: IPoint;\n\tprivate _originAutoscroll: boolean;\n\tprivate _domEvents: any;\n\tprivate _timeline: any;\n\tprivate _gantt: any;\n\tprivate _trace: IPoint[];\n\tprivate _originalReadonly: boolean;\n\n\tconstructor(gantt: any) {\n\t\tthis._gantt = gantt;\n\t\tthis._domEvents = gantt._createDomEventScope();\n\t\tthis._trace = [];\n\t}\n\n\tdestructor() {\n\t\tthis._domEvents.detachAll();\n\t}\n\n\tattach(timeline: any): void {\n\t\tthis._timeline = timeline;\n\t\tconst gantt = this._gantt;\n\t\tthis._domEvents.attach(timeline.$task, \"mousedown\", (event) => {\n\t\t\tif (!gantt.config.drag_timeline) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst { useKey,ignore, enabled } = gantt.config.drag_timeline;\n\t\t\tif(enabled === false) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet filterTargets = \".gantt_task_line, .gantt_task_link\";\n\t\t\tif(ignore !== undefined) {\n\t\t\t\tif(ignore instanceof Array){\n\t\t\t\t\tfilterTargets = ignore.join(\", \");\n\t\t\t\t} else {\n\t\t\t\t\tfilterTargets = ignore;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (filterTargets) {\n\t\t\t\tif (gantt.utils.dom.closest(event.target, filterTargets)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (useKey && event[useKey] !== true) { return; }\n\n\t\t\tthis._startDrag(event);\n\t\t});\n\n\t\tthis._domEvents.attach(document, \"keydown\", (event) => {\n\t\t\tif (!gantt.config.drag_timeline) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst { useKey } = gantt.config.drag_timeline;\n\t\t\tif (useKey && event[useKey] === true) {\n\t\t\t\tthis._applyDndReadyStyles();\n\t\t\t}\n\t\t});\n\t\tthis._domEvents.attach(document, \"keyup\", (event) => {\n\t\t\tif (!gantt.config.drag_timeline) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst { useKey } = gantt.config.drag_timeline;\n\t\t\tif (useKey && event[useKey] === false) {\n\t\t\t\tthis._clearDndReadyStyles();\n\t\t\t\tthis._stopDrag(event);\n\t\t\t}\n\t\t});\n\n\t\tthis._domEvents.attach(document, \"mouseup\", (event) => {\n\t\t\tthis._stopDrag(event);\n\t\t});\n\t\tthis._domEvents.attach(gantt.$root, \"mouseup\", (event) => {\n\t\t\tthis._stopDrag(event);\n\t\t});\n\t\tthis._domEvents.attach(document, \"mouseleave\", (event) => {\n\t\t\tthis._stopDrag(event);\n\t\t});\n\t\tthis._domEvents.attach(gantt.$root, \"mouseleave\", (event) => {\n\t\t\tthis._stopDrag(event);\n\t\t});\n\n\t\tthis._domEvents.attach(gantt.$root, \"mousemove\", (event) => {\n\t\t\tif (!gantt.config.drag_timeline) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst { useKey } = gantt.config.drag_timeline;\n\t\t\tif (useKey && event[useKey] !== true) { return; }\n\t\t\tif (this._mouseDown === true) {\n\t\t\t\tthis._trace.push({ x: event.clientX, y: event.clientY });\n\t\t\t\tconst scrollPosition: IPoint = this._countNewScrollPosition({ x: event.clientX, y: event.clientY });\n\t\t\t\tthis._setScrollPosition(timeline, scrollPosition);\n\t\t\t\tthis._scrollState = scrollPosition;\n\t\t\t\tthis._startPoint = { x: event.clientX, y: event.clientY };\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate _calculateDirectionVector = () => {\n\t\tconst traceSteps = 10;\n\t\tif(this._trace.length >= traceSteps) {\n\t\t\tconst dots = this._trace.slice(this._trace.length - traceSteps);\n\n\t\t\tconst vectors = [];\n\t\t\tfor(let i = 1; i < dots.length; i++) {\n\t\t\t\tvectors.push({\n\t\t\t\t\tx: dots[i].x - dots[i - 1].x,\n\t\t\t\t\ty: dots[i].y - dots[i - 1].y\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst resultVector = {x:0, y:0};\n\n\t\t\tvectors.forEach((vector) => {\n\t\t\t\tresultVector.x += vector.x;\n\t\t\t\tresultVector.y += vector.y;\n\t\t\t});\n\n\t\t\tconst magnitude = Math.sqrt(resultVector.x*resultVector.x + resultVector.y*resultVector.y);\n\t\t\tconst angleDegrees = Math.atan2(Math.abs(resultVector.y), Math.abs(resultVector.x)) * 180 / Math.PI;\n\n\t\t\treturn {\n\t\t\t\tmagnitude,\n\t\t\t\tangleDegrees\n\t\t\t};\n\n\t\t}\n\t\treturn null;\n\t}\n\n\tprivate _applyDndReadyStyles = (): void => {\n\t\tthis._timeline.$task.classList.add(\"gantt_timeline_move_available\");\n\t}\n\n\tprivate _clearDndReadyStyles = (): void => {\n\t\tthis._timeline.$task.classList.remove(\"gantt_timeline_move_available\");\n\t}\n\n\tprivate _getScrollPosition = (timeline: any): IPoint => {\n\t\tconst gantt = this._gantt;\n\t\treturn {\n\t\t\tx: gantt.$ui.getView(timeline.$config.scrollX).getScrollState().position,\n\t\t\ty: gantt.$ui.getView(timeline.$config.scrollY).getScrollState().position\n\t\t};\n\t}\n\tprivate _countNewScrollPosition = (coords: IPoint): IPoint => {\n\t\tconst vector = this._calculateDirectionVector();\n\t\tlet shiftX = this._startPoint.x - coords.x;\n\t\tlet shiftY = this._startPoint.y - coords.y;\n\t\tif(vector){\n\t\t\tif(vector.angleDegrees < 15){\n\t\t\t\tshiftY = 0;\n\t\t\t} else if(vector.angleDegrees > 75){\n\t\t\t\tshiftX = 0;\n\t\t\t}\n\t\t}\n\n\t\tconst result = {\n\t\t\tx: this._scrollState.x + shiftX,\n\t\t\ty: this._scrollState.y + shiftY\n\t\t};\n\t\treturn result;\n\t}\n\tprivate _setScrollPosition = (timeline: any, coords: IPoint): void => {\n\t\tconst gantt = this._gantt;\n\t\trequestAnimationFrame(() => {\n\t\t\tgantt.$ui.getView(timeline.$config.scrollX).scroll(coords.x);\n\t\t\tgantt.$ui.getView(timeline.$config.scrollY).scroll(coords.y);\n\t\t});\n\t}\n\tprivate _stopDrag = (event: Event): void => {\n\t\tconst gantt = this._gantt;\n\t\tthis._trace = [];\n\t\tgantt.$root.classList.remove(\"gantt_noselect\");\n\n\t\tif(this._originalReadonly !== undefined){\n\t\t\tgantt.config.readonly = this._originalReadonly;\n\t\t}\n\n\t\tif(this._originAutoscroll !== undefined){\n\t\t\tgantt.config.autoscroll = this._originAutoscroll;\n\t\t}\n\n\t\tif(gantt.config.drag_timeline){\n\t\t\tconst { useKey } = gantt.config.drag_timeline;\n\t\t\tif (useKey && event[useKey] !== true) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tthis._mouseDown = false;\n\t}\n\n\tprivate _startDrag = (event: any) : void => {\n\t\tconst gantt = this._gantt;\n\t\tthis._originAutoscroll = gantt.config.autoscroll;\n\t\tgantt.config.autoscroll = false;\n\n\t\tgantt.$root.classList.add(\"gantt_noselect\");\n\t\tthis._originalReadonly = gantt.config.readonly;\n\t\tgantt.config.readonly = true;\n\n\t\tthis._trace = [];\n\t\tthis._mouseDown = true;\n\t\tconst { x, y } = this._getScrollPosition(this._timeline);\n\t\tthis._scrollState = { x, y };\n\t\tthis._startPoint = { x: event.clientX, y: event.clientY };\n\t\tthis._trace.push(this._startPoint);\n\t}\n}","import { EventsManager } from \"./eventsManager\";\nexport default function(gantt: any){\n\tif (!gantt.ext){\n\t\tgantt.ext = {};\n\t}\n\n\tgantt.ext.dragTimeline = {\n\t\tcreate: () => EventsManager.create(gantt)\n\t};\n\n\tgantt.config.drag_timeline = {\n\t\tenabled: true\n\t};\n}","module.exports = function(gantt){\n\tvar linksBuilder = require(\"../../core/relations/links_builder\")(gantt);\n\tvar graphHelper = require(\"../../core/relations/graph_helper\")(gantt);\n\n\tgantt._isProjectEnd = function(task) {\n\t\treturn !(this._hasDuration({\n\t\t\tstart_date: task.end_date,\n\t\t\tend_date: this._getProjectEnd(),\n\t\t\ttask: task\n\t\t}));\n\t};\n\n\treturn {\n\t\t_needRecalc: true,\n\t\t_cache: null,\n\t\treset: function(){\n\t\t\tthis._needRecalc = true;\n\t\t\tthis._cache = null;\n\t\t},\n\t\t_isRecalcNeeded: function(){\n\t\t\treturn this._needRecalc;\n\t\t},\n\t\t_getLinks: function(){\n\t\t\tvar links = linksBuilder.getLinkedTasks();\n\t\t\treturn graphHelper.groupAdjacentEdges(links);\n\t\t},\n\t\t_calculateBranch: function(task, path, criticalTasks, adjacentLinks){\n\t\t\tpath[task.id] = true;\n\t\t\tif(criticalTasks[task.id] !== undefined){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar stack = [task];\n\n\t\t\twhile(stack.length) {\n\t\t\t\ttask = stack.pop();\n\n\t\t\t\tif(criticalTasks[task.id] || gantt._isProjectEnd(task)){\n\t\t\t\t\tcriticalTasks[task.id] = true;\n\t\t\t\t\twhile(stack.length){\n\t\t\t\t\t\tvar task = stack.pop();\n\t\t\t\t\t\tcriticalTasks[task.id] = true;\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tcriticalTasks[task.id] = false;\n\t\t\t\t\tvar successors = adjacentLinks[task.id] || [];\n\t\t\t\t\tfor (var i = 0; i < successors.length; i++) {\n\n\t\t\t\t\t\tvar next = gantt.getTask(successors[i].target);\n\t\t\t\t\t\tif (gantt._getSlack(task, next, successors[i]) <= 0 && (!path[next.id] || criticalTasks[next.id])) {\n\t\t\t\t\t\t\tpath[next.id] = true;\n\n\t\t\t\t\t\t\tstack.push(task);\n\t\t\t\t\t\t\tstack.push(next);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_calculateSummaryTasks: function(summaryHash, criticalHash){\n\t\t\tfor(var i in criticalHash){\n\t\t\t\tif(criticalHash[i]){\n\t\t\t\t\tvar parent = gantt.getParent(i);\n\t\t\t\t\twhile(summaryHash[parent] === undefined && gantt.isTaskExists(parent)){\n\t\t\t\t\t\tsummaryHash[parent] = true;\n\t\t\t\t\t\tparent = gantt.getParent(parent);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor(var i in summaryHash){\n\t\t\t\tcriticalHash[i] = !!summaryHash[i];\n\t\t\t}\n\t\t},\n\n\t\t_calculate: function calculateCriticalPath(){\n\t\t\tvar criticalTasks = {};\n\t\t\tvar clearCache = false;\n\t\t\tvar path = {};\n\t\t\tif(!gantt._isLinksCacheEnabled()) {\n\t\t\t\tgantt._startLinksCache();\n\t\t\t\tclearCache = true;\n\t\t\t}\n\t\t\tvar links = this._getLinks();\n\n\t\t\tvar summaryTasks = {};\n\t\t\tgantt.eachTask(function(task){\n\t\t\t\tif(path[task.id])\n\t\t\t\t\treturn;\n\t\t\t\tif(gantt.isSummaryTask(task)){\n\t\t\t\t\tsummaryTasks[task.id] = undefined;\n\t\t\t\t}else{\n\t\t\t\t\tthis._calculateBranch(task, path, criticalTasks, links);\n\t\t\t\t}\n\t\t\t}, gantt.config.root_id, this);\n\n\t\t\tthis._calculateSummaryTasks(summaryTasks, criticalTasks);\n\n\t\t\tif(clearCache)\n\t\t\t\tgantt._endLinksCache();\n\t\t\treturn criticalTasks;\n\t\t},\n\n\t\tisCriticalTask: function(task) {\n\t\t\tif(!task) return false;\n\n\t\t\tif(this._isRecalcNeeded()){\n\t\t\t\tthis._cache = this._calculate();\n\t\t\t\tthis._needRecalc = false;\n\t\t\t}\n\n\t\t\treturn this._cache[task.id];\n\t\t},\n\n\t\tinit: function(){\n\t\t\tvar resetCache = gantt.bind(function(){\n\t\t\t\tthis.reset();\n\t\t\t\treturn true;\n\t\t\t}, this);\n\n\t\t\tvar handleTaskIdChange = gantt.bind(function (oldId, newId) {\n\t\t\t\tif (this._cache) {\n\t\t\t\t\tthis._cache[newId] = this._cache[oldId];\n\t\t\t\t\tdelete this._cache[oldId];\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}, this);\n\n\t\t\tgantt.attachEvent(\"onAfterLinkAdd\", resetCache);\n\t\t\tgantt.attachEvent(\"onAfterLinkUpdate\", resetCache);\n\t\t\tgantt.attachEvent(\"onAfterLinkDelete\", resetCache);\n\t\t\tgantt.attachEvent(\"onAfterTaskAdd\", resetCache);\n\t\t\tgantt.attachEvent(\"onTaskIdChange\", handleTaskIdChange);\n\t\t\tgantt.attachEvent(\"onAfterTaskUpdate\", resetCache);\n\t\t\tgantt.attachEvent(\"onAfterTaskDelete\", resetCache);\n\t\t\tgantt.attachEvent(\"onParse\", resetCache);\n\t\t\tgantt.attachEvent(\"onClearAll\", resetCache);\n\n\n\t\t\tvar criticalPathHandler = function(){\n\t\t\t\tif(gantt.config.highlight_critical_path && !gantt.getState(\"batchUpdate\").batch_update)\n\t\t\t\t\tgantt.render();\n\t\t\t};\n\t\t\tgantt.attachEvent(\"onAfterLinkAdd\", criticalPathHandler);\n\t\t\tgantt.attachEvent(\"onAfterLinkUpdate\", criticalPathHandler);\n\t\t\tgantt.attachEvent(\"onAfterLinkDelete\", criticalPathHandler);\n\t\t\tgantt.attachEvent(\"onAfterTaskAdd\", criticalPathHandler);\n\t\t\tgantt.attachEvent(\"onTaskIdChange\", function (oldId, newId) {\n\t\t\t\tif (gantt.config.highlight_critical_path && gantt.isTaskExists(newId)) {\n\t\t\t\t\tgantt.refreshTask(newId);\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t});\n\t\t\tgantt.attachEvent(\"onAfterTaskUpdate\", criticalPathHandler);\n\t\t\tgantt.attachEvent(\"onAfterTaskDelete\", criticalPathHandler);\n\t\t}\n\t};\n};","module.exports = function(gantt) {\n\tvar linksBuilder = require(\"../../core/relations/links_builder\")(gantt);\n\tvar helpers = require(\"../../utils/helpers\");\n\n\tvar _private = {\n\t\t_freeSlack: {},\n\t\t_totalSlack: {},\n\t\t_slackNeedCalculate: true,\n\t\t_linkedTasksById: {},\n\t\t_calculateTotalSlack: function() {\n\t\t\tvar linksByTaskId = this._linkedTasksById;\n\n\t\t\thelpers.forEach(linksBuilder.getLinkedTasks(), function(entry) {\n\t\t\t\tvar task = gantt.getTask(entry.target);\n\t\t\t\tvar slack = gantt.getFreeSlack(task);\n\n\t\t\t\tif (!linksByTaskId[entry.source]) {\n\t\t\t\t\tlinksByTaskId[entry.source] = {\n\t\t\t\t\t\tminSlack: {\n\t\t\t\t\t\t\ttarget: entry.target,\n\t\t\t\t\t\t\tslack: slack\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlinked: []\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tif (slack < linksByTaskId[entry.source].minSlack.slack) {\n\t\t\t\t\t\tlinksByTaskId[entry.source].minSlack = {\n\t\t\t\t\t\t\ttarget: entry.target,\n\t\t\t\t\t\t\tslack: slack\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlinksByTaskId[entry.source].linked.push({\n\t\t\t\t\ttarget: entry.target,\n\t\t\t\t\tslack: slack\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tvar totalSlackByTaskId = {};\n\n\t\t\tgantt.eachTask(function(entry) {\n\t\t\t\tif (gantt.isSummaryTask(entry)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (totalSlackByTaskId[entry.id] === undefined) {\n\t\t\t\t\ttotalSlackByTaskId[entry.id] = 0;\n\t\t\t\t}\n\t\t\t\ttotalSlackByTaskId[entry.id] += _private._chainSlackCount(entry);\n\t\t\t});\n\n\t\t\tgantt._slacksChanged = false;\n\t\t\tthis._slackNeedCalculate = false;\n\t\t\tthis._totalSlack = totalSlackByTaskId;\n\n\t\t\treturn totalSlackByTaskId;\n\t\t},\n\t\t_chainSlackCount: function(entry, additional) {\n\t\t\tadditional = additional || 0;\n\t\t\tswitch (true) {\n\t\t\tcase (!this._linkedTasksById[entry.id]):\n\t\t\t\treturn gantt.calculateDuration(entry.end_date, gantt.getSubtaskDates().end_date) + additional;\n\t\t\tcase (this._linkedTasksById[entry.id].linked.length === 1):\n\t\t\t\treturn this._chainSlackCount(gantt.getTask(this._linkedTasksById[entry.id].linked[0].target), gantt.getFreeSlack(entry)) + additional;\n\t\t\tcase (this._linkedTasksById[entry.id].linked.length > 1):\n\t\t\t\tvar targetWithMinimalSlack = this._getTargetWithMinimalSlack(this._linkedTasksById[entry.id].linked);\n\n\t\t\t\treturn this._chainSlackCount(gantt.getTask(targetWithMinimalSlack.target), gantt.getFreeSlack(entry)) + additional;\n\t\t\t}\n\t\t},\n\n\t\t_getTargetWithMinimalSlack: function(linked) {\n\t\t\tvar result;\n\t\t\thelpers.forEach(linked, function(entry) {\n\t\t\t\tif (result === undefined || entry.slack < result.slack) {\n\t\t\t\t\tresult = entry;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn result;\n\t\t},\n\n\t\t_calculateTaskSlack: function(task) {\n\t\t\tvar slack;\n\n\t\t\tif (task.$source && task.$source.length) {\n\t\t\t\tslack = this._calculateRelationSlack(task);\n\t\t\t} else {\n\t\t\t\tslack = this._calculateHierarchySlack(task);\n\t\t\t}\n\n\t\t\treturn slack;\n\t\t},\n\n\t\t_calculateRelationSlack: function(task) {\n\t\t\tvar minSlack = 0,\n\t\t\t\tslack,\n\t\t\t\tlinks = task.$source;\n\n\t\t\tfor (var i = 0; i < links.length; i++) {\n\t\t\t\tslack = this._calculateLinkSlack(links[i]);\n\t\t\t\tif (minSlack > slack || i === 0) {\n\t\t\t\t\tminSlack = slack;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn minSlack;\n\t\t},\n\n\t\t_calculateLinkSlack: function(linkId) {\n\t\t\tvar link = gantt.getLink(linkId);\n\t\t\tvar slack = 0;\n\t\t\tif (gantt.isTaskExists(link.source) && gantt.isTaskExists(link.target)) {\n\t\t\t\tslack = gantt.getSlack(gantt.getTask(link.source), gantt.getTask(link.target));\n\t\t\t}\n\t\t\treturn slack;\n\t\t},\n\n\t\t_calculateHierarchySlack: function(task) {\n\t\t\tvar slack = 0;\n\t\t\tvar from;\n\t\t\tvar to = gantt.getSubtaskDates().end_date;\n\t\t\tif (gantt.isTaskExists(task.parent)) {\n\t\t\t\tfrom = gantt.getSubtaskDates(task.id).end_date || task.end_date;\n\t\t\t} else {\n\t\t\t\tfrom = task.end_date;\n\t\t\t}\n\t\t\tslack = Math.max(gantt.calculateDuration(from, to), 0);\n\t\t\treturn slack;\n\t\t},\n\n\t\t_resetTotalSlackCache: function() {\n\t\t\tthis._slackNeedCalculate = true;\n\t\t},\n\n\t\t_shouldCalculateTotalSlack: function() {\n\t\t\treturn this._slackNeedCalculate;\n\t\t},\n\n\t\tgetFreeSlack: function(task) {\n\t\t\tif (!gantt.isTaskExists(task.id)) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif (!this._freeSlack[task.id]) {\n\t\t\t\tif (gantt.isSummaryTask(task)) {\n\t\t\t\t\tthis._freeSlack[task.id] = undefined;\n\t\t\t\t} else {\n\t\t\t\t\tthis._freeSlack[task.id] =  this._calculateTaskSlack(task);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this._freeSlack[task.id];\n\t\t},\n\n\t\tgetTotalSlack: function(task) {\n\t\t\tif (this._shouldCalculateTotalSlack()) {\n\t\t\t\tthis._calculateTotalSlack();\n\t\t\t}\n\t\t\tif (task === undefined) {\n\t\t\t\treturn this._totalSlack;\n\t\t\t}\n\t\t\tif (task.id !== undefined) {\n\t\t\t\treturn this._totalSlack[task.id];\n\t\t\t}\n\t\t\treturn this._totalSlack[task] || 0;\n\t\t},\n\n\t\tdropCachedFreeSlack: function() {\n\t\t\tthis._linkedTasksById = {};\n\t\t\tthis._freeSlack =  {};\n\t\t\tthis._resetTotalSlackCache();\n\t\t},\n\n\t\tinit: function(){\n\t\t\tfunction slackHandler(){\n\t\t\t\t_private.dropCachedFreeSlack();\n\t\t\t}\n\n\t\t\tgantt.attachEvent(\"onAfterLinkAdd\", slackHandler);\n\t\t\tgantt.attachEvent(\"onTaskIdChange\", slackHandler);\n\t\t\tgantt.attachEvent(\"onAfterLinkUpdate\", slackHandler);\n\t\t\tgantt.attachEvent(\"onAfterLinkDelete\", slackHandler);\n\t\t\tgantt.attachEvent(\"onAfterTaskAdd\", slackHandler);\n\t\t\tgantt.attachEvent(\"onAfterTaskUpdate\", slackHandler);\n\t\t\tgantt.attachEvent(\"onAfterTaskDelete\", slackHandler);\n\t\t\tgantt.attachEvent(\"onRowDragEnd\", slackHandler);\n\t\t\tgantt.attachEvent(\"onAfterTaskMove\", slackHandler);\n\t\t}\n\t};\n\n\treturn _private;\n};","module.exports = function(gantt){\n\nrequire(\"../core/relations/links_common\")(gantt);\n\nvar _private = require(\"./critical_path/slack\")(gantt);\n_private.init();\n\ngantt.getFreeSlack = function(task) {\n\treturn _private.getFreeSlack(task);\n};\n\ngantt.getTotalSlack = function(task) {\n\treturn _private.getTotalSlack(task);\n};\n\nvar criticalPath = require(\"./critical_path/critical_path\")(gantt);\ngantt.config.highlight_critical_path = false;\ncriticalPath.init();\n\ngantt.isCriticalTask = function (task) {\n\tgantt.assert(!!(task && task.id !== undefined), \"Invalid argument for gantt.isCriticalTask\");\n\treturn criticalPath.isCriticalTask(task);\n};\n\ngantt.isCriticalLink = function (link) {\n\treturn this.isCriticalTask(gantt.getTask(link.source));\n};\n\n\ngantt.getSlack = function(task1, task2) {\n\tvar minSlack = 0;\n\tvar relations = [];\n\tvar common = {};\n\n\tfor (var i = 0; i < task1.$source.length; i++) {\n\t\tcommon[task1.$source[i]] = true;\n\t}\n\tfor (var i = 0; i < task2.$target.length; i++) {\n\t\tif(common[task2.$target[i]])\n\t\t\trelations.push(task2.$target[i]);\n\t}\n\n\tfor (var i = 0; i < relations.length; i++) {\n\t\tvar link = this.getLink(relations[i]);\n\t\tvar newSlack = this._getSlack(task1, task2, this._convertToFinishToStartLink(link.id, link, task1, task2, task1.parent, task2.parent));\n\n\t\tif (minSlack > newSlack || i === 0) {\n\t\t\tminSlack = newSlack;\n\t\t}\n\t}\n\n\treturn minSlack;\n};\n\ngantt._getSlack = function (task, next_task, relation) {\n\t// relation - link expressed as finish-to-start (gantt._convertToFinishToStartLink)\n\tvar types = this.config.types;\n\n\tvar from = null;\n\tif (this.getTaskType(task.type) == types.milestone) {\n\t\tfrom = task.start_date;\n\t} else {\n\t\tfrom = task.end_date;\n\t}\n\n\tvar to = next_task.start_date;\n\n\tvar duration = 0;\n\tif (+from > +to) {\n\t\tduration = -this.calculateDuration({start_date: to, end_date: from, task: task});\n\t} else {\n\t\tduration = this.calculateDuration({start_date: from, end_date: to, task: task});\n\t}\n\n\tvar lag = relation.lag;\n\tif (lag && lag*1 == lag) {\n\t\tduration -= lag;\n\t}\n\n\treturn duration;\n};\n\n\n};","import * as eventable from \"../../utils/eventable\";\nimport { isEventable } from \"../../utils/helpers\";\n\nexport interface ISelectedRegionConfig {\n\tclassName?: string;\n\trender?: (startPoint: IPoint, endPoint: IPoint) => HTMLElement;\n\tviewPort?: HTMLElement;\n\tuseRequestAnimationFrame: boolean;\n\tcallback?: (startPoint: IPoint, endPoint: IPoint, startDate: Date, endDate: Date, tasksByDate: any[], tasksByIndex: any[]) => void;\n\tsingleRow: boolean;\n}\n\ninterface ICoordinates {\n\tleft: number;\n\ttop: number;\n}\n\nexport interface IPoint {\n\tabsolute: ICoordinates;\n\trelative: ICoordinates;\n}\n\nexport class SelectedRegion {\n\trender: () => void;\n\tprivate _viewPort: HTMLElement & eventable;\n\tprivate _el: HTMLElement = document.createElement(\"div\");\n\tprivate _callback: (startPoint: IPoint, endPoint: IPoint, startDate: Date, endDate: Date, tasksByDate: any[], tasksByIndex: any[]) => void;\n\tprivate _startPoint: IPoint;\n\tprivate _endPoint: IPoint;\n\tprivate _positionPoint: IPoint;\n\tprivate _useRequestAnimationFrame: boolean;\n\tprivate _startDate: Date;\n\tprivate _endDate: Date;\n\tprivate _singleRow: boolean;\n\tprivate _gantt: any;\n\tprivate _view: any;\n\n\tconstructor(config: ISelectedRegionConfig, gantt: any, view: any) {\n\t\tthis._gantt = gantt;\n\t\tthis._view = view;\n\t\tthis._viewPort = config.viewPort;\n\t\tthis._el.classList.add(config.className);\n\t\tif (typeof config.callback === \"function\") {\n\t\t\tthis._callback = config.callback;\n\t\t}\n\n\t\tthis.render = () => {\n\t\t\tlet node;\n\t\t\tif(config.render){\n\t\t\t\tnode = config.render(this._startPoint, this._endPoint);\n\t\t\t}else{\n\t\t\t\tnode = this.defaultRender(this._startPoint, this._endPoint);\n\t\t\t}\n\n\t\t\tif(node !== this._el){\n\t\t\t\tif(this._el && this._el.parentNode){\n\t\t\t\t\tthis._el.parentNode.removeChild(this._el);\n\t\t\t\t}\n\t\t\t\tthis._el = node;\n\t\t\t}\n\n\t\t\tif (config.className !== \"\") {\n\t\t\t\tthis._el.classList.add(config.className);\n\t\t\t}\n\t\t\tthis.draw();\n\t\t};\n\n\t\tif (!isEventable(this._viewPort)) {\n\t\t\teventable(this._viewPort);\n\t\t}\n\t\tthis._singleRow = config.singleRow;\n\t\tthis._useRequestAnimationFrame = config.useRequestAnimationFrame;\n\t}\n\n\tdefaultRender = (start: IPoint, end: IPoint) => {\n\t\tif(!this._el){\n\t\t\tthis._el = document.createElement(\"div\");\n\t\t}\n\t\tconst node = this._el;\n\t\t// const gantt = this._gantt;\n\n\t\tconst top = Math.min(start.relative.top, end.relative.top);\n\t\tconst bottom = Math.max(start.relative.top, end.relative.top);\n\t\tconst left = Math.min(start.relative.left, end.relative.left);\n\t\tconst right = Math.max(start.relative.left, end.relative.left);\n\n\t\tif (this._singleRow) {\n\t\t\tconst pos = this._getTaskPositionByTop(this._startPoint.relative.top);\n\t\t\tnode.style.height = pos.height + \"px\";\n\t\t\tnode.style.top = pos.top + \"px\";\n\t\t} else {\n\t\t\tnode.style.height = Math.abs(bottom - top) + \"px\";\n\t\t\tnode.style.top = top + \"px\";\n\t\t}\n\t\tnode.style.width = Math.abs(right - left) + \"px\";\n\t\tnode.style.left = left + \"px\";\n\t\treturn node;\n\t}\n\n\tdraw() {\n\t\tif (this._useRequestAnimationFrame) {\n\t\t\treturn requestAnimationFrame(() => {\n\t\t\t\tthis._viewPort.appendChild(this.getElement());\n\t\t\t});\n\t\t} else {\n\t\t\tthis._viewPort.appendChild(this.getElement());\n\t\t}\n\t}\n\n\tclear() {\n\t\tif (this._useRequestAnimationFrame) {\n\t\t\treturn requestAnimationFrame(() => {\n\t\t\t\tif (!this._el.parentNode) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._viewPort.removeChild(this._el);\n\t\t\t});\n\t\t} else {\n\t\t\tif (!this._el.parentNode) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._viewPort.removeChild(this._el);\n\t\t}\n\t}\n\n\tgetElement() {\n\t\treturn this._el;\n\t}\n\n\tgetViewPort() {\n\t\treturn this._viewPort;\n\t}\n\n\tsetStart(startPoint: IPoint) {\n\t\tconst gantt = this._gantt;\n\t\tthis._startPoint = startPoint;\n\t\tthis._startDate = gantt.dateFromPos(this._startPoint.relative.left);\n\t\tthis._viewPort.callEvent(\"onBeforeDrag\", [this._startPoint]);\n\t}\n\n\tsetEnd(endPoint: IPoint) {\n\t\tconst gantt = this._gantt;\n\t\tthis._endPoint = endPoint;\n\t\tif (this._singleRow) {\n\t\t\tconst pos = this._getTaskPositionByTop(this._startPoint.relative.top);\n\t\t\tthis._endPoint.relative.top = pos.top + pos.height;\n\t\t}\n\t\tthis._endDate = gantt.dateFromPos(this._endPoint.relative.left);\n\t\tif (this._startPoint.relative.left > this._endPoint.relative.left) {\n\t\t\tthis._positionPoint = {\n\t\t\t\trelative: { left: this._endPoint.relative.left, top: this._positionPoint.relative.top },\n\t\t\t\tabsolute: { left: this._endPoint.absolute.left, top: this._positionPoint.absolute.top }\n\t\t\t};\n\t\t}\n\t\tif (this._startPoint.relative.top > this._endPoint.relative.top) {\n\t\t\tthis._positionPoint = {\n\t\t\t\trelative: { left: this._positionPoint.relative.left, top: this._endPoint.relative.top },\n\t\t\t\tabsolute: { left: this._positionPoint.absolute.left, top: this._endPoint.absolute.top }\n\t\t\t};\n\t\t}\n\n\n\t\tthis._viewPort.callEvent(\"onDrag\", [this._startPoint, this._endPoint]);\n\t}\n\n\tsetPosition(positionPoint: IPoint) {\n\t\tthis._positionPoint = positionPoint;\n\t}\n\n\tdragEnd(endPoint: IPoint) {\n\t\tconst gantt = this._gantt;\n\t\tif(endPoint.relative.left < 0){\n\t\t\tendPoint.relative.left = 0;\n\t\t}\n\t\tthis._viewPort.callEvent(\"onBeforeDragEnd\", [this._startPoint, endPoint]);\n\t\tthis.setEnd(endPoint);\n\t\tif (this._startDate.valueOf() > this._endDate.valueOf()) {\n\t\t\t[ this._startDate, this._endDate ] = [ this._endDate, this._startDate ];\n\t\t}\n\t\tthis.clear();\n\t\tconst tasksByTime = gantt.getTaskByTime(this._startDate, this._endDate);\n\t\tconst tasksByIndex = this._getTasksByTop(this._startPoint.relative.top, this._endPoint.relative.top);\n\n\t\tthis._viewPort.callEvent(\"onDragEnd\", [this._startPoint, this._endPoint]);\n\t\tif (this._callback) {\n\t\t\tthis._callback(this._startPoint, this._endPoint, this._startDate, this._endDate, tasksByTime, tasksByIndex);\n\t\t}\n\t}\n\n\tgetInBounds() {\n\t\treturn this._singleRow;\n\t}\n\n\tprivate _getTasksByTop(start: number, end:number) {\n\t\tconst gantt = this._gantt;\n\t\tlet startValue = start;\n\t\tlet endValue = end;\n\t\tif (start > end) {\n\t\t\tstartValue = end;\n\t\t\tendValue = start;\n\t\t}\n\t\tconst startIndex = this._getTaskPositionByTop(startValue).index;\n\t\tconst endIndex = this._getTaskPositionByTop(endValue).index;\n\t\tconst result = [];\n\t\tfor (let i = startIndex; i <= endIndex; i++) {\n\t\t\tconst task = gantt.getTaskByIndex(i);\n\t\t\tif (task) {\n\t\t\t\tresult.push(gantt.getTaskByIndex(i));\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tprivate _getTaskPositionByTop(top: number){\n\t\tconst gantt = this._gantt;\n\t\tconst view = this._view;\n\t\tconst index = view.getItemIndexByTopPosition(top);\n\t\tconst task = gantt.getTaskByIndex(index);\n\t\tif(task){\n\t\t\tconst height = view.getItemHeight(task.id);\n\t\t\tconst itemTop = view.getItemTop(task.id);\n\t\t\treturn {\n\t\t\t\ttop: itemTop || 0,\n\t\t\t\theight: height || 0,\n\t\t\t\tindex,\n\t\t\t};\n\t\t} else {\n\t\t\tconst dataHeight = view.getTotalHeight();\n\t\t\treturn {\n\t\t\t\ttop: top > dataHeight ? dataHeight : 0,\n\t\t\t\theight: gantt.config.row_height,\n\t\t\t\tindex: top > dataHeight ? gantt.getTaskCount() : 0,\n\t\t\t};\n\t\t}\n\t}\n}","import { SelectedRegion } from \"./selectedRegion\";\n\nexport class EventsManager {\n\tprivate _mouseDown: boolean = false;\n\tprivate _domEvents: any;\n\tprivate _originPosition: string;\n\tprivate _gantt: any;\n\tprivate _restoreOriginPosition: () => void;\n\tconstructor(gantt: any) {\n\t\tthis._gantt = gantt;\n\t\tthis._domEvents = gantt._createDomEventScope();\n\t}\n\n\tattach(selectedRegion: SelectedRegion, useKey?: \"shiftKey\" | \"ctrlKey\" | \"altKey\"): void {\n\t\tconst gantt = this._gantt;\n\t\tconst _target = selectedRegion.getViewPort();\n\t\tthis._originPosition = window.getComputedStyle(_target).display;\n\t\tthis._restoreOriginPosition = () => {\n\t\t\t_target.style.position = this._originPosition;\n\t\t};\n\t\tif (this._originPosition === \"static\") {\n\t\t\t_target.style.position = \"relative\";\n\t\t}\n\t\tconst state = gantt.$services.getService(\"state\");\n\t\tstate.registerProvider(\"clickDrag\", () => {\n\t\t\tconst result = { autoscroll: false };\n\t\t\treturn result;\n\t\t});\n\n\n\t\tlet scheduledDndCoordinates = null;\n\t\tconst startDragAndDrop = () => {\n\t\t\tif (!scheduledDndCoordinates) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._mouseDown = true;\n\t\t\tselectedRegion.setStart(gantt.copy(scheduledDndCoordinates));\n\t\t\tselectedRegion.setPosition(gantt.copy(scheduledDndCoordinates));\n\t\t\tselectedRegion.setEnd(gantt.copy(scheduledDndCoordinates));\n\t\t\tscheduledDndCoordinates = null;\n\t\t};\n\n\t\tthis._domEvents.attach(_target, \"mousedown\", (event) => {\n\t\t\tscheduledDndCoordinates = null;\n\t\t\tif (gantt.utils.dom.closest(event.target, \".gantt_task_line, .gantt_task_link\")) { return; }\n\t\t\tstate.registerProvider(\"clickDrag\", () => {\n\t\t\t\tconst result = { autoscroll: this._mouseDown };\n\t\t\t\treturn result;\n\t\t\t});\n\n\t\t\tif (useKey && event[useKey] !== true) { return; }\n\t\t\tscheduledDndCoordinates = this._getCoordinates(event, selectedRegion);\n\t\t});\n\n\t\tthis._domEvents.attach(document.body, \"mouseup\", (event) => {\n\t\t\tscheduledDndCoordinates = null;\n\t\t\tif (useKey && event[useKey] !== true) { return; }\n\t\t\tif (this._mouseDown === true) {\n\t\t\t\tthis._mouseDown = false;\n\t\t\t\tconst coordinates = this._getCoordinates(event, selectedRegion);\n\t\t\t\tselectedRegion.dragEnd(coordinates);\n\t\t\t}\n\t\t});\n\t\tthis._domEvents.attach(_target, \"mousemove\", (event) => {\n\t\t\tif (useKey && event[useKey] !== true) { return; }\n\t\t\tlet coordinates = null;\n\t\t\tif(!this._mouseDown && scheduledDndCoordinates){\n\t\t\t\tcoordinates = this._getCoordinates(event, selectedRegion);\n\t\t\t\tif(Math.abs(scheduledDndCoordinates.relative.left - coordinates.relative.left) > 5){\n\t\t\t\t\t// add small threshold not to start dnd on simple click\n\t\t\t\t\tstartDragAndDrop();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this._mouseDown === true) {\n\t\t\t\tcoordinates = this._getCoordinates(event, selectedRegion);\n\t\t\t\tselectedRegion.setEnd(coordinates);\n\t\t\t\tselectedRegion.render();\n\t\t\t}\n\t\t});\n\t}\n\n\tdetach(): void {\n\t\tconst gantt = this._gantt;\n\t\tthis._domEvents.detachAll();\n\t\tif(this._restoreOriginPosition){\n\t\t\tthis._restoreOriginPosition();\n\t\t}\n\n\t\tconst state = gantt.$services.getService(\"state\");\n\t\tstate.unregisterProvider(\"clickDrag\");\n\t}\n\n\tdestructor(): void {\n\t\tthis.detach();\n\t}\n\n\tprivate _getCoordinates(event: MouseEvent, selectedRegion: SelectedRegion) {\n\t\tconst viewPort = selectedRegion.getViewPort();\n\t\tconst viewPortBounds = viewPort.getBoundingClientRect();\n\t\tconst { clientX, clientY } = event;\n\t\tconst result = {\n\t\t\tabsolute: {\n\t\t\t\tleft: clientX,\n\t\t\t\ttop: clientY,\n\t\t\t},\n\t\t\trelative: {\n\t\t\t\tleft: clientX - viewPortBounds.left + viewPort.scrollLeft,\n\t\t\t\ttop: clientY - viewPortBounds.top + viewPort.scrollTop\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n}","import { EventsManager } from \"./eventsManager\";\nimport { ISelectedRegionConfig, SelectedRegion } from \"./selectedRegion\";\n\nexport default function(gantt: any){\n\tif (!gantt.ext) {\n\t\tgantt.ext = {};\n\t}\n\n\tconst defaultConfig: ISelectedRegionConfig = {\n\t\tclassName: \"gantt_click_drag_rect\",\n\t\tuseRequestAnimationFrame: true,\n\t\tcallback: undefined,\n\t\tsingleRow: false\n\t};\n\n\tconst eventsManager = new EventsManager(gantt);\n\n\tgantt.ext.clickDrag = eventsManager;\n\n\tgantt.attachEvent(\"onGanttReady\", () => {\n\t\tconst config: ISelectedRegionConfig = { viewPort: gantt.$task_data, ...defaultConfig };\n\t\tif (gantt.config.click_drag){\n\t\t\tconst clickDrag = gantt.config.click_drag;\n\t\t\tconfig.render = clickDrag.render || defaultConfig.render;\n\t\t\tconfig.className = clickDrag.className || defaultConfig.className;\n\t\t\tconfig.callback = clickDrag.callback || defaultConfig.callback;\n\t\t\tconfig.viewPort = clickDrag.viewPort || gantt.$task_data;\n\t\t\tconfig.useRequestAnimationFrame = clickDrag.useRequestAnimationFrame === undefined ?\n\t\t\t\tdefaultConfig.useRequestAnimationFrame : clickDrag.useRequestAnimationFrame;\n\n\t\t\tconfig.singleRow = clickDrag.singleRow === undefined ? defaultConfig.singleRow : clickDrag.singleRow;\n\t\t\tconst timeline = gantt.$ui.getView(\"timeline\");\n\t\t\tconst selectedRegion = new SelectedRegion(config, gantt, timeline);\n\t\t\tgantt.ext.clickDrag.attach(selectedRegion, clickDrag.useKey);\n\t\t}\n\t});\n\n\tgantt.attachEvent(\"onDestroy\", () => {\n\t\teventsManager.destructor();\n\t});\n\n}","import { ConnectedGroupsHelper } from \"./connected_groups\";\n\nexport function attachUIHandlers(\n\tgantt: any,\n\tlinksBuilder: any,\n\tloopsFinder: any,\n\tconnectedGroupsHelper: ConnectedGroupsHelper\n) {\n\tconst _attachAutoSchedulingHandlers = function() {\n\t\tlet _scheduleAfterBatchUpdate = false;\n\t\tgantt.attachEvent(\"onAfterBatchUpdate\", function(){\n\n\t\t\tif(_scheduleAfterBatchUpdate){\n\t\t\t\tgantt.autoSchedule();\n\t\t\t}\n\t\t\t_scheduleAfterBatchUpdate = false;\n\t\t});\n\n\t\tfunction _autoScheduleAfterLinkChange(id: LinkID, link: ILink) {\n\t\t\tif (gantt.config.auto_scheduling && !gantt._autoscheduling_in_progress) {\n\t\t\t\tif(gantt.getState().batch_update){\n\t\t\t\t\t_scheduleAfterBatchUpdate = true;\n\t\t\t\t}else{\n\t\t\t\t\tgantt.autoSchedule(link.source);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tgantt.attachEvent(\"onAfterLinkUpdate\", _autoScheduleAfterLinkChange);\n\t\tgantt.attachEvent(\"onAfterLinkAdd\", _autoScheduleAfterLinkChange);\n\n\t\tgantt.attachEvent(\"onAfterLinkDelete\", function(id: LinkID, link: ILink) {\n\t\t\tif (\n\t\t\t\tgantt.config.auto_scheduling &&\n\t\t\t\t!gantt._autoscheduling_in_progress &&\n\t\t\t\tgantt.isTaskExists(link.target)\n\t\t\t) {\n\t\t\t\t// after link deleted - auto schedule target for other relations that may be left\n\t\t\t\tconst target = gantt.getTask(link.target);\n\t\t\t\tconst predecessors = gantt._getPredecessors(target);\n\t\t\t\tif (predecessors.length) {\n\t\t\t\t\tif(gantt.getState().batch_update){\n\t\t\t\t\t\t_scheduleAfterBatchUpdate = true;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tgantt.autoSchedule(predecessors[0].source, false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tgantt.attachEvent(\"onParse\", function() {\n\t\t\tif (\n\t\t\t\tgantt.config.auto_scheduling &&\n\t\t\t\tgantt.config.auto_scheduling_initial\n\t\t\t) {\n\t\t\t\tgantt.autoSchedule();\n\t\t\t}\n\t\t});\n\n\t\tfunction _preventCircularLink(id: LinkID, link: ILink): boolean {\n\t\t\tif (gantt.isCircularLink(link)) {\n\t\t\t\tgantt.callEvent(\"onCircularLinkError\", [\n\t\t\t\t\tlink,\n\t\t\t\t\tloopsFinder.getLoopContainingLink(link)\n\t\t\t\t]);\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\tfunction _preventDescendantLink(id: LinkID, link: ILink): boolean {\n\t\t\tconst source = gantt.getTask(link.source);\n\t\t\tconst target = gantt.getTask(link.target);\n\n\t\t\tif (!gantt.config.auto_scheduling_descendant_links) {\n\t\t\t\tif (\n\t\t\t\t\t(gantt.isChildOf(source.id, target.id) &&\n\t\t\t\t\t\tgantt.isSummaryTask(target)) ||\n\t\t\t\t\t(gantt.isChildOf(target.id, source.id) && gantt.isSummaryTask(source))\n\t\t\t\t) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tgantt.attachEvent(\"onBeforeLinkAdd\", _preventCircularLink);\n\t\tgantt.attachEvent(\"onBeforeLinkAdd\", _preventDescendantLink);\n\t\tgantt.attachEvent(\"onBeforeLinkUpdate\", _preventCircularLink);\n\t\tgantt.attachEvent(\"onBeforeLinkUpdate\", _preventDescendantLink);\n\n\t\tfunction _datesNotEqual(\n\t\t\tdateA: Date,\n\t\t\tdateB: Date,\n\t\t\ttaskA: ITask,\n\t\t\ttaskB: ITask\n\t\t): boolean {\n\t\t\tif (!!dateA !== !!dateB) {\n\t\t\t\t// if one of dates is empty or null and the other is not\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (!dateA && !dateB) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (dateA.valueOf() > dateB.valueOf()) {\n\t\t\t\treturn gantt._hasDuration({\n\t\t\t\t\tstart_date: dateB,\n\t\t\t\t\tend_date: dateA,\n\t\t\t\t\ttask: taskB\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn gantt._hasDuration({\n\t\t\t\t\tstart_date: dateA,\n\t\t\t\t\tend_date: dateB,\n\t\t\t\t\ttask: taskA\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tfunction _notEqualTaskDates(task1: ITask, task2: ITask): boolean {\n\t\t\tif (_datesNotEqual(task1.start_date, task2.start_date, task1, task2)) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (gantt.getConstraintType(task1) !== gantt.getConstraintType(task2)) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t_datesNotEqual(\n\t\t\t\t\ttask1.constraint_date,\n\t\t\t\t\ttask2.constraint_date,\n\t\t\t\t\ttask1,\n\t\t\t\t\ttask2\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t_datesNotEqual(task1.start_date, task2.start_date, task1, task2) ||\n\t\t\t\t((_datesNotEqual(task1.end_date, task2.end_date, task1, task2) ||\n\t\t\t\t\ttask1.duration !== task2.duration) &&\n\t\t\t\t\ttask1.type !== gantt.config.types.milestone)\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\tfunction getRelations(id: TaskID) {\n\t\t\t// collect relations before drag and drop  in order to have original positions of subtasks within project since they are used as lag when moving dependent project\n\n\t\t\t// TODO: remove in 7.0\n\t\t\tif (gantt.config.auto_scheduling_compatibility) {\n\t\t\t\t// collect only downstream dependencies since there is no backward or ALAP scheduling in pre 6.1 auto scheduling\n\t\t\t\treturn linksBuilder.getLinkedTasks(id, true);\n\t\t\t} else {\n\t\t\t\t// get all connected group (both upstream and downstream dependencies)\n\t\t\t\treturn connectedGroupsHelper.getConnectedGroupRelations(id);\n\t\t\t}\n\t\t}\n\n\t\tlet relations;\n\t\tlet movedTask;\n\t\tgantt.attachEvent(\"onBeforeTaskDrag\", function(\n\t\t\tid: TaskID,\n\t\t\tmode: string,\n\t\t\ttask: ITask\n\t\t) {\n\t\t\tif (\n\t\t\t\tgantt.config.auto_scheduling &&\n\t\t\t\tgantt.config.auto_scheduling_move_projects\n\t\t\t) {\n\t\t\t\t// collect relations before drag and drop  in order to have original positions of subtasks within project since they are used as lag when moving dependent project\n\t\t\t\trelations = getRelations(id);\n\n\t\t\t\tmovedTask = id;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tfunction resetToStartLinksLags(taskId, relationsArray) {\n\t\t\t// task duration is used as lag when converting start_to_start and start_to_finish into finish_to_start links\n\t\t\t// recalculate these links if task duration has changed\n\n\t\t\tlet skipped = false;\n\t\t\tfor (let i = 0; i < relations.length; i++) {\n\t\t\t\tconst originalLink = gantt.getLink(relationsArray[i].id);\n\t\t\t\tif (\n\t\t\t\t\toriginalLink &&\n\t\t\t\t\t(originalLink.type === gantt.config.links.start_to_start ||\n\t\t\t\t\t\toriginalLink.type === gantt.config.links.start_to_finish)\n\t\t\t\t) {\n\t\t\t\t\trelationsArray.splice(i, 1);\n\t\t\t\t\ti--;\n\t\t\t\t\tskipped = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (skipped) {\n\t\t\t\tconst presentLinks = {};\n\t\t\t\tfor (let i = 0; i < relationsArray.length; i++) {\n\t\t\t\t\tpresentLinks[relationsArray[i].id] = true;\n\t\t\t\t}\n\n\t\t\t\tconst updatedLinks = getRelations(taskId);\n\n\t\t\t\tfor (let i = 0; i < updatedLinks.length; i++) {\n\t\t\t\t\tif (!presentLinks[updatedLinks[i].id]) {\n\t\t\t\t\t\trelationsArray.push(updatedLinks[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction updateTaskConstraints(task){\n\t\t\tif (gantt.config.schedule_from_end) {\n\t\t\t\ttask.constraint_type = gantt.config.constraint_types.FNLT;\n\t\t\t\ttask.constraint_date = new Date(task.end_date);\n\t\t\t} else {\n\t\t\t\ttask.constraint_type = gantt.config.constraint_types.SNET;\n\t\t\t\ttask.constraint_date = new Date(task.start_date);\n\t\t\t}\n\t\t}\n\n\t\tfunction finalizeTaskConstraints(task){\n\t\t\t// TODO: remove in 7.0\n\t\t\tif (gantt.config.auto_scheduling_compatibility) {\n\t\t\t\tif (task.constraint_type === gantt.config.constraint_types.SNET ||\n\t\t\t\t\ttask.constraint_type === gantt.config.constraint_types.FNLT) {\n\t\t\t\t\t\ttask.constraint_type = null;\n\t\t\t\t\t\ttask.constraint_date = null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst _autoScheduleAfterDND = function(taskId, task) {\n\t\t\tif (gantt.config.auto_scheduling && !gantt._autoscheduling_in_progress) {\n\t\t\t\tconst newTask = gantt.getTask(taskId);\n\n\t\t\t\tif (_notEqualTaskDates(task, newTask)) {\n\t\t\t\t\tupdateTaskConstraints(newTask);\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tgantt.config.auto_scheduling_move_projects &&\n\t\t\t\t\t\t// tslint:disable-next-line triple-equals\n\t\t\t\t\t\tmovedTask == taskId\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tgantt.calculateDuration(task) !== gantt.calculateDuration(newTask)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t// task duration is used as lag when converting start_to_start and start_to_finish into finish to start links\n\t\t\t\t\t\t\t// recalculate these links if task duration has changed\n\t\t\t\t\t\t\tresetToStartLinksLags(taskId, relations);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgantt._autoSchedule(taskId, relations);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgantt.autoSchedule(newTask.id);\n\t\t\t\t\t}\n\n\t\t\t\t\tfinalizeTaskConstraints(newTask);\n\t\t\t\t}\n\t\t\t}\n\t\t\trelations = null;\n\t\t\tmovedTask = null;\n\t\t\treturn true;\n\t\t};\n\n\n\n\n\t\tlet modifiedTaskId = null;\n\t\tif (gantt.ext && gantt.ext.inlineEditors) {\n\t\t\tconst inlineEditors = gantt.ext.inlineEditors;\n\t\t\tconst autoscheduleColumns = {\n\t\t\t\tstart_date: true,\n\t\t\t\tend_date: true,\n\t\t\t\tduration: true,\n\t\t\t\tconstraint_type: true,\n\t\t\t\tconstraint_date: true\n\t\t\t};\n\n\t\t\tinlineEditors.attachEvent(\"onBeforeSave\", function(state) {\n\t\t\t\tif (autoscheduleColumns[state.columnName]) {\n\t\t\t\t\tmodifiedTaskId = state.id;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t});\n\t\t}\n\n\t\tlet changedConstraint;\n\t\tfunction onBeforeLigthboxSaveHandler(taskId: TaskID, task: ITask): boolean {\n\t\t\tif (gantt.config.auto_scheduling && !gantt._autoscheduling_in_progress) {\n\t\t\t\tchangedConstraint = false;\n\t\t\t\tconst oldTask = gantt.getTask(taskId);\n\t\t\t\tif (_notEqualTaskDates(task, oldTask)) {\n\t\t\t\t\tmodifiedTaskId = taskId;\n\t\t\t\t\tif(gantt.getConstraintType(task) !== gantt.getConstraintType(oldTask) ||\n\t\t\t\t\t\t+task.constraint_date !== +oldTask.constraint_date\n\t\t\t\t\t){\n\t\t\t\t\t\tchangedConstraint = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\tfunction onAfterTaskUpdateHandler(taskId: TaskID, task: ITask): boolean {\n\t\t\tif (gantt.config.auto_scheduling && !gantt._autoscheduling_in_progress) {\n\t\t\t\tif (\n\t\t\t\t\tmodifiedTaskId &&\n\t\t\t\t\t// tslint:disable-next-line triple-equals\n\t\t\t\t\tmodifiedTaskId == taskId\n\t\t\t\t) {\n\t\t\t\t\tmodifiedTaskId = null;\n\t\t\t\t\tif(!changedConstraint){\n\t\t\t\t\t\tupdateTaskConstraints(task);\n\t\t\t\t\t}\n\t\t\t\t\tgantt.autoSchedule(task.id);\n\n\t\t\t\t\tif(!changedConstraint){\n\t\t\t\t\t\tfinalizeTaskConstraints(task);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tgantt.attachEvent(\"onBeforeTaskChanged\", function(\n\t\t\tid: TaskID,\n\t\t\tmode: string,\n\t\t\ttask: ITask\n\t\t) {\n\t\t\treturn _autoScheduleAfterDND(id, task);\n\t\t});\n\n\t\tif(gantt.ext.inlineEditors){\n\t\t\tgantt.ext.inlineEditors.attachEvent(\"onBeforeSave\", function(state){\n\t\t\t\tif (gantt.config.auto_scheduling && !gantt._autoscheduling_in_progress) {\n\t\t\t\t\tconst api = gantt.ext.inlineEditors;\n\t\t\t\t\tconst editorConfig = api.getEditorConfig(state.columnName);\n\t\t\t\t\tif(editorConfig.map_to === \"start_date\" || editorConfig.map_to === \"end_date\" || editorConfig.map_to === \"duration\"){\n\t\t\t\t\t\tmodifiedTaskId = state.id;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t});\n\t\t}\n\n\t\tgantt.attachEvent(\"onLightboxSave\", onBeforeLigthboxSaveHandler);\n\t\tgantt.attachEvent(\"onAfterTaskUpdate\", onAfterTaskUpdateHandler);\n\t};\n\n\tgantt.attachEvent(\"onGanttReady\", function() {\n\t\t_attachAutoSchedulingHandlers();\n\t\t// attach handlers only when initialized for the first time\n\t}, {once: true});\n}\n","export class LoopsFinder {\n\tprivate _linksBuilder: any;\n\tprivate _graphHelper: any;\n\tprivate _gantt: any;\n\tconstructor(gantt: any, graphHelper: any, linksBuilder: any) {\n\t\tthis._linksBuilder = linksBuilder;\n\t\tthis._graphHelper = graphHelper;\n\t\tthis._gantt = gantt;\n\t}\n\tisCircularLink = (link: ILink): boolean => {\n\t\treturn !!this.getLoopContainingLink(link);\n\t}\n\n\tgetLoopContainingLink = (link: ILink): any => {\n\t\tconst graphHelper = this._graphHelper;\n\t\tconst linksBuilder = this._linksBuilder;\n\t\tconst gantt = this._gantt;\n\n\t\tlet allRelations = linksBuilder.getLinkedTasks();\n\t\tif (!gantt.isLinkExists(link.id)) {\n\t\t\tallRelations = allRelations.concat(gantt._formatLink(link));\n\t\t}\n\n\t\tconst cycles = graphHelper.findLoops(allRelations);\n\n\t\tconst found = false;\n\t\tfor (let i = 0; i < cycles.length && !found; i++) {\n\t\t\tconst links = cycles[i].links;\n\t\t\tfor (let j = 0; j < links.length; j++) {\n\t\t\t\t// tslint:disable-next-line triple-equals\n\t\t\t\tif (links[j] == link.id) {\n\t\t\t\t\treturn cycles[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tfindCycles = () => {\n\t\tconst graphHelper = this._graphHelper;\n\t\tconst linksBuilder = this._linksBuilder;\n\n\t\tconst allRelations = linksBuilder.getLinkedTasks();\n\t\treturn graphHelper.findLoops(allRelations);\n\t}\n}\n","interface IFlagHash {\n\t[id: string]: boolean;\n}\n\nfunction findGroups(links: IInternalLink[]): IConnectedGroup[] {\n\tconst visited: IFlagHash = {};\n\tconst groups = [];\n\tlet source: TaskID;\n\tlet target: TaskID;\n\tlet root: TaskID;\n\t// main loop - find any unvisited vertex from the input array and\n\t// treat it as the source, then perform a breadth first search from\n\t// it. All vertices visited from this search belong to the same group\n\tfor (let i = 0; i < links.length; i++) {\n\t\tsource = links[i].source;\n\t\ttarget = links[i].target;\n\t\troot = null;\n\t\tif (!visited[source]) {\n\t\t\troot = source;\n\t\t} else if (!visited[target]) {\n\t\t\troot = target;\n\t\t}\n\t\tif (root) {\n\t\t\t// there is an unvisited vertex in this pair.\n\t\t\t// perform a breadth first search, and push the resulting\n\t\t\t// group onto the list of all groups\n\t\t\tconst length = links.length;\n\t\t\tgroups.push(breadthFirstSearch(root, links, visited));\n\t\t\tif (length !== links.length) {\n\t\t\t\ti = -1;\n\t\t\t}\n\t\t}\n\t}\n\treturn groups;\n}\n\n// Breadth First Search function\n// v is the source vertex\n// links is the input array, which contains all gantt relations\n// visited is a dictionary for keeping track of whether a node is visited\nfunction breadthFirstSearch(\n\tv: TaskID,\n\tlinks: IInternalLink[],\n\tvisited: IFlagHash\n): IConnectedGroupsDetailed {\n\tconst queue: TaskID[] = [v];\n\tconst groupTasks: TaskID[] = [];\n\tconst groupLinksInternal: { [hashSum: string]: IInternalLink } = {};\n\tconst groupLinksPublic: { [id: string]: boolean } = {};\n\n\tlet currentVertex: TaskID;\n\twhile (queue.length > 0) {\n\t\tcurrentVertex = queue.shift();\n\t\tif (!visited[currentVertex]) {\n\t\t\tvisited[currentVertex] = true;\n\t\t\tgroupTasks.push(currentVertex);\n\t\t\t// go through the input array to find vertices that are\n\t\t\t// directly adjacent to the current vertex, and put them\n\t\t\t// onto the queue\n\t\t\tfor (let i = 0; i < links.length; i++) {\n\t\t\t\tconst link = links[i];\n\t\t\t\t// tslint:disable-next-line triple-equals\n\t\t\t\tif ((link.source == currentVertex || link.sourceParent == currentVertex)) {\n\t\t\t\t\tif (!visited[link.target]) {\n\t\t\t\t\t\tqueue.push(link.target);\n\t\t\t\t\t\tgroupLinksPublic[link.id] = true;\n\t\t\t\t\t\tlinks.splice(i, 1);\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\t\tgroupLinksInternal[link.hashSum] = link;\n\n\t\t\t\t\t// tslint:disable-next-line triple-equals\n\t\t\t\t} else if ((link.target == currentVertex || link.targetParent == currentVertex)) {\n\t\t\t\t\tif (!visited[link.source]) {\n\t\t\t\t\t\tqueue.push(link.source);\n\t\t\t\t\t\tgroupLinksPublic[link.id] = true;\n\t\t\t\t\t\tlinks.splice(i, 1);\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\t\tgroupLinksInternal[link.hashSum] = link;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tconst linksArray: LinkID[] = [];\n\tconst linksObjects: IInternalLink[] = [];\n\tfor (const i in groupLinksPublic) {\n\t\tlinksArray.push(i);\n\t}\n\tfor (const i in groupLinksInternal) {\n\t\tlinksObjects.push(groupLinksInternal[i]);\n\t}\n\t// return everything in the current \"group\"\n\treturn { tasks: groupTasks, links: linksArray, processedLinks: linksObjects };\n}\n\nexport class ConnectedGroupsHelper {\n\tprivate _linksBuilder: any;\n\tprivate _gantt: any;\n\tconstructor(gantt: any, linksBuilder: any) {\n\t\tthis._linksBuilder = linksBuilder;\n\t\tthis._gantt = gantt;\n\t}\n\n\tgetConnectedGroupRelations = (id: TaskID): IInternalLink[] => {\n\t\tconst links = this._linksBuilder.getLinkedTasks();\n\t\tconst group = breadthFirstSearch(id, links, {});\n\t\treturn group.processedLinks;\n\t}\n\n\tgetConnectedGroup = (id: TaskID): IConnectedGroup | IConnectedGroup[] => {\n\t\tconst links = this._linksBuilder.getLinkedTasks();\n\t\tif (id !== undefined) {\n\t\t\tif (this._gantt.getTask(id).type === this._gantt.config.types.project) {\n\t\t\t\treturn { tasks: [], links: [] };\n\t\t\t}\n\n\t\t\tconst group = breadthFirstSearch(id, links, {});\n\t\t\treturn {\n\t\t\t\ttasks: group.tasks,\n\t\t\t\tlinks: group.links\n\t\t\t};\n\t\t} else {\n\t\t\treturn findGroups(links).map(group => ({ tasks: group.tasks, links: group.links }));\n\t\t}\n\t}\n}\n","import { TaskPlan } from \"./task_plan\";\n\nexport class AsapStrategy implements ISchedulingStrategy {\n\tstatic Create(gantt: any): AsapStrategy {\n\t\tconst instance = new AsapStrategy();\n\t\tinstance._gantt = gantt;\n\t\treturn instance;\n\t}\n\n\tprotected _gantt: any;\n\n\tresolveRelationDate(\n\t\ttaskId: TaskID,\n\t\tadjacentLinks: ITaskRelations,\n\t\tplansHash: IPlansHash\n\t): TaskPlan {\n\t\tlet minStart = null;\n\t\tlet linkId = null;\n\n\t\tlet defaultStart = null;\n\t\tconst task = this._gantt.getTask(taskId);\n\t\tconst relations = adjacentLinks.predecessors;\n\n\t\tlet minRelationDate = null;\n\t\tfor (let i = 0; i < relations.length; i++) {\n\t\t\tconst relation = relations[i];\n\n\t\t\t// .preferredStart still exists only to emulate pre 6.1 auto scheduling behavior\n\t\t\t// will be removed in future versions\n\t\t\t// TODO: remove .preferredStart in v7.0\n\t\t\tdefaultStart = relation.preferredStart;\n\n\t\t\tconst constraintDate = this.getEarliestStartDate(\n\t\t\t\trelation,\n\t\t\t\tplansHash,\n\t\t\t\ttask\n\t\t\t);\n\n\t\t\tif (this.isSmallerOrDefault(minRelationDate, constraintDate, task)) {\n\t\t\t\tminRelationDate = constraintDate;\n\t\t\t}\n\t\t\tif (\n\t\t\t\tthis.isSmallerOrDefault(defaultStart, constraintDate, task) &&\n\t\t\t\tthis.isSmallerOrDefault(minStart, constraintDate, task)\n\t\t\t) {\n\t\t\t\tminStart = constraintDate;\n\t\t\t\tlinkId = relation.id;\n\t\t\t}\n\t\t}\n\n\t\tif (!relations.length && this._gantt.config.project_start) {\n\t\t\tif (this.isSmallerOrDefault(task.start_date, this._gantt.config.project_start, task)) {\n\t\t\t\tminStart = this._gantt.config.project_start;\n\t\t\t}\n\t\t}\n\n\t\tlet maxEnd = null;\n\t\tif (minStart) {\n\t\t\tminStart = this._gantt.getClosestWorkTime({\n\t\t\t\tdate: minStart,\n\t\t\t\tdir: \"future\",\n\t\t\t\ttask\n\t\t\t});\n\t\t\tmaxEnd = this._gantt.calculateEndDate({\n\t\t\t\tstart_date: minStart,\n\t\t\t\tduration: task.duration,\n\t\t\t\ttask\n\t\t\t});\n\t\t}\n\n\t\tconst masterPlan = plansHash[taskId];\n\t\tconst currentPlan = TaskPlan.Create(masterPlan);\n\n\t\tcurrentPlan.link = linkId;\n\t\tcurrentPlan.task = taskId;\n\t\tcurrentPlan.start_date = minStart;\n\t\tcurrentPlan.end_date = maxEnd;\n\t\tcurrentPlan.kind = \"asap\";\n\n\t\tif (minRelationDate) {\n\t\t\tcurrentPlan.earliestSchedulingStart = minRelationDate;\n\t\t\tcurrentPlan.earliestSchedulingEnd = this._gantt.calculateEndDate({\n\t\t\t\tstart_date: minRelationDate,\n\t\t\t\tduration: task.duration,\n\t\t\t\ttask\n\t\t\t});\n\t\t}\n\n\t\treturn currentPlan;\n\t}\n\n\tprotected isEqual(dateA: Date, dateB: Date, task: ITask): boolean {\n\t\treturn !this._gantt._hasDuration(dateA, dateB, task);\n\t}\n\n\tprotected isFirstSmaller(small: Date, big: Date, task: ITask): boolean {\n\t\tif (small.valueOf() < big.valueOf() && !this.isEqual(small, big, task)) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tprotected isSmallerOrDefault(smallDate: Date, bigDate: Date, task: ITask): boolean {\n\t\treturn !!(!smallDate || this.isFirstSmaller(smallDate, bigDate, task));\n\t}\n\n\tprotected getPredecessorEndDate(id: TaskID, plansHash: IPlansHash): Date {\n\t\tconst plan = plansHash[id];\n\t\tconst task = this._gantt.getTask(id);\n\t\tlet res;\n\n\t\tif (!(plan && (plan.start_date || plan.end_date))) {\n\t\t\tres = task.end_date;\n\t\t} else if (plan.end_date) {\n\t\t\tres = plan.end_date;\n\t\t} else {\n\t\t\tres = this._gantt.calculateEndDate({\n\t\t\t\tstart_date: plan.start_date,\n\t\t\t\tduration: task.duration,\n\t\t\t\ttask\n\t\t\t});\n\t\t}\n\n\t\treturn res;\n\t}\n\n\tprotected getEarliestStartDate(relation: IInternalLink, plansHash: IPlansHash, task: ITask): Date {\n\t\tconst predecessorEnd = this.getPredecessorEndDate(\n\t\t\trelation.source,\n\t\t\tplansHash\n\t\t);\n\t\tconst successor = task;\n\t\tconst predecessor = this._gantt.getTask(relation.source);\n\t\tlet successorStart: Date;\n\n\t\tif (\n\t\t\tpredecessorEnd &&\n\t\t\trelation.lag &&\n\t\t\trelation.lag * 1 === relation.lag * 1\n\t\t) {\n\n\t\t\tsuccessorStart = this._gantt.getClosestWorkTime({\n\t\t\t\tdate: predecessorEnd,\n\t\t\t\tdir: \"future\",\n\t\t\t\ttask: predecessor\n\t\t\t});\n\n\t\t\tif(relation.sourceLag){\n\t\t\t\tsuccessorStart = this._gantt.calculateEndDate({\n\t\t\t\t\tstart_date: successorStart,\n\t\t\t\t\tduration: relation.sourceLag * 1,\n\t\t\t\t\ttask: predecessor\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif(relation.targetLag){\n\t\t\t\tsuccessorStart = this._gantt.calculateEndDate({\n\t\t\t\t\tstart_date: successorStart,\n\t\t\t\t\tduration: relation.targetLag * 1,\n\t\t\t\t\ttask: successor\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tsuccessorStart = this._gantt.calculateEndDate({\n\t\t\t\tstart_date: successorStart,\n\t\t\t\tduration: relation.trueLag * 1,\n\t\t\t\ttask: successor\n\t\t\t});\n\n\t\t}else{\n\t\t\tsuccessorStart = this._gantt.getClosestWorkTime({\n\t\t\t\tdate: predecessorEnd,\n\t\t\t\tdir: \"future\",\n\t\t\t\ttask: successor\n\t\t\t});\n\t\t}\n\n\t\treturn successorStart;\n\t}\n}\n","import { TaskPlan } from \"./task_plan\";\n\nexport class AlapStrategy implements ISchedulingStrategy {\n\tstatic Create(gantt: any): AlapStrategy {\n\t\tconst instance = new AlapStrategy();\n\t\tinstance._gantt = gantt;\n\t\treturn instance;\n\t}\n\n\tprotected _gantt: any;\n\n\n\tresolveRelationDate(taskId: TaskID, adjacentLinks: ITaskRelations, plansHash: IPlansHash): TaskPlan {\n\t\tlet maxEnd = null;\n\t\tlet linkId = null;\n\t\tlet maxStart = null;\n\t\tlet defaultStart = null;\n\t\tconst task = this._gantt.getTask(taskId);\n\t\tconst relations = adjacentLinks.successors;\n\t\tlet maxRelationDate = null;\n\t\tconst masterPlan = plansHash[taskId];\n\t\tfor (let i = 0; i < relations.length; i++) {\n\t\t\tconst relation = relations[i];\n\n\t\t\t// .preferredStart still exists only to emulate pre 6.1 auto scheduling behavior\n\t\t\t// will be removed in future versions\n\t\t\t// TODO: remove .preferredStart in v7.0\n\t\t\tdefaultStart = relation.preferredStart;\n\t\t\tconst constraintDate = this.getLatestEndDate(relation, plansHash, task);\n\t\t\tconst constraintStartDate = this._gantt.calculateEndDate({ start_date: constraintDate, duration: - task.duration, task });\n\n\t\t\tif (this.isGreaterOrDefault(maxRelationDate, constraintDate, task)) {\n\t\t\t\tmaxRelationDate = constraintDate;\n\t\t\t}\n\t\t\tif (this.isGreaterOrDefault(defaultStart, constraintStartDate, task) && this.isGreaterOrDefault(maxEnd, constraintDate, task)) {\n\t\t\t\tmaxEnd = constraintDate;\n\t\t\t\tmaxStart = constraintStartDate;\n\t\t\t\tlinkId = relation.id;\n\t\t\t}\n\t\t}\n\n\t\tif (!relations.length && this._gantt.config.project_end) {\n\t\t\tif (this.isGreaterOrDefault(this._gantt.config.project_end, task.end_date, task)) {\n\t\t\t\tmaxEnd = this._gantt.config.project_end;\n\t\t\t}\n\t\t}\n\n\t\tif (maxEnd) {\n\n\t\t\tmaxEnd = this._gantt.getClosestWorkTime({ date: maxEnd, dir: \"future\", task });\n\t\t\tmaxStart = this._gantt.calculateEndDate({ start_date: maxEnd, duration: - task.duration, task });\n\t\t}\n\n\t\tconst currentPlan = TaskPlan.Create(masterPlan);\n\n\t\tcurrentPlan.link = linkId;\n\t\tcurrentPlan.task = taskId;\n\t\tcurrentPlan.end_date = maxEnd;\n\t\tcurrentPlan.start_date = maxStart;\n\t\tcurrentPlan.kind = \"alap\";\n\n\t\tif (maxRelationDate) {\n\t\t\tcurrentPlan.latestSchedulingStart = this._gantt.calculateEndDate({ start_date: maxRelationDate, duration: - task.duration, task });\n\t\t\tcurrentPlan.latestSchedulingEnd = maxRelationDate;\n\t\t}\n\n\t\treturn currentPlan;\n\n\t}\n\n\tprotected isFirstSmaller(small: Date, big: Date, task: ITask): boolean {\n\t\tif (small.valueOf() < big.valueOf() && this._gantt._hasDuration(small, big, task)) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tprotected isGreaterOrDefault(smallDate: Date, bigDate: Date, task: ITask): boolean {\n\t\treturn !!(!smallDate || this.isFirstSmaller(bigDate, smallDate, task));\n\t}\n\n\tprotected getSuccessorStartDate(id: TaskID, plansHash: IPlansHash): Date {\n\t\tconst plan = plansHash[id];\n\t\tconst task = this._gantt.getTask(id);\n\t\tlet res;\n\n\t\tif (!(plan && (plan.start_date || plan.end_date))) {\n\t\t\tres = task.start_date;\n\t\t} else if (plan.start_date) {\n\t\t\tres = plan.start_date;\n\t\t} else {\n\t\t\tres = this._gantt.calculateEndDate({ start_date: plan.end_date, duration: - task.duration, task });\n\t\t}\n\n\t\treturn res;\n\t}\n\n\tprotected getLatestEndDate(relation: IInternalLink, plansHash: IPlansHash, task: ITask) {\n\t\tconst successorStart = this.getSuccessorStartDate(relation.target, plansHash);\n\t\tconst predecessor = task;\n\n\t\tlet predecessorEnd = this._gantt.getClosestWorkTime({ date: successorStart, dir: \"past\", task: predecessor });\n\n\t\tif (predecessorEnd && relation.lag && relation.lag * 1 === relation.lag * 1) {\n\t\t\tpredecessorEnd = this._gantt.calculateEndDate({ start_date: predecessorEnd, duration: -relation.lag * 1, task: predecessor });\n\t\t}\n\n\t\treturn predecessorEnd;\n\t}\n}","import { AlapStrategy } from \"./alap_strategy\";\nimport { AsapStrategy } from \"./asap_strategy\";\nimport { ConstraintTypes } from \"./constraint_types\";\nimport { ConstraintsHelper } from \"./constraints\";\nimport { TaskPlan } from \"./task_plan\";\n\nexport class AutoSchedulingPlanner {\n\tprivate _gantt: any;\n\tprivate _constraintsHelper: ConstraintsHelper;\n\tprivate _graphHelper: any;\n\tprivate _asapStrategy: AsapStrategy;\n\tprivate _alapStrategy: AlapStrategy;\n\n\tconstructor(\n\t\tgantt: any,\n\t\tgraphHelper: any,\n\t\tconstraintsHelper: ConstraintsHelper\n\t) {\n\t\tthis._gantt = gantt;\n\t\tthis._constraintsHelper = constraintsHelper;\n\t\tthis._graphHelper = graphHelper;\n\t\tthis._asapStrategy = AsapStrategy.Create(gantt);\n\t\tthis._alapStrategy = AlapStrategy.Create(gantt);\n\t}\n\n\tgeneratePlan(relations: IInternalLink[], constraints: ITask[]): TaskPlan[] {\n\t\tconst graphHelper = this._graphHelper;\n\t\tconst gantt = this._gantt;\n\t\tconst constraintsHelper = this._constraintsHelper;\n\t\tconst alapStrategy = this._alapStrategy;\n\t\tconst asapStrategy = this._asapStrategy;\n\n\t\tconst {\n\t\t\torderedIds,\n\t\t\treversedIds,\n\t\t\trelationsMap,\n\t\t\tplansHash } = this.buildWorkCollections(relations, constraints, graphHelper);\n\n\t\tlet result: TaskPlan[];\n\n\t\tthis.processConstraints(orderedIds, plansHash, gantt, constraintsHelper);\n\n\t\tif (gantt.config.schedule_from_end) {\n\t\t\t// when scheduling from end - iterate tasks from end and schedule them as late as possible\n\t\t\t// after that - iterate tasks from start and schedule asap tasks\n\t\t\tresult = this.iterateTasks(reversedIds, orderedIds, constraintsHelper.isAlapTask, alapStrategy, asapStrategy, relationsMap, plansHash);\n\t\t} else {\n\t\t\t// when scheduling from end - iterate tasks from start and schedule them as soon as possible\n\t\t\t// after that - iterate tasks from end and schedule asap alap\n\t\t\tresult = this.iterateTasks(orderedIds, reversedIds, constraintsHelper.isAsapTask, asapStrategy, alapStrategy, relationsMap, plansHash);\n\t\t}\n\t\treturn result;\n\t}\n\n\tapplyProjectPlan(projectPlan: TaskPlan[]): ITask[] {\n\t\tconst gantt = this._gantt;\n\n\t\tlet plan: TaskPlan;\n\t\tlet task: ITask;\n\t\tlet link: ILink;\n\t\tlet reason: ITask;\n\n\t\tconst updateTasks = [];\n\t\tfor (let i = 0; i < projectPlan.length; i++) {\n\t\t\tlink = null;\n\t\t\treason = null;\n\t\t\tplan = projectPlan[i];\n\n\t\t\tif (!gantt.isTaskExists(plan.task)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\ttask = gantt.getTask(plan.task);\n\t\t\tif (plan.link) {\n\t\t\t\tlink = gantt.getLink(plan.link);\n\t\t\t\tif (plan.kind === \"asap\") {\n\t\t\t\t\treason = this._gantt.getTask(link.source);\n\t\t\t\t} else {\n\t\t\t\t\t// alap tasks are scheduled by their successors\n\t\t\t\t\treason = this._gantt.getTask(link.target);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet newDate = null;\n\t\t\tif (\n\t\t\t\tplan.start_date &&\n\t\t\t\ttask.start_date.valueOf() !== plan.start_date.valueOf()\n\t\t\t) {\n\t\t\t\tnewDate = plan.start_date;\n\t\t\t}\n\n\t\t\tif (!newDate) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\ttask.start_date = newDate;\n\t\t\ttask.end_date = gantt.calculateEndDate(task);\n\n\t\t\tupdateTasks.push(task.id);\n\t\t\tgantt.callEvent(\"onAfterTaskAutoSchedule\", [\n\t\t\t\ttask,\n\t\t\t\tnewDate,\n\t\t\t\tlink,\n\t\t\t\treason\n\t\t\t]);\n\t\t}\n\t\treturn updateTasks;\n\t}\n\n\tprotected iterateTasks(\n\t\tmainSequence: TaskID[],\n\t\tsecondarySequence: TaskID[],\n\t\tisMainSequence: (task: ITask) => boolean,\n\t\tmainSequenceStrategy: ISchedulingStrategy,\n\t\tsecondarySequenceStrategy: ISchedulingStrategy,\n\t\trelationsMap: ITaskLinksMap,\n\t\tplansHash: IPlansHash\n\n\t): TaskPlan[] {\n\t\tconst gantt = this._gantt;\n\t\tconst result: TaskPlan[] = [];\n\n\t\tfor (let i = 0; i < mainSequence.length; i++) {\n\t\t\tconst currentId = mainSequence[i];\n\t\t\tconst task = gantt.getTask(currentId);\n\t\t\tconst plan = mainSequenceStrategy.resolveRelationDate(\n\t\t\t\tcurrentId,\n\t\t\t\trelationsMap[currentId],\n\t\t\t\tplansHash\n\t\t\t);\n\t\t\tthis.limitPlanDates(task, plan);\n\t\t\tif (isMainSequence(task)) {\n\t\t\t\tthis.processResolvedDate(task, plan, result, plansHash);\n\t\t\t} else {\n\t\t\t\tplansHash[task.id] = plan;\n\t\t\t}\n\t\t}\n\n\t\tfor (let i = 0; i < secondarySequence.length; i++) {\n\t\t\tconst currentId = secondarySequence[i];\n\t\t\tconst task = gantt.getTask(currentId);\n\n\t\t\tif (!isMainSequence(task)) {\n\t\t\t\tconst plan = secondarySequenceStrategy.resolveRelationDate(\n\t\t\t\t\tcurrentId,\n\t\t\t\t\trelationsMap[currentId],\n\t\t\t\t\tplansHash\n\t\t\t\t);\n\t\t\t\tthis.limitPlanDates(task, plan);\n\t\t\t\tthis.processResolvedDate(task, plan, result, plansHash);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tprotected processResolvedDate(\n\t\ttask: ITask,\n\t\tplan: TaskPlan,\n\t\tresult: TaskPlan[],\n\t\tplansHash: any\n\t): void {\n\t\tif (plan.start_date && this._gantt.isLinkExists(plan.link)) {\n\t\t\tlet link = null;\n\t\t\tlet reason = null;\n\t\t\tif (plan.link) {\n\t\t\t\tlink = this._gantt.getLink(plan.link);\n\t\t\t\tif (plan.kind === \"asap\") {\n\t\t\t\t\treason = this._gantt.getTask(link.source);\n\t\t\t\t} else {\n\t\t\t\t\t// alap tasks are scheduled by their successors\n\t\t\t\t\treason = this._gantt.getTask(link.target);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\ttask.start_date.valueOf() !== plan.start_date.valueOf() &&\n\t\t\t\tthis._gantt.callEvent(\"onBeforeTaskAutoSchedule\", [\n\t\t\t\t\ttask,\n\t\t\t\t\tplan.start_date,\n\t\t\t\t\tlink,\n\t\t\t\t\treason\n\t\t\t\t]) === false\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tplansHash[task.id] = plan;\n\t\tif (plan.start_date) {\n\t\t\tresult.push(plan);\n\t\t}\n\t}\n\n\tprotected limitPlanDates(task: ITask, plan: TaskPlan): TaskPlan {\n\t\tconst effectiveStart = plan.start_date || task.start_date;\n\n\t\tif (plan.earliestStart) {\n\t\t\tif (effectiveStart < plan.earliestStart) {\n\t\t\t\tplan.start_date = plan.earliestStart;\n\t\t\t\tplan.end_date = plan.earliestEnd;\n\t\t\t}\n\t\t}\n\n\t\tif (plan.latestStart) {\n\t\t\tif (effectiveStart > plan.latestStart) {\n\t\t\t\tplan.start_date = plan.latestStart;\n\t\t\t\tplan.end_date = plan.latestEnd;\n\t\t\t}\n\t\t}\n\n\t\tif (plan.latestSchedulingStart && effectiveStart > plan.latestSchedulingStart) {\n\t\t\tplan.start_date = plan.latestSchedulingStart;\n\t\t\tplan.end_date = plan.latestSchedulingEnd;\n\t\t}\n\n\t\tif (plan.earliestSchedulingStart && effectiveStart < plan.earliestSchedulingStart) {\n\t\t\tplan.start_date = plan.earliestSchedulingStart;\n\t\t\tplan.end_date = plan.earliestSchedulingEnd;\n\t\t}\n\n\t\tif (plan.start_date) { // start/end dates are either both defined or both not\n\t\t\tif (plan.start_date > plan.latestSchedulingStart ||\n\t\t\t\tplan.start_date < plan.earliestSchedulingStart ||\n\t\t\t\tplan.start_date > plan.latestStart ||\n\t\t\t\tplan.start_date < plan.earliestStart ||\n\t\t\t\tplan.end_date > plan.latestSchedulingEnd ||\n\t\t\t\tplan.end_date < plan.earliestSchedulingEnd ||\n\t\t\t\tplan.end_date > plan.latestEnd ||\n\t\t\t\tplan.end_date < plan.earliestEnd) {\n\n\t\t\t\tplan.conflict = true;\n\t\t\t}\n\t\t}\n\t\treturn plan;\n\t}\n\n\tprotected buildWorkCollections(relations: IInternalLink[], constraints: ITask[], graphHelper: any) {\n\t\tconst gantt = this._gantt;\n\t\tconst orderedIds: TaskID[] = graphHelper.topologicalSort(relations);\n\t\tconst reversedIds: TaskID[] = orderedIds.slice().reverse();\n\t\tconst plansHash: IPlansHash = {};\n\n\t\tconst relationsMap: ITaskLinksMap = {};\n\t\tfor (let i = 0, len = orderedIds.length; i < len; i++) {\n\t\t\tconst id = orderedIds[i];\n\t\t\tconst task = gantt.getTask(id);\n\t\t\tif (task.auto_scheduling === false) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\trelationsMap[id] = {\n\t\t\t\tsuccessors: [],\n\t\t\t\tpredecessors: []\n\t\t\t};\n\n\t\t\tplansHash[id] = null;\n\t\t}\n\n\t\tfor (let i = 0, len = constraints.length; i < len; i++) {\n\t\t\tconst task = constraints[i];\n\n\t\t\tif (plansHash[task.id] === undefined) {\n\t\t\t\treversedIds.unshift(task.id);\n\t\t\t\torderedIds.unshift(task.id);\n\t\t\t\tplansHash[task.id] = null;\n\t\t\t\trelationsMap[task.id] = {\n\t\t\t\t\tsuccessors: [],\n\t\t\t\t\tpredecessors: []\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tfor (let i = 0, len = relations.length; i < len; i++) {\n\t\t\tconst rel = relations[i];\n\t\t\tif (relationsMap[rel.source]) {\n\t\t\t\trelationsMap[rel.source].successors.push(rel);\n\t\t\t}\n\n\t\t\tif (relationsMap[rel.target]) {\n\t\t\t\trelationsMap[rel.target].predecessors.push(rel);\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\torderedIds,\n\t\t\treversedIds,\n\t\t\trelationsMap,\n\t\t\tplansHash\n\t\t};\n\t}\n\n\tprotected processConstraints(orderedIds: TaskID[], plansHash: IPlansHash, gantt: any, constraintsHelper: ConstraintsHelper) {\n\t\tfor (let i = 0; i < orderedIds.length; i++) {\n\t\t\tconst currentId = orderedIds[i];\n\t\t\tconst task = gantt.getTask(currentId);\n\n\t\t\tconst constraintType = constraintsHelper.getConstraintType(task);\n\t\t\tif (\n\t\t\t\tconstraintType &&\n\t\t\t\tconstraintType !== ConstraintTypes.ASAP &&\n\t\t\t\tconstraintType !== ConstraintTypes.ALAP\n\t\t\t) {\n\t\t\t\tconst plan = constraintsHelper.processConstraint(\n\t\t\t\t\ttask,\n\t\t\t\t\tTaskPlan.Create()\n\t\t\t\t);\n\t\t\t\tplansHash[task.id] = plan;\n\t\t\t}\n\t\t}\n\t}\n}\n","import * as helpers from \"../../utils/helpers\";\nimport { ConstraintTypes } from \"./constraint_types\";\nimport { TaskPlan } from \"./task_plan\";\n\nexport class ConstraintsHelper {\n\tstatic Create(gantt: any): ConstraintsHelper {\n\t\treturn new ConstraintsHelper(gantt);\n\t}\n\n\tprivate _gantt: any;\n\tprivate constructor(gantt: any) {\n\t\tthis._gantt = gantt;\n\t}\n\n\tisAsapTask = (task: ITask): boolean => {\n\t\tconst constraintType = this.getConstraintType(task);\n\t\tif (this._gantt.config.schedule_from_end) {\n\t\t\tif (constraintType === ConstraintTypes.ASAP) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else {\n\t\t\tif (constraintType === ConstraintTypes.ALAP) {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\n\tisAlapTask = (task: ITask): boolean => {\n\t\treturn !this.isAsapTask(task);\n\t}\n\n\tgetConstraintType = (task: ITask): ConstraintTypes => {\n\t\t// in case of backward scheduling, tasks without explicit constraints are considered ALAP tasks\n\t\tif (task.constraint_type) {\n\t\t\treturn task.constraint_type;\n\t\t} else if (this._gantt.config.schedule_from_end) {\n\t\t\treturn ConstraintTypes.ALAP;\n\t\t} else {\n\t\t\treturn ConstraintTypes.ASAP;\n\t\t}\n\t}\n\n\thasConstraint = (task: ITask): boolean => {\n\t\treturn !!this.getConstraintType(task);\n\t}\n\n\tprocessConstraint = (task: ITask, plan: TaskPlan): TaskPlan => {\n\t\tif (this.hasConstraint(task)) {\n\t\t\tif (\n\t\t\t\ttask.constraint_type === ConstraintTypes.ALAP ||\n\t\t\t\ttask.constraint_type === ConstraintTypes.ASAP\n\t\t\t) {\n\t\t\t\t// this kind of constraint is calculated after main scheduling\n\t\t\t} else if(helpers.isValidDate(task.constraint_date)) {\n\t\t\t\tconst constraintDate = task.constraint_date;\n\n\t\t\t\tconst newPlan = TaskPlan.Create(plan);\n\t\t\t\tnewPlan.task = task.id;\n\n\t\t\t\tswitch (task.constraint_type) {\n\t\t\t\t\tcase ConstraintTypes.SNET:\n\t\t\t\t\t\tnewPlan.earliestStart = new Date(constraintDate);\n\t\t\t\t\t\tnewPlan.earliestEnd = this._gantt.calculateEndDate({\n\t\t\t\t\t\t\tstart_date: newPlan.earliestStart,\n\t\t\t\t\t\t\tduration: task.duration,\n\t\t\t\t\t\t\ttask\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnewPlan.link = null;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase ConstraintTypes.SNLT:\n\t\t\t\t\t\tnewPlan.latestStart = new Date(constraintDate);\n\t\t\t\t\t\tnewPlan.latestEnd = this._gantt.calculateEndDate({\n\t\t\t\t\t\t\tstart_date: newPlan.latestStart,\n\t\t\t\t\t\t\tduration: task.duration,\n\t\t\t\t\t\t\ttask\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnewPlan.link = null;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase ConstraintTypes.FNET:\n\t\t\t\t\t\tnewPlan.earliestStart = this._gantt.calculateEndDate({\n\t\t\t\t\t\t\tstart_date: constraintDate,\n\t\t\t\t\t\t\tduration: -task.duration,\n\t\t\t\t\t\t\ttask\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnewPlan.earliestEnd = new Date(constraintDate);\n\t\t\t\t\t\tnewPlan.link = null;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase ConstraintTypes.FNLT:\n\t\t\t\t\t\tnewPlan.latestStart = this._gantt.calculateEndDate({\n\t\t\t\t\t\t\tstart_date: constraintDate,\n\t\t\t\t\t\t\tduration: -task.duration,\n\t\t\t\t\t\t\ttask\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnewPlan.latestEnd = new Date(constraintDate);\n\t\t\t\t\t\tnewPlan.link = null;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase ConstraintTypes.MSO:\n\t\t\t\t\t\tnewPlan.earliestStart = new Date(constraintDate);\n\t\t\t\t\t\tnewPlan.earliestEnd = this._gantt.calculateEndDate({\n\t\t\t\t\t\t\tstart_date: newPlan.earliestStart,\n\t\t\t\t\t\t\tduration: task.duration,\n\t\t\t\t\t\t\ttask\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnewPlan.latestStart = newPlan.earliestStart;\n\t\t\t\t\t\tnewPlan.latestEnd = newPlan.earliestEnd;\n\t\t\t\t\t\tnewPlan.link = null;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase ConstraintTypes.MFO:\n\t\t\t\t\t\tnewPlan.earliestStart = this._gantt.calculateEndDate({\n\t\t\t\t\t\t\tstart_date: constraintDate,\n\t\t\t\t\t\t\tduration: -task.duration,\n\t\t\t\t\t\t\ttask\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnewPlan.earliestEnd = this._gantt.calculateEndDate({\n\t\t\t\t\t\t\tstart_date: newPlan.earliestStart,\n\t\t\t\t\t\t\tduration: task.duration,\n\t\t\t\t\t\t\ttask\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnewPlan.latestStart = newPlan.earliestStart;\n\t\t\t\t\t\tnewPlan.latestEnd = newPlan.earliestEnd;\n\t\t\t\t\t\tnewPlan.link = null;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\treturn newPlan;\n\t\t\t}\n\t\t}\n\n\t\treturn plan;\n\t}\n\n\tgetConstraints = (id: TaskID, relations: IInternalLink[]): ITask[] => {\n\t\tconst result = [];\n\t\tconst tasks = {};\n\n\t\tconst store = (task: any) => {\n\t\t\tif (tasks[task.id]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.hasConstraint(task) && !this._gantt.isSummaryTask(task)) {\n\t\t\t\ttasks[task.id] = task;\n\t\t\t}\n\t\t};\n\n\t\tif (this._gantt.isTaskExists(id)) {\n\t\t\tconst task = this._gantt.getTask(id);\n\t\t\tstore(task);\n\t\t}\n\n\t\tthis._gantt.eachTask(task => store(task), id);\n\n\t\tlet current;\n\t\tif (relations) {\n\t\t\tfor (let i = 0; i < relations.length; i++) {\n\t\t\t\tconst rel = relations[i];\n\t\t\t\tif (!tasks[rel.target]) {\n\t\t\t\t\tcurrent = this._gantt.getTask(rel.target);\n\t\t\t\t\tstore(current);\n\t\t\t\t}\n\t\t\t\tif (!tasks[rel.source]) {\n\t\t\t\t\tcurrent = this._gantt.getTask(rel.source);\n\t\t\t\t\tstore(current);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (const taskId in tasks) {\n\t\t\t// GS-745 do not auto-schedule placeholders\n\t\t\tif (tasks[taskId].type !== this._gantt.config.types.placeholder) {\n\t\t\t\tresult.push(tasks[taskId]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n}\n","module.exports = function(gantt){\n\nrequire(\"../core/relations/links_common\")(gantt);\n\nvar linksBuilder = require(\"../core/relations/links_builder\")(gantt);\nvar graphHelper = require(\"../core/relations/graph_helper\")(gantt);\nvar ConstraintTypes = require(\"./auto_scheduling/constraint_types\").ConstraintTypes;\n\nvar constraintsHelper = require(\"./auto_scheduling/constraints\").ConstraintsHelper.Create(\n\tgantt\n);\nvar AutoSchedulingPlanner = require(\"./auto_scheduling/planner\")\n\t.AutoSchedulingPlanner;\n\nvar planner = new AutoSchedulingPlanner(gantt, graphHelper, constraintsHelper);\n\nvar ConnectedGroupsHelper = require(\"./auto_scheduling/connected_groups\")\n\t.ConnectedGroupsHelper;\nvar connectedGroups = new ConnectedGroupsHelper(gantt, linksBuilder);\n\nvar LoopsFinder = require(\"./auto_scheduling/loops_finder\").LoopsFinder;\n\nvar loopsFinder = new LoopsFinder(\n\tgantt,\n\tgraphHelper,\n\tlinksBuilder\n);\n\ngantt.getConnectedGroup = connectedGroups.getConnectedGroup;\ngantt.getConstraintType = constraintsHelper.getConstraintType;\ngantt.getConstraintLimitations = function (task) {\n\tvar plan = constraintsHelper.processConstraint(task, null);\n\treturn {\n\t\tearliestStart: plan.earliestStart || null,\n\t\tearliestEnd: plan.earliestEnd || null,\n\t\tlatestStart: plan.latestStart || null,\n\t\tlatestEnd: plan.latestEnd || null\n\t};\n};\n\ngantt.isCircularLink = loopsFinder.isCircularLink;\ngantt.findCycles = loopsFinder.findCycles;\n\ngantt.config.constraint_types = ConstraintTypes;\ngantt.config.auto_scheduling = false;\ngantt.config.auto_scheduling_descendant_links = false;\ngantt.config.auto_scheduling_initial = true;\ngantt.config.auto_scheduling_strict = false;\ngantt.config.auto_scheduling_move_projects = true;\ngantt.config.project_start = null;\ngantt.config.project_end = null;\ngantt.config.schedule_from_end = false;\n\nfunction preferInitialTaskDates(startTask, relations) {\n\t// TODO: remove in 7.0\n\tif (!gantt.config.auto_scheduling_compatibility) {\n\t\treturn;\n\t}\n\n\t// .preferredStart still exists only to emulate pre 6.1 auto scheduling behavior\n\t// will be removed in future versions\n\tfor (var i = 0; i < relations.length; i++) {\n\t\tvar rel = relations[i];\n\t\tvar task = gantt.getTask(rel.target);\n\n\t\tif (!gantt.config.auto_scheduling_strict || rel.target == startTask) {\n\t\t\trel.preferredStart = new Date(task.start_date);\n\t\t}\n\t}\n}\n\nfunction updateParentsAndCallEvents(updatedTasks) {\n\tif(!updatedTasks.length){\n\t\treturn;\n\t}\n\n\tgantt.batchUpdate(function payload() {\n\t\tfor (var i = 0; i < updatedTasks.length; i++) {\n\t\t\tgantt.updateTask(updatedTasks[i]);\n\t\t}\n\t});\n}\n\ngantt._autoSchedule = function (id, relations) {\n\tif (gantt.callEvent(\"onBeforeAutoSchedule\", [id]) === false) {\n\t\treturn;\n\t}\n\tgantt._autoscheduling_in_progress = true;\n\n\tvar constraints = constraintsHelper.getConstraints(\n\t\tid,\n\t\tgantt.isTaskExists(id) ? relations : null\n\t);\n\n\tvar updatedTasks = [];\n\n\tvar cycles = graphHelper.findLoops(relations);\n\tif (cycles.length) {\n\t\tgantt.callEvent(\"onAutoScheduleCircularLink\", [cycles]);\n\t} else {\n\t\tpreferInitialTaskDates(id, relations);\n\n\t\tvar plan = planner.generatePlan(relations, constraints);\n\t\tupdatedTasks = planner.applyProjectPlan(plan);\n\n\t\tupdateParentsAndCallEvents(updatedTasks);\n\t}\n\n\tgantt._autoscheduling_in_progress = false;\n\tgantt.callEvent(\"onAfterAutoSchedule\", [id, updatedTasks]);\n};\n\ngantt.autoSchedule = function (id, inclusive) {\n\tif (inclusive === undefined) {\n\t\tinclusive = true;\n\t} else {\n\t\tinclusive = !!inclusive;\n\t}\n\n\tvar relations;\n\tif (id !== undefined) {\n\t\tif (gantt.config.auto_scheduling_compatible) {\n\t\t\tlinksBuilder.getLinkedTasks(id, inclusive);\n\t\t} else {\n\t\t\trelations = connectedGroups.getConnectedGroupRelations(id);\n\t\t}\n\t} else {\n\t\trelations = linksBuilder.getLinkedTasks();\n\t}\n\n\tgantt._autoSchedule(id, relations);\n};\n\ngantt.attachEvent(\"onTaskLoading\", function (task) {\n\tif (task.constraint_date && typeof task.constraint_date === \"string\") {\n\t\ttask.constraint_date = gantt.date.parseDate(task.constraint_date, \"parse_date\");\n\t}\n\ttask.constraint_type = gantt.getConstraintType(task);\n\treturn true;\n});\ngantt.attachEvent(\"onTaskCreated\", function (task) {\n\ttask.constraint_type = gantt.getConstraintType(task);\n\treturn true;\n});\n\nvar attachUIHandlers = require(\"./auto_scheduling/ui_handlers\").attachUIHandlers;\nattachUIHandlers(gantt, linksBuilder, loopsFinder, connectedGroups);\n\n};","import * as auto_scheduling from \"./auto_scheduling\";\nimport click_drag from \"./click_drag\";\nimport * as critical_path from \"./critical_path\";\nimport drag_timeline from \"./drag_timeline\";\nimport fullscreen from \"./fullscreen\";\nimport * as grouping from \"./grouping\";\nimport * as keyboard_navigation from \"./keyboard_navigation\";\nimport * as marker from \"./marker\";\nimport * as multiselect from \"./multiselect\";\nimport * as overlay from \"./overlay\";\nimport quick_info from \"./quick_info\";\nimport tooltip from \"./tooltip\";\nimport undo from \"./undo\";\n\nexport default {\n\tauto_scheduling,\n\tclick_drag,\n\tcritical_path,\n\tdrag_timeline,\n\tfullscreen,\n\tkeyboard_navigation,\n\tquick_info,\n\ttooltip,\n\tundo,\n\tgrouping,\n\tmarker,\n\tmultiselect,\n\toverlay\n};","import extensions from \"./ext/extensions_all\";\nimport GanttFactory from \"./factory/gantt_factory\";\nimport * as factoryMethod from \"./factory/make_instance_web\";\nimport * as scope from \"./utils/global\";\n\n// tslint:disable-next-line variable-name\nconst Gantt = new GanttFactory(factoryMethod, extensions);\nconst w = scope as any;\nw.Gantt = Gantt;\nconst gantt = w.gantt = Gantt.getGanttInstance();\n\nexport default gantt;\nexport { Gantt, gantt };\n"],"sourceRoot":""}